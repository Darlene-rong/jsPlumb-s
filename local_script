loadjs.d("./app/exam-subject/common/opeartorUtil",function(e,n,a){a.askEvents={EXAM_OPEARTOR_MONTH_CHANGE:"exam.opeartor.month.change",EXAM_OPEARTOR_MONTH_NOPLAN:"exam.opeartor.month.noplan"}},{}),loadjs.d("./app/exam-subject/dialog/achievement/index",function(e,n,a){var t=e("./app/util/maps"),i=t.getValue("certification-exam-type","network"),l=e("drizzle-zxy");a.items={main:"main","exam-subject/dialog/post-evaluation":{isModule:!0},"exam-common/exam-prompt":{isModule:!0}},a.store={models:{list:{url:"../exam/auth-exam/my-score",type:"pageable",root:"items",params:{organizationId:i,year:(new Date).getFullYear()}},search:{data:{startTimeOrderBy:1,year:(new Date).getFullYear()}}},callbacks:{init:function(){var e=this.models.list,n=this.models.search;return e.clear(),l.assign(e.params,n.data),this.get(e,{loading:!0})},search:function(e){var n=this.models.search,a=this.models.list;l.assign(a.params,l.assign(n.data,e)),this.get(a,{loading:!0}),n.changed()}}},a.beforeRender=function(){return this.dispatch("init")}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/exam-subject/dialog/achievement/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="exam-dialog-content-page" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'    <div class="search-box pointer">\n        <div class="year-box">\n            <span>年份：</span>\n'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.yearData:n)?l.year:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'        </div>\n        <div id="timeOrder" class="text-right time-order">\n            <div class="inline-block">进入时间</div>\n            '+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.search:n)?l.startTimeOrderBy:l,"eq",1,{name:"compare",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"\n            "+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.search:n)?l.startTimeOrderBy:l,"eq",2,{name:"compare",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"\n        </div>\n    </div>\n"+(null!=(l=a.if.call(s,null!=n?n.list:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.program(19,i,0),data:i}))?l:"")},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="item '+(null!=(l=a.if.call(r,null!=n?n.active:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'" id="year-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"><span>'+d((s=null!=(s=a.btnTxt||(null!=n?n.btnTxt:n))?s:o,"function"==typeof s?s.call(r,{name:"btnTxt",hash:{},data:i}):s))+"</span></div>\n"},5:function(e,n,a,t,i){return"active"},7:function(e,n,a,t,i){return'<div class="iconfont icon-sort-desc"></div>'},9:function(e,n,a,t,i){return'<div class="iconfont icon-sort-asc"></div>'},11:function(e,n,a,t,i){var l;return'        <ul class="list">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.list:n,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+'</ul>\n        <br/>\n        <div id="pager" class="pagination"></div>\n'},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'\n            <li>\n                <div class="cell max">\n                    <div class="btn small disabled status">'+c((s=null!=(s=a.examBatch||(null!=n?n.examBatch:n))?s:o,typeof s===d?s.call(r,{name:"examBatch",hash:{},data:i}):s))+'</div>\n                    <div class="title">'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                    <p class="sub-text">\n                        进入考试时间：\n                        '+c((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+'\n                    </p>\n                    <div class="sub-text">\n                        <span class="layout-mr-small">\n                            总分：\n                            '+c((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,typeof s===d?s.call(r,{name:"totalScore",hash:{},data:i}):s))+"\n                        </span>\n                        <span>\n                            及格分：\n                            "+c((s=null!=(s=a.passScore||(null!=n?n.passScore:n))?s:o,typeof s===d?s.call(r,{name:"passScore",hash:{},data:i}):s))+'\n                        </span>\n                    </div>\n                </div>\n                <div class="cell"><b class="common-title">\n                    成绩：\n                    <span>'+c((s=null!=(s=a.score||(null!=n?n.score:n))?s:o,typeof s===d?s.call(r,{name:"score",hash:{},data:i}):s))+"</span>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=(l=null!=n?n.examRegist:n)?l.passStatus:l,"eq",3,{name:"compare",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'                </b></div>\n                <div class="cell text-right">\n'+(null!=(l=a.if.call(r,null!=n?n.reExam:n,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(r,null!=n?n.after:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n            </li>\n        "},13:function(e,n,a,t,i){return'                        <span style="color: #d40000;">（成绩作废）</span>\n'},15:function(e,n,a,t,i){var l;return'                        <div class="btn small" id="examBtn-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">重新考试</div>\n'},17:function(e,n,a,t,i){var l;return'                        <div class="btn m-left small" id="evalBtn-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">后评估数据</div>\n'},19:function(e,n,a,t,i){return'        <div class="content-empty"><div class="img-box img-type-1"></div><p>暂无数据哦</p></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/dialog/achievement/view-main",function(e,n,a){var t,i,l=e("lodash/collection");a.bindings={list:!0,search:!0},a.components=[{id:"pager",name:"pager",options:{model:"list"}}],a.dataForTemplate={list:function(){var e=this.bindings.list.data;return e.forEach(function(n,a){e[a].score=i(e[a]),"-"!==e[a].score?e[a].after=!0:e[a].after=!1,e[a].totalScore=parseFloat((n.paperClass.totalScore/100).toFixed(1)),t(e[a])||1===e[a].allowExamTimes?e[a].reExam=!1:e[a].reExam=!0}),e},yearData:function(e){var n,a=e.search,t=new Date,i=t.getFullYear(),l=t.getFullYear()-1;return n=[{active:a.year===i,btnTxt:i},{active:a.year===l,btnTxt:l}],{year:n,startTimeOrderBy:a.startTimeOrderBy}}},a.events={"click timeOrder":"timeOrder","click evalBtn-*":"showPostEvaluation","click examBtn-*":"showExamPrompt","click year-*":"selectYear"},i=function(e){var n=(new Date).getTime();return 5===e.showAnswerRule||e.showScoreTime&&n<e.showScoreTime?"-":e.examRecord.score?e.examRecord.score/100:0},a.handlers={timeOrder:function(){var e=this.bindings.search.data.startTimeOrderBy,n={startTimeOrderBy:1===e?2:1};this.module.dispatch("search",n)},showPostEvaluation:function(e){var n=this.bindings.list.data,a=l.find(n,{id:e}).name;this.app.viewport.modal(this.module.items["exam-subject/dialog/post-evaluation"],{id:e,name:a})},showExamPrompt:function(e){var n=this.module.items["exam-common/exam-prompt"];this.app.viewport.modal(n,{examId:e})},selectYear:function(e){var n={};return n={normal:[{year:(new Date).getFullYear()},{year:(new Date).getFullYear()-1},{year:(new Date).getFullYear()-2}]}.normal[Number(e)],this.module.dispatch("search",n)}},t=function(e){var n=e.examRecord&&e.examRecord.currentTime;return(n=n||(new Date).getTime())>e.endTime}},{"lodash/collection":!1}),loadjs.d("./app/exam-subject/dialog/cer-detail/index",function(e,n,a){var t=e("html2canvas"),i=e("jquery");e("print-this"),a.items={main:"main"},a.store={models:{detail:{url:"../exam/auth-exam/ticket-detail"}},callbacks:{init:function(e){var n=this.models.detail;return n.clear(),n.params={examId:e.id},this.get(n,{loading:!0})}}},a.title="准考证",a.auto=!0,a.buttons=[{text:"打印",fn:function(){var e=this.$("main").cloneNode(!0);return e.classList.add("new-dom"),document.body.appendChild(e),t(i("body > .new-dom").get(0)).then(function(n){var a=n.toDataURL(),t=document.body,l=document.createElement("img");l.src=a,t.removeChild(e),t.appendChild(l),i(l).printThis(),t.removeChild(l)}),!1}}],a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{html2canvas:!1,jquery:!1,"print-this":!1}),loadjs.d("./app/exam-subject/dialog/cer-detail/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div id="main" class="exam-subject-dialog cer-detail" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div class="text-center">\n        <div class="h4 m-bottom">'+r(s(null!=(l=null!=n?n.detail:n)?l.name:l,n))+'</div>\n        <div class="h2">准考证</div>\n        <div class="num">No.'+r(s(null!=(l=null!=(l=null!=n?n.detail:n)?l.examRegist:l)?l.ticket:l,n))+'</div>\n    </div>\n    <div class="hr"></div>\n    <div class="clearfix">\n        <div class="pull-right"><div class="img">\n'+(null!=(l=a.if.call(o,null!=(l=null!=(l=null!=n?n.detail:n)?l.member:l)?l.headPortraitPath:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'        </div></div>\n        <div class="overflow clearfix">\n            <div class="item">\n                <span class="sub-text">姓名： </span>\n                <span>'+r(s(null!=(l=null!=(l=null!=n?n.detail:n)?l.member:l)?l.fullName:l,n))+'</span>\n            </div>\n            <div class="item">\n                <span class="sub-text">身份证号：</span>\n                <span>'+r(s(null!=(l=null!=(l=null!=n?n.detail:n)?l.member:l)?l.identityNumber:l,n))+'</span>\n            </div>\n            <div class="item">\n                <span class="sub-text">所属公司：</span>\n                <span>'+r(s(null!=(l=null!=(l=null!=n?n.detail:n)?l.company:l)?l.name:l,n))+'</span>\n            </div>\n            <div class="item">\n                <span class="sub-text">所属部门：</span>\n                <span>'+r(s(null!=(l=null!=(l=null!=n?n.detail:n)?l.organization:l)?l.name:l,n))+'</span>\n            </div>\n            <div class="item">\n                <span class="sub-text">员工编号：</span>\n                <span>'+r(s(null!=(l=null!=(l=null!=n?n.detail:n)?l.member:l)?l.name:l,n))+'</span>\n            </div>\n            <div class="item">\n                <span class="sub-text">工作年限：</span>\n                <span>'+r(s(null!=(l=null!=(l=null!=n?n.detail:n)?l.signUpAuth:l)?l.workTime:l,n))+'</span>\n            </div>\n        </div>\n    </div>\n    \x3c!--  .hr --\x3e\n    \x3c!--  span.sub-text 其它鉴定考试情况： --\x3e\n    \x3c!--  span > echo(detail.signUpAuth.otherExamAppraisal) --\x3e\n    \x3c!--  br --\x3e\n    \x3c!--  span.sub-text 跨级考试申请条件： --\x3e\n    \x3c!--  span > echo(detail.signUpAuth.crossCondition) --\x3e\n    \x3c!--  br --\x3e\n    \x3c!--  span.sub-text 历届比赛获奖情况： --\x3e\n    \x3c!--  span > echo(detail.signUpAuth.awardSituation) --\x3e\n    <div class="table text-center border"><table>\n        <div class="tbody">\n            <tr>\n                <td>考试批次</td>\n                <td><b>'+r(s(null!=(l=null!=n?n.detail:n)?l.examBatch:l,n))+"</b></td>\n            </tr>\n            <tr>\n                <td>专业／厂家／级别</td>\n                <td><b>\n"+(null!=(l=a.if.call(o,null!=(l=null!=(l=null!=n?n.detail:n)?l.profession:l)?l.name:l,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(o,null!=(l=null!=(l=null!=n?n.detail:n)?l.subProfession:l)?l.name:l,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(o,null!=(l=null!=(l=null!=n?n.detail:n)?l.equipmentType:l)?l.name:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"                    "+r(s(null!=(l=null!=(l=null!=n?n.detail:n)?l.level:l)?l.levelName:l,n))+"\n                </b></td>\n            </tr>\n            <tr>\n                <td>进入考试时间</td>\n                <td>\n                    "+r((a.dateMinute||n&&n.dateMinute||d).call(o,null!=(l=null!=n?n.detail:n)?l.startTime:l,{name:"dateMinute",hash:{},data:i}))+"\n                    ~ \n                    "+r((a.dateMinute||n&&n.dateMinute||d).call(o,null!=(l=null!=n?n.detail:n)?l.endTime:l,{name:"dateMinute",hash:{},data:i}))+"\n                </td>\n            </tr>\n            <tr>\n                <td>考试时长（分钟）</td>\n                <td>"+r(s(null!=(l=null!=n?n.detail:n)?l.duration:l,n))+'</td>\n            </tr>\n            \x3c!--  tr --\x3e\n            \x3c!--      td 监考老师 --\x3e\n            \x3c!--      td > each(detail.invigilatorList) --\x3e\n            \x3c!--          span.m-right > echo(fullName) --\x3e\n        </div>\n    </table></div>\n    <br/>\n    <div class="clearfix">\n        <h4>考试须知：</h4>\n        <p>'+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.detail:n)?l.examNotes:l,{name:"echoX",hash:{},data:i}))?l:"")+"</p>\n    </div>\n"},4:function(e,n,a,t,i){var l;return'                <img src="'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.detail:n)?l.member:l)?l.headPortraitPath:l,n))+'"/>\n'},6:function(e,n,a,t,i){return'                <img src="images/default-cover/default_user.png"/>\n'},8:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.detail:n)?l.profession:l)?l.name:l,n))+"/\n"},10:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.detail:n)?l.subProfession:l)?l.name:l,n))+"/\n"},12:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.detail:n)?l.equipmentType:l)?l.name:l,n))+"/\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/dialog/cer-detail/view-main",function(e,n,a){a.bindings={detail:!0}},{}),loadjs.d("./app/exam-subject/dialog/certificate/index",function(e,n,a){var t=e("./app/util/maps"),i=t.getValue("certification-exam-type","network");a.items={main:"main",list:"list"},a.store={models:{list:{url:"../exam/auth-exam/my-certificate-list",type:"pageable",root:"items",params:{examType:2,organizationId:i}},down:{url:"../file-deal/file/download"},tmp:{url:"../system/certificate"},detail:{url:"../exam/auth-exam/my-certificate-detail"}},callbacks:{init:function(){var e,n=this.models.list,a=this.models.detail,t=this;return this.get(n,{loading:!0}).then(function(){n.data.length&&(e=n.data[0].id,a.params={id:e},t.module.dispatch("getTem",{id:n.data[0].templateId}),t.get(a))})},getDetail:function(e){var n=this.models.detail;return n.clear(),n.params=e,this.get(n)},getTem:function(e){var n=this.models.tmp;return n.clear(),n.set({id:e.id||4}),this.get(n)}}},a.beforeRender=function(){return this.dispatch("init")}},{"./app/util/maps":"./app/util/maps"}),loadjs.d("./app/exam-subject/dialog/certificate/list",function(e,n,a){n.exports={list:{recordCount:3,items:[{id:"1",name:"shuqian"},{id:"2",name:"ssss"}]},detail:[{id:"1",num:"123456789",fullName:"舒倩",credentialValue:"430701112233445",professionName:"软件工程",subProfessionName:"JAVA",equipmentName:"设备",professionLevel:"L2",scoreLevel:1,issueTime:123456789,vaildDate:987654321,cover:"111",type:"111",htmlCode:"111",ticketName:"111"},{id:"2",num:"123456789",fullName:"aaaaaa",credentialValue:"430701112233445",professionName:"aaasdfsdf",subProfessionName:"前端开发",equipmentName:"js",professionLevel:"L2",scoreLevel:1,issueTime:123456789,vaildDate:987654321,cover:"111",type:"111",htmlCode:"111",ticketName:"111"}]}},{}),loadjs.d("./app/exam-subject/dialog/certificate/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="exam-dialog-content-page certificate">\n        <div data-region="list"></div>\n        <div data-region="main"></div>\n        <div id="empty" class="content-empty"><div class="img-box img-type-1"></div><p>暂无证书</p></div>\n    </div>\n'},3:function(e,n,a,t,i){var l;return"    "+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=(l=null!=n?n.list:n)?l.cache:l)?l.length:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'<div class="left">\n        <ul id="list">'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.list:n)?l.cache:l,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'</ul>\n        <div id="pager" class="pagination hidden"></div>\n'+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.list:n)?l.more:l,"eq",1,{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.list:n)?l.more:l,"eq",0,{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n            <li "+(null!=(l=a.if.call(r,null!=n?n.first:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' id="item-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" class="'+(null!=(l=a.if.call(r,null!=n?n.current:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'">\n                '+(null!=(l=a.if.call(r,null!=n?n.isOverdue:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+'\n                <div class="text-overflow" title="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</div>\n            </li>\n        "},6:function(e,n,a,t,i){return' data-first="first"'},8:function(e,n,a,t,i){return"active"},10:function(e,n,a,t,i){return'<div class="status">已过期</div>'},12:function(e,n,a,t,i){return'            <p id="more" class="sub-text text-center pointer">+加载更多</p>\n'},14:function(e,n,a,t,i){return'            <p class="sub-text text-center pointer">没有更多了</p>\n'},16:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'<div id="main">\n    <div class="main">\n        <div id="img" class="wrapper">\n            <img src="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.tmp:n)?l.cover:l,n))+'"/>\n            <div class="num">'+(null!=(l=(a.echoX||n&&n.echoX||r).call(s,null!=(l=null!=n?n.tmp:n)?l.numHtml:l,{name:"echoX",hash:{},data:i}))?l:"")+'</div>\n            <div class="text">'+(null!=(l=(a.echoX||n&&n.echoX||r).call(s,null!=(l=null!=n?n.tmp:n)?l.htmlExamples:l,{name:"echoX",hash:{},data:i}))?l:"")+'</div>\n        </div>\n    </div>\n    <div id="print" class="print iconfont icon-print custom-bg-color-2"></div>\n    <div id="download" class="download iconfont icon-xiazai custom-bg-color-4"></div>\n</div>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"list",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/dialog/certificate/view-list",function(e,n,a){var t=e("jquery"),i=[],l=1,s=[];a.bindings={list:!0},a.events={"click item-*":"showCont","click more":"showMore"},a.dataForTemplate={list:function(){var e,n=this.bindings.list.data,a=0,t=this.module.$("empty"),s=new Date,r=this.bindings.list._p.recordCount;return n.length?(t.classList.add("hidden"),n[0].first=!0,n.forEach(function(e,a){var t=e;t.professionLevelLevelName=t.professionLevel.levelName?t.professionLevel.levelName:"",t.professionName=t.profession.name?t.profession.name+"-":"",t.subProfessionName=t.subProfession.name?t.subProfession.name+"-":"",t.equipmentTypeName=t.equipmentType.name?t.equipmentType.name+"-":"",t.examName=t.exam.name?t.exam.name:"",e.validDate&&e.validDate<s.getTime()&&(n[a].isOverdue=!0),i.push(e)}),i.forEach(function(e,n){e.current&&(a=n)}),r>10&&(e=1),l>1&&l>=(r/10).toFixed(1)&&(e=0),i[a].current=!0,{cache:i,more:e}):(t.classList.remove("hidden"),this.module.items.main.$("main").classList.add("hidden"),null)}},a.handlers={showCont:function(e){var n=i,a="";n.forEach(function(t,i){n[i].current=!1,t.id===e&&(n[i].current=!0,a=t.templateId)}),t(this.$("item-"+e)).addClass("active").siblings().removeClass("active"),this.module.dispatch("getTem",{id:a}),this.module.dispatch("getDetail",{id:e}),this.bindings.detail&&this.bindings.detail.changed()},showMore:function(){var e=t.makeArray(this.$("pager").querySelectorAll(".item[data-page]"));if(l<e[e.length-1].getAttribute("data-page")&&s.length!==i.length)l++,e.forEach(function(e){e.getAttribute("data-page")===String(l)&&e.click()}),e=t.makeArray(this.$("pager").querySelectorAll(".item[data-page]"));else if(s.length===i.length)return;s=i.map(function(e){return e})}},a.components=[{id:"pager",name:"pager",options:{model:"list"}}],a.afterRender=function(){var e,n,a=this.$("list");a&&(e=a.querySelectorAll("li[data-first]"),n=e[e.length-1],n.scrollIntoView())},a.afterClose=function(){i=[],l=1,s=[]}},{jquery:!1}),loadjs.d("./app/exam-subject/dialog/certificate/view-main",function(e,n,a){var t,i,l=e("html2canvas"),s=e("jquery"),r=e("lodash/collection"),o=e("file-saver");e("print-this"),e("canvas-toBlob"),a.bindings={list:!0,tmp:!0,detail:!0,down:!0},a.dataForTemplate={tmp:function(e){var n,a,i,l,s,o,d,c=e.tmp,u=e.tmp.htmlCode,m=e.list,p=e.detail,h=[],f=213,v=16,g="",b=["不及格","及格","良好","优秀"],x=["长期有效","三年"],y=["","一级","二级","三级","四级","五级"];return m.length&&Object.keys(p).length?(n=new Date(Number(p.passTime?p.passTime:p.issueTime)),a=new Date(Number(p.issueTime)),i=p.num.split(""),a.year=a.getFullYear(),a.month=a.getMonth()+1,a.day=a.getDate(),n.year=n.getFullYear(),n.month=n.getMonth()+1,n.day=n.getDate(),l=p.professionLevel&&p.professionLevel.levelName?p.professionLevel.levelName:"0",s=p.profession&&p.profession.name?p.profession.name:"",o=p.subProfession&&p.subProfession.name?p.subProfession.name:"",d=p.equipmentType&&p.equipmentType.name?p.equipmentType.name:"",l=l.replace(/[^0-9]/gi,""),x="0"===l?"长期有效":x[l-1]||"五年",p.member.identityNumber=p.member.identityNumber?p.member.identityNumber:"",h=[p.member.fullName,n.year,n.month,n.day,s,o,d,y[l],b[p.scoreLevel],p.member.identityNumber,a.year,a.month,a.day,x],i.forEach(function(e,n){g+="<div style='left:"+f+"px;top:"+v+"px;'>"+e+"</div>",n>=2&&n<=4?v+=0:n>4&&n<=8?v+=1:n>8?v+=2:v-=1,f+=5}),c.numHtml=g,r.map(c.configList,function(e,n){u=u.replace(e.paramCode,h[n])}),c.htmlExamples=u,c.cover=t(c.cover,p),c):null}},a.events={"click download":"download","click print":"print"},a.handlers={download:function(){var e,n=this.$("img").cloneNode(!0),a=r.find(this.bindings.list.data,{current:!0}),t=40,i=433;n.classList.add("new-dom"),document.body.appendChild(n),e=Array.prototype.slice.call(document.querySelectorAll(".new-dom .num div")),e.forEach(function(n,a){a>=2&&a<=5?t+=0:a>5&&a<=8?t+=2:a>8?t+=4:t-=3,i+=10,e[a].style.left=i+"px",e[a].style.top=t+"px"}),l(n,{width:960,height:1358}).then(function(e){var t=a.name+".png";document.body.removeChild(n),e.toBlob(function(e){o.saveAs(e,t)})})},print:function(){var e,n=this.$("img").cloneNode(!0),a=40,t=433;n.classList.add("new-dom"),document.body.appendChild(n),e=Array.prototype.slice.call(document.querySelectorAll(".new-dom .num div")),e.forEach(function(n,i){i>=2&&i<=5?a+=0:i>5&&i<=8?a+=2:i>8?a+=4:a-=3,t+=10,e[i].style.left=t+"px",e[i].style.top=a+"px"}),l(n,{width:960,height:1358}).then(function(e){var a,t,i;a=e.toDataURL(),t=document.body,i=document.createElement("img"),i.src=a,i.width=960,i.height=1358,t.removeChild(n),t.appendChild(i),s(i).printThis({header:null,footer:null}),t.removeChild(i)})}},a.beforeRender=function(){i=this},t=function(e,n){var a;return e&&(a=e.indexOf("certificate")<0?i.bindings.down.getFullUrl()+"?id="+e:n&&"4"===n.templateId&&n.issueTime<1514736e6?"images/exam-subject/certificate.jpg":e),a}},{"canvas-toBlob":!1,"file-saver":!1,html2canvas:!1,jquery:!1,"lodash/collection":!1,"print-this":!1}),loadjs.d("./app/exam-subject/dialog/data",function(e,n,a){n.exports=[{id:"7812eh7a-3afs-4a32-840d-9e9ags879j1k1",createTime:14979312e5,auditStartTime:1498067891123,auditEndTime:149807412e4,examBatch:"201709",name:"考试名称",status:1},{id:"7812eh7a-3afs-4a32-840d-9e9ags879j1k2",createTime:14979312e5,auditStartTime:1498067891123,auditEndTime:149807412e4,examBatch:"201709",name:"考试名称",status:2},{id:"7812eh7a-3afs-4a32-840d-9e9ags879j1k3",createTime:14979312e5,auditStartTime:1498067891123,auditEndTime:149807412e4,examBatch:"201709",name:"考试名称",status:5},{id:"7812eh7a-3afs-4a32-840d-9e9ags879j1k4",createTime:14979312e5,auditStartTime:1498067891123,auditEndTime:149807412e4,examBatch:"201709",name:"考试名称",status:1},{id:"7812eh7a-3afs-4a32-840d-9e9ags879j1k5",createTime:14979312e5,auditStartTime:1498067891123,auditEndTime:149807412e4,examBatch:"201709",name:"考试名称",status:1},{id:"7812eh7a-3afs-4a32-840d-9e9ags879j1k6",createTime:14979312e5,auditStartTime:1498067891123,auditEndTime:149807412e4,examBatch:"201709",name:"考试名称",status:1},{id:"7812eh7a-3afs-4a32-840d-9e9ags879j1k7",createTime:14979312e5,auditStartTime:1498067891123,auditEndTime:149807412e4,examBatch:"201709",name:"考试名称",status:1},{id:"7812eh7a-3afs-4a32-840d-9e9ags879j1k8",createTime:14979312e5,auditStartTime:1498067891123,auditEndTime:149807412e4,examBatch:"201709",name:"考试名称",status:1},{id:"7812eh7a-3afs-4a32-840d-9e9ags879j1k9",createTime:14979312e5,auditStartTime:1498067891123,auditEndTime:149807412e4,examBatch:"201709",name:"考试名称",status:1},{id:"7812eh7a-3afs-4a32-840d-9e9ags879j1k0",createTime:14979312e5,auditStartTime:1498067891123,auditEndTime:149807412e4,examBatch:"201709",name:"考试名称",status:1}]},{}),loadjs.d("./app/exam-subject/dialog/exam/index",function(e,n,a){var t=e("./app/util/maps"),i=t.getValue("certification-exam-type","network"),l=e("drizzle-zxy");a.items={main:"main","exam-subject/dialog/cer-detail":{isModule:!0},"exam-common/exam-prompt":{isModule:!0}},a.store={models:{dataList:{url:"../exam/auth-exam/my-exam-list",type:"pageable",root:"items",params:{organizationId:i,year:(new Date).getFullYear()}},search:{data:{startTimeOrderBy:1,year:(new Date).getFullYear()}}},callbacks:{init:function(){var e=this.models.dataList,n=this.models.search;return e.clear(),l.assign(e.params,n.data),this.get(e,{loading:!0})},search:function(e){var n=this.models.search,a=this.models.dataList;l.assign(a.params,l.assign(n.data,e)),this.get(a,{loading:!0}),n.changed()}}},a.beforeRender=function(){return this.dispatch("init")}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/exam-subject/dialog/exam/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="exam-dialog-content-page" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'    <div class="search-box pointer">\n        <div class="year-box">\n            <span>年份：</span>\n'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.yearData:n)?l.year:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'        </div>\n        <div id="timeOrder" class="text-right time-order">\n            <div class="inline-block">进入时间</div>\n            '+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.search:n)?l.startTimeOrderBy:l,"eq",1,{name:"compare",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"\n            "+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.search:n)?l.startTimeOrderBy:l,"eq",2,{name:"compare",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"\n        </div>\n    </div>\n"+(null!=(l=a.if.call(s,null!=n?n.dataList:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.program(23,i,0),data:i}))?l:"")},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="item '+(null!=(l=a.if.call(r,null!=n?n.active:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'" id="year-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"><span>'+d((s=null!=(s=a.btnTxt||(null!=n?n.btnTxt:n))?s:o,"function"==typeof s?s.call(r,{name:"btnTxt",hash:{},data:i}):s))+"</span></div>\n"},5:function(e,n,a,t,i){return"active"},7:function(e,n,a,t,i){return'<div class="iconfont icon-sort-desc"></div>'},9:function(e,n,a,t,i){return'<div class="iconfont icon-sort-asc"></div>'},11:function(e,n,a,t,i){var l;return'        <ul class="list">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dataList:n,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+'</ul>\n        <br/>\n        <div id="pager" class="pagination"></div>\n'},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n            <li>\n                <div class="cell max">\n                    <div class="btn small disabled status">'+d((s=null!=(s=a.examBatch||(null!=n?n.examBatch:n))?s:o,"function"==typeof s?s.call(r,{name:"examBatch",hash:{},data:i}):s))+'</div>\n                    <div class="title" id="exam-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">\n                        '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'\n                    </div>\n                    <p class="sub-text">\n                        进入考试时间：\n                        '+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+"\n                        ~\n                        "+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+'\n                    </p>\n                    <div class="sub-text">\n                        <span class="layout-mr-small">\n                            总分：\n                            '+d(e.lambda(null!=(l=null!=n?n.paperClass:n)?l.totalScore:l,n))+"\n                        </span>\n"+(null!=(l=a.if.call(r,null!=n?n.passScore:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i
}))?l:"")+'                    </div>\n                </div>\n                <div class="cell text-center"><b class="common-title">'+d((s=null!=(s=a.status||(null!=n?n.status:n))?s:o,"function"==typeof s?s.call(r,{name:"status",hash:{},data:i}):s))+'</b></div>\n                <div class="cell text-right">\n'+(null!=(l=a.if.call(r,null!=n?n.btnName:n,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(r,null!=n?n.admissionTicket:n,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n            </li>\n        "},13:function(e,n,a,t,i){var l;return"                            <span>\n                                及格分：\n                                "+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.passScore:n,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"\n                            </span>\n"},14:function(e,n,a,t,i){var l;return e.escapeExpression((l=null!=(l=a.passScore||(null!=n?n.passScore:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"passScore",hash:{},data:i}):l))},16:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.btnName:n,"eq","进入考试",{name:"compare",hash:{},fn:e.program(17,i,0),inverse:e.program(19,i,0),data:i}))?l:""},17:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <div class="btn m-right small" id="exambtn-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="entry" data-delay="0">'+o((l=null!=(l=a.btnName||(null!=n?n.btnName:n))?l:r,"function"==typeof l?l.call(s,{name:"btnName",hash:{},data:i}):l))+"</div>\n"},19:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <div class="btn m-right small" id="exambtn-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.btnName||(null!=n?n.btnName:n))?l:r,"function"==typeof l?l.call(s,{name:"btnName",hash:{},data:i}):l))+"</div>\n"},21:function(e,n,a,t,i){var l;return'                        <div class="h2 inline-block text-main-color"><div class="iconfont icon-cert m-left pointer" id="show-cer-detail-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div></div>\n'},23:function(e,n,a,t,i){return'        <div class="content-empty"><div class="img-box img-type-1"></div><p>暂无数据哦</p></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/dialog/exam/view-main",function(e,n,a){var t=e("jquery");a.bindings={dataList:!0,search:!0},a.events={"click show-cer-detail-*":"showCer","click timeOrder":"timeOrder","click exam-*":"showExamPrompt","click exambtn-*":"showExamPrompt","click year-*":"selectYear"},a.handlers={showCer:function(e){this.app.viewport.modal(this.module.items["exam-subject/dialog/cer-detail"],{id:e})},timeOrder:function(){var e=this.bindings.search.data.startTimeOrderBy,n={startTimeOrderBy:1===e?2:1};this.module.dispatch("search",n)},showExamPrompt:function(e,n,a){var i,l=this.module.items["exam-common/exam-prompt"],s=this,r=a.getAttribute("data-delay");"entry"===a.getAttribute("data-name")?"0"===r&&(r=16,i=setInterval(function(){if(r-=1,a.setAttribute("data-delay",r),t(a).html(r+"s"),t(a).addClass("countdown"),0===r)return clearInterval(i),t(a).removeClass("countdown"),void t(a).html("进入考试")},1e3),s.app.viewport.modal(l,{examId:e})):s.app.viewport.modal(l,{examId:e})},selectYear:function(e){var n={};return n={normal:[{year:(new Date).getFullYear()},{year:(new Date).getFullYear()-1},{year:(new Date).getFullYear()-2}]}.normal[Number(e)],this.module.dispatch("search",n)}},a.components=[{id:"pager",name:"pager",options:{model:"dataList"}}],a.dataForTemplate={dataList:function(){var e=this.bindings.dataList.data;return e.length?(e.forEach(function(e){var n=e,a=n.examRecord.status;switch(n.paperClass.totalScore=parseFloat((n.paperClass.totalScore/100).toFixed(1)),a){case 1:n.status="考试中",n.btnName="进入考试";break;case 2:case 4:n.status="考试中",n.btnName="继续考试";break;case 5:n.status="待评卷",n.btnName="";break;default:n.status="",n.btnName=""}}),e):null},yearData:function(e){var n,a=e.search,t=new Date,i=t.getFullYear(),l=t.getFullYear()-1;return n=[{active:a.year===i,btnTxt:i},{active:a.year===l,btnTxt:l}],{year:n,startTimeOrderBy:a.startTimeOrderBy}}}},{jquery:!1}),loadjs.d("./app/exam-subject/dialog/examine/index",function(e,n,a){var t=e("./app/util/maps"),i=t.getValue("certification-exam-type","network"),l=e("drizzle-zxy");a.items={main:"main"},a.store={models:{dataList:{url:"../exam/sign-auth/audit-list",type:"pageable",root:"items",params:{organizationId:i}},cancleSign:{url:"../exam/sign-auth/cancel-sign"},search:{data:{startTimeOrderBy:1}}},callbacks:{init:function(){var e=this.models.dataList,n=this.models.search;return e.clear(),l.assign(e.params,n.data),this.get(e,{loading:!0})},search:function(e){var n=this.models.search,a=this.models.dataList;l.assign(a.params,l.assign(n.data,e)),this.get(a,{loading:!0}),n.changed()},cancleSign:function(e){var n=this.models.cancleSign,a=this.models.dataList,t=this;return n.clear(),n.set({id:e}),this.put(n).then(function(){return this.app.message.success("取消报名成功.."),t.get(a,{loading:!0})})}}},a.beforeRender=function(){return this.dispatch("init")}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/exam-subject/dialog/examine/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="exam-dialog-content-page" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.dataList:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(20,i,0),data:i}))?l:""},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'        <div id="timeOrder" class="text-right">\n            <div class="inline-block">进入时间</div>\n            '+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.search:n)?l.startTimeOrderBy:l,"eq",1,{name:"compare",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n            "+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.search:n)?l.startTimeOrderBy:l,"eq",2,{name:"compare",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+'\n        </div>\n        <ul class="list">'+(null!=(l=a.each.call(s,null!=n?n.dataList:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+'</ul>\n        <br/>\n        <div id="pager" class="pagination"></div>\n'},5:function(e,n,a,t,i){return'<div class="iconfont icon-sort-desc"></div>'},7:function(e,n,a,t,i){return'<div class="iconfont icon-sort-asc"></div>'},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n            <li>\n                <div class="cell max">\n                    <div class="btn small disabled status">'+d((s=null!=(s=a.examBatch||(null!=n?n.examBatch:n))?s:o,"function"==typeof s?s.call(r,{name:"examBatch",hash:{},data:i}):s))+'</div>\n                    <div class="title">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                    <p class="sub-text">\n                        审核时间：\n                        '+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.auditStartTime:n,{name:"dateMinute",hash:{},data:i}))+"\n                         ~ \n                        "+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.auditEndTime:n,{name:"dateMinute",hash:{},data:i}))+'\n                    </p>\n                </div>\n                <div class="cell">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=(l=null!=n?n.signUp:n)?l.status:l,"eq",1,{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=(l=null!=n?n.signUp:n)?l.status:l,"eq",2,{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=(l=null!=n?n.signUp:n)?l.status:l,"eq",3,{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=(l=null!=n?n.signUp:n)?l.status:l,"eq",4,{name:"compare",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+'                </div>\n                <div class="cell text-right">\n'+(null!=(l=a.if.call(r,null!=n?n.showBtn:n,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n            </li>\n        "},10:function(e,n,a,t,i){return'                        <b class="common-title">审核中</b>\n'},12:function(e,n,a,t,i){return'                        <b class="common-title">已通过</b>\n'},14:function(e,n,a,t,i){return'                        <b class="common-title">被拒绝</b>\n'},16:function(e,n,a,t,i){return'                        <b class="common-title">取消报名</b>\n'},18:function(e,n,a,t,i){var l;return'                        <div class="btn m-right small" id="cancle-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">取消报名</div>\n'},20:function(e,n,a,t,i){return'        <div class="content-empty"><div class="img-box img-type-1"></div><p>暂无数据哦</p></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/dialog/examine/view-main",function(e,n,a){a.bindings={dataList:!0,search:!0},a.events={"click timeOrder":"timeOrder","click cancle-*":"cancleSign"},a.handlers={timeOrder:function(){var e=this.bindings.search.data.startTimeOrderBy,n={startTimeOrderBy:1===e?2:1};this.module.dispatch("search",n)},cancleSign:function(e){this.module.dispatch("cancleSign",e)}},a.components=[{id:"pager",name:"pager",options:{model:"dataList"}}],a.dataForTemplate={dataList:function(){var e=this.bindings.dataList.data,n=(new Date).getTime();return e.forEach(function(e){var a=e;1===a.signUp.status&&n>=a.applicantStartTime&&n<=a.applicantEndTime&&(a.showBtn=!0)}),e}}},{}),loadjs.d("./app/exam-subject/dialog/index",function(e,n,a){a.items={top:"top",main:"main"},a.title="认证考试",a.auto=!0,a.store={models:{menus:{data:[{id:"0",name:"报名",url:"sign"},{id:"1",name:"审核",url:"examine"},{id:"2",name:"打印准考证",url:"ticket"},{id:"3",name:"考试",url:"exam"},{id:"4",name:"成绩",url:"achievement"},{id:"5",name:"证书",url:"certificate"}]},state:{}},callbacks:{init:function(e){e.id&&""!==e.id?this.models.state.set({menu:e.id}):this.models.state.set({menu:"sign"})}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/exam-subject/dialog/more/index",function(e,n,a){var t=e("./app/util/maps");a.title="全部公告",a.auto=!0,a.items={main:"main"},a.store={models:{notices:{url:"../exam/announcement/more-list",type:"pageable",root:"items",params:{organizationId:t.getValue("certification-exam-type","network")}}},callbacks:{init:function(){return this.get(this.models.notices,{loading:!0})}}},a.beforeRender=function(){return this.dispatch("init")}},{"./app/util/maps":"./app/util/maps"}),loadjs.d("./app/exam-subject/dialog/more/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="exam-subject-more-dialog">\n        <div class="notice-more-main" data-region="main"></div>\n    </div>\n'},3:function(e,n,a,t,i){var l;return'    <ul class="notice-more">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.notices:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+'    </ul>\n    <div id="pager" class="pagination"></div>\n'},4:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.notices:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:""},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <li class="notice-list">\n                    <div class="notice-title-bar" id="toggle-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                        <div class="notice-title">\n                            '+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.title:n,{name:"echoX",hash:{},data:i}))?l:"")+'\n                        </div>\n                        <div class="notice-time">\n                            '+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+'\n                        </div>\n                    </div>\n                    <div class="notice-toggle '+(null!=(l=a.if.call(r,null!=n?n.isOpen:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'">\n                        <div class="notice-row">\n                            '+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.description:n,{name:"echoX",hash:{},data:i}))?l:"")+"\n                        </div>\n                    </div>\n                </li>\n"},6:function(e,n,a,t,i){return"open"},8:function(e,n,a,t,i){return'            <div class="content-empty"><div class="img-box img-type-1"></div><p>暂无通知公告</p></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/dialog/more/view-main",function(e,n,a){a.bindings={notices:!0},a.events={"click toggle-*":"toggleNotice"},a.handlers={toggleNotice:function(e){var n,a=this.bindings.notices,t=a.data.length;for(n=0;n<t;n++)a.data[n].isOpen=!1;a.data[e].isOpen=!0,a.changed()}},a.components=[{id:"pager",name:"pager",options:{model:"notices"}}]},{}),loadjs.d("./app/exam-subject/dialog/post-evaluation/index",function(e,n,a){a.items={main:"main"},a.store={models:{header:{url:"../exam/after-assessment/exam-personal-detail-header"},detail:{url:"../exam/after-assessment/front-exam-personal-detail"}},callbacks:{init:function(e){var n=this.models.detail,a=this.models.header;return n.clear(),a.clear(),n.params={id:e.id},a.params={id:e.id},this.chain([this.get(a,{loading:!0}),this.get(n)])}}},a.title="后评估数据",a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/exam-subject/dialog/post-evaluation/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="post-evaluation" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l;return'    <div class="text-center">\n        <div class="h3 m-bottom strong">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.detail:n)?l.name:l,n))+'</div>\n    </div>\n    <div class="layout-mb-small">\n        <div class="table border"><table>\n            <div class="tbody">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.list:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n        </table></div>\n    </div>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"\n                <tr>\n                    <td>"+o((l=null!=(l=a.th||(null!=n?n.th:n))?l:r,"function"==typeof l?l.call(s,{name:"th",hash:{},data:i}):l))+"</td>\n                    <td>"+o((l=null!=(l=a.td||(null!=n?n.td:n))?l:r,"function"==typeof l?l.call(s,{name:"td",hash:{},data:i}):l))+"</td>\n                </tr>\n            "},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/dialog/post-evaluation/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={detail:!1,header:!1},a.dataForTemplate={list:function(){var e,n=this.bindings.header.data,a=this.bindings.detail.data,i=JSON.parse(a.userRateJson),l=[],s=[],r=[];for(t.forEach(i,function(e){s.push(e)}),t.forEach(n,function(e){var n=e;l.push(n.depotHeaderName)}),l.unshift("员工信息","归属组织","试题正确率"),s.unshift(a.member.name+"("+a.member.fullName+")",a.organization.name,a.correctRate),e=0;e<l.length;e++)r.push({th:l[e],td:s[e]});return r},detail:function(){return{name:this.module.renderOptions.name}}}},{"lodash/collection":!1}),loadjs.d("./app/exam-subject/dialog/sign/index",function(e,n,a){var t,i,l,s=e("drizzle-zxy"),r=e("./app/util/business/prompt-help"),o=e("lodash/collection"),d=e("./app/util/maps"),c=d.getValue("certification-exam-type","network");a.items={main:"main",filter:"filter",tips:"","exam-common/info":{isModule:!0}},a.store={models:{state:{data:{}},professions:{url:"../exam/auth-exam/profession-list",params:{organizationId:c}},equipments:{url:"../exam/auth-exam/equipment-list"},levels:{url:"../exam/professionLevel"},signSearch:{url:"../exam/auth-exam/signup-list",type:"pageable",root:"items",params:{organizationId:c}},signUp:{url:"../exam/sign-auth"},cancel:{url:"../exam/sign-auth/cancel-sign"},timeOverlap:{url:"../exam/sign-up/overlap-time",params:{organizationId:c}}},callbacks:{init:function(){var e=this;return this.chain(e.module.dispatch("getLevels"),e.module.dispatch("getProfessions"),e.module.dispatch("getEquipments")).then(function(){e.module.dispatch("search")})},getProfessions:function(){var e=this.models.professions,n=this;return this.get(e).then(function(){var a,t,i=n.models.state,l=[],s=[];e.data.length&&(o.map(e.data,function(e){e.parentId?s.push(e):(e.subpPofessions=[],l.push(e))}),l.length&&(e.data=l,l=s.concat(),o.map(e.data,function(e){for(e.subpPofessions.push({id:"all",name:"全部"}),a=l.length,t=0;t<a&&(e.id===l[t].parentId&&(e.subpPofessions.push(l[t]),l.splice(t,1),t--,a=l.length),0!==a);t++);}),e.data.unshift({id:"all",name:"全部",active:!0,subpPofessions:[{id:"all",name:"全部",active:!0}]}),i.data={subpPofessions:e.data[0].subpPofessions},i.changed()))})},getEquipments:function(){var e=this.models.equipments;return this.get(e,{loading:!0}).then(function(){e.data&&e.data.length&&e.data.unshift({id:"all",name:"全部",active:!0})})},getLevels:function(){var e=this.models.levels;return this.get(e,{loading:!0}).then(function(){e.data&&e.data.length&&e.data.unshift({id:"all",levelName:"全部",active:!0})})},search:function(e){var n=this.models.signSearch;return e&&s.assign(n.params,e.search),this.get(n,{loading:!0}).then(function(){var e=n.data;return e.length?(o.map(e,function(n,a){n.signUp||(n.signUp={}),e[a]=t(n)}),n.data=e,n.changed(),null):null})},signUp:function(e){var n,a=this.models.signSearch,t=this;return e?(n=this.models.signUp,n.clear(),n.set({organizationId:c,examId:e.examId}),this.post(n,{loading:!0}).then(function(e){var n=e&&e[0].id,i=e&&e[0]&&e[0].signUp&&e[0].signUp.examLevelId,l=e&&e[0]&&e[0].signUp&&e[0].signUp.status,s=e&&e[0]&&e[0].overSignupRule;return t.module.dispatch("search").then(function(){var e,r=a.data;o.forEach(r,function(a){a.signUp.id===n&&(e=a.signUp.status)}),3===l&&1===s?t.app.message.error("本年度考试次数已达上限，请于明年报考"):3===l&&"l0002"===i?t.app.message.error("您没有申报本次考试的有效证书且不是首次申报"):3===l&&"l0003"===i?t.app.message.error("您没有申报本次考试的有效证书"):t.app.message.success("您的报名申请已提交,请耐心等待审核结果...")})})):null},getTimeOverlap:function(e){var n;if(e)return n=this.models.timeOverlap,n.clear(),s.assign(n.params,{examId:e.examId}),this.get(n,{loading:!0})},cancel:function(e){var n=this.models.cancel,a=this;this.models.signSearch;return n.clear(),e?(n.set({id:e.id}),this.put(n,{loading:!0}).then(function(e){if(e&&e[0])return a.app.message.success("取消成功!"),a.module.dispatch("search")})):null}}},a.beforeRender=function(){return i=this,this.dispatch("init")},t=function(e){var n=r.getUserStatusOfExam(e,!1,"",{isSignUpType:2}),a=r.isBelongLoginUserRecord(e,i.app.global.currentUser.id),t={examStatus:n};switch(n){case 1:t.btnStatus="signUp",t.statusName="未报名";break;case 2:a&&(t.btnStatus="cancel"),t.statusName="审核中";break;case 3:case 30:t.statusName="已通过";break;case 22:case 31:t.btnStatus="signUp",t.statusName="被拒绝";break;case 27:a&&(t.btnStatus="cancel"),t.statusName="报名中";break;case 15:t.btnStatus="over",t.statusName="报名截止";case 29:l(e)&&(t.btnStatus="over",t.statusName="报名截止")}return s.assign(e,t),e},l=function(e){var n=e.examRecord&&e.examRecord.currentTime;return(n=n||(new Date).getTime())>e.applicantEndTime&&!e.signUp.id}},{"./app/util/business/prompt-help":"./app/util/business/prompt-help","./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam-subject/dialog/sign/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="exam-dialog-content-page sign">\n        <div class="exam-sign-filter" data-region="filter"></div>\n        <div class="exam-sign-main" data-region="main"></div>\n    </div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return(null!=(l=a.if.call(s,null!=(l=null!=n?n.levels:n)?l.length:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'    <div class="exam-filter-row">\n        <div class="filter-row-l">专业：</div>\n        <div class="filter-row-r">\n'+(null!=(l=a.each.call(s,null!=n?n.professions:n,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n    </div>\n"+(null!=(l=a.if.call(s,null!=(l=null!=n?n.subpPofessions:n)?l.length:l,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.equipments:n)?l.length:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")},4:function(e,n,a,t,i){var l;return'        <div class="exam-filter-row">\n            <div class="filter-row-l">等级：</div>\n            <div class="filter-row-r">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.levels:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n        </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                    <div class="filter-item '+(null!=(l=a.if.call(r,null!=n?n.active:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'" id="level-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                        '+d((s=null!=(s=a.levelName||(null!=n?n.levelName:n))?s:o,"function"==typeof s?s.call(r,{name:"levelName",hash:{},data:i}):s))+"\n                    </div>\n"},6:function(e,n,a,t,i){return"active"},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="filter-item '+(null!=(l=a.if.call(r,null!=n?n.active:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'" id="prof-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                    '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"\n                </div>\n"},10:function(e,n,a,t,i){var l;return'        <div class="exam-filter-row">\n            <div class="filter-row-l">子专业：</div>\n            <div class="filter-row-r">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.subpPofessions:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n        </div>\n"},11:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                    <div class="filter-item '+(null!=(l=a.if.call(r,null!=n?n.active:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'" id="subprof-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                        '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"\n                    </div>\n"},13:function(e,n,a,t,i){var l;return'        <div class="exam-filter-row">\n            <div class="filter-row-l">设备型号：</div>\n            <div class="filter-row-r">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.equipments:n,{name:"each",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n        </div>\n"},14:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                    <div class="filter-item '+(null!=(l=a.if.call(r,null!=n?n.active:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'" id="equipment-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                        '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"\n                    </div>\n"},16:function(e,n,a,t,i){var l;return"    <ul>\n"+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.signSearch:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.program(30,i,0),data:i}))?l:"")+"    </ul>\n"},17:function(e,n,a,t,i){var l;return(null!=(l=a.each.call(null!=n?n:{},null!=n?n.signSearch:n,{name:"each",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+'            <div id="pager" class="pagination"></div>\n'},18:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <li class="list">\n                    <div class="cell max">\n                        <div class="btn small disabled status">\n                            '+d((s=null!=(s=a.examBatch||(null!=n?n.examBatch:n))?s:o,"function"==typeof s?s.call(r,{name:"examBatch",hash:{},data:i}):s))+'\n                        </div>\n                        <div class="title">\n                            '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'\n                        </div>\n                        <p class="sub-text">\n                            报名起止时间：'+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.applicantStartTime:n,{name:"dateMinute",hash:{},data:i}))+"～"+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.applicantEndTime:n,{name:"dateMinute",hash:{},data:i}))+'\n                        </p>\n                        <p class="sub-text">\n                            进入考试起止时间：'+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+"～"+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+'\n                        </p>\n                    </div>\n                    <div class="cell txt-center">\n                        <b class="common-title">\n'+(null!=(l=a.if.call(r,null!=n?n.haveExamTimes:n,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.program(21,i,0),data:i}))?l:"")+'                        </b>\n                        <div class="sub-text">\n                            报名人数：'+d((s=null!=(s=a.applicantNumber||(null!=n?n.applicantNumber:n))?s:o,"function"==typeof s?s.call(r,{name:"applicantNumber",hash:{},data:i}):s))+'\n                        </div>\n                    </div>\n                    <div class="cell text-right">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.btnStatus:n,"eq","signUp",{name:"compare",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.btnStatus:n,"eq","cancel",{name:"compare",hash:{},fn:e.program(26,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.btnStatus:n,"eq","over",{name:"compare",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?l:"")+"                    </div>\n                </li>\n"},19:function(e,n,a,t,i){return"                                已通过\n"},21:function(e,n,a,t,i){var l;return"                                "+e.escapeExpression((l=null!=(l=a.statusName||(null!=n?n.statusName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"statusName",hash:{},data:i}):l))+"\n"},23:function(e,n,a,t,i){var l;return null!=(l=a.unless.call(null!=n?n:{},null!=n?n.haveExamTimes:n,{name:"unless",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:""},24:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <div class="btn m-right small" id="sign-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'" name="'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">报名</div>\n'},26:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <div class="btn m-right small" id="cancel-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'" name="'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">取消报名</div>\n'},28:function(e,n,a,t,i){return'                            <b class="common-title sub-text">截止报名</b>\n'},30:function(e,n,a,t,i){return'            <div class="content-empty"><div class="img-box img-type-1"></div><p>暂无数据哦</p></div>\n'},32:function(e,n,a,t,i){var l;return"    <p>"+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.tips:l,n))+"</p>\n    <hr/>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"filter",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"tips",{name:"view",hash:{},fn:e.program(32,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/dialog/sign/view-filter",function(e,n,a){var t;a.bindings={professions:!0,equipments:!0,state:!0,levels:!0},a.dataForTemplate={professions:function(e){return e.professions},subpPofessions:function(e){return e.state.subpPofessions},levels:function(e){return e.levels},equipments:function(e){
return e.equipments}},a.events={"click prof-*":"switchProf","click subprof-*":"switchSubProf","click level-*":"switchLevel","click equipment-*":"switchEquipment"},a.handlers={switchProf:function(e){var n,a,i=this.bindings.professions,l=this.bindings.state,s={};i.data=t(i.data,e),i.changed(),n=i.data[e].subpPofessions,n=t(n,0),l.data.subpPofessions=n,l.changed(),a=i.data[e].id,s.proId="all"===a?"":a,s.subProId="",this.module.dispatch("search",{search:s})},switchSubProf:function(e){var n={},a=this.bindings.state,i=a.data.subpPofessions,l=i[e].id;"all"===l?n.subProId="":(n.proId=i[e].parentId,n.subProId=l),i=t(i,e),a.changed(),this.module.dispatch("search",{search:n})},switchLevel:function(e){var n={},a=this.bindings.levels,i=a.data[e].id;a.data=t(a.data,e),a.changed(),n.levelId="all"===i?"":i,this.module.dispatch("search",{search:n})},switchEquipment:function(e){var n={},a=this.bindings.equipments,i=a.data[e].id;a.data=t(a.data,e),a.changed(),n.equipmentId="all"===i?"":i,this.module.dispatch("search",{search:n})}},t=function(e,n){var a,t=e.length;for(a=0;a<t;a++)e[a].active=!1;return e[n].active=!0,e}},{}),loadjs.d("./app/exam-subject/dialog/sign/view-main",function(e,n,a){var t=e("jquery"),i=e("./app/util/errors");a.bindings={signSearch:!0},a.events={"click sign-*":"beforeSignUp","click cancel-*":"cancel"},a.handlers={beforeSignUp:function(e,n){var a,l=this.bindings.signSearch,s=n.target,r=t(s).attr("name"),o=this;return a=l.data[r],22===a.examStatus||31===a.examStatus?(this.app.message.error(i.get("30412")),null):(1===a.examStatus&&this.module.dispatch("getTimeOverlap",{examId:a.id}).then(function(e){(!e||e[0]&&!e[0].errorCode)&&(a.needFillOutInfo?o.app.viewport.modal(o.module.items["exam-common/info"],{examId:a.id,callback:function(){return o.module.dispatch("search")}}):o.module.dispatch("signUp",{examId:a.id}))}),null)},cancel:function(e,n){var a,i=this.bindings.signSearch,l=n.target,s=t(l).attr("name");a=i.data[s],this.module.dispatch("cancel",{id:a.id,index:s})}},a.components=[function(){var e=this;return{id:"pager",name:"pager",options:{model:"signSearch",callback:function(){e.module.dispatch("search")}}}}],a.dataForTemplate={signSearch:function(e){var n,a=e.signSearch,t=a.length;for(n=0;n<t;n++)a[n].applicantNumber=a[n].applicantNumber||0;return a}}},{"./app/util/errors":"./app/util/errors",jquery:!1}),loadjs.d("./app/exam-subject/dialog/sign/view-tips",function(e,n,a){a.binding={state:!0},a.title="温馨提示",a.afterClose=function(){this.app.navigate("home")},a.dataForTemplate={state:function(){return{tips:this.renderOptions.tips}}}},{}),loadjs.d("./app/exam-subject/dialog/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="exam-subject-dialog">\n    <div class="top" data-region="top"></div>\n    <div class="main" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <ul class="clearfix">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.menus:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li id="menu-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" class="'+(null!=(l=a.if.call(r,null!=n?n.current:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</li>\n    "},5:function(e,n,a,t,i){return"active"},7:function(e,n,a,t,i){var l;return'    <div id="main" data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.dialog:n)?l.item:l,n))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"top",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/dialog/ticket/index",function(e,n,a){var t=e("./app/util/maps"),i=t.getValue("certification-exam-type","network"),l=e("drizzle-zxy");a.items={main:"main","exam-subject/dialog/cer-detail":{isModule:!0}},a.store={models:{dataList:{url:"../exam/auth-exam/my-ticket-list",type:"pageable",root:"items",params:{organizationId:i,year:(new Date).getFullYear()}},search:{data:{startTimeOrderBy:1,year:(new Date).getFullYear()}}},callbacks:{init:function(){var e=this.models.dataList,n=this.models.search;return e.clear(),l.assign(e.params,n.data),this.get(e,{loading:!0})},search:function(e){var n=this.models.search,a=this.models.dataList;l.assign(a.params,l.assign(n.data,e)),this.get(a,{loading:!0}),n.changed()}}},a.beforeRender=function(){return this.dispatch("init")}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/exam-subject/dialog/ticket/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="exam-dialog-content-page" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'    <div class="search-box pointer">\n        <div class="year-box">\n            <span>年份：</span>\n'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.yearData:n)?l.year:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'        </div>\n        <div id="timeOrder" class="text-right time-order">\n            <div class="inline-block">进入时间</div>\n            '+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.search:n)?l.startTimeOrderBy:l,"eq",1,{name:"compare",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"\n            "+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.search:n)?l.startTimeOrderBy:l,"eq",2,{name:"compare",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"\n        </div>\n    </div>\n"+(null!=(l=a.if.call(s,null!=n?n.dataList:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.program(23,i,0),data:i}))?l:"")},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="item '+(null!=(l=a.if.call(r,null!=n?n.active:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'" id="year-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"><span>'+d((s=null!=(s=a.btnTxt||(null!=n?n.btnTxt:n))?s:o,"function"==typeof s?s.call(r,{name:"btnTxt",hash:{},data:i}):s))+"</span></div>\n"},5:function(e,n,a,t,i){return"active"},7:function(e,n,a,t,i){return'<div class="iconfont icon-sort-desc"></div>'},9:function(e,n,a,t,i){return'<div class="iconfont icon-sort-asc"></div>'},11:function(e,n,a,t,i){var l;return'        <ul class="list">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dataList:n,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+'</ul>\n        <br/>\n        <div id="pager" class="pagination"></div>\n'},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n            <li>\n                <div class="cell max">\n                    <div class="btn small disabled status">'+d((s=null!=(s=a.examBatch||(null!=n?n.examBatch:n))?s:o,"function"==typeof s?s.call(r,{name:"examBatch",hash:{},data:i}):s))+'</div>\n                    <div class="title">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                    <p class="sub-text">\n                        进入考试时间：\n                        '+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+"\n                        ~ \n                        "+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+'\n                    </p>\n                    <div class="sub-text">\n                        <span class="layout-mr-small">\n                            总分：\n                            '+d(e.lambda(null!=(l=null!=n?n.paperClass:n)?l.totalScore:l,n))+"\n                        </span>\n                        <span>\n                            及格分：\n                            "+d((s=null!=(s=a.passScore||(null!=n?n.passScore:n))?s:o,"function"==typeof s?s.call(r,{name:"passScore",hash:{},data:i}):s))+'\n                        </span>\n                    </div>\n                </div>\n                <div class="cell"><b class="common-title">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",1,{name:"compare",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",2,{name:"compare",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",3,{name:"compare",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",4,{name:"compare",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",5,{name:"compare",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",6,{name:"compare",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+'\n                </b></div>\n                <div class="cell text-right">\n                    <div class="h2 inline-block text-main-color"><div class="iconfont icon-cert m-left pointer" id="show-cer-detail-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"></div></div>\n                </div>\n            </li>\n        '},13:function(e,n,a,t,i){return"                    未发布"},15:function(e,n,a,t,i){return"                    发布中"},17:function(e,n,a,t,i){return"                    未开始"},19:function(e,n,a,t,i){return"                    开考中"},21:function(e,n,a,t,i){return"                    已结束"},23:function(e,n,a,t,i){return'        <div class="content-empty"><div class="img-box img-type-1"></div><p>暂无数据哦</p></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/dialog/ticket/view-main",function(e,n,a){a.bindings={dataList:!0,search:!0},a.events={"click show-cer-detail-*":"showCer","click timeOrder":"timeOrder","click year-*":"selectYear"},a.components=[{id:"pager",name:"pager",options:{model:"dataList"}}],a.dataForTemplate={dataList:function(){var e=this.bindings.dataList.data;return e.forEach(function(e){var n=e;n.paperClass.totalScore=(n.paperClass.totalScore/100).toFixed()}),e},yearData:function(e){var n,a=e.search,t=new Date,i=t.getFullYear(),l=t.getFullYear()-1;return n=[{active:a.year===i,btnTxt:i},{active:a.year===l,btnTxt:l}],{year:n,startTimeOrderBy:a.startTimeOrderBy}}},a.handlers={showCer:function(e){this.app.viewport.modal(this.module.items["exam-subject/dialog/cer-detail"],{id:e})},timeOrder:function(){var e=this.bindings.search.data.startTimeOrderBy,n={startTimeOrderBy:1===e?2:1};this.module.dispatch("search",n)},selectYear:function(e){var n={};return n={normal:[{year:(new Date).getFullYear()},{year:(new Date).getFullYear()-1},{year:(new Date).getFullYear()-2}]}.normal[Number(e)],this.module.dispatch("search",n)}}},{}),loadjs.d("./app/exam-subject/dialog/view-main",function(e,n,a){a.type="dynamic",a.bindings={state:!0},a.getEntityModuleName=function(e){var n=this.bindings.state.data.menu;return"string"==typeof e&&""!==e&&(n=e),"exam-subject/dialog/"+n},a.getEntity=function(){return{state:this.bindings.state.data}}},{}),loadjs.d("./app/exam-subject/dialog/view-top",function(e,n,a){var t=e("lodash/collection");a.bindings={menus:!1,state:!0},a.events={"click menu-*":"toggleMenus"},a.handlers={toggleMenus:function(e){var n=this.bindings.state,a=this.bindings.state.data.id,i=this.bindings.menus.data,l="";l=this.bindings.menus.data[e].url,t.forEach(i,function(n){var a=n;a.id===e?a.current=!0:a.current=!1}),n.data={},n.data.id=a,n.data.menu=l,n.data.menuId=e,n.data[l]=!0,n.changed()}},a.dataForTemplate={menus:function(){var e=this.bindings.menus.data,n=this.bindings.state.data.menu;return t.forEach(e,function(e){var a=e;a.url===n?a.current=!0:a.current=!1}),e}}},{"lodash/collection":!1}),loadjs.d("./app/exam-subject/entry/index",function(e,n,a){var t=e("drizzle-zxy");a.items={banner:"banner",content:"content",filter:"filter","filter-content":"filter-content","exam-common/exam-prompt":{isModule:!0}},a.store={models:{exam:{url:"../exam/exam/auth-list",type:"pageable",root:"items",pageSize:16},search:{},searchData:{},currentPage:{data:{page:1}},certificationZone:{data:[],url:"../course-study/certification-zone"},certificationList:{data:[{name:"网络维护人员认证考试",des:"网络维护人技能评定考试是中国移动通信集团针对全网网络维护人员开展的以保证网络质量和安全运行所需的知识、技能为标准，采用综合测评手段对员工专业技能水平进行客观评价和科学衡量的认证考试。",coverPath:"images/exam-subject/new-certif-banner1.png",link:"#/exam-subject/index"},{name:"产品体验专家认证考试专区",des:"为全面支撑公司高质量发展，提升中国移动产品品质管理团队的专业化水平，根据《中国移动产品体验专家管理办法》，总部现通过考试方式开展专家认证，相关考试工作依托中国移动网上人才发展中心“产品体验专家认证考试专区”组织开展。",coverPath:"images/exam-subject/new-certif-banner1.png",link:"/subject/#/custom-zoon/exam-region"},{name:"财务人员认证考试专区",des:"为完善从业资质管理，促进财务团队加强学习、提升专业能力，全面支撑公司实现高质量发展，总部财务部正在探索搭建分专业分层级的财务人员认证体系，选取资金、会计核算和税务三个专业进行试点，组织相关专家梳理知识点，统一组织认证考试，后续将视情况逐步扩大实施范围。",coverPath:"images/exam-subject/new-certif-banner3.png",link:"/subject/#/custom-zoon/exam-finance"},{name:"移动云销售技能认证考试专区",des:"移动云销售技能评定考试是由中国移动通信集团政企事业部组织开展的，以有效开展移动云销售工作所需的知识、技能为标准，采用综合测评手段对员工专业技能水平进行客观评价和科学衡量的认证考试。",coverPath:"images/exam-subject/new-certif-banner4.png",link:"/subject/#/custom-zoon/traning"},{name:"网格长任职资格等级认证专区",des:"为支撑公司网格化运营，促进网格长能岗匹配，集团公司系统推进网格长任职资格体系建设，建立统一的网格长任职资格标准、等级认证机制和课程体系，全面开展网格长分级赋能培训和等级认证，推动成果应用，引导网格长持证上岗、逐级发展，更好地促进网格长发挥基层作战单元负责人“头雁效应”。",coverPath:"images/exam-subject/new-certif-banner5.png",link:"/subject/#/custom-zoon/grid"}]}},callbacks:{init:function(){var e=this.models.exam;t.assign(e.params,{clientType:1,page:1,pageSize:16,searchStatus:1}),this.get(e,{loading:!0}),this.module.dispatch("getCertificationZone")},search:function(e){var n=this.models.search,a=this.models.currentPage;return t.assign(n.data,e),a.data.page=1,a.changed(),t.assign(n.data,t.assign(n.data,e,{page:a.data.page,pageSize:16})),n.changed()},searchCourse:function(e){var n=this.models.exam,a=this.models.search,i=this.models.currentPage;return n.clear(),i.data.page=1,i.changed(),t.assign(n.params,t.assign(a.data,e.params,{page:i.data.page,pageSize:16})),this.get(n,{loading:!0})},getExam:function(e){var n=this.models.exam;return n.params.page=e,this.get(n,{loading:!0})},getCertificationZone:function(){var e=this.models.certificationZone;e.params={page:1,pageSize:1e3,contain:0,status:1,studentFlg:"1"},this.get(e,{loading:!0})},goCertificationZoneGroup:function(e){window.open("#/exam-subject/prefecture-detail/"+e)}}},a.afterRender=function(){return this.dispatch("init")}},{"drizzle-zxy":!1}),loadjs.d("./app/exam-subject/entry/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="exam-subject-page">\n    <div class="banner-new" data-region="banner"></div>\n    <div class="container">\n        <div class="content" data-region="content"></div>\n        <div class="certif-filter" data-region="filter"></div>\n        <div class="certif-filter-content" data-region="filter-content"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i){return'    \x3c!-- .container --\x3e\n    \x3c!--     img.banner-img.pull-left(src=\'images/exam-subject/banner-img-entry.png\') --\x3e\n    \x3c!--     .overflow --\x3e\n    \x3c!--         .img > img(src=\'images/exam-subject/banner-title-entry.png\') --\x3e\n    \x3c!--         p 中国移动网上人才发展中心技能认证中心是公司内部技能认证支撑平台，协同各业务部门提供全集团各专业条线岗位认证培训、考试支撑、证书发放工作。目前已配合集团网络部网络维护人员技能认证、集团市场部品质专家认证等岗位认证工作。 --\x3e\n    <img class="banner-img" src="images/exam-subject/certif-bigbanner.png"/>\n    <div class="exam-title-certify text-center">\n        <div>\n            <h1 class="m-bottom" style="margin-bottom:30px;">中国移动网上人才发展中心技能认证中心</h1>\n            <p>中国移动网上人才发展中心技能认证中心是公司内部技能认证支撑平台，协同各业务部门提供全集团各专业条线岗位认证培训、考试支撑、证书发放工作。</p>\n            <p>目前已配合集团网络部网络维护人员技能认证、集团市场部品质专家认证等岗位认证工作。</p>\n        </div>\n    </div>\n'},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="certification-h1">\n        <span id="tab-name-1" class="h1-name tab-name">认证考试</span>\n    </div>\n    <div class="clearfix layout-mt-small">\n'+(null!=(l=a.each.call(s,null!=n?n.certificationList:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.each.call(s,null!=n?n.certificationZone:n,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"        \x3c!--  else --\x3e\n        \x3c!--      .content-empty > .img-box.img-type-1 + p 暂无认证专区 --\x3e\n    </div>\n"},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'            <div class="itemc pull-left col-width-item pointer" onclick="window.open(\''+o((l=null!=(l=a.link||(null!=n?n.link:n))?l:r,"function"==typeof l?l.call(s,{name:"link",hash:{},data:i}):l))+'\')">\n                <img class="img-shadow" src="'+o((l=null!=(l=a.coverPath||(null!=n?n.coverPath:n))?l:r,"function"==typeof l?l.call(s,{name:"coverPath",hash:{},data:i}):l))+'" width="100%"/>\n                <div class="item-content-certific clearfix">\n                    <div class="col-width-pleft">\n                        <div class="title">\n                            <h2>'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'</h2>\n                            <img class="m-top-certific" src="images/exam-subject/line.png"/>\n                        </div>\n                        <p>'+o((l=null!=(l=a.des||(null!=n?n.des:n))?l:r,"function"==typeof l?l.call(s,{name:"des",hash:{},data:i}):l))+'</p>\n                    </div>\n                </div>\n                <div class="button-certific">\n                    <a class="btn small white active radius pull-right">\n                        进入专区\n                        <i class="iconfont icon-arrow-right"></i>\n                    </a>\n                </div>\n            </div>\n'},8:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'            <div class="itemc pull-left col-width-item pointer" id="certification-zone-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">\n                <img class="img-shadow" src="'+o((l=null!=(l=a.cover||(null!=n?n.cover:n))?l:r,"function"==typeof l?l.call(s,{name:"cover",hash:{},data:i}):l))+'" width="100%"/>\n                <div class="item-content-certific clearfix">\n                    <div class="col-width-pleft">\n                        <div class="title">\n                            <h2 class="text-overflow">'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'</h2>\n                            <img class="m-top-certific" src="images/exam-subject/line.png"/>\n                        </div>\n                        <p>'+o((l=null!=(l=a.description||(null!=n?n.description:n))?l:r,"function"==typeof l?l.call(s,{name:"description",hash:{},data:i}):l))+'</p>\n                    </div>\n                </div>\n                <div class="button-certific">\n                    <a class="btn small white active radius pull-right">\n                        进入专区\n                        <i class="iconfont icon-arrow-right"></i>\n                    </a>\n                </div>\n            </div>\n'},10:function(e,n,a,t,i){var l;return'    <div class="certification-h1">\n        <span class="h1-name">考试</span>\n        <div class="certification-filter">\n            <div class="filter-name">状态：</div>\n            <div class="filter-type">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.type:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+'            </div>\n            <div class="certification-search">\n                <div class="search-input"><input id="searchContent" class="input" name="searchContentexam-name" autocomplete="off" placeholder="请输入考试名称搜索" maxlength="50"/></div>\n                <div class="search-btn" id="searchBtn"><i class="iconfont icon-search text-hover-main-color"></i></div>\n            </div>\n        </div>\n    </div>\n'},11:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                    <div class="filter-item '+(null!=(l=a.if.call(r,null!=n?n.check:n,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+'" id="typeState-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</div>\n"},12:function(e,n,a,t,i){return"filter-active"},14:function(e,n,a,t,i){var l;return'    <ul class="certification-content clearfix">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.exam:n,{name:"each",hash:{},fn:e.program(15,i,0),inverse:e.program(24,i,0),data:i}))?l:"")+'    </ul>\n    <br/>\n    <div id="pager" class="pagination"></div>\n'},15:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'            <li class="certification-li clearfix">\n                <i class="subject-li-icon">\n                    <img src="images/exam-subject/certification-exam.png"/>\n                </i>\n                <div class="overflow0 subject-li-test">\n                    <div class="text-overflow subject-li-name" title="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                    <div class="text-overflow subject-li-date">\n                        '+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+" ~ "+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+"\n                    </div>\n                </div>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.showButton:n,"eq",1,{name:"compare",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.showButton:n,"eq",2,{name:"compare",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.showButton:n,"eq",3,{name:"compare",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.showButton:n,"eq",4,{name:"compare",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+"            </li>\n"},16:function(e,n,a,t,i){var l;return'                    <div class="subject-li-btn btn" id="exam-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'" data-name="entry" data-delay="0">进入考试</div>\n'},18:function(e,n,a,t,i){return'                    <div class="subject-li-btn btn" style="background-color:#999">进入考试</div>\n'},20:function(e,n,a,t,i){var l;return'                    <div class="subject-li-btn btn" id="exam-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'" data-name="signup">我要报名</div>\n'},22:function(e,n,a,t,i){return'                    <div class="subject-li-btn btn" style="background-color:#999">我要报名</div>\n'},24:function(e,n,a,t,i){return'            <div class="content-empty-side"><div class="img-box"></div><p>暂无相关的数据</p></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"banner",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"filter",{name:"view",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"filter-content",{name:"view",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/entry/view-content",function(e,n,a){var t=e("lodash/collection");a.bindings={certificationZone:!0,certificationList:!1},a.events={"click certification-zone-*":"clickCertificationZone"},a.handlers={clickCertificationZone:function(e){this.module.dispatch("goCertificationZoneGroup",e)}},a.dataForTemplate={certificationZone:function(e){var n=e.certificationZone&&e.certificationZone.items||[];return t.forEach(n,function(e,n){var a=e;a.cover=a.coverPath||"images/exam-subject/certif-banner"+(n%6+1)+".png"}),n}}},{"lodash/collection":!1}),loadjs.d("./app/exam-subject/entry/view-filter-content",function(e,n,a){var t,i=e("lodash/collection"),l=e("drizzle-zxy"),s=e("jquery"),r=["f2c15dcd-b8b0-4a1e-9f56-7b260153961e","bebdb648-c009-4fd8-b22f-0b137f4c1ec7","9da72f27-5092-4b01-b1e7-d93b528eadac","37006ee5-253c-4245-b77d-10429cc3d5d8","433bcfb9-e302-41d6-8229-15881b25ca69","1ee49bdd-7cf5-4f7b-b0a0-b1ad21dc17a4","31be237f-3fd9-4657-a76a-2c2f982a81df","0bd8edc6-77d9-4548-93d0-1306347445df","14e05e77-2f0d-4ecd-9d35-6f04e8543b0a","08c0f1a2-945b-4c60-bc48-4de87433b59c","59a145e9-dee3-48fb-82a5-b35a1f1d24b5","d10463b3-cf77-4481-8884-440378349b6d","ac569efd-eb42-4ecb-9503-71282916cbfb","4f482944-ebc0-4ff2-9db8-10c6726eb5b5","bbfd30e9-2fe4-42b2-a67c-4715191194a4"];a.bindings={exam:!0,search:"changeSearch",currentPage:!1},a.components=[function(){return{id:"pager",name:"newPager",options:{model:"exam"}}}],a.changeSearch=function(){var e=this.bindings.search.data;this.module.dispatch("searchCourse",{params:e})},a.dataForTemplate={exam:function(e){var n=e.exam;return n=i.filter(n,function(e){return-1===r.indexOf(e.id)}),i.map(n,function(e){return l.assign(e,{showButton:t(e)})})}},t=function(e){var n=(new Date).getTime();return n>e.startTime&&n<e.examEndTime?1:n>e.examEndTime||0===e.needApplicant&&n<e.startTime||1===e.needApplicant&&n>e.applicantEndTime&&n<e.startTime?2:1===e.needApplicant&&n>e.applicantStartTime&&n<e.applicantEndTime?3:1===e.needApplicant&&n<e.applicantStartTime?4:1},a.events={"click exam-*":"showExamPrompt","click arrow-*":"arrow"},a.handlers={showExamPrompt:function(e,n,a){var t,i=this.module.items["exam-common/exam-prompt"],l=this,r=a.getAttribute("data-delay"),o=this.bindings.exam.data;"entry"===a.getAttribute("data-name")?"0"===r&&(r=16,t=setInterval(function(){r-=1,a.setAttribute("data-delay",r);try{s(l.$("exam-"+e)).html(r+"s"),s(l.$("exam-"+e)).addClass("countdown")}catch(e){clearInterval(t),t=null}if(r<=0)return clearInterval(t),t=null,s(l.$("exam-"+e)).removeClass("countdown"),void s(l.$("exam-"+e)).html("进入考试")},1e3),l.app.viewport.modal(i,{examId:e,exam:o,nofooter:!0})):l.app.viewport.modal(i,{examId:e,exam:o})},arrow:function(e){var n=this.bindings.currentPage,a=n.data.page;return a="prev"===e?a-1:a+1,n.data.page=a,n.changed(),this.module.dispatch("getExam",n.data.page)}}},{"drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/exam-subject/entry/view-filter",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.bindings={search:!0,searchData:!0},a.dataForTemplate={type:function(){var e,n=this.bindings.search.data.searchStatus||1,a=[{id:1,name:"开考中",check:!0},{id:2,name:"未开始"}];return t.map(a,function(a){return e=a,e.check=!1,e.id===n&&(e.check=!0),e}),a}},a.events={"click typeState-*":"filterState","click searchBtn":"searchName","keypress searchContent":"enterSearch"},a.handlers={filterState:function(e){return this.module.dispatch("search",{searchStatus:0===e?null:Number(e),clientType:1})},searchName:function(){var e=i(this.$("searchContent")).val(),n=this.bindings.searchData;n.data=e,n.changed(),this.module.dispatch("search",{name:e,clientType:1})},enterSearch:function(e){var n=i(this.$("searchContent")).val(),a=this.bindings.searchData;13===e.keyCode&&(a.data=n,a.changed(),this.module.dispatch("search",{name:n,clientType:1}))}},a.afterRender=function(){var e=this.bindings.searchData.data;"{}"===JSON.stringify(e)?i(this.$("searchContent")).val(""):i(this.$("searchContent")).val(e)}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/exam-subject/index/index",function(e,n,a){var t=e("./app/util/maps"),i=e("./resource.js"),l=t.getValue("certification-exam-type","network");a.items={banner:"banner",notice:"notice",info:"info",manage:"manage",main:"main",subject:"subject",promotion:"promotion",qa:"qa",comment:"comment","exam-subject/index/month":{isModule:!0,region:"main-content"},year:"","exam-subject/dialog":{isModule:!0},"exam-common/info":{isModule:!0},"exam-subject/dialog/more":{isModule:!0}},a.store={models:{state:{data:{}},tabs:{data:{year:!1,month:!0}},notices:{url:"../exam/announcement/list",params:{organizationId:l}},allNotices:{url:"../exam/announcement/more-list",type:"pageable",root:"items",params:{organizationId:l}},resource:{data:i},member:{url:"../human/member/center"},search:{},manageResource:{data:[{icon:"icon-pdf",title:"中国移动网络维护人员技能评定工作管理办法(2018版)",fileId:"69d6d693-dcde-4968-a6c1-dc8bfaf336c8"},{icon:"icon-pdf",title:"附件1：中国移动技能评定证书说明",fileId:"e7128d04-3084-4536-aa83-5edaa6143aed"},{icon:"icon-pdf",title:"附件2：中国移动网络维护人员技能模型管理标准流程",fileId:"e22fdf42-98bd-4ccf-b67f-4d42b74fe89b"},{icon:"icon-pdf",title:"附件3：中国移动网络维护课件库管理流程",fileId:"a619b167-03ae-4da8-9607-1244a8660b02"},{icon:"icon-zip",title:"分册2：标准化文档及辅助文档",fileId:"45cf7723-d527-4cad-a153-8048ce13097b"},{icon:"icon-pdf",title:"附件4：中国移动网络维护试题库组织设定与职责",fileId:"41702077-30e3-4ea5-ab89-68931906cf4e"},{icon:"icon-pdf",title:"网络维护人员技能认证体系介绍V3.0",fileId:"765679c6-4b30-4866-99db-b62419f86ee7"},{icon:"icon-excel",title:"技能认证考试流程及职责工作清单V2",fileId:"a923b223-3af2-4741-be9f-a2fc507f154d"}]}},callbacks:{init:function(){var e=this.models.notices,n=this.models.allNotices;return this.get(this.models.member),this.get(n),this.get(e,{loading:!0}).then(function(){e.data&&e.data.length&&(e.data[0].isOpen=!0)})},hiddenHref:function(){var e,n=document.querySelectorAll("a[data-name=auth-link]");for(e=0;e<n.length;e++)n[e].href=""}}},a.beforeRender=function(){return this.dispatch("init")},a.afterRender=function(){2===this.store.models.member.data.from&&this.dispatch("hiddenHref")}},{"./app/util/maps":"./app/util/maps","./resource.js":"./app/exam-subject/index/resource"}),loadjs.d("./app/exam-subject/index/month/index",function(e,n,a){
var t,i,l,s,r,o,d,c,u,m=e("./app/util/maps"),p=e("drizzle-zxy"),h=e("jquery"),f=e("lodash/collection"),v=e("./app/util/date"),g=v.tranfDate,b=m.getValue("certification-exam-type","network"),x=e("./app/util/helpers"),y=e("./app/exam-subject/common/opeartorUtil"),w=x.date,k=e("./app/util/business/prompt-help"),I=x.time;a.items={calendar:"calendar",day:"day","exam-common/info":{isModule:!0}},a.store={models:{state:{},calendar:{url:"../exam/exam/user-count-and-time",params:{organizationId:b}},monthPlan:{url:"../exam/exam/exam-day",params:{organizationId:b}},search:{},signUp:{url:"../exam/sign-auth"},cancel:{url:"../exam/sign-auth/cancel-sign"},timeOverlap:{url:"../exam/sign-up/overlap-time",params:{organizationId:b}}},callbacks:{setSearch:function(e){var n=this.models.search;p.assign(n.data,e.search),n.changed(),this.module.dispatch("getCalendar",{date:e.search})},getCalendar:function(e){function n(e){x.app.exam.trigger(y.askEvents.EXAM_OPEARTOR_MONTH_CHANGE,{count:e}),r=h(".flatpickr-day"),f.map(r,function(e){s=h(e).attr("time-data"),s||(day=h(e).attr("aria-label"),day=g(day),h(e).attr("time-data",day),s=day),a[s]&&h(e).addClass("calendar-dot")}),o=h(".flatpickr-day.selected"),o.length||(o=h(".flatpickr-day.today")),d=o.length,d&&(o=o.attr("time-data")),d&&a[o]?x.module.dispatch("getMonthPlan",{date:o}):(c=x.models.monthPlan,c.data=null,c.changed())}var a,t,s,r,o,d,c,u,m=this.models.calendar,v=this.models.search,b=this.models.state,x=this;return p.assign(m.params,v.data),e=e.date,u=""+e.year+e.month,b.data.examDays?(a=b.data.examDays[u],t=b.data.examOverDays[u]):(b.data.examDays={},b.data.count={},b.data.examOverDays={}),a&&t!=={}?(n(b.data.count[u]),void function(){r=h(".flatpickr-day"),f.map(r,function(e){s=h(e).attr("time-data"),a&&a[s]&&h(e).addClass("calendar-dot"),t&&t[s]&&h(e).addClass("gray")})}()):this.get(m,{loading:!1}).then(function(){var s=m.data.time,r=new Date,o=r.getFullYear(),d=r.getMonth()+1;m.data.time&&m.data.time.length||o!==e.year||d!==e.month||x.app.exam.trigger(y.askEvents.EXAM_OPEARTOR_MONTH_NOPLAN,"year"),a=i(s,v),n(m.data.count),t=l(s),b.data.examDays[u]=a,b.data.examOverDays[u]=t,b.data.count[u]=m.data.count,b.changed()})},getMonthPlan:function(e){var n=this.models.monthPlan;return n.params.date=e.date,this.get(n,{loading:!1}).then(function(){f.map(n.data,function(e){e.signUp=e.signUp||{},p.assign(e,s(e))}),n.changed()})},signUp:function(e){var n,a,t=this;return e?(n=this.models.signUp,a=this.models.monthPlan,n.clear(),n.set({organizationId:b,examId:e.examId}),this.post(n,{loading:!0}).then(function(e){var n,i=e&&e[0].signUp.id,l=e&&e[0]&&e[0].signUp&&e[0].signUp.examLevelId,r=e&&e[0]&&e[0].signUp&&e[0].signUp.status,o=e&&e[0]&&e[0].overSignupRule;return t.get(a,{loading:!0}).then(function(){f.map(a.data,function(e){e.signUp=e.signUp||{},e.signUp.id===i&&(n=e.signUp.status),p.assign(e,s(e))}),3===r&&1===o?t.app.message.error("本年度考试次数已达上限，请于明年报考"):3===r&&"l0002"===l?t.app.message.error("您没有申报本次考试的有效证书且不是首次申报"):3===r&&"l0003"===l?t.app.message.error("您没有申报本次考试的有效证书"):t.app.message.success("您的报名申请已提交,请耐心等待审核结果..."),a.changed()})})):null},getTimeOverlap:function(e){var n;if(e)return n=this.models.timeOverlap,n.clear(),p.assign(n.params,{examId:e.examId}),this.get(n,{loading:!0})},cancel:function(e){var n,a=this.models.cancel,t=this;return n=this.models.monthPlan,e?(a.clear(),a.set({id:e.id}),this.put(a,{loading:!0}).then(function(e){if(e&&e[0])return t.app.message.success("取消成功!"),t.get(n,{loading:!0}).then(function(e){f.map(n.data,function(e){e.signUp=e.signUp||{},p.assign(e,s(e))}),n.changed()})})):null}}},a.beforeRender=function(){r=this},t=function(e,n){var a=v.compareDate;return 2===a(n,e.endTime)?3:1===a(n,e.startTime)?2:1!==a(n,e.startTime)&&2!==a(n,e.endTime)?1:void 0},inDay=function(e,n,a,t){return a<=e&&t>e||a<e&&t>=e||a>=e&&a<n||a>e&&a<=n},d=function(e){return e=new Date(e),e.setDate(e.getDate()+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e},i=function(e,n){var a,i,l=!1,s=!1,r=!1,c=(new Date).getTime(),u={};return f.map(e,function(e){if(l=t(n.data,e.startTime),r=o(e.endTime),a="",r&&(2===l?a=c:1===l&&(a=o(e.startTime)?e.startTime:c),a&&""!==a))for(s=t(n.data,e.endTime),i=1===s?e.endTime:new Date(n.data.endTime).getTime();a<=i;)u[w(a)]=!0,a=d(a)}),u},l=function(e){var n,a,t,i,l,s,r,o=h(".flatpickr-day"),d={};return f.map(o,function(o){a=h(o).attr("time-data"),t=Date.parse((a+" 00:00:00").replace(/-/g,"/")),i=Date.parse((a+" 23:59:59").replace(/-/g,"/")),n=[],f.map(e,function(e){l=e.startTime,s=e.endTime,r=e.status,inDay(t,i,l,s)&&6===r&&n.push("1"),inDay(t,i,l,s)&&6!==r&&n.push("2")}),!n||0===n.length||n.indexOf("2")>-1||(h(o).addClass("gray"),d[w(a)]=!0)}),d},s=function(e){var n,a,t,i;return n=k.getUserStatusOfExam(e,!1,"",{isSignUpType:2}),a={examStatus:n},1===n?(a.canSignUp=!0,a.btnName="报名"):2===n?k.isBelongLoginUserRecord(e,r.app.global.currentUser.id)&&(a.canCancel=!0,a.btnName="取消报名"):(15===n||29===n&&c(e))&&(a.over=!0),u(e)&&(a.examOver=!0),t=I(e.startTime,"minute"),i=I(e.endTime,"minute"),a.startTime=t,a.endTime=i,a},o=function(e){return v.afterToday(e)},c=function(e){var n=e.examRecord&&e.examRecord.currentTime;return(n=n||(new Date).getTime())>e.applicantEndTime&&!e.signUp.id},u=function(e){var n=e.examRecord&&e.examRecord.currentTime;return(n=n||(new Date).getTime())>e.endTime+60*e.duration*1e3}},{"./app/exam-subject/common/opeartorUtil":"./app/exam-subject/common/opeartorUtil","./app/util/business/prompt-help":"./app/util/business/prompt-help","./app/util/date":"./app/util/date","./app/util/helpers":"./app/util/helpers","./app/util/maps":"./app/util/maps","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/exam-subject/index/month/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="month-wrapper clearfix">\n    <div class="calendar-wrapper" data-region="calendar"></div>\n    <div class="month-lists">\n        <div id="monthLists" class="month-lists-inner" data-region="day"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i){return'    <input id="monthTime" class="hiddenInput input" name="time"/>\n'},5:function(e,n,a,t,i){var l;return'    <ul id="monthListsInner" class="month-lists-inner">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.monthPlan:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(18,i,0),data:i}))?l:"")+"    </ul>\n"},6:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.monthPlan:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:""},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <li class="item">\n                    <div class="item-inner">\n                        <div class="item-l">\n                            <div class="sm-txt">\n                                '+d((s=null!=(s=a.startTime||(null!=n?n.startTime:n))?s:o,"function"==typeof s?s.call(r,{name:"startTime",hash:{},data:i}):s))+" - "+d((s=null!=(s=a.endTime||(null!=n?n.endTime:n))?s:o,"function"==typeof s?s.call(r,{name:"endTime",hash:{},data:i}):s))+'\n                            </div>\n                            <div class="strong-txt">\n                                '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'\n                            </div>\n                        </div>\n                        <div class="item-r">\n'+(null!=(l=a.if.call(r,null!=n?n.btnName:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"                            "+(null!=(l=a.if.call(r,null!=n?n.over:n,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"\n                            "+(null!=(l=a.if.call(r,null!=n?n.examOver:n,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+"\n                        </div>\n                    </div>\n                </li>\n"},8:function(e,n,a,t,i){var l,s=null!=n?n:{};return(null!=(l=a.if.call(s,null!=n?n.canSignUp:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.canCancel:n,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")},9:function(e,n,a,t,i){var l;return null!=(l=a.unless.call(null!=n?n:{},null!=n?n.haveExamTimes:n,{name:"unless",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:""},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                        <div class="btn" id="sign-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'" name="'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">\n                                            '+o((l=null!=(l=a.btnName||(null!=n?n.btnName:n))?l:r,"function"==typeof l?l.call(s,{name:"btnName",hash:{},data:i}):l))+"\n                                        </div>\n"},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <div class="btn" id="cancel-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'" name="'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">\n                                        '+o((l=null!=(l=a.btnName||(null!=n?n.btnName:n))?l:r,"function"==typeof l?l.call(s,{name:"btnName",hash:{},data:i}):l))+"\n                                    </div>\n"},14:function(e,n,a,t,i){return'<div class="sub-text over">截止报名</div>'},16:function(e,n,a,t,i){return'<div class="sub-text over">考试已结束</div>'},18:function(e,n,a,t,i){return'            <div class="content-empty">\n                <div class="img-box img-type-1"></div>\n                <p>今日暂无考试</p>\n                <p>请关注日历中有蓝点的日期</p>\n            </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"calendar",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"day",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/index/month/view-calendar",function(e,n,a){var t,i,l,s,r,o,d=e("jquery"),c=e("lodash/collection"),u=e("./app/util/date"),m=u.tranfDate,p=u.setDobbleNum;a.bindings={calendar:!1,state:!1},a.components=[{id:"monthTime",name:"flatpickr",options:{clickOpens:!1,inline:!0,autoOpen:!0,noMenus:!0,onChange:function(e){s.options.getMonthPlan(e),o(this)},onReady:function(){var e=this;this.prevYear=this.navigationCurrentMonth.childNodes[1].childNodes[1],this.nextYear=this.navigationCurrentMonth.childNodes[1].childNodes[2],d(this.prevMonthNav).on("click",function(){t(e)}),d(this.nextMonthNav).on("click",function(){i(e)}),d(this.prevYear).on("click",function(){l(e)}),d(this.nextYear).on("click",function(){l(e)}),l(e),s.options.getMonthPlan(),d(this.days).find(".today").addClass("selected")}}}],a.beforeRender=function(){s=this},a.getMonthPlan=function(e){var n,a,t,i;n=e&&""!==e?new Date(e):new Date,a=n.getFullYear(),t=n.getMonth()+1,i=n.getDate(),t=p(t),i=p(i),s.module.dispatch("getMonthPlan",{date:a+"-"+t+"-"+i})},t=function(e){l(e,2)},i=function(e){l(e)},l=function(e,n){var a,t,i,l,o=e.currentMonth+1,c=e.currentYear,u={};u.year=c,u.month=o,r(e,n),a=d(e.daysContainer).find(".dayContainer"),l=2===n?a.length-2:a.length-1,a=d(a[l]).find(".flatpickr-day"),t=a[0],i=a[a.length-1],u.startTime=d(t).attr("time-data"),u.endTime=d(i).attr("time-data"),s.module.dispatch("setSearch",{search:u})},r=function(e,n){var a,t,i=d(e.daysContainer).find(".dayContainer");a=2===n?i.length-2:i.length-1,i=d(i[a]).find(".flatpickr-day"),c.map(i,function(e){t=d(e).attr("aria-label"),t=m(t),d(e).attr("time-data",t)})},o=function(e){var n,a,t,i,o,u,m;if(r(e),i=e.currentYear,o=e.currentMonth+1,o=""+i+o,u=s.bindings.state.data,n=u.examDays&&u.examDays[o],m=u.examOverDays&&u.examOverDays[o],!n)return void l(e);t=d(e.days).find(".flatpickr-day"),c.map(t,function(e){a=d(e).attr("time-data"),n&&n[a]&&d(e).addClass("calendar-dot"),m&&m[a]&&d(e).addClass("gray")})}},{"./app/util/date":"./app/util/date",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/exam-subject/index/month/view-day",function(e,n,a){var t=e("jquery"),i=e("./app/util/errors");a.bindings={monthPlan:!0},a.afterRender=function(){t(this.$("monthLists")).on("mousewheel DOMMouseScroll",this.mousewheelHandle)},a.beforeClose=function(){t(this.$("monthLists")).off("mousewheel",this.mousewheelHandle)},a.mixin={mousewheelHandle:function(e){var n=e.originalEvent.wheelDelta&&(e.originalEvent.wheelDelta>0?1:-1)||e.originalEvent.detail&&(e.originalEvent.detail>0?-1:1),a=t(e.delegateTarget).height(),i=t(this.$("monthListsInner")),l=i.height(),s=i.css("margin-top");return s=parseInt(s,10),n>0?s<0&&(s+=76):n<0&&a+-s<l&&(s-=76),s>0&&(s=0),a+-s>l&&(s=a-l),i.css("margin-top",s+"px"),!1}},a.events={"click sign-*":"beforeSignUp","click cancel-*":"cancel"},a.handlers={beforeSignUp:function(e,n){var a,l=this.bindings.monthPlan,s=n.target,r=t(s).attr("name"),o=this,d=document.querySelector(".flatpickr-day.selected").getAttribute("time-data");return a=l.data[r],22===a.examStatus||31===a.examStatus?(this.app.message.error(i.get("30412")),null):(1===a.examStatus&&this.module.dispatch("getTimeOverlap",{examId:a.id}).then(function(e){(!e||e[0]&&!e[0].errorCode)&&(a.needFillOutInfo?o.app.viewport.modal(o.module.items["exam-common/info"],{examId:a.id,callback:function(){return o.module.items.calendar.options.getMonthPlan(d)}}):o.module.dispatch("signUp",{examId:a.id,index:r}))}),l.changed(),null)},cancel:function(e,n){var a,i=this.bindings.monthPlan,l=n.target,s=t(l).attr("name");a=i.data[s],this.module.dispatch("cancel",{id:a.id,index:s})}}},{"./app/util/errors":"./app/util/errors",jquery:!1}),loadjs.d("./app/exam-subject/index/ppt-player/index",function(e,n,a){a.items={pdf:"pdf"},a.store={models:{download:{url:"../file-deal/file/download"}}}},{}),loadjs.d("./app/exam-subject/index/ppt-player/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="custom-post-page detail" data-region="pdf"></div>\n'},3:function(e,n,a,t,i){return'    <div id="viewPdf"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"pdf",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/index/ppt-player/view-pdf",function(e,n,a){a.components=[function(){return{id:"viewPdf",name:"picker",options:{picker:"pdf",id:"d8934d77-7ea0-47da-aac2-88cf71bb4dfc"}}}]},{}),loadjs.d("./app/exam-subject/index/resource",function(e,n,a){n.exports=[{title:"无线网",item:[{icon:"icon-excel",title:"网络维护人员专业技能晋级与迁移路径-无线专业",day:"2023-04-28",fileId:"f85ca30d-afdb-4294-9deb-7d1b47b6b1d1"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-无线-无线产品",day:"2023-04-28",fileId:"0762d699-9610-4ce7-b785-74e96b6fb5ec"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-无线-5G网优",day:"2023-04-28",fileId:"baa6bfa2-9939-4c92-bab3-73bbb64de113"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-无线-LTE网优",day:"2023-04-28",fileId:"ea225779-def2-4562-b7e6-20ff2a5c3f76"}]},{title:"核心网",item:[{icon:"icon-excel",title:"网络维护人员专业技能晋级与迁移路径-核心网专业",day:"2023-04-28",fileId:"f322dbd2-b978-4a2e-a477-ebcc1b51fdb5"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-核心网-4&5G融合核心网",day:"2023-04-28",fileId:"f1b0213d-b946-4a70-81e5-283e95b58666"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-核心网-IMS",day:"2023-04-28",fileId:"77a4f1ab-2ed0-4975-ba4c-49bb57fb5cdd"}]},{title:"IP网",item:[{icon:"icon-excel",title:"网络维护人员专业技能晋级与迁移路径-IP网络专业",day:"2023-04-28",fileId:"f158e92a-0195-4cdc-a1f8-cab4793074be"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-IP网-CMNET",day:"2023-04-28",fileId:"a79d7fd1-fedc-41c2-bc84-1f2eba0f861a"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-IP网-IP承载网",day:"2023-04-28",fileId:"fa420a19-6305-467c-bffc-462ab20a37af"}]},{title:"互联网",item:[{icon:"icon-excel",title:"网络维护人员专业技能晋级与迁移路径-互联网专业",day:"2023-04-28",fileId:"91e59b29-1534-4d83-837c-2a3a77727142"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-互联网-互联网",day:"2023-04-28",fileId:"cfb99e71-2263-4e15-a214-65b87f0ffeed"}]},{title:"传输和接入网",item:[{icon:"icon-excel",title:"网络维护人员专业技能晋级与迁移路径-传输和接入网专业",day:"2023-04-28",fileId:"78e258d9-51cc-46ca-910f-ee0d451c04df"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-传输和接入网-SPN",day:"2023-04-28",fileId:"e6a024f4-4511-452b-8ed6-5ae0d2e7c6ad"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-传输和接入网-OTN",day:"2023-04-28",fileId:"fd5bf53b-7b26-4f8c-b962-38572ade110d"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-传输和接入网-PON",day:"2023-04-28",fileId:"9d7c6c27-0abb-4f9c-ac74-ee3a7bb9ee37"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-传输和接入网-传输线路",day:"2023-04-28",fileId:"0e521556-dd65-48ee-9fad-9d1e66ed5c72"}]},{title:"云计算",item:[{icon:"icon-excel",title:"网络维护人员专业技能晋级与迁移路径-云计算专业",day:"2023-04-28",fileId:"a3f0ae9b-3ef2-4cf2-9d52-0f75a7d46d57"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-云计算-网络云",day:"2023-04-28",fileId:"cb7c47be-8de2-42dd-8815-3581ad3a1230"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-云计算-边缘云",day:"2023-04-28",fileId:"d38563ab-6990-4ca1-8045-9702c83484d4"}]},{title:"动力能源",item:[{icon:"icon-excel",title:"网络维护人员专业技能晋级与迁移路径-动力能源专业",day:"2023-04-28",fileId:"52f0b483-3c68-4bda-bc29-5478001b67ef"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-动力能源-电源系统",day:"2023-04-28",fileId:"ebb0339a-4399-46d8-887c-484d9322e91e"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-动力能源-动环监控系统.",day:"2023-04-28",fileId:"3bed7f1a-fe86-4819-a5d5-1ce9e6503214"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-动力能源-空调系统",day:"2023-04-28",fileId:"75ca884a-bd4e-4803-81de-86756521f2ea"}]},{title:"集中监控",item:[{icon:"icon-excel",title:"网络维护人员专业技能晋级与迁移路径-集中监控专业",day:"2023-04-28",fileId:"a4c3afeb-3dab-43f6-8457-c46acfe118b2"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-集中监控-大核心监控",day:"2023-04-28",fileId:"4af3dcff-304a-4142-8288-2c01a3d2f84f"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-集中监控-大无线监控",day:"2023-04-28",fileId:"c7d7dedf-9a1a-4f0c-b47b-7546481d99cf"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-集中监控-投诉处理",day:"2023-04-28",fileId:"e89f1c4d-6e0f-4295-a2da-eacfb451678a"}]},{title:"业务质量管理",item:[{icon:"icon-excel",title:"网络维护人员专业技能晋级与迁移路径-业务质量管理专业",day:"2023-04-28",fileId:"03e03503-235c-4ead-9662-d0178b64a37d"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-业务质量管理-全业务端到端",day:"2023-04-28",fileId:"24657da7-d5b5-4d30-9ce1-30ed64324010"}]},{title:"算网支撑",item:[{icon:"icon-excel",title:"网络维护人员专业技能晋级与迁移路径-算网支撑-算网资源",day:"2023-04-28",fileId:"83552ce2-ab5d-41fb-99e3-9201c64cf8a6"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-算网支撑-算网资源",day:"2023-04-28",fileId:"63fc8f8d-ff7e-4815-ab26-fddbe194166f"}]},{title:"自智网络",item:[{icon:"icon-excel",title:"数智化方向专业技能晋级与迁移路径-自智网络",day:"2023-04-28",fileId:"3735ba0c-7300-402b-a5fd-a1f76d9969a9"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-自智网络-智能运维应用开发",day:"2023-04-28",fileId:"5e92eff6-5cf6-4528-b100-c71394b31156"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-自智网络-数据挖掘分析",day:"2023-04-28",fileId:"f43d10e0-9eb5-422d-8fc4-28078e8850a0"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-自智网络-数据库平台",day:"2023-04-28",fileId:"913c3f17-1c46-4020-b5d6-95b4ee7f5296"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-自智网络-IT开发",day:"2023-04-28",fileId:"b9dafd3f-7bc4-44a8-b64d-379df0e96bce"},{icon:"icon-excel",title:"网络运维人员专业技能模型与知识图谱-自智网络-硬件平台",day:"2023-04-28",fileId:"900e413a-1db0-428d-9b79-98f173d7eee7"}]},{title:"家客业务支撑",item:[{icon:"icon-excel",title:"网络维护人员专业技能晋级与迁移路径-家客业务支撑专业",day:"2023-04-28",fileId:"ccb17348-f9d0-4764-badf-e99ad0aebf35"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-家客业务支撑-家客业务支撑",day:"2023-04-28",fileId:"19ed2312-715a-4073-8a7e-29b71f068443"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-家客业务支撑-智慧家庭业务支撑",day:"2023-04-28",fileId:"1e3152e6-3596-481c-b89c-c3a5cf48ed1b"}]},{title:"集客业务支撑",item:[{icon:"icon-excel",title:"网络维护人员专业技能晋级与迁移路径-集客业务支撑专业",day:"2023-04-28",fileId:"86d17e4a-01ba-44b1-8e00-9d4f5926855e"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-集客业务支撑-集客专线支撑",day:"2023-04-28",fileId:"1a0f696e-252d-4764-aa3d-9eda569fdc0a"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-集客业务支撑-5G行业专网支撑",day:"2023-04-28",fileId:"55227d33-f6a3-490c-ab15-77de93a7ccde"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-集客业务支撑-云网业务支撑",day:"2023-04-28",fileId:"48ba892e-ba85-48cf-ade2-6b332f59855e"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-集客业务支撑-物联网业务支撑",day:"2023-04-28",fileId:"0c421aa7-e2ca-4bb3-bf55-4d2eefa69c62"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-集客业务支撑-IDC业务支撑",day:"2023-04-28",fileId:"e70b3edc-68c7-42eb-ad81-9cd7c893faeb"}]},{title:"网络安全",item:[{icon:"icon-excel",title:"网络维护人员专业技能晋级与迁移路径-网络安全专业",day:"2023-04-28",fileId:"cdc7e946-9c76-4443-b08e-56e0b0ca05fc"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-网络安全-网络安全",day:"2023-04-28",fileId:"b3c66edc-1ec6-4e93-9fe4-d2f2ab440c2c"}]},{title:"资源管理",item:[{icon:"icon-excel",title:"网络维护人员专业技能晋级与迁移路径-网络支撑管理专业",day:"2023-04-28",fileId:"928ce26a-5975-4954-bfe9-5ba6f858f0d2"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-网络支撑管理-网络资源管理",day:"2023-04-28",fileId:"71a670d5-85ad-4742-b4f5-3a443ddb470d"}]},{title:"代维",item:[{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-代维-基站设备及配套",day:"2023-04-28",fileId:"a812aae3-4c02-4681-8c66-5e8096040201"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-代维-传输线路",day:"2023-04-28",fileId:"fea32531-f02a-4089-ad97-75c82af057b6"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-代维-直放站室分WLAN",day:"2023-04-28",fileId:"6f582357-31bf-4924-acce-e09427b08364"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-代维-集客专线",day:"2023-04-28",fileId:"b9608f63-af44-4bf9-96ef-f5f6b37fdd5d"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-代维-集客5G行业专网",day:"2023-04-28",fileId:"e71c9e03-2161-4b98-9b0e-f453a6a326b7"},{icon:"icon-excel",title:"网络维护人员专业技能模型与知识图谱-代维-家客",day:"2023-04-28",fileId:"5d9c17ed-9d4e-4902-a5ee-7d5643a2d1a1"}]},{title:"第三方无线",item:[{icon:"icon-excel",title:"网络维护人员专业技能模型和知识点-第三方无线-无线优化",day:"2023-04-28",fileId:"8af54197-05c2-45af-a8b4-85acd8f637b1"}]}]},{}),loadjs.d("./app/exam-subject/index/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="exam-subject-page">\n    <div class="hotline text-center" style="padding:7px 20px;">\n        任何考试问题欢迎致电考试专线，我们会及时为您解答！\n        <div class="pull-left">考试专线：13810089624</div>\n    </div>\n    <div class="banner"><div class="container" data-region="banner"></div></div>\n    <div class="page-main-wrapper container">\n        <div class="page-side">\n            <section class="section notice" data-region="notice"></section>\n            <section class="section info" data-region="info"></section>\n            <section class="section manage" data-region="manage"></section>\n        </div>\n        <div class="page-main course-detail-main">\n            <section class="section" data-region="main"></section>\n            <section class="section" data-region="main-content"></section>\n            <section class="section" data-region="subject"></section>\n            <section class="section promotion" data-region="promotion"></section>\n            <section class="section" data-region="qa"></section>\n            <section class="section" data-region="comment"></section>\n        </div>\n    </div>\n</div>'},3:function(e,n,a,t,i){return'    <img class="banner-img pull-left" src="images/exam-subject/banner-img.png"/>\n    <div class="overflow">\n        <div class="img">\n            <div class="head letter-spacing">网络维护人员技能认证考试专题</div>\n            <img class="layout-mt-small m-bottom" src="images/exam-subject/line.png"/>\n        </div>\n        <p>网络维护人技能评定考试是中国移动通信集团针对全网网络维护人员开展的以保证网络质量和安全运行所需的知识、技能为标准，采用综合测评手段对员工专业技能水平进行客观评价和科学衡量的认证考试。该评定考试涵盖的专业包括：无线、核心网、 IP、IT、互联网内容管理、传输、动环、网管、安全、集客家客、代维和监控等十二大类，各专业技能水平及相应的技能评定工作最高可分为5个等级，由低到高分别为L1(独立从事基础维护者)、L2(独立承担系统维护者)、L3（团队技术骨干）、L4（专业带头人）和L5（技术带头人）。各专业依据等级要求编订技能模型和知识点，考试范围以技能模型和知识点为依据，由集团统一制定考试计划，各省组织参加。</p>\n    </div>\n'},5:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{};return'    <div class="notice-top">\n        <div class="h3">通知公告</div>\n'+(null!=(r=a.if.call(o,null!=(r=null!=n?n.notices:n)?r.showMore:r,{name:"if",hash:{},fn:e.program(6,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"    </div>\n    <ul>\n"+(null!=(r=a.if.call(o,null!=n?n.notices:n,{name:"if",hash:{},fn:e.program(8,i,0,l,s),inverse:e.program(14,i,0,l,s),data:i}))?r:"")+"    </ul>\n    \x3c!--  .btn.big.block#item-sign 考试报名 --\x3e\n"},6:function(e,n,a,t,i){return'            <div id="more" class="more">more</div>\n'},8:function(e,n,a,t,i,l,s){var r;return null!=(r=a.each.call(null!=n?n:{},null!=n?n.notices:n,{name:"each",hash:{},fn:e.program(9,i,0,l,s),inverse:e.noop,data:i}))?r:""},9:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{},d=a.helperMissing;return'                <li class="notice-list">\n                    <div class="notice-title-bar">\n                        <div class="notice-title">\n                            '+(null!=(r=(a.echoX||n&&n.echoX||d).call(o,null!=n?n.title:n,{name:"echoX",hash:{},data:i}))?r:"")+"\n                        </div>\n"+(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=(r=null!=s[1]?s[1].notices:s[1])?r.length:r,"gt",1,{name:"compare",hash:{},fn:e.program(10,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'                    </div>\n                    <div class="notice-toggle '+(null!=(r=a.if.call(o,null!=n?n.isOpen:n,{name:"if",hash:{},fn:e.program(12,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'">\n                        <p>'+(null!=(r=(a.echoX||n&&n.echoX||d).call(o,null!=n?n.description:n,{name:"echoX",hash:{},data:i}))?r:"")+"</p>\n                    </div>\n                </li>\n"},10:function(e,n,a,t,i){var l;return'                            <div class="notice-toggle-btn iconfont icon-arrow-down" id="toggle-'+e.escapeExpression((l=null!=(l=a.index||i&&i.index)?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"index",hash:{},data:i}):l))+'"></div>\n'},12:function(e,n,a,t,i){return"open"},14:function(e,n,a,t,i){return'            <div class="content-empty"><div class="img-box img-type-1"></div><p>暂无通知公告</p></div>\n'},16:function(e,n,a,t,i){return'    \x3c!--  a.btn.big.block(data-name=\'auth-link\' href=\'/subject/#/custom-zoon/exam-certification\' target=\'_blank\' id=\'btn\') 进入学习专区 --\x3e\n    <div class="h3 m-bottom">认证考试</div>\n    <div class="info-grid grid-row">\n        <div id="info" class="col-md-4"><div class="iconfont icon-info1 custom-color-2"></div><div class="text">个人信息</div></div>\n        <div id="item-sign" class="col-md-4"><div class="iconfont icon-kaoshibaoming custom-color-2"></div><div class="text">考试报名</div></div>\n        <div id="item-ticket" class="col-md-4"><div class="iconfont icon-cert custom-color-7"></div><div class="text">准考证</div></div>\n        <div id="item-exam" class="col-md-4"><div class="iconfont icon-exam1 custom-color-1"></div><div class="text">我的考试</div></div>\n        <div id="item-achievement" class="col-md-4"><div class="iconfont icon-search1 custom-color-5"></div><div class="text">成绩查询</div></div>\n        <div id="item-certificate" class="col-md-4"><div class="iconfont icon-certificate custom-color-3"></div><div class="text">我的证书</div></div>\n    </div>\n'},18:function(e,n,a,t,i){var l;return'    <div class="h3">管理办法</div>\n    <ul class="mt-1">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.manageResource:n,{name:"each",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+"    </ul>\n"},19:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'            <li><div class="iconfont '+o((l=null!=(l=a.icon||(null!=n?n.icon:n))?l:r,"function"==typeof l?l.call(s,{name:"icon",hash:{},data:i}):l))+'"></div><p class="inline-block"><a data-name="auth-link" href="/api/v1/file-deal/file/download?id='+o((l=null!=(l=a.fileId||(null!=n?n.fileId:n))?l:r,"function"==typeof l?l.call(s,{name:"fileId",hash:{},data:i}):l))+'" target="_blank" class="link" id="btn-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.title||(null!=n?n.title:n))?l:r,"function"==typeof l?l.call(s,{name:"title",hash:{},data:i}):l))+"</a></p></li>\n"},21:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="h3">考试安排</div>\n    <div class="clearfix mt-1">\n        <div class="pull-right m-top">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.tabs:n)?l.month:l,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+'        </div>\n        <div class="tabs line"><ul>\n            <li id="tabs-month" class="'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.tabs:n)?l.month:l,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")+'">月度安排</li>\n            <li id="tabs-year" class="'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.tabs:n)?l.year:l,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")+'">年度安排</li>\n        </ul></div>\n    </div>\n'},22:function(e,n,a,t,i){var l;return'                <div class="iconfont icon-notice text-main-color"></div>\n                <span class="m-left">\n                    本月考试已报名人数：\n'+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.count:n,"eq",0,{name:"compare",hash:{},fn:e.program(23,i,0),inverse:e.program(25,i,0),data:i}))?l:"")+"                </span>\n"},23:function(e,n,a,t,i){return"                        暂未开启报名\n"},25:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression((l=null!=(l=a.count||(null!=n?n.count:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"count",hash:{},data:i}):l))+"\n"},27:function(e,n,a,t,i){return"active"},29:function(e,n,a,t,i){return""},31:function(e,n,a,t,i){
return'    <div class="years arrange-con">\n        <h4>2024年技能认证考试计划</h4>\n        <div id="table" class="years-table">\n            <table>\n                <tbody>\n                    <tr>\n                        <th>专业</th>\n                        <th>子专业</th>\n                        <th>\n                            <strong>3月</strong>\n                        </th>\n                        <th>\n                            <strong>4月</strong>\n                        </th>\n                        <th>\n                            <strong>5月</strong>\n                        </th>\n                        <th>\n                            <strong>6月</strong>\n                        </th>\n                        <th>\n                            <strong>7月</strong>\n                        </th>\n                        <th>\n                            <strong>8月</strong>\n                        </th>\n                        <th>\n                            <strong>9月</strong>\n                        </th>\n                        <th>\n                            <strong>10月</strong>\n                        </th>\n                        <th>\n                            <strong>11月</strong>\n                        </th>\n                    </tr>\n                    \x3c!-- 无线开始 --\x3e\n                    <tr>\n                        <td class="noborder" rowspan="3" width="80">\n                            <strong>无线</strong>\n                        </td>\n                        <td width="90">\n                            <strong>LTE网优</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>5G网优</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>无线维护</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    \x3c!-- 无线结束 --\x3e\n                    \x3c!-- 核心网开始 --\x3e\n                    <tr>\n                        <td class="noborder" rowspan="2" width="80">\n                            <strong>核心网</strong>\n                        </td>\n                        <td width="90">\n                            <strong>IMS</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>4/5G融合</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                    </tr>\n                    \x3c!-- 核心网结束 --\x3e\n                    \x3c!-- 传输开始 --\x3e\n                    <tr>\n                        <td class="noborder" rowspan="5" width="80">\n                            <strong>传输</strong>\n                        </td>\n                        <td width="90">\n                            <strong>设备通用</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>设备OTN</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>设备PON</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>设备SPN</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>线路</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    \x3c!-- 传输结束 --\x3e\n                    \x3c!-- 云计算开始 --\x3e\n                    <tr>\n                        <td class="noborder" rowspan="2" width="80">\n                            <strong>云计算</strong>\n                        </td>\n                        <td width="90">\n                            <strong>网络云</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2 </span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>边缘云</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span> </span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                    </tr>\n                    \x3c!-- 云计算结束 --\x3e\n                    \x3c!-- IP开始 --\x3e\n                    <tr>\n                        <td class="noborder" rowspan="2" width="80">\n                            <strong>IP</strong>\n                        </td>\n                        <td width="90">\n                            <strong>CMNET</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>IP承载网</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        \x3c!-- IP结束 --\x3e\n                        \x3c!-- IT开始 --\x3e\n                    </tr>\n                    <tr>\n                        <td class="noborder" rowspan="5" width="80">\n                            <strong>IT</strong>\n                        </td>\n                        <td width="90">\n                            <strong>硬件平台</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>数据库平台</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>IT开发</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>智能运维应用开发</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>数据挖掘分析</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    \x3c!-- IT结束 --\x3e\n                    \x3c!-- 算网支撑开始 --\x3e\n                    <tr>\n                        <td class="noborder" width="80">\n                            <strong>算网支撑</strong>\n                        </td>\n                        <td width="90">\n                            <strong>算网资源</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                    </tr>\n                    \x3c!-- 算网支撑结束 --\x3e\n                    \x3c!-- 安全开始 --\x3e\n                    <tr>\n                        <td class="noborder" width="80">\n                            <strong>安全</strong>\n                        </td>\n                        <td width="90">\n                            <strong>安全</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    \x3c!-- 安全结束 --\x3e\n                    \x3c!-- 互联网开始 --\x3e\n                    <tr>\n                        <td class="noborder" rowspan="3" width="80">\n                            <strong>互联网</strong>\n                        </td>\n                        <td width="90">\n                            <strong>内容管理</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>CDN适配开发</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>互联网电视</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                    </tr>\n                    \x3c!-- 互联网结束 --\x3e\n                    \x3c!-- 动力能源开始 --\x3e\n                    <tr>\n                        <td class="noborder" rowspan="4" width="80">\n                            <strong>动力能源</strong>\n                        </td>\n                        <td width="90">\n                            <strong>动环通用</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>电源系统</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>空调系统</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>动环监控系统</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                    </tr>\n                    \x3c!-- 动力能源结束 --\x3e\n                    \x3c!-- 监控开始 --\x3e\n                    <tr>\n                        <td class="noborder" rowspan="3" width="80">\n                            <strong>监控</strong>\n                        </td>\n                        <td width="90">\n                            <strong>大核心监控</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>大无线监控</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>投诉</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    \x3c!-- 监控结束 --\x3e\n                    \x3c!-- 集客业务支撑开始 --\x3e\n                    <tr>\n                        <td class="noborder" rowspan="5" width="80">\n                            <strong>集客业务支撑</strong>\n                        </td>\n                        <td width="90">\n                            <strong>集客专线</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>物联网</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>5G行业专网</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>云网业务支撑</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>IDC业务支撑</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                    </tr>\n                    \x3c!-- 集客业务支撑结束 --\x3e\n                    \x3c!-- 家客业务支撑开始 --\x3e\n                    <tr>\n                        <td class="noborder" rowspan="2" width="80">\n                            <strong>家客业务支撑</strong>\n                        </td>\n                        <td width="90">\n                            <strong>家宽</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>智慧家庭</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    \x3c!-- 家客业务支撑结束 --\x3e\n                    \x3c!-- 业务质量管理开始 --\x3e\n                    <tr>\n                        <td class="noborder" width="80">\n                            <strong>业务质量管理</strong>\n                        </td>\n                        <td width="90">\n                            <strong>全业务端到端</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                    </tr>\n                    \x3c!-- 业务质量管理结束 --\x3e\n                    \x3c!-- 资源管理开始 --\x3e\n                    <tr>\n                        <td class="noborder" width="80">\n                            <strong>资源管理</strong>\n                        </td>\n                        <td width="90">\n                            <strong>全业务端到端资源管理与应用</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span> </span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                    </tr>\n                    \x3c!-- 资源管理结束 --\x3e\n                    \x3c!-- 代维开始 --\x3e\n                    <tr>\n                        <td class="noborder" rowspan="5" width="80">\n                            <strong>代维</strong>\n                        </td>\n                        <td width="90">\n                            <strong>传输线路</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>基站设备及配套</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>直放站室分WLAN</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>集客专线</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td width="90">\n                            <strong>家客</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span>L2/L3</span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span>L1/L2</span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L1/L2</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2/L3</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L2/L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                    </tr>\n                    \x3c!-- 代维结束 --\x3e\n                    \x3c!-- 第三方无线开始 --\x3e\n                    <tr>\n                        <td class="noborder" rowspan="1" width="80">\n                            <strong>第三方无线</strong>\n                        </td>\n                        <td width="90">\n                            <strong>无线优化</strong>\n                        </td>\n                        \x3c!-- 3 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 4 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 5 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 6 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 7 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                        \x3c!-- 8 --\x3e\n                        <td>\n                            <span>L1</span>\n                        </td>\n                        \x3c!-- 9 --\x3e\n                        <td>\n                            <span>L2</span>\n                        </td>\n                        \x3c!-- 10 --\x3e\n                        <td>\n                            <span>L3</span>\n                        </td>\n                        \x3c!-- 11 --\x3e\n                        <td>\n                            <span></span>\n                        </td>\n                    </tr>\n                    \x3c!-- 第三方无线结束 --\x3e\n                </tbody>\n            </table>\n        </div>\n        <div id="more" class="year-more pointer">\n            <div id="text" class="inline-block">查看全部专业</div>\n            <div id="icon" class="iconfont icon-arrow-down"></div>\n        </div>\n    </div>\n'
},33:function(e,n,a,t,i){return'    <div class="home-title-row">\n        <div class="title">学习专区</div>\n        <a class="decoration-none normal more" data-name="auth-link" href="/subject/#/custom-zoon/exam-certification" target="_blank" id="btn">MORE</a>\n    </div>\n    <div class="main-list subject-area">\n        <ul class="clearfix cell-3 cell3">\n            <li class="pull-left"><a class="normal" href="/subject/#/custom-zoon/exam-certification/list/item1/lte1" target="_blank">\n                <div class="content nohover pointer">\n                    <div class="img"><div class="img-cont"><img src="images/exam/subject-1.jpg"/></div></div>\n                    <div class="clearfix m-top">\n                        <div class="pull-right text-tips m-left">\n                            <i class="iconfont icon-view"></i>\n                            <span class="m-let">9734</span>\n                        </div>\n                        <div class="text-overflow" title="无线-LTE网优 L1级别 专业技能认证学习专区">无线-LTE网优 L1级别 专业技能认证学习专区</div>\n                    </div>\n                </div>\n            </a></li>\n            <li class="pull-left"><a class="normal" href="/subject/#/custom-zoon/exam-certification/list/item2/lte2" target="_blank">\n                <div class="content nohover pointer">\n                    <div class="img"><div class="img-cont"><img src="images/exam/subject-2.jpg"/></div></div>\n                    <div class="clearfix m-top">\n                        <div class="pull-right text-tips m-left">\n                            <i class="iconfont icon-view"></i>\n                            <span class="m-let">5491</span>\n                        </div>\n                        <div class="text-overflow" title="无线-LTE网优 L2级别 专业技能认证学习专区">无线-LTE网优 L2级别 专业技能认证学习专区</div>\n                    </div>\n                </div>\n            </a></li>\n            <li class="pull-left"><a class="normal" href="/subject/#/custom-zoon/exam-certification/list/item11/circuit" target="_blank">\n                <div class="content nohover pointer">\n                    <div class="img"><div class="img-cont"><img src="images/exam/subject-3.jpg"/></div></div>\n                    <div class="clearfix m-top">\n                        <div class="pull-right text-tips m-left">\n                            <i class="iconfont icon-view"></i>\n                            <span class="m-let">9907</span>\n                        </div>\n                        <div class="text-overflow" title="传输-线路  L1级别 专业技能认证 学习专区">传输-线路  L1级别 专业技能认证 学习专区</div>\n                    </div>\n                </div>\n            </a></li>\n        </ul>\n    </div>\n'},35:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="h3">晋级路径和技能模型</div>\n    <div class="tabs line mt-1"><ul>'+(null!=(l=a.each.call(s,null!=n?n.list:n,{name:"each",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+'    </ul></div>\n    <div class="cont"><ul>'+(null!=(l=a.each.call(s,null!=n?n.item:n,{name:"each",hash:{},fn:e.program(38,i,0),inverse:e.noop,data:i}))?l:"")+"    </ul></div>\n"},36:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li class="text-overflow '+(null!=(l=a.if.call(r,null!=n?n.current:n,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")+'" id="item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'" title="'+d((s=null!=(s=a.title||(null!=n?n.title:n))?s:o,"function"==typeof s?s.call(r,{name:"title",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.title||(null!=n?n.title:n))?s:o,"function"==typeof s?s.call(r,{name:"title",hash:{},data:i}):s))+"</li>\n"},38:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'\n        <li class="clearfix">\n            <div class="pull-left iconfont m-right '+d((l=null!=(l=a.icon||(null!=n?n.icon:n))?l:r,typeof l===o?l.call(s,{name:"icon",hash:{},data:i}):l))+'"></div>\n            <a class="pull-right btn border-color layout-ml small" data-name="auth-link" href="/api/v1/file-deal/file/download?id='+d((l=null!=(l=a.fileId||(null!=n?n.fileId:n))?l:r,typeof l===o?l.call(s,{name:"fileId",hash:{},data:i}):l))+'" target="_blank" id="btn-'+d((l=null!=(l=a.index||i&&i.index)?l:r,typeof l===o?l.call(s,{name:"index",hash:{},data:i}):l))+'">下载</a>\n            <div class="pull-right sub-text layout-ml-small">'+d((l=null!=(l=a.day||(null!=n?n.day:n))?l:r,typeof l===o?l.call(s,{name:"day",hash:{},data:i}):l))+'</div>\n            <span class="text-overflow block normal">'+d((l=null!=(l=a.title||(null!=n?n.title:n))?l:r,typeof l===o?l.call(s,{name:"title",hash:{},data:i}):l))+"</span>\n        </li>\n"},40:function(e,n,a,t,i){return'    <h4>考试常见QA</h4>\n    <hr class="layout-mb-small"/>\n    <div class="tab-main">\n        <div class="item">\n            <div class="title">\n                <img class="tag" src="images/exam-subject/tag.png"/>\n                <div class="inline-block h5">1.考生如何获取考试密码和个人密码？</div>\n            </div>\n            <p class="answer">请咨询现场监考老师，集团公司网络部规定务必集中考试，否则主办方有权取消成绩。</p>\n        </div>\n        <div class="item">\n            <div class="title">\n                <img class="tag" src="images/exam-subject/tag.png"/>\n                <div class="inline-block h5">2.如何避免考试误切屏？</div>\n            </div>\n            <p class="answer">需要启用浏览器的弹出窗口阻止程序，关闭tab页切换，关闭具备弹出功能的软件，如杀毒软件、聊天软件等。</p>\n        </div>\n        <div class="item">\n            <div class="title">\n                <img class="tag" src="images/exam-subject/tag.png"/>\n                <div class="inline-block h5">3.每个月的认证考试报名时间是什么时候？</div>\n            </div>\n            <p class="answer">请关注网络部考试通知以及认证页面右侧的通知公告。</p>\n        </div>\n        <div class="item">\n            <div class="title">\n                <img class="tag" src="images/exam-subject/tag.png"/>\n                <div class="inline-block h5">4.报名审核的规则是什么？</div>\n            </div>\n            <p class="answer">1）L1级：申报即可通过；</p>\n            <p class="answer">2）L2级：首次申报可从L2开始，非首次报考可子专业内逐级或降级申报；</p>\n            <p class="answer">3）L3级及以上：子专业内逐级申报；</p>\n            <p class="answer">4）年度报名次数上限为：集团总部、省公司10次/年，第三方、代维公司、专业公司和直属单位6次/年。</p>\n        </div>\n        <div class="item">\n            <div class="title">\n                <img class="tag" src="images/exam-subject/tag.png"/>\n                <div class="inline-block h5">5.考生如何报名考试和取消报名？</div>\n            </div>\n            <p class="answer">1）报名考试：认证页面右侧“考试报名”—报名；</p>\n            <p class="answer">2）取消报名：个人中心—我的任务—“取消报名”或个人中心—我的考试—认证考试-“取消报名”。</p>\n        </div>\n        <div class="item">\n            <div class="title">\n                <img class="tag" src="images/exam-subject/tag.png"/>\n                <div class="inline-block h5">6.考生工作单位调整后，如何迁移以前获取的证书到新账号？</div>\n            </div>\n            <p class="answer">需提供原员工编号、现员工编号、姓名、联系方式、证书附件发送到邮箱：renzhengkaoshi@139.com，核实通过后，一个月内完成迁移。</p>\n        </div>\n    </div>\n'},42:function(e,n,a,t,i){return'    <div id="comment-area"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i,l,s){var r,o,d,c=null!=n?n:{},u=a.helperMissing,m="";return o=null!=(o=a.module||(null!=n?n.module:n))?o:u,d={name:"module",hash:{},fn:e.program(1,i,0,l,s),inverse:e.noop,data:i},r="function"==typeof o?o.call(c,d):o,a.module||(r=a.blockHelperMissing.call(n,r,d)),null!=r&&(m+=r),m+"\n"+(null!=(r=(a.view||n&&n.view||u).call(c,"banner",{name:"view",hash:{},fn:e.program(3,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"notice",{name:"view",hash:{},fn:e.program(5,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"info",{name:"view",hash:{},fn:e.program(16,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"manage",{name:"view",hash:{},fn:e.program(18,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"main",{name:"view",hash:{},fn:e.program(21,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"day",{name:"view",hash:{},fn:e.program(29,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"\n"+(null!=(r=(a.view||n&&n.view||u).call(c,"year",{name:"view",hash:{},fn:e.program(31,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"subject",{name:"view",hash:{},fn:e.program(33,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"promotion",{name:"view",hash:{},fn:e.program(35,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"qa",{name:"view",hash:{},fn:e.program(40,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"comment",{name:"view",hash:{},fn:e.program(42,i,0,l,s),inverse:e.noop,data:i}))?r:"")},useData:!0,useDepths:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/index/view-comment",function(e,n,a){var t=e("./app/util/maps"),i=t.getValue("certification-exam-type","network");a.components=[function(){return!!i&&{id:"comment-area",name:"picker",options:{picker:"comment-area",componentId:"comment-area",businessId:i,businessType:5,title:"网络部认证考试",hiddenReportBtn:!0}}}]},{"./app/util/maps":"./app/util/maps"}),loadjs.d("./app/exam-subject/index/view-info",function(e,n,a){a.bindings={member:!1},a.events={"click item-*":"showDialog","click info":"showInfo","click btn":"fileView"},a.handlers={showDialog:function(e){"sign"===e?this.app.viewport.modal(this.module.items["exam-subject/dialog"],{option:e}):this.app.viewport.modal(this.module.items["exam-subject/dialog"],{id:e})},showInfo:function(){this.app.viewport.modal(this.module.items["exam-common/info"],{info:!0})},fileView:function(e){2===this.bindings.member.data.from&&(e.preventDefault?e.preventDefault():window.event.returnValue=!1,this.app.message.error("移动学员才能进入学习专区，您无权限"))}}},{}),loadjs.d("./app/exam-subject/index/view-main",function(e,n,a){var t,i,l=e("lodash/collection"),s=e("./app/exam-subject/common/opeartorUtil");a.bindings={tabs:!0,state:!0},a.events={"click tabs-*":"showCont"},a.handlers={showCont:function(e){this.showCont(e)}},a.dataForTemplate={tabs:function(e){return e.tabs},count:function(e){var e=e.state;return e&&e.count?e.count||0:0}},a.mixin={changeCountEvent:function(e){var n=this.bindings.state;n.data.count=e.count,n.changed()},showCont:function(e){var n=this.bindings.tabs;l.map(n.data,function(e,a){n.data[a]=!1}),n.data[e]=!0,n.changed(),"month"===e?this.module.regions["main-content"].show(this.module.items["exam-subject/index/month"]):this.module.regions["main-content"].show(this.module.items[e])}},t=function(){this.app.exam.on(s.askEvents.EXAM_OPEARTOR_MONTH_CHANGE,this.changeCountEvent,this),this.app.exam.on(s.askEvents.EXAM_OPEARTOR_MONTH_NOPLAN,this.showCont,this)},i=function(){this.app.exam.off(s.askEvents.EXAM_OPEARTOR_MONTH_CHANGE,this.changeCountEvent),this.app.exam.off(s.askEvents.EXAM_OPEARTOR_MONTH_NOPLAN,this.showCont)},a.afterRender=function(){i.call(this),t.call(this)},a.afterClose=function(){i.call(this)}},{"./app/exam-subject/common/opeartorUtil":"./app/exam-subject/common/opeartorUtil","lodash/collection":!1}),loadjs.d("./app/exam-subject/index/view-manage",function(e,n,a){a.bindings={member:!1,manageResource:!1},a.events={"click btn-*":"fileView"},a.handlers={fileView:function(e,n){2===this.bindings.member.data.from&&(n.preventDefault?n.preventDefault():window.event.returnValue=!1,this.app.message.error("移动学员才能预览文件，您无权限"))}}},{}),loadjs.d("./app/exam-subject/index/view-notice",function(e,n,a){a.bindings={notices:!0,allNotices:!0},a.events={"click toggle-*":"toggleNotice","click more":"showMore"},a.handlers={showMore:function(){this.app.viewport.modal(this.module.items["exam-subject/dialog/more"])},toggleNotice:function(e){var n,a=this.bindings.notices,t=a.data.length;for(n=0;n<t;n++)a.data[n].isOpen=!1;a.data[e].isOpen=!0,a.changed()}},a.dataForTemplate={notices:function(e){var n=e.allNotices,a=e.notices;return n&&n.length>1&&(a.showMore=!0),a}}},{}),loadjs.d("./app/exam-subject/index/view-promotion",function(e,n,a){var t=e("lodash/collection");a.bindings={resource:!0,member:!1},a.events={"click item-*":"showCont","click btn-*":"fileView"},a.handlers={showCont:function(e){var n=this.bindings.resource;t.forEach(n.data,function(a){var t=a;n.data.indexOf(t)===Number(e)?t.current=!0:t.current=!1}),n.changed()},fileView:function(e,n){2===this.bindings.member.data.from&&(n.preventDefault?n.preventDefault():window.event.returnValue=!1,this.app.message.error("移动学员才能预览文件，您无权限"))}},a.dataForTemplate={item:function(){var e=this.bindings.resource.data,n=t.find(e,"current")||e[0],a=this.bindings.member.data;return n.current=!0,t.forEach(n.item,function(e){var n=e;2===a.from&&(n.url="")}),n.item},list:function(){var e=this.bindings.resource.data,n=0;return e.forEach(function(e,a){e.current&&(n=a)}),e[n].current=!0,e}}},{"lodash/collection":!1}),loadjs.d("./app/exam-subject/index/view-subject",function(e,n,a){a.bindings={member:!1},a.events={"click btn":"fileView"},a.handlers={fileView:function(e){2===this.bindings.member.data.from&&(e.preventDefault?e.preventDefault():window.event.returnValue=!1,this.app.message.error("移动学员才能进入学习专区，您无权限"))}}},{}),loadjs.d("./app/exam-subject/index/view-year",function(e,n,a){var t=e("jquery");a.events={"click more":"showMore"},a.handlers={showMore:function(){t(this.$("table")).toggleClass("show-more"),"查看全部专业"===this.$("text").innerHTML?(this.$("text").innerHTML="收起部分专业",this.$("icon").className="iconfont icon-arrow-up"):(this.$("text").innerHTML="查看全部专业",this.$("icon").className="iconfont icon-arrow-down")}}},{jquery:!1}),loadjs.d("./app/exam-subject/prefecture-detail/index",function(e,n,a){a.items={banner:"banner",main:"main",notice:"notice"},a.store={models:{state:{data:{}},notices:{data:[]},certificationZoneGroups:{data:[],url:"../course-study/certification-zone/groups"}},callbacks:{init:function(e){var n=this.models.certificationZoneGroups;return!!e.id&&(n.params={ids:e.id},this.get(n,{loading:!0}),!0)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/exam-subject/prefecture-detail/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="exam-subject-page auth-subject-page">\n    <div class="banner" data-region="banner"></div>\n    <div class="prefecture-container"><div class="container">\n        <div class="page-main-wrapper">\n            <div class="page-side" data-region="notice"></div>\n            <div class="page-main course-detail-main" data-region="main"></div>\n        </div>\n    </div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="banner-container" style="background-image:url('+r(s(null!=(l=null!=n?n.certificationZoneInfo:n)?l.bannerPath:l,n))+')">\n        \x3c!--  if(certificationZoneInfo.bannerId) --\x3e\n        \x3c!--      img.banner-img-contain(src=certificationZoneInfo.bannerPath) --\x3e\n        <div class="container overflow">\n            <div class="banner-content">\n                <div class="img">\n                    <div class="head letter-spacing">'+r(s(null!=(l=null!=n?n.certificationZoneInfo:n)?l.name:l,n))+'</div>\n                    <img class="layout-mt-small m-bottom" src="images/exam-subject/line.png"/>\n                </div>\n                <p>'+r(s(null!=(l=null!=n?n.certificationZoneInfo:n)?l.description:l,n))+"</p>\n            </div>\n        </div>\n    </div>\n"},5:function(e,n,a,t,i){var l;return'    <div class="main-list subject-area">\n        <ul class="clearfix cell-3 cell3">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.certificationZoneGroups:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"        </ul>\n    </div>\n"},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                <li class="pull-left auth-item"><a class="normal" id="group-item-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="javascript:void(0);">\n                    <div class="content nohover pointer">\n                        <div class="img"><div class="img-cont"><img src="'+o((l=null!=(l=a.coverImage||(null!=n?n.coverImage:n))?l:r,"function"==typeof l?l.call(s,{name:"coverImage",hash:{},data:i}):l))+'"/></div></div>\n                        <div class="clearfix auth-name">\n                            <div class="text-overflow" title="'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+"</div>\n                        </div>\n                    </div>\n                </a></li>\n"},8:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'    <div class="auth-user">\n        <div class="avatar">\n'+(null!=(l=a.if.call(s,null!=(l=null!=(l=null!=n?n.Global:n)?l.currentUser:l)?l.headPortraitPath:l,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+'        </div>\n        <div class="info">\n            <div class="info-name">'+o(r(null!=(l=null!=(l=null!=n?n.Global:n)?l.currentUser:l)?l.fullName:l,n))+'</div>\n            <div class="info-company">'+o(r(null!=(l=null!=(l=null!=(l=null!=n?n.Global:n)?l.currentUser:l)?l.companyOrganization:l)?l.name:l,n))+'</div>\n        </div>\n    </div>\n    <div class="subject-notice">\n        <div class="h3">通知公告</div>\n        <div class="notice-content">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.certificationZoneInfo:n)?l.notice:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+"        </div>\n    </div>\n"},9:function(e,n,a,t,i){var l;return'                <img src="'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.Global:n)?l.currentUser:l)?l.headPortraitPath:l,n))+'"/>\n'},11:function(e,n,a,t,i){return'                <img src="images/default-userpic.png"/>\n'},13:function(e,n,a,t,i){var l;return"                <p>"+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.certificationZoneInfo:n)?l.notice:l,{name:"echoX",hash:{},data:i}))?l:"")+"</p>\n"},15:function(e,n,a,t,i){return"                <p>暂无公告</p>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"banner",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"notice",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/prefecture-detail/view-banner",function(e,n,a){a.bindings={certificationZoneGroups:!0},a.dataForTemplate={certificationZoneInfo:function(e){var n=e.certificationZoneGroups&&e.certificationZoneGroups[0]||{};return n.bannerPath=n.bannerPath||"images/exam-subject/banner-bg.png",n}},a.afterRender=function(){}},{}),loadjs.d("./app/exam-subject/prefecture-detail/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={certificationZoneGroups:!0},a.events={"click group-item-*":"goGroupDetail"},a.handlers={goGroupDetail:function(e){var n=this.bindings.certificationZoneGroups.data,a=n[0].groups.find(function(n){return e===n.id});a=a&&a[0]||{},localStorage.setItem("prefectureGroupDetail",JSON.stringify(a)),window.open("/#/exam-subject/prefecture-group-detail/"+e)}},a.dataForTemplate={certificationZoneGroups:function(e){var n=e.certificationZoneGroups&&e.certificationZoneGroups[0]&&e.certificationZoneGroups[0].groups||[];return t.forEach(n,function(e){var n=e;n.coverImage=n.coverPath||"images/exam-subject/zone-group-banner.png"}),n}},a.afterRender=function(){}},{"lodash/collection":!1}),loadjs.d("./app/exam-subject/prefecture-detail/view-notice",function(e,n,a){var t=e("jquery");a.bindings={certificationZoneGroups:!0},a.dataForTemplate={certificationZoneInfo:function(e){return e.certificationZoneGroups&&e.certificationZoneGroups[0]}},a.afterRender=function(){t(".info-company").shave(34)}},{jquery:!1}),loadjs.d("./app/exam-subject/prefecture-group-detail/dialog-exam-list/index",function(e,n,a){a.title="选择考试",a.items={main:"main","exam-common/exam-prompt":{isModule:!0}},a.store={models:{list:{url:"../exam/strong-base/front-exam-list"}},callbacks:{init:function(e){this.module.dispatch("getList",{subId:e.subId,businessType:e.businessType,contentId:e.contentId})},getList:function(e){var n=this.models.list;return n.clear(),n.params=e,this.get(n,{loading:!0})}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/exam-subject/prefecture-group-detail/dialog-exam-list/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="dialog-exam-container" data-region="main"></div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return(null!=(l=a.if.call(s,null!=n?n.isShowExamTimes:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'    <div class="dialog-exam-list">\n'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.list:n)?l.exams:l,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){var l;return'        <p class="exam-tips">您的认证考试剩余考试次数为：\n            '+e.escapeExpression(e.lambda(null!=(l=null!=n?n.list:n)?l.remainCount:l,n))+"\n            次\n        </p>\n"},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'            <div class="exam-item clearfix">\n                <div class="img-wrap"><div class="iconfont icon-exam"></div></div>\n                <div class="btn-row">\n                    <div class="btn small" id="toExam-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">查看</div>\n                </div>\n                <div class="title-row">\n                    <div class="title-wrap text-overflow">'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'</div>\n                    <div class="exam-time">\n                        '+o((a.dateMinute||n&&n.dateMinute||r).call(s,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+"\n                        至\n                        "+o((a.dateMinute||n&&n.dateMinute||r).call(s,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+"\n                    </div>\n                </div>\n            </div>\n"},8:function(e,n,a,t,i){return'            <div class="content-empty"><div class="img-box img-type-1"></div><p>暂无考试</p></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/prefecture-group-detail/dialog-exam-list/view-main",function(e,n,a){a.bindings={list:!0},a.dataForTemplate={isShowExamTimes:function(e){return"number"==typeof e.list.remainCount}},a.events={"click toExam-*":"showExamPrompt"},a.handlers={showExamPrompt:function(e){var n=this.module.items["exam-common/exam-prompt"],a=this;a.app.viewport.closeModal().then(function(){a.app.viewport.modal(n,{examId:e})})}}},{}),loadjs.d("./app/exam-subject/prefecture-group-detail/dialog/index",function(e,n,a){a.items={main:"main"},a.large=!0,a.title="查看证书",a.store={models:{record:{},certificate:{url:"../system/certificate"},down:{url:"../file-deal/file/download"},type:{}},callbacks:{init:function(e){var n=e;this.module.dispatch("getCertificate",n.id)},getCertificate:function(e){var n=this.models.certificate;return n.clear(),n.set({id:e}),this.get(n,{loading:!0})}}},a.beforeRender=function(){this.store.models.record.set(this.renderOptions.record),this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/exam-subject/prefecture-group-detail/dialog/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="certificate-x-dialog" data-region="main"></div>'},3:function(e,n,a,t,i){var l;return'    <div class="certificate-template certificate-newenergy">\n        <img src="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.showCertificate:n)?l.cover:l,n))+'" class="certificate-img"/>\n'+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.certificate:n)?l.type:l,"eq",13,{name:"compare",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){var l;return'            <div class="content" style="width:960px;height:681px;position: absolute;left:0;top:0;padding:0 100px;">\n                '+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.certificate:n)?l.htmlExamples:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n            </div>\n"},6:function(e,n,a,t,i){var l;return'            <div class="text text-auth">\n                '+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.certificate:n)?l.htmlExamples:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/prefecture-group-detail/dialog/view-main",function(e,n,a){var t,i=e("lodash/collection"),l=e("jquery"),s=e("html2canvas"),r=e("file-saver"),o=e("./app/util/strings");e("canvas-toBlob"),a.bindings={certificate:!0,record:!0,down:!0,type:!0},a.dataForTemplate={showCertificate:function(e){var n=e.certificate,a=e.certificate.htmlCode,t=e.certificate.type,l=e.record;return this.bindings.type.data=t,i.map(n.configList,function(e){var i=e,s=l.f_issue_time.replace("年","-").replace("月","-").replace("日",""),r=s.split("-");switch(t){case 13:case 14:case 15:n.type=13,"project_name"===e.paramKey?i.paramExamples=l.project_name:"major_name"===e.paramKey?i.paramExamples=l.major_name:"level"===e.paramKey?i.paramExamples=l.level:"role_name"===e.paramKey&&(l.role_name.length-1===l.role_name.lastIndexOf("）")?i.paramExamples=l.role_name.slice(0,l.role_name.lastIndexOf("（")):i.paramExamples=l.role_name);break;default:"org_name"===e.paramKey&&(i.paramExamples=l.f_issue_agency)}"name"===e.paramKey?i.paramExamples=l.userName:"subject_name"===e.paramKey?l.role_name&&l.subjectName.length-1===l.subjectName.lastIndexOf("）")?i.paramExamples=l.subjectName.slice(0,l.subjectName.lastIndexOf("（")):i.paramExamples=l.subjectName:"serial_number"===e.paramKey?i.paramExamples=l.f_certificate_number:"issue_year"===e.paramKey?i.paramExamples=r[0]:"issue_month"===e.paramKey?i.paramExamples=r[1]:"issue_day"===e.paramKey&&(i.paramExamples=r[2]),a=a.replace(e.paramCode,i.paramExamples)}),n.cover=getCover(n.cover),n.htmlExamples=a,n}},a.mixin={downCertificate:function(){var e,n,a=this.bindings.type,i=this.bindings.record.data,d=l.makeArray(l(".content p b")),c=l.makeArray(l(".content p"));13!==a.data&&14!==a.data&&15!==a.data||(d.forEach(function(e,n){e.setAttribute("style","display:block;margin-top: -5px;")}),c.forEach(function(e,n){5==n&&6!==c.length?e.setAttribute("style","margin:0; position:absolute; left:176px; bottom:86px;"):6==n&&e.setAttribute("style","margin:0; position:absolute; right:97px; bottom:83px; width:208px; text-align:center; line-height:1.8;")})),n=l(this.$$(".certificate-newenergy")),n.length&&(e=n.clone(!0),e.addClass("new-dom"),e=e[0],document.body.appendChild(e),s(e,{width:960,height:681}).then(function(n){i.subjectName||(i.subjectName=o.get("center.archives.certificate"));var a=i.subjectName+"专题证书.png";document.body.removeChild(e),n.toBlob(function(e){if(!e)return void l(t.$("download-btn")).click();r.saveAs(e,a)})}))},editStyle:function(){var e=l(".content p b").children(":first"),n=this.bindings.type.data;if(e.text()){switch(e.text().length){case 1:case 2:l(".content p").children(":first").css("width","100%"),e.css("display","block"),e.css("text-indent","2em"),e.css("text-align","left"),e.css("letter-spacing","10px");case 3:l(".content p").children(":first").css("width","100%"),e.css("display","block"),e.css("text-indent","2em"),e.css("text-align","left");break;case 5:15==n?(e.css("padding-top","2px"),e.css("font-size","22px")):(e.css("padding-top","2px"),e.css("font-size","24px")),e.css("display","block")}}}},getCover=function(e){var n;return e&&(n=e.indexOf("certificate")<0?t.bindings.down.getFullUrl()+"?id="+e:e),n},a.beforeRender=function(){t=this},a.afterRender=function(){this.editStyle()}},{"./app/util/strings":"./app/util/strings","canvas-toBlob":!1,"file-saver":!1,html2canvas:!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/exam-subject/prefecture-group-detail/index",function(e,n,a){a.items={banner:"banner",main:"main",notice:"notice","data-auditing":"","evidentiary-wrapper":"","online-study-list":"","exam-subject/prefecture-group-detail/dialog":{isModule:!0},"exam-subject/prefecture-group-detail/dialog-exam-list":{isModule:!0},cert:"cert"},a.store={models:{state:{data:{}},notices:{data:[]},subAuthenticatedList:{url:"../course-study/sub-authenticated/student-subAuthenticated-list",data:[]},studyList:{url:"../course-study/sub-authenticated/study-list",data:[]},file:{url:"../file-deal/file-upload/upload-parse-file"},uploadMaterials:{url:"../course-study/sub-authenticated/upload-materials"},materials:{url:"../course-study/sub-authenticated/find-material",data:[]},download:{url:"../file-deal/file/download"},groupDetail:{url:"../course-study/certification-zone/group"},certificate:{url:"../system/certificate"},register:{url:"../course-study/sub-authenticated/sub-authenticated-register"},certView:{url:"../exam/auth-exam/my-certificate-detail"},record:{url:"../course-study/certificate-record/find-sub-authenticated-certificate"}},callbacks:{init:function(e){var n=this.models.subAuthenticatedList,a=this.models.groupDetail,t=this;e&&e.id&&(n.params={groupId:e.id},a.params={id:e.id},this.get(a,{loading:!0}).then(function(){t.get(n,{loading:!0})}))},onlineStudyList:function(e){var n,a,t=this.models.studyList,i=this.module.items["online-study-list"],l=this;t.clear(),t.params={subAuthenticatedId:e.subAuthenticatedId,studyGroupId:e.studyGroupId},this.get(t,{loading:!0}).then(function(e){e&&e[0]&&(n=e[0],a="",1===n.length?(a=1==+n[0].businessType?"/#/study/course/detail/"+n[0].businessId:"/#/study/subject/detail/"+n[0].businessId,l.module.dispatch("toRegister",n[0].subAuthenticatedId).then(function(){window.open(a)})):l.app.viewport.modal(i))})},uploadFile:function(e){var n=this.models.uploadMaterials,a=this;e&&e.attachmentId&&(n.set(e),a.post(n).then(function(n){n&&a.module.dispatch("getUploadFileList",e.subAuthenticatedId)},function(){a.module.dispatch("getUploadFileList",e.subAuthenticatedId)}))},
getUploadFileList:function(e){var n=this.models.materials;return n.clear(),n.params={subAuthenticatedId:e},this.get(n)},viewCertificate:function(e){return this.models.certificate.set(e),this.get(this.models.certificate)},toRegister:function(e){var n=this.models.register,a={subAuthenticatedId:e};return n.clear(),n.set(a),this.post(n,{loading:!0})},getCertView:function(e){var n=this.models.certView;return n.params=e,this.get(n)},getRecord:function(e){var n=this.models.record,a={businessId:e};return n.clear(),n.params=a,this.get(n,{loading:!0})}}},a.beforeRender=function(){var e=localStorage.getItem("prefectureGroupDetail");return e&&(e=JSON.parse(e),this.renderOptions.detailInfo=e,localStorage.removeItem("prefectureGroupDetail")),this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/exam-subject/prefecture-group-detail/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="exam-subject-page prefecture-group-detail auth-subject-page">\n    <div class="banner" data-region="banner"></div>\n    <div class="page-main-wrapper prefecture-group-detail-content"><div class="container">\n        <div class="page-side"><div class="notice" data-region="notice"></div></div>\n        <div class="page-main course-detail-main" data-region="main"></div>\n    </div></div>\n    <div class="cert" data-region="cert"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="banner-container" style="background-image:url('+r(s(null!=(l=null!=n?n.groupDetail:n)?l.bannerPath:l,n))+')"><div class="container overflow">\n        <div class="banner-content">\n            <div class="img">\n                <div class="head letter-spacing">'+r(s(null!=(l=null!=n?n.groupDetail:n)?l.name:l,n))+'</div>\n                <img class="layout-mt-small m-bottom" src="images/exam-subject/line.png"/>\n            </div>\n            <p>'+r(s(null!=(l=null!=n?n.groupDetail:n)?l.description:l,n))+"</p>\n        </div>\n    </div></div>\n"},5:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{};return'    <div class="main-list subject-area prefecture-group-detail-main">\n        <div class="sub-auth-container clearfix '+e.escapeExpression((o=null!=(o=a.tableClass||(null!=n?n.tableClass:n))?o:a.helperMissing,"function"==typeof o?o.call(d,{name:"tableClass",hash:{},data:i}):o))+'">\n            '+(null!=(r=a.each.call(d,null!=n?n.subAuthenticatedList:n,{name:"each",hash:{},fn:e.program(6,i,0,l,s),inverse:e.program(34,i,0,l,s),data:i}))?r:"")+"\n        </div>\n    </div>\n"},6:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.escapeExpression;return'<div class="sub-list-common">\n                <div class="sub-list-thead sub-list-tr clearfix">\n                    <div class="sub-list-thead-item text-overflow" title="'+u((o=null!=(o=a.name||(null!=n?n.name:n))?o:c,"function"==typeof o?o.call(d,{name:"name",hash:{},data:i}):o))+'">'+u((o=null!=(o=a.name||(null!=n?n.name:n))?o:c,"function"==typeof o?o.call(d,{name:"name",hash:{},data:i}):o))+'</div>\n                </div>\n                <div class="sub-list-body">\n                    <div class="sub-list-tr clearfix">\n'+(null!=(r=a.each.call(d,null!=n?n.contentConfigureList:n,{name:"each",hash:{},fn:e.program(7,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=a.if.call(d,null!=n?n.certificateId:n,{name:"if",hash:{},fn:e.program(29,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"                    </div>\n                </div>\n            </div>\n"},7:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{},d=a.helperMissing;return(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=n?n.contentType:n,"eq",1,{name:"compare",hash:{},fn:e.program(8,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=n?n.contentType:n,"eq",2,{name:"compare",hash:{},fn:e.program(10,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=n?n.contentType:n,"eq",3,{name:"compare",hash:{},fn:e.program(15,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=n?n.contentType:n,"eq",4,{name:"compare",hash:{},fn:e.program(23,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=n?n.contentType:n,"eq",5,{name:"compare",hash:{},fn:e.program(25,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=n?n.contentType:n,"eq",6,{name:"compare",hash:{},fn:e.program(27,i,0,l,s),inverse:e.noop,data:i}))?r:"")},8:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                                <div class="sub-list-td">\n                                    <div class="online-study sub-list-item" id="online-study-'+d((l=null!=(l=a.contentId||(null!=n?n.contentId:n))?l:r,typeof l===o?l.call(s,{name:"contentId",hash:{},data:i}):l))+"/"+d((l=null!=(l=a.subAuthenticatedId||(null!=n?n.subAuthenticatedId:n))?l:r,typeof l===o?l.call(s,{name:"subAuthenticatedId",hash:{},data:i}):l))+'">\n                                        <div class="td-title">在线学习</div>\n                                        <div class="study-cover">\n                                            <img class="img" src="'+d((l=null!=(l=a.contentImage||(null!=n?n.contentImage:n))?l:r,typeof l===o?l.call(s,{name:"contentImage",hash:{},data:i}):l))+'"/>\n                                            <div class="text-overflow study-name" title="'+d((l=null!=(l=a.contentName||(null!=n?n.contentName:n))?l:r,typeof l===o?l.call(s,{name:"contentName",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.contentName||(null!=n?n.contentName:n))?l:r,typeof l===o?l.call(s,{name:"contentName",hash:{},data:i}):l))+"</div>\n                                        </div>\n                                    </div>\n                                </div>\n"},10:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u="function",m=e.escapeExpression,p=e.lambda;return'                                <div class="sub-list-td">\n                                    <div class="sub-list-item" id="online-exam-'+m((o=null!=(o=a.contentId||(null!=n?n.contentId:n))?o:c,typeof o===u?o.call(d,{name:"contentId",hash:{},data:i}):o))+'">\n                                        <div class="td-title">在线考试</div>\n                                        <div class="online-exam">\n                                            <div class="online-exam-title" title="'+m((o=null!=(o=a.contentName||(null!=n?n.contentName:n))?o:c,typeof o===u?o.call(d,{name:"contentName",hash:{},data:i}):o))+'">'+m((o=null!=(o=a.contentName||(null!=n?n.contentName:n))?o:c,typeof o===u?o.call(d,{name:"contentName",hash:{},data:i}):o))+'</div>\n                                            <div class="online-exam-line"></div>\n                                            <div class="exam-button">\n                                                <div class="btn" id="mock-exam-'+m((o=null!=(o=a.contentId||(null!=n?n.contentId:n))?o:c,typeof o===u?o.call(d,{name:"contentId",hash:{},data:i}):o))+'" data-subId="'+m(p(null!=s[1]?s[1].id:s[1],n))+'">模拟考试</div>\n                                                <div class="btn" id="cert-exam-'+m((o=null!=(o=a.contentId||(null!=n?n.contentId:n))?o:c,typeof o===u?o.call(d,{name:"contentId",hash:{},data:i}):o))+'" data-subId="'+m(p(null!=s[1]?s[1].id:s[1],n))+'">认证考试</div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="sub-list-td">\n                                    <div class="exam-certificate sub-list-item">\n                                        <div class="td-title">考试证书</div>\n                                        <div class="auth-cert">\n'+(null!=(r=a.if.call(d,null!=n?n.examCertificatedRecordId:n,{name:"if",hash:{},fn:e.program(11,i,0,l,s),inverse:e.program(13,i,0,l,s),data:i}))?r:"")+"                                        </div>\n                                    </div>\n                                </div>\n"},11:function(e,n,a,t,i){var l;return'                                                <img id="viewCertAudit-'+e.escapeExpression((l=null!=(l=a.examCertificatedRecordId||(null!=n?n.examCertificatedRecordId:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"examCertificatedRecordId",hash:{},data:i}):l))+'" src="images/exam-subject/certificate-grid.jpg"/>\n'},13:function(e,n,a,t,i){return'                                                <img src="images/exam-subject/certificate-not-obtained.jpg"/>\n'},15:function(e,n,a,t,i){var l;return'                                <div class="sub-list-td">\n                                    <div class="my-certification sub-list-item">\n                                        <div class="td-title">我的认证</div>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.memberDimensions:n,{name:"each",hash:{},fn:e.program(16,i,0),inverse:e.program(21,i,0),data:i}))?l:"")+"                                    </div>\n                                </div>\n"},16:function(e,n,a,t,i){var l;return'                                            <div class="certification-type">\n                                                <div class="type-name">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.subAuthenticatedDimension:n)?l.name:l,n))+'</div>\n                                                <div class="certification-icon">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isLighted:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.program(19,i,0),data:i}))?l:"")+"                                                </div>\n                                            </div>\n"},17:function(e,n,a,t,i){var l;return'                                                        <img src="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.subAuthenticatedDimension:n)?l.lockCoverPath:l,n))+'"/>\n'},19:function(e,n,a,t,i){var l;return'                                                        <img src="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.subAuthenticatedDimension:n)?l.unlockCoverPath:l,n))+'"/>\n'},21:function(e,n,a,t,i){return'                                            <div class="certification-type">\n                                                <div class="type-name">暂无认证</div>\n                                                <div class="certification-icon">\n                                                    <img src="images/exam-subject/not-certified.png"/>\n                                                </div>\n                                            </div>\n'},23:function(e,n,a,t,i){var l;return'                                <div class="sub-list-td">\n                                    <div class="data-auditing sub-list-item">\n                                        <div class="td-title">资料审核</div>\n                                        <div class="button">\n                                            <div class="btn" id="data-auditing-'+e.escapeExpression((l=null!=(l=a.subAuthenticatedId||(null!=n?n.subAuthenticatedId:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"subAuthenticatedId",hash:{},data:i}):l))+'">上传资料</div>\n                                        </div>\n                                    </div>\n                                </div>\n'},25:function(e,n,a,t,i){var l;return'                                <div class="sub-list-td">\n                                    <div class="data-auditing sub-list-item">\n                                        <div class="td-title">举证材料</div>\n                                        <div class="button">\n                                            <div class="btn" id="evidentiary-'+e.escapeExpression((l=null!=(l=a.subAuthenticatedId||(null!=n?n.subAuthenticatedId:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"subAuthenticatedId",hash:{},data:i}):l))+'">上传资料</div>\n                                        </div>\n                                    </div>\n                                </div>\n'},27:function(e,n,a,t,i){return'                                <div class="sub-list-td">\n                                    <div class="empty-module sub-list-item empty-module-content">\n                                        <div class="empty-module-icon"></div>\n                                        <div class="empty-module-text">本级别无此要求</div>\n                                    </div>\n                                </div>\n'},29:function(e,n,a,t,i){var l;return'                            <div class="sub-list-td">\n                                <div class="sub-list-item">\n                                    <div class="td-title">认证证书</div>\n                                    <div class="auth-cert">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.certificatedExistFlag:n,{name:"if",hash:{},fn:e.program(30,i,0),inverse:e.program(32,i,0),data:i}))?l:"")+"                                    </div>\n                                </div>\n                            </div>\n"},30:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                            \x3c!--  解锁证书 --\x3e\n                                            <img id="certificate-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" class="check-btn" src="images/exam-subject/certificate-sub.png" data-certificate="'+o((l=null!=(l=a.certificateId||(null!=n?n.certificateId:n))?l:r,"function"==typeof l?l.call(s,{name:"certificateId",hash:{},data:i}):l))+'" data-type="subject"/>\n'},32:function(e,n,a,t,i){return'                                            <img src="images/exam-subject/certificate-not-obtained.jpg"/>\n'},34:function(e,n,a,t,i){return'                <div class="content-empty"><div class="img-box img-type-1"></div><p>暂无内容    </p></div>'},36:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'    <div class="auth-user">\n        <div class="avatar">\n'+(null!=(l=a.if.call(s,null!=(l=null!=(l=null!=n?n.Global:n)?l.currentUser:l)?l.headPortraitPath:l,{name:"if",hash:{},fn:e.program(37,i,0),inverse:e.program(39,i,0),data:i}))?l:"")+'        </div>\n        <div class="info">\n            <div class="info-name">'+o(r(null!=(l=null!=(l=null!=n?n.Global:n)?l.currentUser:l)?l.fullName:l,n))+'</div>\n            <div class="info-company">'+o(r(null!=(l=null!=(l=null!=(l=null!=n?n.Global:n)?l.currentUser:l)?l.companyOrganization:l)?l.name:l,n))+'</div>\n        </div>\n    </div>\n    <div class="subject-notice">\n        <div class="h3">通知公告</div>\n        <div class="notice-content">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.groupDetail:n)?l.notice:l,{name:"if",hash:{},fn:e.program(41,i,0),inverse:e.program(43,i,0),data:i}))?l:"")+"        </div>\n    </div>\n"},37:function(e,n,a,t,i){var l;return'                <img src="'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.Global:n)?l.currentUser:l)?l.headPortraitPath:l,n))+'"/>\n'},39:function(e,n,a,t,i){return'                <img src="images/default-userpic.png"/>\n'},41:function(e,n,a,t,i){var l;return"                <p>"+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.groupDetail:n)?l.notice:l,{name:"echoX",hash:{},data:i}))?l:"")+"</p>\n"},43:function(e,n,a,t,i){return"                <p>暂无公告</p>\n"},45:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="data-auditing-wrapper">\n        <div id="uploadFile" class="btn">\n'+(null!=(l=a.if.call(s,null!=n?n.hasMaterials:n,{name:"if",hash:{},fn:e.program(46,i,0),inverse:e.program(48,i,0),data:i}))?l:"")+'        </div>\n        <div class="content m-top"><div class="small-font">\n            <p>\n                请不要上传身份证、学历学位证、职业等级认证等包含身份证明信息的材料。\n                <br/>\n                支持文档类型：xls,xlsx,doc,docx,ppt,pptx,pdf,epub,txt,rar,zip；大小<100M\n            </p>\n        </div></div>\n        <div class="upload-info">\n'+(null!=(l=a.each.call(s,null!=n?n.materials:n,{name:"each",hash:{},fn:e.program(50,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n    </div>\n"},46:function(e,n,a,t,i){return"                <span>重新上传</span>\n"},48:function(e,n,a,t,i){return"                <span>上传</span>\n"},50:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                <a href="'+o((l=null!=(l=a.url||(null!=n?n.url:n))?l:r,"function"==typeof l?l.call(s,{name:"url",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.attachmentName||(null!=n?n.attachmentName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachmentName",hash:{},data:i}):l))+"</a>\n"},52:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="evidentiary-wrapper">\n        <div id="uploadFileE" class="btn">\n'+(null!=(l=a.if.call(s,null!=n?n.hasMaterials:n,{name:"if",hash:{},fn:e.program(46,i,0),inverse:e.program(48,i,0),data:i}))?l:"")+'        </div>\n        <div class="content m-top"><div class="small-font">\n            <p>\n                请不要上传身份证、学历学位证、职业等级认证等包含身份证明信息的材料。\n                <br/>\n                支持文档类型：xls,xlsx,doc,docx,ppt,pptx,pdf,epub,txt,rar,zip；大小<100M\n            </p>\n        </div></div>\n        <div class="upload-info">\n'+(null!=(l=a.each.call(s,null!=n?n.materials:n,{name:"each",hash:{},fn:e.program(50,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n    </div>\n"},54:function(e,n,a,t,i){var l;return'    <div class="online-study-list">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.studyList:n,{name:"each",hash:{},fn:e.program(55,i,0),inverse:e.program(58,i,0),data:i}))?l:"")+"    </div>\n"},55:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.businessType:n,"eq",1,{name:"compare",hash:{},fn:e.program(56,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.businessType:n,"eq",2,{name:"compare",hash:{},fn:e.program(56,i,0),inverse:e.noop,data:i}))?l:"")},56:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                <a class="list-item" id="register-'+o((l=null!=(l=a.businessId||(null!=n?n.businessId:n))?l:r,"function"==typeof l?l.call(s,{name:"businessId",hash:{},data:i}):l))+"/"+o((l=null!=(l=a.subAuthenticatedId||(null!=n?n.subAuthenticatedId:n))?l:r,"function"==typeof l?l.call(s,{name:"subAuthenticatedId",hash:{},data:i}):l))+"/"+o((l=null!=(l=a.businessType||(null!=n?n.businessType:n))?l:r,"function"==typeof l?l.call(s,{name:"businessType",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.businessName||(null!=n?n.businessName:n))?l:r,"function"==typeof l?l.call(s,{name:"businessName",hash:{},data:i}):l))+"</a>\n"},58:function(e,n,a,t,i){return'            <div class="content-empty"><div class="img-box img-type-1"></div><p>暂无课件</p></div>\n'},60:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.certView:n)?l.id:l,{name:"if",hash:{},fn:e.program(61,i,0),inverse:e.noop,data:i}))?l:""},61:function(e,n,a,t,i){var l;return'        <div class="certView" data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.certView:n)?l.id:l,n))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i,l,s){var r,o,d,c=null!=n?n:{},u=a.helperMissing,m="";return o=null!=(o=a.module||(null!=n?n.module:n))?o:u,d={name:"module",hash:{},fn:e.program(1,i,0,l,s),inverse:e.noop,data:i},r="function"==typeof o?o.call(c,d):o,a.module||(r=a.blockHelperMissing.call(n,r,d)),null!=r&&(m+=r),m+"\n"+(null!=(r=(a.view||n&&n.view||u).call(c,"banner",{name:"view",hash:{},fn:e.program(3,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"main",{name:"view",hash:{},fn:e.program(5,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"notice",{name:"view",hash:{},fn:e.program(36,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"data-auditing",{name:"view",hash:{},fn:e.program(45,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"evidentiary-wrapper",{name:"view",hash:{},fn:e.program(52,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"online-study-list",{name:"view",hash:{},fn:e.program(54,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"cert",{name:"view",hash:{},fn:e.program(60,i,0,l,s),inverse:e.noop,data:i}))?r:"")},useData:!0,useDepths:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam-subject/prefecture-group-detail/view-banner",function(e,n,a){a.bindings={groupDetail:!0},a.dataForTemplate={groupDetail:function(e){var n=e.groupDetail||{};return n.bannerPath=n.bannerPath||"images/exam-subject/banner-bg.png",e.groupDetail}}},{}),loadjs.d("./app/exam-subject/prefecture-group-detail/view-cert",function(e,n,a){a.type="dynamic",a.bindings={certView:!0},a.getEntityModuleName=function(e){return e?"center/certificate/cert-detail":null},a.getEntity=function(e){var n=this.bindings.certView.data,a={id:e,showMenus:!1,print:!1,downLoad:!1,isGeneral:!0,templateId:n.templateId,title:n.name};return this.bindings.certView.clear(),a},a.dataForEntityModule=function(e){return e},a.afterRender=function(){this.module.trigger("module.main.view.rendered")}},{}),loadjs.d("./app/exam-subject/prefecture-group-detail/view-data-auditing",function(e,n,a){a.title="上传资料",a.bindings={materials:!0,file:"changeFile",download:!1},a.components=[{id:"uploadFile",name:"superUpload",options:{model:"file",accept:"xls,xlsx,doc,docx,ppt,pptx,pdf,epub,txt,rar,zip",maxSize:"100M",validateMessage:"上传的文件不能超过100兆",isProgress:!0,filter:function(e,n){var a=n.name.split(".").pop(),t=new RegExp('[/\\\\|<>\\*:\\?\\"]+'),i=new RegExp("[~!@#$%\\^\\&]+");t.test(n.name)||i.test(n.name)?(e.removeFile(),this.app.message.error("文件名称不能包含特殊符号")):-1!==["mp3","mp4"].indexOf(a)?n.size>1073741824&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G")):n.size>104857600&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G"),this.app.message.error(a+"文件不能超过100M"))}}}],a.changeFile=function(){var e=this.bindings.file.data.imgs[0],n={attachmentId:e.id,type:this.renderOptions.type,subAuthenticatedId:this.renderOptions.subAuthenticatedId};this.module.dispatch("uploadFile",n)},a.dataForTemplate={materials:function(e){var n=e.materials.filter(function(e){return 1===e.type}),a=this;return n.forEach(function(e){var n=e;n.url=a.bindings.download.getFullUrl()+"?id="+n.attachementId}),n},hasMaterials:function(e){var n=e.materials.filter(function(e){return 1===e.type});return n&&n.length}}},{}),loadjs.d("./app/exam-subject/prefecture-group-detail/view-evidentiary-wrapper",function(e,n,a){a.title="上传资料",a.bindings={materials:!0,file:"changeFile",download:!1},a.components=[{id:"uploadFileE",name:"superUpload",options:{model:"file",accept:"xls,xlsx,doc,docx,ppt,pptx,pdf,epub,txt,rar,zip",maxSize:"100M",validateMessage:"上传的文件不能超过100兆",isProgress:!0,filter:function(e,n){var a=n.name.split(".").pop(),t=new RegExp('[/\\\\|<>\\*:\\?\\"]+'),i=new RegExp("[~!@#$%\\^\\&]+");t.test(n.name)||i.test(n.name)?(e.removeFile(),this.app.message.error("文件名称不能包含特殊符号")):-1!==["mp3","mp4"].indexOf(a)?n.size>1073741824&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G")):n.size>104857600&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G"),this.app.message.error(a+"文件不能超过100M"))}}}],a.changeFile=function(){var e=this.bindings.file.data.imgs[0],n={attachmentId:e.id,type:this.renderOptions.type,subAuthenticatedId:this.renderOptions.subAuthenticatedId};this.module.dispatch("uploadFile",n)},a.dataForTemplate={materials:function(e){var n=e.materials.filter(function(e){return 2===e.type}),a=this;return n.forEach(function(e){var n=e;n.url=a.bindings.download.getFullUrl()+"?id="+n.attachementId}),n},hasMaterials:function(e){var n=e.materials.filter(function(e){return 2===e.type});return n&&n.length}}},{}),loadjs.d("./app/exam-subject/prefecture-group-detail/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("jquery"),l={virsual:1,auth:2};a.bindings={subAuthenticatedList:!0},a.events={"click online-study-*":"onlineStudy","click data-auditing-*":"dataAuditing","click evidentiary-*":"evidentiary","click certificate-*":"certificateView","click mock-exam-*":"dialogExam1","click cert-exam-*":"dialogExam2","click viewCertAudit-*":"viewCert"},a.handlers={certificateView:function(e,n,a){var t=this,i=this.module.items["exam-subject/prefecture-group-detail/dialog"],l=a.getAttribute("data-certificate");this.module.dispatch("getRecord",e).then(function(e){var n={id:l,record:e[0]};t.app.viewport.modal(i,n)})},onlineStudy:function(e){var n,a,t=e;t&&(n=t.split("/"),a={subAuthenticatedId:n[1],studyGroupId:n[0]},this.module.dispatch("onlineStudyList",a))},dataAuditing:function(e){var n=this.module.items["data-auditing"],a=this;this.module.dispatch("getUploadFileList",e).then(function(){a.app.viewport.modal(n,{type:1,subAuthenticatedId:e})},function(){this.app.viewport.modal(n,{type:1,subAuthenticatedId:e})})},evidentiary:function(e){var n=this.module.items["evidentiary-wrapper"],a=this;this.module.dispatch("getUploadFileList",e).then(function(){a.app.viewport.modal(n,{type:2,subAuthenticatedId:e})},function(){this.app.viewport.modal(n,{type:2,subAuthenticatedId:e})})},dialogExam1:function(e,n,a){var t=this.module.items["exam-subject/prefecture-group-detail/dialog-exam-list"],i=this,s=a.getAttribute("data-subId"),r={subId:s,businessType:l.virsual,contentId:e};i.app.viewport.modal(t,r)},dialogExam2:function(e,n,a){var t=this.module.items["exam-subject/prefecture-group-detail/dialog-exam-list"],i=this,s=a.getAttribute("data-subId"),r={subId:s,businessType:l.auth,contentId:e};i.app.viewport.modal(t,r)},viewCert:function(e){if(!e||""===e)return void this.app.message.error("暂时没有证书id!");this.module.dispatch("getCertView",{id:e})}},a.dataForTemplate={subAuthenticatedList:function(e){var n=e.subAuthenticatedList||[];return t.forEach(n,function(e){var n=e;n.contentConfigureList=n.contentConfigureList&&n.contentConfigureList.sort(function(e,n){return e.order-n.order})}),t.forEach(n,function(e){var n=e;t.forEach(n.memberDimensions||[],function(e){var n=e;n.subAuthenticatedDimension.lockCoverPath=n.subAuthenticatedDimension.lockCoverPath||"images/exam-subject/certified.png",n.subAuthenticatedDimension.unlockCoverPath=n.subAuthenticatedDimension.unlockCoverPath||"images/exam-subject/not-certified.png"})}),t.forEach(n,function(e){e.contentConfigureList&&e.contentConfigureList instanceof Array&&t.forEach(e.contentConfigureList,function(n){var a=n;3===a.contentType&&(a.memberDimensions=e.memberDimensions||[]),1===a.contentType&&(a.contentImage=a.studyCoverPath||"images/exam-subject/zone-group-banner.png"),a.subAuthenticatedId=e.id})}),n},tableClass:function(e){return"table-type-"+e.subAuthenticatedList.length}},a.afterRender=function(){var e=this.bindings.subAuthenticatedList.data||[];5===e.length?i(".online-exam-title").shave(37):4===e.length||3===e.length?i(".online-exam-title").shave(44):i(".online-exam-title").shave(68)}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/exam-subject/prefecture-group-detail/view-notice",function(e,n,a){var t=e("jquery");a.bindings={groupDetail:!0},a.afterRender=function(){t(".info-company").shave(34)}},{jquery:!1}),loadjs.d("./app/exam-subject/prefecture-group-detail/view-online-study-list",function(e,n,a){a.title="课件选择",a.bindings={studyList:!0},a.events={"click register-*":"register"},a.handlers={register:function(e){var n=e.split("/")[0],a=e.split("/")[1],t=e.split("/")[2],i="/#/study/course/detail/"+n;this.module.dispatch("toRegister",a).then(function(){2===Number(t)&&(i="/#/study/subject/detail/"+n),window.open(i,"_blank")})}}},{}),loadjs.d("./app/exam-subject/test/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div style="width:100vw;height:100vh;background:red;position:relative;z-index:1000;">测试jdslsjdfldsjf</div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:a.helperMissing,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(null!=n?n:{},r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(o+=l),o},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam-question-types",function(e,n,a){var t={1:"choise",2:"choise",3:"judgement",4:"sentence-completion",5:"question-answer",6:"reading-comprehension",7:"line",8:"sorting"},i={1:"edit",2:"preview",3:"answer",4:"mark",5:"review"},l=function(e,n){return"exam/exam/question/types/"+i[n]+"/"+t[e]};a.get=function(e,n){return l(e,n)},a.map=t},{}),loadjs.d("./app/exam/exam-websocket",function(e,n,a){var t=window.WebSocket||null,i=e("drizzle-zxy"),l={};a.connect=function(e,n){l.open(window.app,e,n)},a.disconnect=function(){l.close()},l={open:function(e,n,a){var t=e.options.urlRoot+"/exam",l="http:"===window.location.protocol?"ws://":"wss://";l+=window.location.host,"/"===l.slice(-1)&&(l=l.slice(0,-1)),i.assign(this,{app:e,url:l+t+"/ws/exam",requests:{},lastTime:(new Date).getTime(),examId:n,callbacks:a}),this.connect()},connect:function(){this.isActive()||t&&(this.socket=this.createSocket(l.url))},createSocket:function(e){var n=new t(e),a=this;return n.onopen=function(){a.callbacks&&a.onMessage&&a.onOpen()},n.onmessage=function(e){"PANG"!==e.data&&a.callbacks&&a.onMessage&&a.onMessage(e.data)},n.onclose=function(e){a.callbacks&&a.onClose&&a.onClose(e)},n},send:function(e){var n={headers:{}},a=this.app.global.OAuth,t=this.requests;return a&&function(){n.headers.Authorization=a.tokenType+"__"+a.token.access_token}(),i.assign(n,{data:e,id:i.uniqueId("S"),url:""}),this.socket.send(JSON.stringify(n)),this.lastTime=(new Date).getTime(),this.app.Promise.create(function(e,a){t[n.id]={resolve:e,reject:a,timeoutId:void 0}})},close:function(){this.isActive()&&this.socket.close(),delete this.socket},onOpen:function(){var e=this;this.send({examId:this.examId}).then(function(){e.startHeartBeat()},function(){e.connect()}),e.startHeartBeat()},onMessage:function(e){var n=this.callbacks;"submitPaper"===e&&n.submitPaper(),e&&e.indexOf("timeExpand_")>-1&&n.timeExpand({time:e.substring(11,e.indexOf("#")),current:e.substring(e.indexOf("#")+1)}),"mutipleClientLogin"===e&&n.mutipleClientLogin()},onClose:function(e){1013!==e.code&&1006!==e.code||this.connect()},startHeartBeat:function(){var e=this;this.stopHeartBeat(),this.heartBeat=setInterval(function(){var n=(new Date).getTime(),a=n-e.lastTime;if(!e.isActive())return void e.stopHeartBeat();a>5e3&&(e.send({PING:"PING",examId:e.examId}),e.lastTime=(new Date).getTime())},1e4)},stopHeartBeat:function(){this.heartBeat&&(clearInterval(this.heartBeat),delete this.heartBeat)},isActive:function(){return this.socket&&this.socket.readyState===t.OPEN}}},{"drizzle-zxy":!1}),loadjs.d("./app/exam/exam/answer-paper/answer-helper",function(e,n,a){var t,i,l,s,r,o,d,c,u,m=e("./app/exam/exam-websocket"),p=e("crypto-js"),h=e("disable-devtool"),f=e("./app/util/browser"),v=f.detectIE(),g=e("lodash/collection"),b={Auto:"Auto",Hand:"Hand"},x={AUTO:1,HAND:2,TIMEOUT:3,FORCE:4,FULL_SWICH:5};t={connect:function(e,n,a,t){m.connect(e,{submitPaper:n,timeExpand:a,mutipleClientLogin:t})},closeConnect:function(){m.disconnect()}},i={cancel:function(){clearTimeout(this.timeOutId),delete this.timeOutId},timeOutId:-1},u=function(){var e=this;h({clearIntervalWhenDevOpenTrigger:!0,ondevtoolopen:function(){return e.dispatch("closeWindow")},detectors:[0,1,3,4,5,6,7]})},l=function(e){var n=this,a=0;a&&1===a&&(window.addEventListener?window.addEventListener("blur",function(){return v&&v<=11&&n.app.examHash!==window.location.hash?(n.app.examHash=window.location.hash,window.focus(),
!1):n.dispatch("lowerSwitchTimes")}):window.attachEvent(onblur,function(){return v&&v<=11&&n.app.examHash!==window.location.hash?(n.app.examHash=window.location.hash,window.focus(),!1):n.dispatch("lowerSwitchTimes")}))},r=function(e){var n=this;window.onbeforeunload=function(){return n.dispatch("submitPaper",{submitType:b.Auto,submitTipsType:x.AUTO}),e}},c=function(){var e=this;window.onoffline=function(){e.app.message.alert("当前网络已断开，系统无法保存您的答案，请检查本地网络")},window.ononline=function(){e.app.message.alert("网络已连接，请继续答卷")}},d=function(){window.onbeforeunload=function(){}},s=function(e,n){var a=p.enc.Hex.parse(e),t=p.enc.Base64.stringify(a),i=p.AES.decrypt(t,p.enc.Utf8.parse(n),{iv:p.enc.Utf8.parse("1234567890123456"),mode:p.mode.CBC,padding:p.pad.Pkcs7});return p.enc.Utf8.stringify(i).toString()},o=function(){var e,n=window.opener&&window.opener.app;return n&&(g.forEach(n._modules,function(n,a){a.indexOf("center/exam")>-1&&(e=n)}),e)?e.dispatch("selectItem"):""},n.exports={WS:t,TO:i,switchScreen:l,decryptAnswer:s,closeListener:r,refreshParentWindow:o,removeCloseListener:d,onOrOffLineListener:c,initDisableDevtool:u}},{"./app/exam/exam-websocket":"./app/exam/exam-websocket","./app/util/browser":"./app/util/browser","crypto-js":!1,"disable-devtool":9,"lodash/collection":!1}),loadjs.d("./app/exam/exam/answer-paper/count-down/index",function(e,n,a){var t=e("drizzle-zxy");a.items={main:"main",tips:""},a.store={models:{state:{}},callbacks:{init:function(e){var n,a=this.models.state;e.data.isDelay&&t.assign(a.data,{isDelay:e.data.isDelay,delay:e.data.delay}),e.data.endTime&&e.data.endTime>new Date(e.data.startTime).getTime()?(n=function(e,n){return((new Date(e).getTime()-new Date(n).getTime())/6e4).toFixed(2)}(e.data.endTime,e.data.startTime),t.assign(a.data,{duration:n})):t.assign(a.data,{duration:0}),a.callback=e.callback},setInterval:function(e){t.assign(this.models.state.data,e)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.afterRender=function(){var e=this.store.models.state.data,n=this;return e.isDelay?this.app.viewport.modal(this.items.tips,{tips:"您被延时了"+e.delay+"分钟"}).then(function(){n.renderOptions.resetDelay&&n.renderOptions.resetDelay()}):""},a.mixin={clearIntervalIt:function(){var e=this.store.models.state.data.si;clearInterval(e)}}},{"drizzle-zxy":!1}),loadjs.d("./app/exam/exam/answer-paper/count-down/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){return'    <div id="time" class="time"></div>\n'},5:function(e,n,a,t,i){var l;return'    <div class="exam-notes-content">\n        '+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.tips:l,n))+"\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"tips",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/answer-paper/count-down/view-main",function(e,n,a){var t,i=e("lodash/collection");a.bindings={state:!0},a.afterRender=function(){var e,n,a,l,s,r=this.bindings.state.data.duration,o=this.bindings.state.callback,d=this.$("time"),c=this,u=function(e){var n,a,t,i,l=e;return n=Math.floor(l/1440),a=Math.floor((l-1440*n)/60),l%=60,t=Math.floor(l),i=0===l?0:Math.floor(60*Number(l.toFixed(2).toString().split(".")[1]/100)),{day:n,hour:a,minitus:t,second:i}},m=function(e,n,a,t){var i=24*e+n,l=1===a.toString().length?"0"+a:a,s=1===t.toString().length?"0"+t:t;return i=1===i.toString().length?"0"+i:i,[i,l,s].join(":")},p=function(e){var n=o;return i.forEach(n,function(n){var a=u(n.time);m(a.day,a.hour,a.minitus,a.second)===e&&n.doing()}),c.module.renderOptions.remainDuration(e),e};return e=u(r),n=e.day,a=e.hour,l=e.minitus,s=e.second,d.innerHTML=p(m(n,a,l,s)),clearInterval(t),t=setInterval(function(){if(0===s)return 0===l?0===a?0===n?void clearInterval(t):(n-=1,a=23,l=59,s=59,void(d.innerHTML=p(m(n,a,l,s)))):(a-=1,l=59,s=59,void(d.innerHTML=p(m(n,a,l,s)))):(l-=1,s=59,void(d.innerHTML=p(m(n,a,l,s))));s-=1,d.innerHTML=p(m(n,a,l,s))},1e3),this.module.dispatch("setInterval",{si:t})},a.beforeClose=function(){clearInterval(t)}},{"lodash/collection":!1}),loadjs.d("./app/exam/exam/answer-paper/count-down/view-tips",function(e,n,a){a.bindings={state:!0},a.title="温馨提示",a.auto=!0,a.dataForTemplate={state:function(){return{tips:this.renderOptions.tips}}}},{}),loadjs.d("./app/exam/exam/answer-paper/face-snapshot",function(e,n,a){var t=e("jquery"),i=1e3,l="image/jpg",s=e("./no-camara-base64");n.exports={timer:null,video:null,canvas:null,data:null,callback:null,isFirstError:!0,started:!1,init:function(e,n){e.isFaceExam&&(this.bindCloseEvent(),this.data=e,this.callback=n,this.initCamaraDom(),this.initCamaraContent())},bindCloseEvent:function(){var e=this;t(window).on("unload",function(){e.reset()})},reset:function(){this.stopTracks(),this.video=null,this.canvas=null,this.data=null,this.callback=null,this.started=!1,this.isFirstError=!0,this.stop(),this.removeCamaraDom()},stopTracks:function(){var e=this.video&&this.video.srcObject;e&&(e.getTracks()[0]&&e.getTracks()[0].stop(),e.getTracks()[1]&&e.getTracks()[1].stop())},stop:function(){clearTimeout(this.timer),this.timer=null},start:function(){function e(){n.timer&&n.stop(),n.timer=setTimeout(function(){return a>=3?void n.stop():(r+=i)>s?void n.stop():(n.video&&n.video.srcObject?n.video&&n.video.srcObject&&!n.video.srcObject.active&&(n.stopTracks(),n.initCamaraContent()):n.initCamaraContent(),r>h&&a<3?(n.callback&&(n.callback({fileName:"第3阶段人脸快照",body:n.getFaceBase64(),contentType:l}),a++),void n.stop()):r>p&&a<2?(n.callback&&(n.callback({fileName:"第2阶段人脸快照",body:n.getFaceBase64(),contentType:l}),a++),void e()):(r>m&&a<1&&n.callback&&(n.callback({fileName:"第1阶段人脸快照",body:n.getFaceBase64(),contentType:l}),a++),void e()))},i)}var n=this,a=this.data.faceSnapShotCount||0,t=this.data.startTime,s=this.data.endTime,r=this.data.currentTime,o=s-t,d=Math.floor(o/3),c=t+d,u=c+d,m=Math.random()*d+t,p=Math.random()*d+c,h=Math.random()*d+u;this.started=!0,this.timer&&this.stop(),e()},initCamaraDom:function(){t("body").append('<video id="face-snapshot-camara" width="400" height="300" style="display: none;"></video>'),t("body").append('<canvas id="face-snapshot-img-container" width="400" height="300" style="display: none;"></canvas>')},removeCamaraDom:function(){t("#face-snapshot-camara").remove(),t("#face-snapshot-img-container").remove()},initCamaraContent:function(){function e(e){a.video.srcObject=e,a.video.play(),!a.started&&a.start()}function n(){a.isFirstError&&(window.app.message.alert("已启用智能监考，未检测到您的摄像头，请确认摄像头可用，并允许浏览器的调用权限！"),a.isFirstError=!1),!a.started&&a.start()}var a=this;this.video=t("#face-snapshot-camara")[0],this.canvas=t("#face-snapshot-img-container")[0],function(e,n,a){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e).then(n).catch(a):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(e,n,a):navigator.mozGetUserMedia?navigator.mozGetUserMedia(e,n,a):navigator.getUserMedia?navigator.getUserMedia(e,n,a):a()}({video:{width:400,height:300}},e,n)},getFaceBase64:function(){var e;return this.video.srcObject&&this.video.srcObject.active?(e=this.canvas.getContext("2d"),e.drawImage(this.video,0,0,400,300),this.canvas.toDataURL(l)):s}}},{"./no-camara-base64":"./app/exam/exam/answer-paper/no-camara-base64",jquery:!1}),loadjs.d("./app/exam/exam/answer-paper/index",function(e,n,a){var t,i,l,s,r,o,d,c,u,m,p,h,f=e("./app/exam/exam/base-paper/index"),v=e("drizzle-zxy"),g=e("jquery"),b=e("./app/exam/util"),x=e("./answer-helper"),y=e("lodash/collection"),w=e("./app/util/strings"),k=e("./app/util/special-errors"),I=e("./face-snapshot"),q=e("./app/util/aesEncryption"),A={PC_CLIENT_TYPE:1,SHOW_ANSWER_IMMED:1},T={INIT:"init",CHECK:"check",ACTIVE:"active",CURRENT:"current"},M={Auto:"Auto",Hand:"Hand"},N={AUTO:1,HAND:2,TIMEOUT:3,FORCE:4,FULL_SWICH:5},C={items:{"count-down":"count-down",know:"know","answer-detail":"answer-detail"},store:{models:{exam:{type:"localStorage",url:"../exam/exam/front/exam-paper",mixin:{decryptAnswer:function(){var e=this.module.store.models.decryptKey.data.key;return v.assign(this.data,{encryptContent:x.decryptAnswer.call(this,this.data.paper.encryptContent,e)}),this.data.encryptContent},saveLastCacheTime:function(e){v.assign(this.data,{lastCacheTime:e}),this.saveByKey(this.data.id)}}},mark:{type:"localStorage",mixin:{init:function(){var e=this.module.store.models.exam.data;this.data={corrects:[],waitingChecks:[]},this.saveByKey(e.id)},isCorrectView:function(e){return e.indexOf("correct-")>-1},getCorrect:function(e){return y.find(this.data.corrects,["key",e])},waitingCheck:function(e){var n=!1,a=this.module.store.models.exam.data;return y.find(this.data.waitingChecks,["key",e])?this.data.waitingChecks=y.reject(this.data.waitingChecks,["key",e]):(this.data.waitingChecks.push({key:e}),n=!0),this.saveByKey(a.id),n},correct:function(e){var n=this.module.store.models.exam.data;this.data.corrects=y.reject(this.data.corrects,["questionId",e.questionId]),this.data.corrects.push(e),this.saveByKey(n.id)},getWaitingCheck:function(e){return y.find(this.data.waitingChecks,["key",e])},hasWatingCheck:function(){return this.data.waitingChecks.length>0}}},countDown:{type:"localStorage",mixin:{init:function(){var e=this.module.store.models.exam.data;this.loadByKey(e.id),this.data||(this.data={},this.saveByKey(e.id))},timeOut:function(){return!!this.data.remainDuration&&y.every(this.data.remainDuration.split(":"),function(e){return 0===Number(e)})}}},answer:{type:"localStorage",mixin:{init:function(e){var n,a,t=this.module.store.models.exam.data;e?(n=y.map(e,function(e){return 1===e.questionCopy.type||2===e.questionCopy.type?{key:e.questionId,value:y.map(e.answer.split(","),function(n){return{id:e.questionId,value:n}})}:{key:e.questionId,value:[{id:e.questionId,value:e.answer}]}}),a=y.map(y.filter(t.paper.questions,function(e){return 6===e.type}),function(e){return{key:e.id,type:6,value:y.map(e.subs,function(e){var a=y.find(n,["key",e.id]);return a?(n=y.reject(n,["key",e.id]),a):{key:e.id,value:[]}})}}),y.forEach(a,function(e){y.some(e.value,function(e){return e.value.length>0&&y.every(e.value,function(e){return e.value})})&&n.push(e)}),this.data=n,this.saveByKey(t.id)):(this.data=[],this.saveByKey(t.id))},saveAnswer:function(e){var n=this.module.store.models.exam.data;this.data=y.reject(this.data,["key",e.key]),this.data.push(e),this.saveByKey(n.id)},answeredCount:function(){return y.filter(this.data,function(e){var n=!y.every(e.value,function(e){return v.isArray(e.value)&&(0===e.value.length||y.every(e.value,function(e){return!e.value}))}),a=e.value.length>0&&y.some(e.value,function(e){return""!==e.value});return 6===Number(e.type)?n:a}).length},getAnswer:function(e){return y.find(this.data,["key",e])},changeAnswerRecord:function(){var e=[];return y.forEach(this.data,function(n){n.type&&6===n.type?y.forEach(n.value,function(n){e.push(n)}):e.push(n)}),JSON.stringify(y.map(e,function(e){return{questionId:e.key,answer:y.map(e.value,"value").join(",")}}))}}},modify:{type:"localStorage",mixin:{saveAnswer:function(e){var n=this.module.store.models.exam.data;this.data||(this.data=[]),this.data=y.reject(this.data,["key",e.key]),this.data.push(e),this.saveByKey(n.id)},changeAnswerRecord:function(){var e=[];return y.forEach(this.data,function(n){n.type&&6===n.type?y.forEach(n.value,function(n){e.push(n)}):e.push(n)}),JSON.stringify(y.map(e,function(e){return{questionId:e.key,answer:y.map(e.value,"value").join(",")}}))},insertByTempModify:function(e){var n=this;e&&e.length>0&&(this.data&&this.data.length>0?y.each(e,function(e){n.saveAnswer(e)}):this.data=e)}}},tempModify:{type:"localStorage",mixin:{saveAnswer:function(e){var n=this.module.store.models.exam.data;this.data||(this.data=[]),this.data=y.reject(this.data,["key",e.key]),this.data.push(e),this.saveByKey(n.id)}}},form:{url:"../exam/exam-record/front/submitPaper"},decryptKey:{url:"../exam/exam/decrypt-key"},answerRecord:{url:"../exam/exam/front/answer-record"},examSourceType:{url:"../exam/exam/front/get-source-type"},switchScreen:{url:"../exam/exam-record/front/switch-screen"},myScore:{url:"../exam/exam-record/score"},leftRight:{data:{hideLeft:!1,hideRight:!1}},rule:{url:"../system/rule-config/key"},watermarkOpen:{url:"../system/screenshot-guard-config"},cropperUpload:{url:"../file-deal/file-upload/encryptAndUploadBase64"},faceCompare:{url:"../human/member/face-recognition"},faceCount:{url:"../exam/exam-record-face/face/count"},relateFace2ExamRecord:{url:"../exam/exam/front/refresh-face-record"}},callbacks:{init2:function(e){var n=this.models.exam,a=this.models.types,t=this.models.state,i=this.models.countDown,l=this.models.mark,s=this.models.rule,o=this.models.answer,d=this.models.modify,c=this.models.tempModify,u=this,m=function(e,n){return!e||(!(!e||e.examRecordId===n.id)||1===n.isReset)};return t.loadByKey(e.examId),a.loadByKey(e.examId),i.loadByKey(e.examId),l.loadByKey(e.examId),o.loadByKey(e.examId),d.loadByKey(e.examId),n.clear(),c.clearByKey(e.examId),this.models.watermarkOpen.params={type:3,businessId:e.examId},this.get(this.models.watermarkOpen),this.chain([function(){return s.params={key:"SCREENSHOT_GUARD_CONFIG"},this.get(s).then(function(e){return v.assign({},{key:e[0].key,value:e[0].value,type:e[0].type})})}],function(e){s.set({rule2:e[0]}),p=s.data}),v.assign(n.params,{examId:e.examId}),u.get(n,{loading:!0}).then(function(){1!==n.data.faceMonitor&&1!==n.data.faceEnter||(u.models.relateFace2ExamRecord.set({examId:n.data.id,examRecordId:n.data.examRecord.id}),u.post(u.models.relateFace2ExamRecord)),u.models.faceCount.params={examId:n.data.id,examRecordId:n.data.examRecord.id,type:1},u.get(u.models.faceCount).then(function(){I.init(v.assign({},n.data.examRecord,{isFaceExam:1===n.data.faceMonitor,faceSnapShotCount:u.models.faceCount.data}),function(e){u.module.dispatch("uploadAfterCropImg",e)})}),n.data.allowSwitchTimes&&v.assign(n.data,{lowerSwitchTimes:n.data.examRecord.switchTimes||0}),n.saveByKey(e.examId),m(t.data,n.data.examRecord)&&(u.module.dispatch("clearMe",{examId:e.examId}),o.clearByKey(e.examId),d.clearByKey(e.examId),l.init(),a.init(y.map(n.data.paper.questions,function(e){return v.assign({},e)})),t.init(n.data),i.init())},function(e){!r(e)&&window.opener?setTimeout(function(){window.close()},1500):r(e)||setTimeout(function(){u.app.navigate("home")},1e3)})},uploadAfterCropImg:function(e){var n=this,a=this.models.exam,t=a.data.id,i=a.data.examRecord.id;return this.models.cropperUpload.set(e),this.post(this.models.cropperUpload,{ajax:!0}).then(function(e){var a=JSON.parse(e||"{}");n.models.faceCompare.set({memberId:n.app.global.currentUser.id,staffImageId:a.id,type:1,examId:t,examRecordId:i}),n.post(n.models.faceCompare)})},saveAnswer:function(e){var n=this.models.types,a=this.models.state.data,t=this;return this.models.answer.saveAnswer(e),this.models.modify.saveAnswer(e),a.autoSubmiting&&this.models.tempModify.saveAnswer(e),this.models.state.calculate(),this.models.state.saveLastCacheTime((new Date).getTime()),t.models.state.data.singleMode?(n.isNeedMoveAfterSave(e.key),this.models.state.changed()):(this.models.types.updateStatus(e.key,this.module.options.getCurrentStatus.call(this.module,e.key)),this.models.state.changed(),this.models.types.changed()),this.module.dispatch("checkOverTime")},waitingCheck:function(e){var n=this.models.mark.waitingCheck(e.questionId);this.models.state.data.singleMode||(n?this.models.types.updateStatus(e.questionId,T.CHECK):this.models.types.updateStatus(e.questionId,this.module.options.getCurrentStatus.call(this.module,e.questionId)),this.models.types.changed()),this.models.state.changed()},correct:function(e){this.models.mark.correct(e)},examSourceType:function(e){var n=this.models.examSourceType;return v.assign(n.params,{examId:e}),this.get(n,{loading:!0})},submitPaper:function(e){var n=this,a=this.models.state,t=this.models.exam,r=this.models.form,c=this.models.tempModify,u=this.module.items["count-down"].getEntities(),m=this.models.exam.data.examRecord.id,p=(new Date).getTime(),h={examId:t.data.id,examRecordId:m,submitType:e.submitType,answerRecords:this.models.modify.changeAnswerRecord(),fullAnswerRecords:this.models.answer.changeAnswerRecord(),clientType:A.PC_CLIENT_TYPE,lastCacheTime:p,submitDetailType:e.submitTipsType,clientVersion:b.getNavigatorName(),noAnswerCount:a.data.noAnswerCount,answeredCount:a.data.answeredCount},f=n.models.myScore;if(e.submitType!==M.Auto)x.TO.cancel(),v.assign(a.data,{handSubmit:!0}),c.data&&c.data.length>0&&(n.models.modify.insertByTempModify(c.data),v.assign(h,{answerRecords:this.models.modify.changeAnswerRecord()}));else{if(e.submitType===M.Auto&&a.data.handSubmit)return!0;e.submitType===M.Auto&&v.assign(a.data,{autoSubmiting:!0})}return this.models.form.set(h),this.post(r,{loading:e.submitType!==M.Auto}).then(function(){return a.saveLastCacheTime(p),!!o.call(n,r.data,t)&&(e.submitType!==M.Auto||e.firstTimeAutoSubmit?e.submitType===M.Hand&&(v.assign(a.data,{over:!0}),x.WS.closeConnect(),u&&(u=u[0],u.clearIntervalIt()),a.data.handSubmit&&d(t)?(f.set(v.assign({},{examId:t.data.id,examRecordId:t.data.examRecord.id,paperInstanceId:t.data.examRecord.paperInstanceId,fullAnswerRecords:h.fullAnswerRecords})),n.post(f,{loading:!0}).then(function(a){v.assign(n.models.exam.data,{myScore:a}),i.call(n,e.submitTipsType,t),s.call(n)})):(i.call(n,e.submitTipsType,t),s.call(n))):(n.models.modify.clearByKey(t.data.id),c.data&&c.data.length>0&&n.models.modify.insertByTempModify(c.data),c.clearByKey(t.data.id),n.app.message.success(w.get("exam.answer-paper.auto-submit-success"))),v.assign(a.data,{autoSubmiting:!1}),!0)},function(){l.call(n)})},delay:function(e){var n,a=this.models.exam.data,t=this.models.countDown;v.assign(t.data,{delay:e.delay,isDeday:!0}),n=new Date(a.examRecord.endTime),n.setMinutes(n.getMinutes()+e.delay,n.getSeconds(),0),v.assign(a,{examRecord:v.assign(a.examRecord,{endTime:n.getTime(),currentTime:e.currentTime})}),this.models.countDown.changed()},lowerSwitchTimes:function(){var e,n=this.models.exam.data,a=this.models.state,t=this.models.switchScreen,i=this;return(!a.data||!a.data.over)&&(!n.allowSwitchTimes||(v.assign(n,{lowerSwitchTimes:(n.lowerSwitchTimes||0)+1}),this.models.exam.saveByKey(n.id),v.assign(t.data,{examId:n.id,examRecordId:n.examRecord.id,times:n.lowerSwitchTimes}),this.models.exam.changed(),this.save(t),n.allowSwitchTimes<(n.lowerSwitchTimes||0)?this.module.dispatch("submitPaper",{submitType:M.Hand,submitTipsType:N.FULL_SWICH}):(e=w.getWithParams("exam.answer-paper.switch-screen.remain-times",n.allowSwitchTimes-n.lowerSwitchTimes+"次"),i.models.state.data.isOpen=!1,i.module.dispatch("showTips",{message:e}).then(function(){i.app.viewport.hasModalOpen()?i.models.state.changed():i.app.viewport.modal(i.module.items["exam-notes"])}))))},showAnswerDetail:function(){var e=this;return v.assign(this.models.decryptKey.params,{examId:this.models.exam.data.id}),this.get(this.models.decryptKey).then(function(){e.models.types.decryptAnswer(JSON.parse(e.models.exam.decryptAnswer())),e.models.state.data.showAnswerDetail=1,e.models.state.changed()})},showTips:function(e){var n=this.models.state;n.data.isOpen||(v.assign(n.data,e,{isOpen:!0}),this.models.state.changed(),this.models.state.saveByKey(n.id))},clearMe:function(e){this.models.mark.clearByKey(e.examId),this.models.types.clearByKey(e.examId),this.models.state.clearByKey(e.examId),this.models.countDown.clearByKey(e.examId)},saveLastCacheTime:function(){this.models.saveLastCacheTime((new Date).getTime())},loadAnswerRecord:function(){var e=this.models.state.data,n=this.models.exam.data,a=this.models.types,t=this.models.main,i=this.models.answer,l=this.models.answerRecord,s=this;return function(e,n){return!(e.lastCacheTime||!n.lastCacheTime)||!!(e.lastCacheTime&&n.lastCacheTime&&e.lastCacheTime<n.lastCacheTime)}(e,n.examRecord)?(v.assign(l.params,{examId:n.id}),s.get(l,{loading:!0}).then(function(){var r;i.init(l.data),a.clear(),a.init(n.paper.questions,!0),e.isOpen?(r=e.tips,s.models.state.init(n),v.assign(e,{isOpen:!0,tips:r})):s.models.state.init(n),s.models.state.resetCurrentQuestion(),s.models.state.saveLastCacheTime((new Date).getTime()),t.changed(),a.changed(),s.models.state.changed()}).then(function(){return s.module.dispatch("showTips",{message:"已为您更新最新答题情况，请继续参与考试"}).then(function(){s.app.viewport.hasModalOpen()?s.models.state.changed():s.app.viewport.modal(s.module.items["exam-notes"])})})):""},resetDelay:function(){var e=this.models.countDown,n=this.module.store.models.exam.data;v.assign(e.data,{isDeday:!1}),e.saveByKey(n.id)},checkOverTime:function(){return this.models.countDown.timeOut()?this.module.dispatch("submitPaper",{submitType:"Hand",submitTipsType:N.TIMEOUT}):""},mutipleLogin:function(){var e=this;return e.module.dispatch("showTips",{tips:"对不起，系统检测到您正在其他用户端参与该考试"}).then(function(){x.TO.cancel(),e.app.viewport.hasModalOpen()?e.models.state.changed():e.app.viewport.modal(e.module.items["exam-notes"])})},saveRemainDuration:function(e){v.assign(this.models.countDown.data,{remainDuration:e.duration})},closeWindow1:function(){var e=this;e.app.message.alert("系统监测到您打开了开发者工具，请关闭考试页面，重新进入。",function(){window.opener?(x.removeCloseListener(),window.close()):(x.removeCloseListener(),e.app.viewport.hasModalOpen()&&e.app.viewport.closeModal(),e.app.navigate("center/index"),window.location.reload())})}}}},E=v.assign({},f.items),D=v.assign({},f.store.models),R=v.assign({},f.store.callbacks),z=v.assign({},{items:v.assign(E,C.items),store:{models:v.assign(D,C.store.models),callbacks:v.assign(R,C.store.callbacks)},beforeClose:function(){this.app.askbar.off("exam.watermark.recreate",function(){t.call(this,p&&p.rule2&&JSON.parse(p.rule2.value)||{})},this),x.WS.closeConnect(),I.reset()},beforeRender:function(){var e=this,n=this.renderOptions.examId,a=function(){return e.dispatch("submitPaper",{submitType:M.Hand,submitTipsType:N.FORCE}).then(function(){x.WS.closeConnect()})},t=function(){return e.dispatch("mutipleLogin")};return this.dispatch("examSourceType",n).then(function(i){i&&i[0]&&i[0].sourceType&&1===i[0].sourceType&&x.WS.connect(n,a,function(n){return e.dispatch("delay",{delay:Number(n.time),currentTime:Number(n.current)})},t)}),this.dispatch("init2",this.renderOptions)},afterRender:function(){var e=this,n=this.store.models.exam.data,a=function(){return 12e4},i=function(){return n.id?e.dispatch("submitPaper",{submitType:M.Auto,submitTipsType:N.AUTO}).then(function(){var e=a();x.TO.timeOutId=setTimeout(i,e)}):""};return this.store.models.watermarkOpen.data&&(t.call(this,p&&p.rule2&&JSON.parse(p.rule2.value)||{}),this.app.askbar.on("exam.watermark.recreate",function(){t.call(this,p&&p.rule2&&JSON.parse(p.rule2.value)||{})},this)),x.TO.timeOutId=setTimeout(i,a()),x.switchScreen.call(this,n),x.initDisableDevtool.call(this),x.closeListener.call(this,w.get("exam.answer-paper.close-window")),x.onOrOffLineListener.call(this),this.dispatch("reloadState").then(function(){return n.examRecord.endTime>n.examRecord.currentTime?e.dispatch("loadAnswerRecord").then(function(){return!n.examRecord.lastSubmitTime&&n.examRecord.endTime>n.examRecord.currentTime?e.dispatch("submitPaper",{submitType:M.Auto,submitTipsType:N.AUTO,firstTimeAutoSubmit:!0}):""}):""})},getCurrentStatus:function(e){var n,a,t,i=this.store.models.answer.data,l=this.store.models.mark.data.waitingChecks;return y.find(l,["key",e])?T.CHECK:(n=y.find(i,["key",e]),n&&(a=!y.every(n.value,function(e){return v.isArray(e.value)&&(0===e.value.length||y.every(e.value,function(e){return!e.value}))}),t=n.value.length>0&&y.some(n.value,function(e){return""!==e.value}),a||t)?T.ACTIVE:T.INIT)}});n.exports=z,i=function(e,n){var a,t,i=this;return e===N.HAND&&(c(n)?a=w.get("exam.answer-paper.submit-success-mark"):d(n)?a=w.get("exam.answer-paper.submit-success"):h(n)?(t=new Date(n.data.showScoreTime),a="交卷成功，考试成绩将于"+(t.getMonth()+1)+"月"+t.getDate()+"日"+t.getHours()+"点"+t.getMinutes()+"分公布"):a=w.get("exam.answer-paper.submit-success")),e===N.FORCE&&(a=w.get("exam.answer-paper.force-submit")),e===N.TIMEOUT&&(a=w.get("exam.answer-paper.time-out.submit")),e===N.FULL_SWICH&&(a=w.get("exam.answer-paper.switch-screen.full-times")),i.models.state.data.isOpen=!1,n.data&&n.data.showAnswerRule&&5!==n.data.showAnswerRule&&n.data.myScore&&n.data.myScore[0]&&null!==n.data.myScore[0].encryptScore&&(a+="，您的成绩是："+q.decrypt(n.data.myScore[0].encryptScore).split(":")[1]/100+"分"),i.module.dispatch("showTips",{tips:a}).then(function(){i.app.viewport.hasModalOpen()?i.models.state.changed():i.app.viewport.modal(i.module.items["exam-notes"])})},l=function(){},s=function(){var e=this.module.items.head;g(e.$("submit")).addClass("hidden"),g(e.$("submit-success")).removeClass("hidden")},r=function(e){var n=JSON.parse(e[0].responseText);return k.hasCode(n.errorCode||"")},o=function(e,n){return 2!==e.status||(i.call(this,N.FORCE,n),!1)},d=function(e){var n=(new Date).getTime();return 0===e.data.paper.isSubjective&&n>e.data.showScoreTime},c=function(e){var n=(new Date).getTime();return 1===e.data.paper.isSubjective&&n>e.data.showScoreTime},h=function(e){return(new Date).getTime()<e.data.showScoreTime},m=function(e){return e.offsetParent?{x:e.offsetLeft+m(e.offsetParent).x,y:e.offsetTop+m(e.offsetParent).y}:{x:e.offsetLeft,y:e.offsetTop}},u=function(e,n){var a,t,i,l,s,r,o,d,c,u,p,h=!0;if(e){for(a={text1:"",text2:"",img1:"",imgScale:.3,start_x:50,start_y:50,space_x:120,space_y:100,width:200,height:150,fontSize:20,color:"#aaa",alpha:.4,rotate:45,random:0},v.assign(a,n),a.img1=n.img1?"url("+n.img1+")no-repeat":"",t=e.scrollWidth,i=Math.max(e.scrollHeight,document.body.clientHeight),l=document.createDocumentFragment(),r=m(e),o=a.start_x,d=a.start_y;i+r.y>d+a.height;){for(a.random&&(a.random=500*(Math.random()-.5)),h?(o+=100,h=!h):(o-=100,h=!h);t+r.x>o+a.width;)c=document.createElement("div"),c.className="watermark-item",c.style.position="absolute",c.style.background=a.img1,c.style.backgroundOrigin="content-box",c.style.backgroundPosition="left top",c.style.overflow="hidden",c.style.backgroundSize=100*a.imgScale+"%",c.style.textIndent=a.textIndent,c.style.zIndex=998,c.style.left=o+a.random+"px",c.style.top=d+"px",c.style.width=a.width+"px",c.style.height=a.height+"px",c.style.fontSize=a.fontSize+"px",c.style.color=a.color,c.style.fontFamily=a.typeface,c.style.textAlign="center",c.style.opacity=a.alpha,c.style.filter="alpha(opacity="+100*a.alpha+"})",c.style.webkitTransform="rotate(-"+a.rotate+"deg)",c.style.MozTransform="rotate(-"+a.rotate+"deg)",c.style.msTransform="rotate(-"+a.rotate+"deg)",c.style.OTransform="rotate(-"+a.rotate+"deg)",c.style.transform="rotate(-"+a.rotate+"deg)",c.style.pointerEvents="none",u=document.createElement("div"),p=document.createElement("div"),u.appendChild(document.createTextNode(a.text1)),p.appendChild(document.createTextNode(a.text2)),c.appendChild(u),c.appendChild(p),l.appendChild(c),o=o+a.width+a.space_x;o=r.x+a.start_x,d=d+a.height+a.space_y}s=document.createElement("div"),s.appendChild(l),g(".watermark-mix").get(0).innerHTML="",g(".watermark-mix").get(0).appendChild(s)}},t=function(e){var n,a,t=e&&e.examPaper,i=this.app.global.currentUser,l=function(){var e=2==+t.type?+t.opacityText:+t.opacityImg;return u(g(".achievement-main").get(0),{text1:2==+t.type?n:"",img1:1==+t.type?t.file:"",alpha:1-e/100,color:t.color,fontSize:t.size,typeface:t.typeface})};if(n=t.text||"",t.preType){switch(+t.preType){case 1:a=i.fullName;break;case 2:a=i.name;break;case 3:a=i.fullName+"_"+i.organization.name;break;case 4:a=i.name+"_"+i.organization.name;break;default:a=""}n=a+(a&&"_")+n}t&&t.open&&e.influence.indexOf("exam")>-1&&(setTimeout(function(){l.call(this)},300),window.onresize=function(){l.call(this)})}},{"./answer-helper":"./app/exam/exam/answer-paper/answer-helper","./app/exam/exam/base-paper/index":"./app/exam/exam/base-paper/index","./app/exam/util":"./app/exam/util","./app/util/aesEncryption":"./app/util/aesEncryption","./app/util/special-errors":"./app/util/special-errors","./app/util/strings":"./app/util/strings","./face-snapshot":"./app/exam/exam/answer-paper/face-snapshot","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/answer-paper/no-camara-base64",function(e,n,a){
n.exports="data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAkACQAAD/4QCARXhpZgAATU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAsSgAwAEAAAAAQAAAZgAAAAA/+0AOFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAAOEJJTQQlAAAAAAAQ1B2M2Y8AsgTpgAmY7PhCfv/iD/BJQ0NfUFJPRklMRQABAQAAD+BhcHBsAhAAAG1udHJSR0IgWFlaIAflAAwADQALAAYAHmFjc3BBUFBMAAAAAEFQUEwAAAAAAAAAAAAAAAAAAAAAAAD21gABAAAAANMtYXBwbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEmRlc2MAAAFcAAAAYmRzY20AAAHAAAAEgmNwcnQAAAZEAAAAI3d0cHQAAAZoAAAAFHJYWVoAAAZ8AAAAFGdYWVoAAAaQAAAAFGJYWVoAAAakAAAAFHJUUkMAAAa4AAAIDGFhcmcAAA7EAAAAIHZjZ3QAAA7kAAAAMG5kaW4AAA8UAAAAPmNoYWQAAA9UAAAALG1tb2QAAA+AAAAAKHZjZ3AAAA+oAAAAOGJUUkMAAAa4AAAIDGdUUkMAAAa4AAAIDGFhYmcAAA7EAAAAIGFhZ2cAAA7EAAAAIGRlc2MAAAAAAAAACERpc3BsYXkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABtbHVjAAAAAAAAACYAAAAMaHJIUgAAABQAAAHYa29LUgAAAAwAAAHsbmJOTwAAABIAAAH4aWQAAAAAABIAAAIKaHVIVQAAABQAAAIcY3NDWgAAABYAAAIwZGFESwAAABwAAAJGbmxOTAAAABYAAAJiZmlGSQAAABAAAAJ4aXRJVAAAABQAAAKIZXNFUwAAABIAAAKccm9STwAAABIAAAKcZnJDQQAAABYAAAKuYXIAAAAAABQAAALEdWtVQQAAABwAAALYaGVJTAAAABYAAAL0emhUVwAAAAoAAAMKdmlWTgAAAA4AAAMUc2tTSwAAABYAAAMiemhDTgAAAAoAAAMKcnVSVQAAACQAAAM4ZW5HQgAAABQAAANcZnJGUgAAABYAAANwbXMAAAAAABIAAAOGaGlJTgAAABIAAAOYdGhUSAAAAAwAAAOqY2FFUwAAABgAAAO2ZW5BVQAAABQAAANcZXNYTAAAABIAAAKcZGVERQAAABAAAAPOZW5VUwAAABIAAAPecHRCUgAAABgAAAPwcGxQTAAAABIAAAQIZWxHUgAAACIAAAQac3ZTRQAAABAAAAQ8dHJUUgAAABQAAARMcHRQVAAAABYAAARgamFKUAAAAAwAAAR2AEwAQwBEACAAdQAgAGIAbwBqAGnO7LfsACAATABDAEQARgBhAHIAZwBlAC0ATABDAEQATABDAEQAIABXAGEAcgBuAGEAUwB6AO0AbgBlAHMAIABMAEMARABCAGEAcgBlAHYAbgD9ACAATABDAEQATABDAEQALQBmAGEAcgB2AGUAcwBrAOYAcgBtAEsAbABlAHUAcgBlAG4ALQBMAEMARABWAOQAcgBpAC0ATABDAEQATABDAEQAIABjAG8AbABvAHIAaQBMAEMARAAgAGMAbwBsAG8AcgBBAEMATAAgAGMAbwB1AGwAZQB1AHIgDwBMAEMARAAgBkUGRAZIBkYGKQQaBD4EOwRMBD4EQAQ+BDIEOAQ5ACAATABDAEQgDwBMAEMARAAgBeYF0QXiBdUF4AXZX2mCcgBMAEMARABMAEMARAAgAE0A4AB1AEYAYQByAGUAYgBuAP0AIABMAEMARAQmBDIENQRCBD0EPgQ5ACAEFgQaAC0ENAQ4BEEEPwQ7BDUEOQBDAG8AbABvAHUAcgAgAEwAQwBEAEwAQwBEACAAYwBvAHUAbABlAHUAcgBXAGEAcgBuAGEAIABMAEMARAkwCQIJFwlACSgAIABMAEMARABMAEMARAAgDioONQBMAEMARAAgAGUAbgAgAGMAbwBsAG8AcgBGAGEAcgBiAC0ATABDAEQAQwBvAGwAbwByACAATABDAEQATABDAEQAIABDAG8AbABvAHIAaQBkAG8ASwBvAGwAbwByACAATABDAEQDiAOzA8cDwQPJA7wDtwAgA78DuAPMA70DtwAgAEwAQwBEAEYA5AByAGcALQBMAEMARABSAGUAbgBrAGwAaQAgAEwAQwBEAEwAQwBEACAAYQAgAEMAbwByAGUAczCrMOkw/ABMAEMARAAAdGV4dAAAAABDb3B5cmlnaHQgQXBwbGUgSW5jLiwgMjAyMQAAWFlaIAAAAAAAAPMWAAEAAAABFspYWVogAAAAAAAAgwoAAD1u////vFhZWiAAAAAAAABL+gAAtCEAAArgWFlaIAAAAAAAACfSAAAOcAAAyJFjdXJ2AAAAAAAABAAAAAAFAAoADwAUABkAHgAjACgALQAyADYAOwBAAEUASgBPAFQAWQBeAGMAaABtAHIAdwB8AIEAhgCLAJAAlQCaAJ8AowCoAK0AsgC3ALwAwQDGAMsA0ADVANsA4ADlAOsA8AD2APsBAQEHAQ0BEwEZAR8BJQErATIBOAE+AUUBTAFSAVkBYAFnAW4BdQF8AYMBiwGSAZoBoQGpAbEBuQHBAckB0QHZAeEB6QHyAfoCAwIMAhQCHQImAi8COAJBAksCVAJdAmcCcQJ6AoQCjgKYAqICrAK2AsECywLVAuAC6wL1AwADCwMWAyEDLQM4A0MDTwNaA2YDcgN+A4oDlgOiA64DugPHA9MD4APsA/kEBgQTBCAELQQ7BEgEVQRjBHEEfgSMBJoEqAS2BMQE0wThBPAE/gUNBRwFKwU6BUkFWAVnBXcFhgWWBaYFtQXFBdUF5QX2BgYGFgYnBjcGSAZZBmoGewaMBp0GrwbABtEG4wb1BwcHGQcrBz0HTwdhB3QHhgeZB6wHvwfSB+UH+AgLCB8IMghGCFoIbgiCCJYIqgi+CNII5wj7CRAJJQk6CU8JZAl5CY8JpAm6Cc8J5Qn7ChEKJwo9ClQKagqBCpgKrgrFCtwK8wsLCyILOQtRC2kLgAuYC7ALyAvhC/kMEgwqDEMMXAx1DI4MpwzADNkM8w0NDSYNQA1aDXQNjg2pDcMN3g34DhMOLg5JDmQOfw6bDrYO0g7uDwkPJQ9BD14Peg+WD7MPzw/sEAkQJhBDEGEQfhCbELkQ1xD1ERMRMRFPEW0RjBGqEckR6BIHEiYSRRJkEoQSoxLDEuMTAxMjE0MTYxODE6QTxRPlFAYUJxRJFGoUixStFM4U8BUSFTQVVhV4FZsVvRXgFgMWJhZJFmwWjxayFtYW+hcdF0EXZReJF64X0hf3GBsYQBhlGIoYrxjVGPoZIBlFGWsZkRm3Gd0aBBoqGlEadxqeGsUa7BsUGzsbYxuKG7Ib2hwCHCocUhx7HKMczBz1HR4dRx1wHZkdwx3sHhYeQB5qHpQevh7pHxMfPh9pH5Qfvx/qIBUgQSBsIJggxCDwIRwhSCF1IaEhziH7IiciVSKCIq8i3SMKIzgjZiOUI8Ij8CQfJE0kfCSrJNolCSU4JWgllyXHJfcmJyZXJocmtyboJxgnSSd6J6sn3CgNKD8ocSiiKNQpBik4KWspnSnQKgIqNSpoKpsqzysCKzYraSudK9EsBSw5LG4soizXLQwtQS12Last4S4WLkwugi63Lu4vJC9aL5Evxy/+MDUwbDCkMNsxEjFKMYIxujHyMioyYzKbMtQzDTNGM38zuDPxNCs0ZTSeNNg1EzVNNYc1wjX9Njc2cjauNuk3JDdgN5w31zgUOFA4jDjIOQU5Qjl/Obw5+To2OnQ6sjrvOy07azuqO+g8JzxlPKQ84z0iPWE9oT3gPiA+YD6gPuA/IT9hP6I/4kAjQGRApkDnQSlBakGsQe5CMEJyQrVC90M6Q31DwEQDREdEikTORRJFVUWaRd5GIkZnRqtG8Ec1R3tHwEgFSEtIkUjXSR1JY0mpSfBKN0p9SsRLDEtTS5pL4kwqTHJMuk0CTUpNk03cTiVObk63TwBPSU+TT91QJ1BxULtRBlFQUZtR5lIxUnxSx1MTU19TqlP2VEJUj1TbVShVdVXCVg9WXFapVvdXRFeSV+BYL1h9WMtZGllpWbhaB1pWWqZa9VtFW5Vb5Vw1XIZc1l0nXXhdyV4aXmxevV8PX2Ffs2AFYFdgqmD8YU9homH1YklinGLwY0Njl2PrZEBklGTpZT1lkmXnZj1mkmboZz1nk2fpaD9olmjsaUNpmmnxakhqn2r3a09rp2v/bFdsr20IbWBtuW4SbmtuxG8eb3hv0XArcIZw4HE6cZVx8HJLcqZzAXNdc7h0FHRwdMx1KHWFdeF2Pnabdvh3VnezeBF4bnjMeSp5iXnnekZ6pXsEe2N7wnwhfIF84X1BfaF+AX5ifsJ/I3+Ef+WAR4CogQqBa4HNgjCCkoL0g1eDuoQdhICE44VHhauGDoZyhteHO4efiASIaYjOiTOJmYn+imSKyoswi5aL/IxjjMqNMY2Yjf+OZo7OjzaPnpAGkG6Q1pE/kaiSEZJ6kuOTTZO2lCCUipT0lV+VyZY0lp+XCpd1l+CYTJi4mSSZkJn8mmia1ZtCm6+cHJyJnPedZJ3SnkCerp8dn4uf+qBpoNihR6G2oiailqMGo3aj5qRWpMelOKWpphqmi6b9p26n4KhSqMSpN6mpqhyqj6sCq3Wr6axcrNCtRK24ri2uoa8Wr4uwALB1sOqxYLHWskuywrM4s660JbSctRO1irYBtnm28Ldot+C4WbjRuUq5wro7urW7LrunvCG8m70VvY++Cr6Evv+/er/1wHDA7MFnwePCX8Lbw1jD1MRRxM7FS8XIxkbGw8dBx7/IPci8yTrJuco4yrfLNsu2zDXMtc01zbXONs62zzfPuNA50LrRPNG+0j/SwdNE08bUSdTL1U7V0dZV1tjXXNfg2GTY6Nls2fHadtr724DcBdyK3RDdlt4c3qLfKd+v4DbgveFE4cziU+Lb42Pj6+Rz5PzlhOYN5pbnH+ep6DLovOlG6dDqW+rl63Dr++yG7RHtnO4o7rTvQO/M8Fjw5fFy8f/yjPMZ86f0NPTC9VD13vZt9vv3ivgZ+Kj5OPnH+lf65/t3/Af8mP0p/br+S/7c/23//3BhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAApbdmNndAAAAAAAAAABAAEAAAAAAAAAAQAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAQAAbmRpbgAAAAAAAAA2AACuAAAAUgAAAEPAAACwwAAAJoAAAA2AAABQAAAAVEAAAjMzAAIzMwACMzMAAAAAAAAAAHNmMzIAAAAAAAEMcgAABfj///MdAAAHugAA/XL///ud///9pAAAA9kAAMBxbW1vZAAAAAAAAAYQAACgPgAAAADVGGSAAAAAAAAAAAAAAAAAAAAAAHZjZ3AAAAAAAAMAAAACZmYAAwAAAAJmZgADAAAAAmZmAAAAAjMzNAAAAAACMzM0AAAAAAIzMzQA/8AAEQgBmALEAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/bAEMAHBwcHBwcMBwcMEQwMDBEXERERERcdFxcXFxcdIx0dHR0dHSMjIyMjIyMjKioqKioqMTExMTE3Nzc3Nzc3Nzc3P/bAEMBIiQkODQ4YDQ0YOacgJzm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5ubm5v/dAAQALf/aAAwDAQACEQMRAD8A6SiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/Q6SiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/R6SiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/S6SiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/T6SiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/U6SiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/V6SiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/W6SiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/X6SiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/Q6SiiigAooooAKKKKACiq893b2wzM4X27/lToJ47mITRfdagCaiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKCQBk8VU+3WvnrbhwXb05/WgC3RRRQAUUUUAFFFFABRRRQAUVhtrsCMyNG2VJHbtWpa3AuoFnUbQ2eD7HFAFiiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKRmVAWYgAdzVKbUbKFdxkVvZTk/pQBeoqKGVZ4lmTowzUtABRRRQAUUU13WNGkbooJP0FADqKzP7Y0/H+sP02n/CtFnVBucgD1PFADqKYJIz0YH8aXen94fnQA6im70/vD86N6f3h+dADqKbvT+8PzpBLEW2hgSe2eaAH0UUUAFFVlvLZ5mtw4DqcYPH5VZoAKKOnJrLTV7J5DGW24OAT0P40AalFNR0kG5GDD1BzTqACiiigAooooAKKKKACiopp4reMyzHCjv161FHe2kv3JVPtnB/WgC1RRRQAUUUUAFFFFAH/9HpKRiVUsBkgdB3paKAOPutYupWxH+6UHoOv4muotLhbqBZl7jkeh71zWt2ohnE6D5ZOv1/+vRol35Uxt3PyydP97/69AHW0VxVxfXkdzIiSthXYDn0NR/2nfj/AJan9KAJdWtfs90WX7snzD+oq7oVztdrVjw3zL9e9Y093cXIAnctt6UyKeWBt0RwfXAzTA9Dorhv7Uv/APnqf0pp1G+P/LZqQHd0VFASYUJOSVHP4VLQBwE0ksc8iqxGGI4PvTftVz/z1f8A76NLd/8AH1L/AL7fzrr9PhiNlEWRSSvoKYHH/arn/nq//fRo+1XP/PV/++jXZ3kMItJiEUEI3YelcVAAZ4wf7w/nQA77Vc/89X/76NH2q5/56v8A99Gu88iH+4v5Cs7VYolsJGVFB+XkD3FAHN2TySXsIZifnHU+9d1XCab/AMf0X+9Xd0gCiiigAormtR1K7trtoomAUAYGB6VS/tq+9V/KgDodTtPtdsQo+dPmX/D8a4lWKMGU4IOQa1v7bvvVfyrKLZcuQDk5x2pgd5Z3Iu7dZh1PBHoe9Wq4iHU7i3XZCEUH0FTf23feq/lSA7GiuVs9UvZ7qOJ2G1m54FdVQAUUVyN7qF7DdyRxykKG4HFAHXUVxI1fUB/y0/8AHR/hS/2xqH/PT/x0f4UAVLsYupR6O3867HSxiwiHt/WuId2kdpHOWYkn6mrsWp3sMYijfCrwBgf4UwO5oriv7X1D/np/46P8KYdVvz1lP5D/AApAdxRTUzsGeTinUAFchNq19FPJGHBCsQMgdjXX1nHSrFmLtHkk5OSf8aAOe/tq+9V/Kj+2r71X8qXWLaC2lRYF2grk9fX3qxo9nbXMTtOm4hsDk/0pgVv7avvVfyo/tq+9V/Kuh/srT/8AnkPzP+NYGsW0FtKiwLtBXJ6/1oAb/bV96r+VIdZvz0cD6AVZ0eztrpJDOm4qRjk/0rYOkaef+WePoT/jQBojOBmloAwMUUgKk19a27+XM+1sZxg0z+0rH/nqtc/roxeL7oP5ms2G1uLgEwIWx1xQB2Lahp7qUaVSCMEVxtykcczLCwdM8EelT/2Zf/8API/pR/Zl/wD88j+lMDX0i/hitzDO4XaeM+hrW/tKx/56rXJf2Zf/APPI/pR/Zl//AM8j+lAHVnU7AdZR+tWoZoriMSwncp71586NG5RxhlOCK7TSBjT4/fP8zSA0qhuRm3kHqh/lSzzJbxNM+Sq9cday21mxeNlywyCORQByUYy6j1IrtNWUvYuqgsSRgDnvXGRMFkVm6AgmuuOt2I6Fj9BTA5V7a5jQvJG6qO5BAqOOOSVtkSlj6AZrsdVYPpjuOhCn9RXI28s8Mm+3JDY7DNAEn2G8/wCeL/8AfJqOS2uIV3SxsgzjJBFX/wC0NV/vN/3yP8Kr3N1ezoEuSSoORkY5/KgCtHDLMSIkLkegzWtpME0V8pljZRg8kEdqk0D/AI+JP93+tdVQAUySRYo2lfooJP4U+sLXLny4BbqeZOT9B/8AXpAcvI7SSNI3ViSfxrt7CN7e0X7QxJxk7j09vwrl9LtftN0M/dT5jn9P1p2py3X2hoJ5NwXsOB69KYFvU9VEwNvbH5P4m9fYe1YFWLZLdn/0lyiD0GSa0fL0T/npL/n8KAJLbVoLSPy4YCPU7uT9eKmPiA/ww/m3/wBasW6FoHAtNxXuW/8A1U6z+yiYNdnCLzjGcmgDsbKee5i86ZAgb7o749auVlLrFkzCNNxJIA4rVpAFBIAyaKimhSeMxSfdbrg4oAxJtcWO52xjfEOCe5PqK2oLiG5TzIW3D9R9a5e80aaDMkGZE9P4h/jWXDPLbP5kLFT/AJ60wOu1n/jwf6j+dcYo3EKO9b1zqP23T2VlKuCucdKx7Vd9zEvq6j9aAPQFAUBR0HFLRRSAKKKKACiiigD/0ukqq97aRuY5JFVh1BOKtVx2pwTy38jRRsw45AJ7CgDdvJNPu4fKknQDIOQRkYp9jHp6ZWz2sy9T1P51xkkMsJAlQoT0yMV0Hh8f64/7v9aANY6ZYsxdogSTk8n/ABrL1SOxtIdkca+Y/T2HrWjeanb2ZKNlpAPuj/GuOnnkuZjLKeW/IUASWdvLcziOID1JIyAPeuourWxtbZpmiUlRxx1NVrK70uyh8tZMseWO08n8qoatqCXRWKA5ReSemT/9amBZtZ9JnAWaJY39+n51rHS7A/8ALIfmf8a5/R7Lz5vPkHyRn8z/APWrr6QCKoRQi8ADApaKKAPP7v8A4+pv99v51ch1e7giWJNu1RgZFU7v/j6l/wB9v510lrpVlLbRyOpLMoJ5PemBkSaxeSxtE23DAg8etZiMUYOOoOfyrq7nSrKK2kkRCGVCRyeoFctCoeVEboWAP50Aan9uXv8As/lUNxqt1cxNDJt2tjOB6HNdF/Y1h/cP5mqWo6baW9m80SkMuMcnuQKAMXTf+P6L/eru64TTf+P6L/eru6QBRRRQBxutDF8fdRU2l6db3kLSTbshscH2qPXP+P0f7g/rWpoP/Hq/+/8A0FMB/wDYdl6v+f8A9aj+w7L1f8//AK1bNFIDG/sOy9X/AD/+tVHUdLtrW1M0W7cCOp9a6esrWf8Ajwb6j+dAHOaX/wAf8X1P8jXcVw+l/wDH/F9T/I13FABWXJpFpNK00m4ljk80zU7+axaPy1Uh89c9qzBr8/eNf1oA1f7FsP7p/M0f2NYf3T+ZrM/t+X/nkv5mj+35f+eS/maAMW5RYriSNOiuQPoDXR2Wl2c1rHLIpLMMnk1zU0hmleUjBdi2PrWtb6zJbwrCIwQoxnNMDZ/saw/un8zTDolkem4fjWf/AG/L/wA8l/M0h1+ftGv5mkB1CjaoUdhilrnrLVri6ukgZFCtnOM54GfWuhoAKKo3moQ2RUShjvzjGO341VGuWX+1+VAGbr//AB8R/wC5/Wrmgf8AHvIf9r+lZGq3cV5Mrw5wFxz9ataVqFvZwsk2cls8D2pgdXXLa/8A66P/AHT/ADrS/tux/wBr8qw9VvIbyRGhzhRg5GKQGl4f/wBXL9RXQ1yGlX8FkjrNu+YjGBWqddsx0Vz+A/xoA2qKqWd4l7GZYwQAcc1boA5TXv8Aj6Q/7H9TUmiTwwpKJXVMkYyQPWote/4+kH+x/U1kRwTTAmJGfHXaCaYHc/bbP/nsn/fQo+22f/PZP++hXFfYrz/njJ/3yaPsV5/zxk/75NIDtfttn/z2T/voUfbbP/nsn/fQrivsV5/zxk/75NH2K8/54yf98mgBb1le7lZCCCxwRXW6V/yD4vof5muQNpdDrE4/4Ca6/SQy2KK4IIzwfqaYE97E89q8UeNzDAzXNnQ7sKWZk4Gep/wrrqZL/q2+hpAeeIpdwg6k4/Otg6FeDoyH8T/hWREwSRXPQEGtyXXJGmUxrtjB5HcimBqamCNLcN1AXP5iuTtriS1l82LG7GOa173V47q2aBUILY5J9Dmsq0uFtpvNdBIMEYP+TQBe/tu+9V/Kq11qNzdxiObGAc8DHNXTq8fa2j/z+FU7q++1RiPykjwc5Uc0AX9A/wCPiT/d/rXVVwNreS2bM8OMsMc1uaXqF1dXRjmYbdpOAAOeKQHQMyopdzgAZJrg7y5a7uGmPQ8Aeg7Vsazf5zZxHp98/wBK5/Y2zzMfLnGfemBu6B/rpf8AdH86qaz/AMf7/Qfyq3oH+ul/3R/OqmsHOoP7AfyFAElro8l1As6yBQ2eMehxVa+sTYsqs4YsM8DpSQ6leW8YiifCr0GB9arz3EtzJ5sx3NjFAFmxsJL5mCkKFHJPvV6XQ5Io2kMgO0E9PSs23vrm1QpA20E5PAP86mfVb6RCjPkMMHgdD+FAFezGbuEH++v867+vP7Q7bqJj2df516BSAguZxbQtMVLY7CuMfULp7j7SHKt2A6Aeld1WXeaVb3ILIPLf1HQ/UUARWOsRXGI58Rv69j/hRf6THdN5sOEcnn0Pv9a5e4t5bWQxTDB/Q/Suk0U3jR5lP7n+HPX8PagCPVYI7TTkgiGBvH48Hk1jaau6+iH+1n8ua2tfbEUSerE/kP8A69ZmjLuv1P8AdBP6YpgdnRRRSAKKKKACiiigD//T6SiiigDltf8A9dH/ALp/nU/h/wC7N9V/rUGv/wCuj/3T/OpNDkSKKeSQ4VcEn86YE2tWbzeXNCpZvukAZ46isddJv2/5Z4+pA/rXW2l3Hdw+cnAyQQe2Kzb7WY4QY7bDv69h/jSA5y5tJbRgs2Nx5wDk022t5LqZYY+p/QetIBPdzYGXkc10yJDo1oZHw0rfqfQewpgVdRufsKR2VmxUpyxHX/J61Y03VJ7qQQSJuOMlhxj6iuZZpLiUscs7n8ya7TTrJbKHB5kblj/T8KANCiikZgilj0AzSA8+uDm4kPqx/nWxBrhhhSHyc7FAzu9PwrCJLEk9TXRjw/kAmbB/3f8A69MCKbXDNC8Xk43qVzu9R9Kw438uRX67SD+Vbs+hiGF5fNzsUtjb6D61hRp5kip03ED86AOg/wCEgP8Azx/8e/8ArVWu9YN3btB5W3djndnoc+lW/wDhHx/z2/8AHf8A69VrzRxa27T+bu244xjqcetAFDTf+P6L/eru64TTf+P6L/eru6QBRRRQBx2tnN99FFZqTzRDbG7KPQEireqP5l/KR2IH5DFb2k2sDWSvLGrFiTkgHvimBzP2u6/56v8A99Gj7Xdf89X/AO+jXcfZLT/nin/fIo+yWn/PFP8AvkUgOH+13X/PV/8Avo0x7ieRdskjMPQkkV3f2S0/54p/3yKzNXt4I7MtHGqtkcgAGmBhaX/x/wAX1P8AI13FcNp4Zb6EkEfNXc0gM2/04XzIWfaEz2z1qkNAh7yt+QrfooAwP7Ag/wCejfpXNzrEkzLCSyA4BPeug1bUxg2tuc54dh/If1rL02yN5OAw/dryx/p+NMDOpybd435255x1xU14ALuYDgB2/nUt1amGKKdfuSKD9DjmgDbXQrd1DLKxBGQeKDoEXaVvyFVNK1MQYtrg/J/C3p/9aurBBGRyDSAxbXR1tbhZ1lJ254x6jHrW1RRQBjarZXF6YxDjC5zk464rKGhXn95PzP8AhXXUUAef3Vs9pL5MhBIGePerVrpdxdxedGVAzjkn/Cob+YT3kkg6ZwPoOK67TYvKsYlPUjP580wMD+wbz+9H+Z/wrPu7KWyZUlKksMjFd7XLa/8A66P/AHT/ADpAZ1np816GaIqNvB3E9/wq4dCvB/Eh/E/4Vd8P/wCrl+oroaAM3S7aa0t2imxncSMemBWlRRQBx+uNuvcf3VA/r/WrWmTrZ2Ely6lgXxgfQVj30vn3cko6FuPoOBWw8Xl6CM9SQ35t/hTAtDXrXuj/AKf40v8Ab1p/ck/If41y8ELXEqwoQCxwM9K1v7Bu/wC/H+Z/woA0v7etP7kn5D/Gj+3rT+5J+Q/xrN/sG7/vx/mf8KP7Bu/78f5n/CkBonXrXsj/AJD/ABrTtLlbuETICoJI59q4WaJoJWhfBKnBx0rr9GH+gJ9T/OgC5dzPb27zINxUZwa5GfVr2cFS2xT2Xj9etdlKnmxPGf4lI/OsiLR7aCMvL+8cA9en5UAcmql2CDqTitCa1t7RmhuWbzMAgqBtGfqcmqcH+vT/AHh/Oui1ayVna8llCKAABjJPt1pgYqx6f/HLIfooH9al26SOrTH6AVLaadb3i/u7jDd1K8/zrLdQJCiHcAcA+tAGmn9jH73mj64/pUd5/ZvlD7Hu37uc56U290+SyVGcg7/Ttin2Omm+RmVwu04wRmgCKxazWRjeruXHHXr+FdDp506WYtZxlWUcnnHP41ys8QhmaINu2nGa6/SLb7PaBiPmk+Y/0oAqazYGUrcQrlyQrAd89DVbVLZbSxhhXsxJPqcc11Fc/r/+qi/3j/KkBU0OSOOWQyMF+UdTjvV271DTY2LJGs0h74GPxNY+nWS3vmITtZVyp96j+wTIx+0ERKpwWbv9B1P4UwIZppLuXO0AngKowKZG5glD4DFT0PINTSTRxqYrUEA8Fz94/wCAqIwOsImfCg/dB6n6e1AHYwSWM9t9p2Iq/wAWQODXOajexXDeVbIFjHcDBP8A9aswFsbQTjrirNkkMl1HHP8AcY4Pb6UAaGkyqZBBJCJBnhtoJX6n0rrqZHFHCoSJQqjsKfSA5Y67cKxV41yDjvT/APhIH/54j8//AK1H9gysSzygE88DNL/wj5/57f8Ajv8A9emBVudVju1CzQA7TkfNz/KrA14qAqwgAcAZ/wDrU/8A4R8/89v/AB3/AOvTH0JY0LvPgKMk7f8A69AGbf37XzKSu0IDxnPWmWN4bKYyhd+VxjOKpnGeOlbNro7XFuLh5PLBycEZ49eooAs/8JA//PEf99f/AFqQ+IH7RD8//rUq6CHUOk4IPQhf/r0v/CPntN/47/8AXoAktdYnublINigMeeua6GuftdHltrlJ/MBCn0xXQUgCiiigD//U6SiiigDltf8A9dH/ALp/nWIJXEZiBwrEEj1x0rR1e5W4uyE6Rjb+Peo9OsWvZfm4jX7x/pTArBblLcuNwic4PoSKfaWU94+2IcDqx6CusuZtOSA28zLsxjaOT+QrHl1lY08mwjCKOhP+FAGiq2ejQ5J3O3/fTf4CuYuruW8l82U/QdgKjLTXMuTl3b8Sa6C00Ndha7PzEcKD0/8Ar0AZ2kzW0FzuuOD0VuwPvXaAgjIrg72ylspNr8qfut2NWtP1SS0Ijky8Xp3H0oA7KszVrgQWbLn5pPlH49f0q4LiN4DcRfOuM/LyT7Yriby7kvJjJJwBwB6CkAWEPn3ccfbOT9BzXe1z2hWu1WunH3vlX6d66GgCte/8ec3/AFzb+VcLb/6+P/eH867i/OLKY/7B/lXDRHbKjejD+dMD0Ss3V/8AkHy/8B/9CFQahc3tiwmjw8TcYI6H8KyLrV3urdoGjC7scg+hzSAqab/x/Rf71d3XC6aM30X+9XdUAFQ3Ey28LTP0UZqYkAZPAFcfquofan8mL/VqevqaAMklpXLHlmP6mvQLeLyIEi/uqBXLaNaGe489h8kfP1btXX0AFFFFABRRRQAUUUUARTTw2675mCj3rmL/AFh5gYrbKIep7n/CpdU0t1DXUTFwOWDHJH4+lZdlYTXr4ThB1Y9BQBFa2st3KIoh9T2Aruba2jtYRDH0HU+p9aS1tYbSPy4h9T3J96sUAcBe/wDH5N/10b+ddZawx3OmRxSjIK/lXJXZzdSn1dv512OlnNhF9D/M0wORvLOWzl2Scg/dbsRUlpqVzafKh3J/dPT8PSu0mgiuIzFMu5TXK3ujzW+XgzIn6igDTi122cfvVZD+YrZjkWVBInQ8jIx/Oub0awSQG6mGQDhQen1rp6QBWTqt+ttCYkP7xxj6D1pmoastqTDCMyep6D/GuTd5JpC7kszH86AJ7O3N1cJCOhOT9B1rvgABgdBWVpdj9ki3yD94/X2HpWrQAVy2v/6+P/dP866muU14/wCkoP8AY/qaALXh/wD1cv1H9a6Guc8PniYf7v8AWujoAKztTuha2rEH53+Vf8fwq+7BFLkE4GeOTXC311Jdzl3GAOAvoKAIIImnmWFOrHFddqqLHprIvRdoH4EVQ0O063bj/ZX+p/pWjrH/ACD3+q/zFAHL6cQt7EWOAD3rtvPh/vr+Yrz0AscKMmn+TN/cb8jTA7/z4f76/mKPPh/vr+YrgPJm/uN+Ro8mb+435GkBY1Ahr2Uqcgsa6nR/+Qen1b+ZriyCpwRg12ej/wDHgn1P86YGpTJf9W30NNmaRYmaEBmAyAe9c+deDIVaHBIxw3/1qQGDB/r0/wB4fzrtb2wivlG8lWXoR/hXExMFlRm4AYE10N3rgwUtB/wI/wBBTAxLq2lsZvLcjPUEHtS2LQpdxvOcIDn/AA/WkhhuL+fC5Zm5LHt7mreoWENoAYpQx6MpIzn1xQB0GqQi6si0fzFfnUjv/kVy9neyWYk8v+NcfQ9jU9vqJs4DFb5Zm5JboPoKzlSSTcyKWxycDpQBb0+1N5chD90csfb/AOvXdAYGBXCWd/NZE+XghuoIrdg1xJWCNE248ALz/hSA3q57xB/q4vqa6Guc8QHiEf739KAMzTo7qTzfsj7WC9PX8aqbbm4m2EM8nTB5NWtOu3tGkkSMyfLz7c9TTZ9SuJi23EYbrsGM/U9aYD/Kt7HmfEs39wfdX/ePf6VUYz3cjSHLEAk+wH8hTVjPyvKCsZON2M/lW097YQWT21oCWcYJI657k0AZVicXkPu4H5nFLe25tLp4ugByv0PSl09C97CB/eB/Lmuo1Sw+2Rbo/wDWJ09x6UAGm6gl3EEc4lUcj19xWpXnIDo+BkMD+Oa7KwTUVj3XTgjHCnr+J/8A10gNSisC41mS3cxNAVYep/8ArVmy61eycIRGPYc/rQB1c9xDbJvmYKP1P0rk9Q1R7z91GCsY7dz9ay3keRt8jFj6k5rRstLnuyGYbI/U9/oKYENhZvezBBwg5Y+gq9qtxdK32Ur5UQ4UDuB7/wBK6e3t4raMRQjAH6/WlngiuIzFMu5TSA46w1GSybafmjPVfT3FdlDNHPGJYjuU1xl/p0lk2R80Z6N/Q1FZ3s1lJuj5U9V7GmB3lFV7W6hu4/MiP1HcfWrFIAooooA//9XpKKKKAMLUtKNzIs1vgMxw/wDjWrBbRQQC3UZXGDnv65qxRQBx2p6cbRxJDzGxwPY+lNtdIurj5nHlp6t1/AV2dFAFO0sbezX90Mt3Y9auUUUAQzwR3MRilGQf0965ZNGnN2YW4jHO/wBR/jXX0UAQwQRW0YihGAKytQ0kXMqyw/KWOH+nr9a26KAGxosaCNBhVGBTqKKAI5YkmjaKT7rDBrP/ALHsOyH8zWpRQBBdRCa3kiIzuU/n2rk49GvpOqhP94/4Zrs6KAMiw0pLN/Okbe/bHQVr0UUARTQpcRGKTO1uuDiuXudFmSZUg+ZHOMn+H611tFAEFvbx20Kwx9B+p9anoooAKKKKACiiigAooooACARg8g0yONIkEcYCqOgFPooAKKKKAOGmsrx5XcRPgsT0966rS0eOxjSRSrDOQeD1NX6KACiiigAAA6UUUUAUr6yjvIipADgfK3p/9aqOm6ULbE9xgydh2X/69bdFABRRRQAVgapp9zeXKyQgbQgGSe+TW/RQBi6TZXFm0nnAANjGDnpmtqiigArOv9OjvVBHyuP4vb3rRooAZFGkMaxRjCqMCqOqRSz2hjhXcxI4rRooA5Gy0+9hu4pJIyFDcnI/xrrqKKACiiigDlrvSbye5klQLhmJGTW1ptvLbWoimGGBPSr9FABXLS6Lcy3DspVULEjJ7E+1dTRQBiWmiwwtvnPmH0xx/wDXqCbQw9zmI7IjyfUH0FdFRQBDBbw20YjhXA/U/Ws3UtMS5UzQjEo/8e/+vWxRQBy1nokj4e6Oxf7o6/8A1q6SGGKBBHCoVR6VLRQBl3WkWtxllHlse69PyqHTdMezneSUhuMKR79a2qKACsDWra4uHiEKFtoOce+K36KAOb0e0ube5YzRlVKEZPTORV6PRrRZmlcbgTkL2H+Na1FAFS8t0ntHhx2yvsR0rjY7C9lOFib8RgfrXe0UAY+m6Z9jPnSkGQjHHQCtiiigCo1lbvcrdFfnX9fc/SrdFFAFHULRby3K4+cDKn3/APr1gwaHcPzOwjHp1P8AhXWUUAZ1tpdpbchd7erc/wD1q0aKKACiiigBkkaSoY5BlW4IrkJ9JnS6EEI3K3Kt2A9/pXZUUAULLT4bJfl+ZyOWNX6KKACiiigD/9bpKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9fpKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9DpKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9HpKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9LpKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9PpKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9TpKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9XpKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9bpKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9fpKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9DpKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9k="},{}),loadjs.d("./app/exam/exam/answer-paper/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="achievement-content" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n        <div class="achievement-down">\n            <div data-region="count-down"></div>\n        </div>\n        <div class="achievement-side score-ele bg-color">\n            <div class="side-content" data-region="side"></div>\n        </div>\n        <div class="achievement-head higher relative" data-region="head"></div>\n        <div class="achievement-main score-ele higher" data-region="main"></div>\n        <div class="achievement-known" data-region="know"></div>\n    </div>\n    <div data-region="answer-detail" oncopy1="return false;" oncut1="return false;" onpaste1="return false"></div>\n'},3:function(e,n,a,t,i){return'    <div class="side-top higher" oncopy1="return false;" oncut1="return false;" onpaste1="return false"><div class="time">\n        <i class="iconfont icon-time"></i>\n        <div class="inline-block" data-dynamic-key="countDown"></div>\n    </div></div>\n'},5:function(e,n,a,t,i){var l;return'    <ul class="list">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li>\n            <div class="list-title pointer" id="list-item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                \x3c!-- i.iconfont.icon-type --\x3e\n                <span class="text-tips"><i class="iconfont icon-triangle-up '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'"></i><i class="iconfont icon-triangle-down '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'"></i></span>\n                '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i}):s))+'分)\n            </div>\n            <div class="min-btn-groups m-left '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'">\n'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n        </li>\n    "},7:function(e,n,a,t,i){return""},9:function(e,n,a,t,i){return"hidden"},11:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","check",{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","active",{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","current",{name:"compare",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","init",{name:"compare",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item check" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item active" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},16:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item current" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},18:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},20:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression,d=null!=n?n:{};return'    <div class="pull-left head-left exam-new-left">\n        \x3c!--  .mb-1 --\x3e\n        \x3c!--      span.layout-mr 员工编号： --\x3e\n        \x3c!--          echo(memberName) --\x3e\n        \x3c!--      span(title=memberFullName) 姓名： --\x3e\n        \x3c!--          echo(myFullName) --\x3e\n        <ul class="head-info inline-block">\n            \x3c!--  if(showExamNotes) --\x3e\n            \x3c!--      li > i.iconfont.icon-notice(id=\'notice\' style=if(noticed \'\' \'color:#39fe2c\')) --\x3e\n            \x3c!--      li.drop-down-wrapper.left --\x3e\n            \x3c!--          i.iconfont.icon-notice.drop-down-btn --\x3e\n            \x3c!--          .drop-down-content > .content --\x3e\n            \x3c!--              .sub-tip > @echoX(state.examNotes) --\x3e\n            <div class="title text-overflow" style="width:100%;" title="'+o(r(null!=(l=null!=n?n.state:n)?l.name:l,n))+'" oncopy1="return false;" oncut1="return false;" onpaste1="return false">正在作答: '+o((s=null!=(s=a.myExamName||(null!=n?n.myExamName:n))?s:a.helperMissing,"function"==typeof s?s.call(d,{name:"myExamName",hash:{},data:i}):s))+"</div>\n"+(null!=(l=a.if.call(d,null!=n?n.showPersonalCode:n,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+'        </ul>\n    </div>\n    <div class="text-right exam-new-right" id="leave-notice" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n        <ul class="head-info inline-block layout-mr" style="line-height: 1.4em;">\n'+(null!=(l=a.if.call(d,null!=n?0:n,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+'            <li class="border right">本卷共'+o(r(null!=(l=null!=n?n.state:n)?l.totalCount:l,n))+"题，总分"+o(r(null!=(l=null!=n?n.state:n)?l.totalScore:l,n))+'分</li>\n            <li class="border right">已答：<span id="answered-count"></span></li>\n            <li class="border right">未答：<span id="no-answer-count"></span></li>\n        </ul>\n        <a id="submit" class="btn">我要交卷</a>\n        <a id="submit-success" class="btn hidden" disabled="disabled">交卷成功</a>\n    </div>\n'},21:function(e,n,a,t,i){var l;return'                <li class="border right">\n                    个人密码:'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.exam:n)?l.examRecord:l)?l.personalCode:l,n))+'\n                    <div class="inline-block drop-down-wrapper left">\n                        <i class="iconfont icon-info drop-down-btn"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <div class="sub-tip">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},"注意：请牢记个人密码，如遇断网、断电、中途退出等特殊情况后下次进入考试请输入并且将不再提示!",{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n                        </div></div>\n                    </div>\n                </li>\n"},23:function(e,n,a,t,i){return'                <li class="border right">已切屏次数：<span id="lowerSwitchTimes"></span></li>\n'},25:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'    <div class="main-content '+e.escapeExpression((s=null!=(s=a.class||(null!=n?n.class:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"class",hash:{},data:i}):s))+'"><div class="watermark watermark-mix"></div><div class="main-padding-content">\n        <div class="show-left">\n            <i class="iconfont '+(null!=(l=a.if.call(r,null!=(l=null!=n?n.leftRight:n)?l.hideLeft:l,{name:"if",hash:{},fn:e.program(26,i,0),inverse:e.program(28,i,0),data:i}))?l:"")+'"></i>\n        </div>\n        <div class="show-right">\n            <i class="iconfont '+(null!=(l=a.if.call(r,null!=(l=null!=n?n.leftRight:n)?l.hideRight:l,{name:"if",hash:{},fn:e.program(28,i,0),inverse:e.program(26,i,0),data:i}))?l:"")+'"></i>\n        </div>\n        <div class="preview-content" oncontextmenu1="window.event.returnValue=false;" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n'+(null!=(l=a.if.call(r,null!=(l=null!=n?n.main:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(30,i,0),inverse:e.program(36,i,0),data:i}))?l:"")+(null!=(l=a.if.call(r,null!=(l=null!=n?n.main:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(43,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(r,null!=(l=null!=n?n.main:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(48,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.unless.call(r,null!=(l=null!=n?n.main:n)?l.singleMode:l,{name:"unless",hash:{},fn:e.program(51,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n    </div></div>\n"},26:function(e,n,a,t,i){return"icon-arrow-double-right"},28:function(e,n,a,t,i){return"icon-arrow-double-left"},
30:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=(l=null!=n?n.main:n)?l.currentQuestion:l)?l.id:l,{name:"if",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))?l:""},31:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'                    <div class="m-bottom">\n                        <div class="h3 inline-block">'+r(s(null!=(l=null!=(l=null!=n?n.main:n)?l.currentQuestion:l)?l.typeDesc:l,n))+"("+r(s(null!=(l=null!=(l=null!=n?n.main:n)?l.currentQuestion:l)?l.index:l,n))+"/"+r(s(null!=(l=null!=(l=null!=n?n.main:n)?l.currentQuestion:l)?l.totalCount:l,n))+')</div>\n                        <div class="inline-block">本题分数:'+r(s(null!=(l=null!=(l=null!=n?n.main:n)?l.currentQuestion:l)?l.score:l,n))+'</div>\n                    </div>\n                    <div class="bottom text-right">\n                        <div data-dynamic-key="correct-'+r(s(null!=(l=null!=(l=null!=n?n.main:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n                    </div>\n'+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=(l=null!=n?n.main:n)?l.currentQuestion:l)?l.status:l,"eq","check",{name:"compare",hash:{},fn:e.program(32,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=(l=null!=n?n.main:n)?l.currentQuestion:l)?l.status:l,"ne","check",{name:"compare",hash:{},fn:e.program(34,i,0),inverse:e.noop,data:i}))?l:"")},32:function(e,n,a,t,i){var l;return'                        <div class="question-type-item checked" data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.main:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n'},34:function(e,n,a,t,i){var l;return'                        <div class="question-type-item" data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.main:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n'},36:function(e,n,a,t,i){var l;return"                <div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(37,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n"},37:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                        <div class="h3 m-bottom">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i}):s))+"分)</div>\n"+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(38,i,0),inverse:e.noop,data:i}))?l:"")},38:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing;return'                            <div data-dynamic-key="correct-'+e.escapeExpression((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"></div>\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq","check",{name:"compare",hash:{},fn:e.program(39,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"ne","check",{name:"compare",hash:{},fn:e.program(41,i,0),inverse:e.noop,data:i}))?l:"")},39:function(e,n,a,t,i){var l;return'                                <div class="question-type-item checked" data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},41:function(e,n,a,t,i){var l;return'                                <div class="question-type-item" data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},43:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                <div class="text-right m-bottom">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.main:n)?l.hasPrevious:l,{name:"if",hash:{},fn:e.program(44,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.main:n)?l.hasNext:l,{name:"if",hash:{},fn:e.program(46,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n"},44:function(e,n,a,t,i){var l;return'                        <div class="btn white border m-right" id="prev-'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.main:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'">上一题</div>\n'},46:function(e,n,a,t,i){var l;return'                        <div class="btn white border" id="next-'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.main:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'">下一题</div>\n'},48:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isLastItem:n,{name:"if",hash:{},fn:e.program(49,i,0),inverse:e.noop,data:i}))?l:""},49:function(e,n,a,t,i){return'                    <div class="center-content"><a id="submit" class="btn">我要交卷</a></div>\n'},51:function(e,n,a,t,i){return'                <div class="center-content"><a id="submit" class="btn">我要交卷</a></div>\n'},53:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'    <p>\n        <span class="strong" title="'+d((s=null!=(s=a.memberFullName||(null!=n?n.memberFullName:n))?s:o,"function"==typeof s?s.call(r,{name:"memberFullName",hash:{},data:i}):s))+'">姓名：</span>\n        <span>'+d((s=null!=(s=a.myFullName||(null!=n?n.myFullName:n))?s:o,"function"==typeof s?s.call(r,{name:"myFullName",hash:{},data:i}):s))+'</span>\n    </p>\n    <p>\n        <span class="strong">员工编号：</span>\n        <span>'+d((s=null!=(s=a.memberName||(null!=n?n.memberName:n))?s:o,"function"==typeof s?s.call(r,{name:"memberName",hash:{},data:i}):s))+"</span>\n    </p>\n"+(null!=(l=a.if.call(r,null!=n?n.showExamNotes:n,{name:"if",hash:{},fn:e.program(54,i,0),inverse:e.noop,data:i}))?l:"")},54:function(e,n,a,t,i){var l;return'        <p class="strong">考试须知：</p>\n        <p>'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.examNotes:l,{name:"echoX",hash:{},data:i}))?l:"")+"</p>\n"},56:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.showAnswerDetail:l,{name:"if",hash:{},fn:e.program(57,i,0),inverse:e.noop,data:i}))?l:""},57:function(e,n,a,t,i){return'        <div data-dynamic-key="answer-detail" oncopy1="return false;" oncut1="return false;" onpaste1="return false"></div>\n'},59:function(e,n,a,t,i){var l;return'    <div class="exam-notes-content" oncopy1="return false;" oncut1="return false;" onpaste1="return false">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.examNotes:l,n))+"</div>\n    \x3c!--  if(canShowDetail) --\x3e\n    \x3c!--      button.btn(id='show-answer-detail') 查看详情 --\x3e\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"count-down",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"know",{name:"view",hash:{},fn:e.program(53,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"answer-detail",{name:"view",hash:{},fn:e.program(56,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"exam-notes",{name:"view",hash:{},fn:e.program(59,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/answer-paper/view-answer-detail",function(e,n,a){var t=e("drizzle-zxy");a.bindings={state:!0,exam:!1,types:!1,answer:!1},a.type="dynamic",a.getEntity=function(){var e=this.bindings.exam.data,n=e.examRecord;return t.assign({},{exam:t.assign(e,{examRecord:t.assign(n,{status:1===e.paper.isSubjective?5:6})}),state:this.bindings.state.data,types:this.bindings.types.data,answer:this.bindings.answer.data})},a.getEntityModuleName=function(){return"exam/exam/score-detail"},a.dataForEntityModule=function(e){return{data:e}}},{"drizzle-zxy":!1}),loadjs.d("./app/exam/exam/answer-paper/view-count-down",function(e,n,a){var t=e("./app/util/strings"),i={AUTO:1,HAND:2,TIMEOUT:3,FORCE:4};a.bindings={exam:!1,countDown:!0},a.type="dynamic",a.getEntity=function(){var e=this.bindings.exam.data,n=this.bindings.countDown.data,a=n.delay;return e&&e.examRecord?{endTime:e.examRecord.endTime,startTime:e.examRecord.currentTime,isDelay:n.isDeday,delay:a}:{}},a.getEntityModuleName=function(){return"exam/exam/answer-paper/count-down"},a.dataForEntityModule=function(e){var n=this;return{data:e,callback:[{time:0,doing:function(){return n.module.dispatch("submitPaper",{submitType:"Hand",submitTipsType:i.TIMEOUT}).then(function(){})}},{time:1,doing:function(){n.app.message.success(t.get("exam.answer-paper.remain-one-mins"))}},{time:5,doing:function(){n.app.message.success(t.get("exam.answer-paper.remain-five-mins"))}}],resetDelay:function(){return n.module.dispatch("resetDelay")},remainDuration:function(e){return n.module.dispatch("saveRemainDuration",{duration:e})}}}},{"./app/util/strings":"./app/util/strings"}),loadjs.d("./app/exam/exam/answer-paper/view-exam-notes",function(e,n,a){var t=e("./app/exam/exam/base-paper/view-exam-notes"),i=e("drizzle-zxy"),l=e("jquery"),s=e("./answer-helper"),r=i.assign({},t),o={examNote:"考前须知",tips:"温馨提示"},d=i.assign({},r.bindings),c=i.assign({},r.dataForTemplate),u=i.assign({},r.events),m=i.assign({},r.handlers);i.assign(r,{auto:!0,title:function(){var e=this.bindings.state.data;return e.tips||e.message?o.tips:o.examNote},afterClose:function(){var e=this.bindings.state.data,n=this;return e.tips&&1!==e.showAnswerDetail?this.module.dispatch("clearModels").then(function(){s.removeCloseListener(),window.opener?window.close():n.app.navigate("activity/index")}):e.over?this.module.dispatch("clearModels"):(e.isOpen=!1,"")}}),r.bindings=d,i.assign(r.bindings,{exam:!0}),r.dataForTemplate=c,i.assign(r.dataForTemplate,{state:function(e){return e.state.tips?i.assign(e.state,{examNotes:e.state.tips}):e.state.message?i.assign(e.state,{examNotes:e.state.message}):(e.state.noticed,e.state)},canShowDetail:function(e){return 1===e.exam.isShowAnswerImmed&&e.state.over}}),r.events=u,i.assign(r.events,{"click show-answer-detail":"showAnswerDetail"}),r.handlers=m,i.assign(r.handlers,{showAnswerDetail:function(){var e=this;return l(".achievement-content").html(""),l(".achievement-content").hide(),this.module.dispatch("showAnswerDetail").then(function(){e.app.viewport.closeModal()})}}),n.exports=r},{"./answer-helper":"./app/exam/exam/answer-paper/answer-helper","./app/exam/exam/base-paper/view-exam-notes":"./app/exam/exam/base-paper/view-exam-notes","drizzle-zxy":!1,jquery:!1}),loadjs.d("./app/exam/exam/answer-paper/view-head",function(e,n,a){var t=e("./app/exam/exam/base-paper/view-head"),i=e("./app/util/strings"),l=e("jquery"),s=e("drizzle-zxy"),r=s.assign({},t),o=s.assign({},r.events),d=s.assign({},r.bindings),c=s.assign({},r.handlers),u=s.assign({},r.dataForTemplate),m={AUTO:1,HAND:2,TIMEOUT:3,FORCE:4};r.bindings=d,s.assign(r.bindings,{exam:"changeLowerSwitchTimes",mark:!1,head:!0,state:"changeAnswerCount"}),r.events=o,s.assign(r.events,{"click submit":"submitPaper"}),r.handlers=c,s.assign(r.handlers,{submitPaper:function(){var e=this,n=this.bindings.state.data,a=this.bindings.mark.data;return this.Promise.create(function(){var t=[];n.noAnswerCount>0&&t.push(i.getWithParams("exam.submit-paper-confirm.no-finish",n.noAnswerCount)),a.waitingChecks.length>0&&t.push(i.getWithParams("exam.submit-paper-confirm.has-waiting-check",a.waitingChecks.length)),t=t.length>0?"您有"+t.join(",")+", 确定交卷吗?":i.get("exam.submit-paper-confirm"),e.app.message.confirm(t,function(){return e.module.dispatch("submitPaper",{submitType:"Hand",submitTipsType:m.HAND})},function(){return!0})})}}),r.dataForTemplate=u,s.assign(r.dataForTemplate,{showPersonalCode:function(e){return 1===e.exam.isSetPersonalCode&&1===e.exam.isPermitViewCode},isAllowSwitch:function(e){return 1===0}}),s.assign(r.dataForTemplate,{memberName:function(){return this.app.global.currentUser.name},memberFullName:function(){return this.app.global.currentUser.fullName},myFullName:function(){var e=this.app.global.currentUser.fullName;return null!==e&&void 0!==e&&e.length>6?e.substr(0,6)+"...":e},myExamName:function(){var e=this.bindings.state.data;return null!==e.name&&void 0!==e.name&&e.name.length>25?e.name.substr(0,25)+"...":e.name}}),s.assign(r,{changeAnswerCount:function(){var e=this.bindings.state.data,n=this.bindings.exam.data;l(this.$("answered-count")).html(e.answeredCount),l(this.$("no-answer-count")).html(e.noAnswerCount),l(this.$("lowerSwitchTimes")).html(n.lowerSwitchTimes)}}),s.assign(r,{changeLowerSwitchTimes:function(){var e=this.bindings.exam.data.lowerSwitchTimes;l(this.$("lowerSwitchTimes")).html(e)}}),n.exports=r},{"./app/exam/exam/base-paper/view-head":"./app/exam/exam/base-paper/view-head","./app/util/strings":"./app/util/strings","drizzle-zxy":!1,jquery:!1}),loadjs.d("./app/exam/exam/answer-paper/view-know",function(e,n,a){a.bindings={state:!0,types:!0},a.events={},a.handlers={},a.dataForTemplate={showExamNotes:function(e){return e.state.examNotes},memberName:function(){return this.app.global.currentUser.name},memberFullName:function(){return this.app.global.currentUser.fullName},myFullName:function(){var e=this.app.global.currentUser.fullName;return null!==e&&void 0!==e&&e.length>6?e.substr(0,6)+"...":e}}},{}),loadjs.d("./app/exam/exam/answer-paper/view-main",function(e,n,a){var t,i,l=e("./app/exam/exam/base-paper/view-main"),s=e("./app/exam/exam/answer-paper/view-head"),r=e("drizzle-zxy"),o=e("lodash"),d=e("jquery"),c=r.assign({},l),u=r.assign({},c.bindings),m=r.assign({},c.dataForTemplate),p=r.assign({},c.events),h=r.assign({},c.handlers,{submitPaper:s.handlers.submitPaper}),f=e("./app/exam/exam-question-types"),v={ANSWER_PAPER_MODE:3,NO_DETAIL_MODE:-1,WAITING_CHECK_CORRECT:"exam/exam/answer-paper/waiting-check-correct"};c.bindings=u,r.assign(c.bindings,{mark:!1,answer:!1,state:!1,main:!0,leftRight:!0,types:!1}),c.dataForTemplate=m,r.assign(c.dataForTemplate,{main:function(e){return r.assign({},e.state)},isLastItem:function(e){var n=e.state,a=e.types;return n.currentQuestion.id===o.last(o.last(a).questions).id},class:function(e){return e.leftRight.hideLeft?e.leftRight.hideRight?"hide-left hide-right":"hide-left":e.leftRight.hideRight?"hide-right":""}}),c.events=p,r.assign(c.events,{"click submit":"submitPaper"}),c.handlers=h,r.assign(c,{type:"dynamic",getEntity:function(e){var n,a;return a=e,this.bindings.mark.isCorrectView(e)&&(a=e.replace("correct-","")),n=this.bindings.types.getQuestionById(a),r.assign(n,{questionAttrs:n.questionAttrCopys}),this.bindings.mark.isCorrectView(e)?{isCorrect:!0,data:n}:{isCorrect:!1,data:n}},getEntityModuleName:function(e,n){return n.isCorrect?v.WAITING_CHECK_CORRECT:f.get(n.data.type,v.ANSWER_PAPER_MODE)},dataForEntityModule:function(e){return e.isCorrect?i.call(this,e.data):t.call(this,e.data)},afterRender:function(){var e=this.bindings.leftRight.data,n=this;d(".show-left").on("click",function(){d(".main-content").toggleClass("hide-left"),d(".achievement-side").toggleClass("no-width"),d(".show-left .iconfont").toggleClass("icon-arrow-double-left"),d(".show-left .iconfont").toggleClass("icon-arrow-double-right"),e.hideLeft=d(".main-content").hasClass("hide-left"),n.app.askbar.trigger("exam.watermark.recreate")}),d(".show-right").on("click",function(){d(".main-content").toggleClass("hide-right"),d(".achievement-known").toggleClass("no-width"),d(".show-right .iconfont").toggleClass("icon-arrow-double-left"),d(".show-right .iconfont").toggleClass("icon-arrow-double-right"),e.hideRight=d(".main-content").hasClass("hide-right"),n.app.askbar.trigger("exam.watermark.recreate")})}}),t=function(e){var n=this;return{data:e,answer:n.bindings.answer.getAnswer(e.id),mode:v.NO_DETAIL_MODE,callback:function(e){return n.module.dispatch("saveAnswer",e)}}},i=function(e){var n=this;return{questionId:e.id,correct:this.bindings.mark.getCorrect(e.id)||{},waitingCheck:this.bindings.mark.getWaitingCheck(e.id),callback:{waitingCheck:function(e){return function(e){var n=d("[data-dynamic-key="+e+"]")[0];d(n).hasClass("checked")?d(n).removeClass("checked"):d(n).addClass("checked")}(e.questionId),n.module.dispatch("waitingCheck",e)},correct:function(e){return n.module.dispatch("correct",e)}}}},n.exports=c},{"./app/exam/exam-question-types":"./app/exam/exam-question-types","./app/exam/exam/answer-paper/view-head":"./app/exam/exam/answer-paper/view-head","./app/exam/exam/base-paper/view-main":"./app/exam/exam/base-paper/view-main","drizzle-zxy":!1,jquery:!1,lodash:696}),loadjs.d("./app/exam/exam/answer-paper/view-side",function(e,n,a){var t=e("./app/exam/exam/base-paper/view-side"),i=e("drizzle-zxy"),l=i.assign({},t);n.exports=l},{"./app/exam/exam/base-paper/view-side":"./app/exam/exam/base-paper/view-side","drizzle-zxy":!1}),loadjs.d("./app/exam/exam/answer-paper/waiting-check-correct/index",function(e,n,a){a.items={main:"main"},a.store={models:{state:{},correct:{url:"../exam/question-recovery/submit"}},callbacks:{init:function(e){var n=this.models.state.data;n.id=e.questionId,n.isCollect=e.isCollect||!1,n.correct=e.correct,n.waitingCheck=e.waitingCheck},waitingCheck:function(e){this.models.state.data.waitingCheck?this.models.state.data.waitingCheck=void 0:this.models.state.data.waitingCheck=e,this.module.renderOptions.callback.waitingCheck(e),this.models.state.changed()},correct:function(e){this.module.renderOptions.callback.correct(e)},saveCorrect:function(e){var n=this;return this.models.state.data.correct=e,this.models.correct.set(e),this.post(this.models.correct).then(function(){n.app.message.success("提交错误成功")})}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/exam/exam/answer-paper/waiting-check-correct/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l;return'    <div class="bottom-favorite">\n        <div class="item '+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.waitingCheck:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'">\n            <i class="iconfont icon-mark"></i>\n            <span><a id="waiting-check-'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">待检查</a></span>\n        </div>\n    </div>\n'},4:function(e,n,a,t,i){return"checked"},6:function(e,n,a,t,i){var l;return'    <br/>\n    <div>\n        您为什么要举报此题？请说明原因。\n    </div>\n    <div class="layout-mt-small">\n        <textarea class="input w-full" rows="5" id="reason" placeholder="请描述举报理由">\n            '+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.correct:l)?l.reason:l,n))+"\n        </textarea>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"correct",{name:"view",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/answer-paper/waiting-check-correct/view-main",function(e,n,a){var t=e("jquery");a.bindings={state:!0},a.events={"click waiting-check-*":"waitingCheck","click correct-*":"correct"},a.handlers={waitingCheck:function(e,n,a){return function(e){var n=t(e).parent().parent();t(n).hasClass("checked")?t(n).removeClass("checked"):t(n).addClass("checked")}(a),this.module.dispatch("waitingCheck",{questionId:e})},correct:function(e){var n=this;this.app.viewport.modal(this.module.items.correct,{questionId:e,callback:function(e){return n.module.dispatch("correct",e)}})}}},{jquery:!1}),loadjs.d("./app/exam/exam/base-paper/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy"),l=e("./app/util/maps"),s=l.get("question-types"),r={ONE_HUNDRED:100,ZERO:0,ONE:1,SINGLE_MODE:1,PC_CLIENT_TYPE:1,SHOW_ANSWER_IMMED:1},o={INIT:"init",CHECK:"check",ACTIVE:"active",CURRENT:"current"},d={REMOTE:1,QUESTION:2,QUESTION_ATTR:3,QUESTION_AND_ATTR:4},c={1:1,2:2,3:3,4:6,5:7,6:8,7:5,8:4};a.items={side:"side",main:"main",head:"head","exam-notes":""},a.store={models:{state:{type:"localStorage",mixin:{init:function(e){var n=this.module.store.models.types,a=this.module.store.models.answer,t=e.examRecord;this.loadByKey(e.id),this.data||(this.data={id:e.id,name:e.name,examNotes:e.examNotes,examinee:t&&t.member&&(t.member.fullName||t.member.name),totalCount:e.paper.questionNum,totalScore:e.paper.totalScore/r.ONE_HUNDRED,noAnswerCount:e.paper.questionNum,answeredCount:r.ZERO,singleMode:e.paperShowRule===r.SINGLE_MODE&&e.paper.questions.length>1,currentQuestion:n.getFirstQuestion(),paper:e.paper,hasPrevious:!1,hasNext:e.paper.questions.length>1,anonymityMark:e.anonymityMark,examRecordId:t&&t.id,status:t&&t.status},this.saveByKey(e.id)),a&&a.data&&a.data.length>0&&this.calculate()},selectQuestion:function(e){var n=this.module.store.models.types,a=this.module.store.models.exam.data;i.assign(this.data,{currentQuestion:n.getQuestionById(e)}),this.saveByKey(a.id)},resetCurrentQuestion:function(){var e=this.module.store.models.types,n=this.module.store.models.exam.data;i.assign(this.data,{currentQuestion:e.getCurrentQuestion()}),this.saveByKey(n.id)},calculate:function(){var e=this.module.store.models.answer,n=e.answeredCount(),a=this.module.store.models.exam.data;i.assign(this.data,{answeredCount:n,noAnswerCount:this.data.totalCount-n}),this.saveByKey(a.id)},isComplete:function(){return 0===this.data.noAnswerCount},saveLastCacheTime:function(e){var n=this.module.store.models.exam.data;i.assign(this.data,{lastCacheTime:e}),this.saveByKey(n.id)}}},types:{type:"localStorage",mixin:{init:function(e,n,a){var l={},d=0,u=0,m=this,p=this.module.store.models.exam.data;this.loadByKey(p.id),(!this.data&&e||n)&&(t.forEach(e,function(e){1===p.indefinite&&1===e.type&&i.assign(e,{type:2,typeDesc:"多选题"})}),t.forEach(e,function(e){var n=c[e.type];l[n]||(l[n]={},i.assign(l[n],{type:n,name:t.find(s,["key",e.type.toString()]).value,totalScore:r.ZERO,size:r.ZERO,questions:[]}),1===p.indefinite&&2===n&&i.assign(l[n],{name:"不定项选择",type:1})),l[n].size++,l[n].questions.push(i.assign(e,{index:l[n].questions.length+r.ONE,score:e.score/r.ONE_HUNDRED,status:o.INIT}))}),this.data=t.map(l,function(e){return u=0,t.map(e.questions,function(n){i.assign(n,{typeIndex:d,totalCount:e.size,questionAttrCopys:t.orderBy(n.questionAttrCopys,["name"],["asc"]),subs:t.map(n.subs,function(e){return i.assign(e,{questionAttrCopys:t.orderBy(e.questionAttrCopys,["name"],["asc"])})}),status:d===r.ZERO&&u===r.ZERO?o.CURRENT:m.module.options.getCurrentStatus.call(m.module,n.id)}),u++}),i.assign(e,{id:d,totalScore:parseFloat(t.reduce(t.map(e.questions,"score"),function(e,n){return e+n}).toFixed(1)),isCurrent:d++===r.ZERO})}),a?this.sortQuestion():this.sortQuestion2(),this.saveByKey(p.id))},resetQuestionStatus:function(){var e=this;this.data=t.map(this.data,function(n,a){return i.assign(n,{questions:t.map(n.questions,function(n,t){return i.assign(n,{index:t+1,status:0===a&&0===t?o.CURRENT:e.module.options.getCurrentStatus.call(e.module,n.id)})})})})},sortQuestion2:function(){var e,n=this.module.store.models.exam.data,a=this,l=n.examRecord.orderContent;l&&(e=JSON.parse(l)),e&&(this.data=t.map(this.data,function(n){return i.assign(n,{questions:t.orderBy(t.map(n.questions,function(n){var a=t.find(e,["questionId",n.id]),l=a.attrOrder,s=a.subsOrder||[];return i.assign(n,{order:a.order,questionAttrCopys:t.orderBy(t.map(n.questionAttrCopys,function(e){var n=t.find(l,["attrId",e.id]);return i.assign(e,{order:n&&n.order})}),["order"],["asc"]),subs:t.orderBy(t.map(n.subs,function(e){var n=t.find(s,["questionId",e.id]),a=n.attrOrder;return i.assign(e,{order:n.order,questionAttrCopys:t.orderBy(t.map(e.questionAttrCopys,function(e){var n=t.find(a,["attrId",e.id]);return i.assign(e,{order:n&&n.order})}),["order"],["asc"])})}),["order"],["asc"])})}),["order"],["asc"])})}),this.data=t.map(this.data,function(e,n){return i.assign(e,{questions:t.map(e.questions,function(e,t){return i.assign(e,{index:t+1,status:0===n&&0===t?o.CURRENT:a.module.options.getCurrentStatus.call(a.module,e.id)})})})}))},sortQuestion:function(){var e=this.module.store.models.exam.data,n=Number(e.paperSortRule);n===d.QUESTION&&(this.data=t.map(this.data,function(e){return i.assign(e,{questions:t.map(e.questions.sort(function(){return Math.random()-.5}),function(e,n){return i.assign(e,{index:n+1,subs:t.map(e.subs.sort(function(){return Math.random()-.5}),function(e,n){return i.assign(e,{index:n+1})})})})})})),n===d.QUESTION_ATTR&&(this.data=t.map(this.data,function(e){return i.assign(e,{questions:t.map(e.questions,function(e){return i.assign(e,{questionAttrs:e.questionAttrs.sort(function(){return.5-Math.random()}),subs:t.map(e.subs,function(e){return i.assign(e,{questionAttrs:e.questionAttrs.sort(function(){return.5-Math.random()})})})}),e})})})),n===d.QUESTION_AND_ATTR&&(this.data=t.map(this.data,function(e){return i.assign(e,{questions:t.map(e.questions.sort(function(){return Math.random()-.5}),function(e,n){return i.assign(e,{index:n+1,questionAttrs:e.questionAttrs.sort(function(){return Math.random()-.5}),subs:t.map(e.subs.sort(function(){return Math.random()-.5}),function(e,n){return i.assign(e,{index:n+1,questionAttrs:e.questionAttrs.sort(function(){return Math.random()-.5})})})}),e})})})),this.data=t.map(this.data,function(e,n){return i.assign(e,{questions:t.map(e.questions,function(e,a){return i.assign(e,{status:0===n&&0===a?o.CURRENT:o.INIT})})})})},getQuestionById:function(e){var n,a=this.module.store.models.exam.data.indefinite;return t.forEach(this.data,function(a){t.forEach(a.questions,function(a){a.id===e&&(n=a)})}),a=1===a&&2===n.type,i.assign(n,{typeDesc:a?"不定项选择题":t.find(s,["key",n.type.toString()]).value+"题"})},getFirstQuestion:function(){var e=this.data[0].questions[0],n=this.module.store.models.exam.data.indefinite;return n=1===n&&2===e.type,i.assign(e,{typeDesc:n?"不定项选择题":t.find(s,["key",e.type.toString()]).value+"题"})},selectType:function(e){var n=this.module.store.models.exam.data;this.data[e].isCurrent=!this.data[e].isCurrent,this.module.store.models.state.data.selectQuestion=!1,this.saveByKey(n.id)},getType:function(e){return t.find(this.data,function(n){return t.some(n.questions,function(n){return n.id===e})})},selectQuestion:function(e){var n=this.getType(e),a=this.module.store.models.exam.data,l=n.questions.findIndex(function(e){return e.status===o.CURRENT}),s=this,r=this.getQuestionById(e),d=this.module.store.models.state.data;l>-1&&(n.questions[l].status=this.module.options.getCurrentStatus.call(this.module,n.questions[l].id)),i.assign(r,{status:o.CURRENT}),t.forEach(t.filter(this.data,function(n){return t.every(n.questions,function(n){return n.id!==e})}),function(e){var n=e.questions.findIndex(function(e){return e.status===o.CURRENT});-1!==n&&i.assign(e.questions[n],{status:s.module.options.getCurrentStatus.call(s.module,e.questions[n].id)})}),d.selectQuestion=!0,d.hasPrevious=n.questions[r.index-1-1]||this.data[Number(n.id)-1],d.hasNext=n.questions[r.index-1+1]||this.data[Number(n.id)+1],this.saveByKey(a.id)},getCurrentQuestion:function(){var e;return t.forEach(this.data,function(n){t.forEach(n.questions,function(n){n.status===o.CURRENT&&(e=n)})}),e},move:function(e){var n,a=this.data[e.id],t=a.questions.findIndex(function(e){return e.status===o.CURRENT}),i=e.offset,l=a.questions[t+i],s=this.module.store.models.state.data,r=this.module.store.models.exam.data;l?(l.status=o.CURRENT,a.questions[t].status=this.module.options.getCurrentStatus.call(this.module,a.questions[t].id),s.hasPrevious=i>0||a.questions[t+i-1]||this.data[Number(e.id)+i],s.hasNext=i<0||a.questions[t+i+1]||this.data[Number(e.id)+i]):this.data[Number(e.id)+i]&&(n=this.data[Number(e.id)+i],l=n.questions[i>0?0:n.questions.length-1],l.status=o.CURRENT,this.initStatus("notCurrent"),n.isCurrent=!0,a.questions[t].status=this.module.options.getCurrentStatus.call(this.module,a.questions[t].id),s.hasPrevious=i>0||this.data[Number(e.id)+i],s.hasNext=i<0||n.questions[1]||this.data[Number(e.id)+i+1]),this.saveByKey(r.id)},decryptAnswer:function(e){var n=function(e,n){return 1===e.type||2===e.type?i.assign(e,{questionAttrCopys:t.map(e.questionAttrCopys,function(a){return t.find(n.answer,["value",a.name])?i.assign(a,{type:0}):i.assign(a,{type:e.type})})}):3===e.type||4===e.type||5===e.type?i.assign(e,{questionAttrCopys:t.map(e.questionAttrCopys,function(e){return i.assign(e,{name:n.answer,value:n.answer})})}):8===e.type?i.assign(e,{questionAttrCopys:t.map(e.questionAttrCopys,function(e){return 0===e.type?i.assign(e,{name:n.answer}):e})}):e};this.data=t.map(this.data,function(a){return i.assign(a,{questions:t.map(a.questions,function(a){var l=t.find(e,["questionId",a.id]);return 6===a.type?i.assign(a,{subs:t.map(a.subs,function(e){return n(e,t.find(l.answer,["questionId",e.id]))})}):n(a,l)})})})},updateStatus:function(e,n){var a=this.module.store.models.exam.data;i.assign(this.getQuestionById(e),{status:n}),this.saveByKey(a.id)},initStatus:function(e){this.data=t.map(this.data,function(n){return i.assign(n,{isCurrent:!e})})},isNeedMoveAfterSave:function(e){var n=this.getQuestionById(e);return 1===n.type||3===n.type}}},head:{},main:{}},callbacks:{selectType:function(e){this.models.types.selectType(e.id),this.models.types.changed()},selectQuestion:function(e){this.models.state.selectQuestion(e.id),this.models.types.selectQuestion(e.id),this.models.state.changed(),this.models.types.changed(),this.models.main.changed()},move:function(e){this.models.types.move(e),this.models.types.changed(),this.models.state.resetCurrentQuestion(),this.models.state.changed(),this.models.main.changed()},clearModels:function(){var e=this.models.exam.data;t.forEach(this.models,function(n){n.clearByKey&&n.clearByKey(e.id),n.clear()})},notice:function(){i.assign(this.models.state.data,{noticed:!0,message:null}),this.models.state.changed()},reloadHead:function(){this.models.head.changed()},reloadState:function(){this.models.state.changed()}}},a.getCurrentStatus=function(){return o.INIT}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/base-paper/view-exam-notes",function(e,n,a){a.title="考前须知",a.bindings={state:!0}},{}),loadjs.d("./app/exam/exam/base-paper/view-head",function(e,n,a){a.bindings={state:!0},a.events={"mouseover notice":"notice"},a.handlers={notice:function(){var e=this;return this.module.dispatch("notice").then(function(){e.app.viewport.modal(e.module.items["exam-notes"])})}},a.dataForTemplate={showExamNotes:function(e){return e.state.examNotes},scoreResult:function(e){var n=e.state;if(n.showAnswerRule&&-1===n.showAnswerRule)return"";if(n.examRecord&&n.examRecord.status){if(6===n.examRecord.status)return"及格";if(7===n.examRecord.status)return"不及格"}return""}}},{}),loadjs.d("./app/exam/exam/base-paper/view-main",function(e,n,a){a.bindings={state:!0,types:!0},a.events={"click prev-*":"prev","click next-*":"next"},a.handlers={
prev:function(e){return this.app.askbar.trigger("exam.watermark.recreate"),this.module.dispatch("move",{id:e,offset:-1})},next:function(e){return this.app.askbar.trigger("exam.watermark.recreate"),this.module.dispatch("move",{id:e,offset:1})}}},{}),loadjs.d("./app/exam/exam/base-paper/view-side",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection");a.bindings={types:!0,state:!1},a.events={"click question-*":"selectQuestion","click list-item-*":"toggleMore"},a.dataForTemplate={types:function(e){return i.map(e.types,function(n){return t.assign(n,{singleMode:e.state.singleMode})})}},a.handlers={selectQuestion:function(e){return window.location.hash!=="#question-"+e&&(window.location.hash="#question-"+e),this.app.askbar.trigger("exam.watermark.recreate"),this.module.dispatch("selectQuestion",{id:e})},toggleMore:function(e){return this.module.dispatch("selectType",{id:e})}},a.afterRender=function(){}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/index/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("./app/util/errors");a.items={main:"main",tips:"","exam-common/exam-prompt":{isModule:!0}},a.store={models:{state:{},audience:{url:"../exam/exam/front/is-audient"}},callbacks:{init:function(e){var n=this.models.audience,a=this.models.state;return e.examId?(a.set({examId:e.examId}),t.assign(n.params,{examId:e.examId}),this.get(n,{loading:!0}).then(function(){1===n.data.isGrant?t.assign(a.data,{isGrant:!0}):(t.assign(a.data,{tips:i.get("30120")}),a.changed())})):""}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.afterRender=function(){var e=this.store.models.state.data.tips;e&&this.app.viewport.modal(this.items.tips,{tips:e})}},{"./app/util/errors":"./app/util/errors","drizzle-zxy":!1}),loadjs.d("./app/exam/exam/index/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){return""},5:function(e,n,a,t,i){var l;return"    <p>"+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.tips:l,n))+"</p>\n    <hr/>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"tips",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/index/view-main",function(e,n,a){a.bindings={state:!0},a.afterRender=function(){var e=this.module.items["exam-common/exam-prompt"];this.bindings.state.data.isGrant&&this.app.viewport.modal(e,{examId:this.bindings.state.data.examId,toActivityHome:!0})}},{}),loadjs.d("./app/exam/exam/mark-paper/index",function(e,n,a){var t,i,l,s,r=e("./app/exam/exam/base-paper/index"),o=e("drizzle-zxy"),d=e("lodash/collection"),c=e("./app/util/strings"),u={ONE_HUNDRED:100,ZERO:0,ONE:1,SINGLE_MODE:1,PC_CLIENT_TYPE:1,READING:6,QUESTION_ANSWER:5},m={INIT:"init",CHECK:"check",ACTIVE:"active",CURRENT:"current"},p=e("./app/ext/views/form/validators"),h=e("./app/util/maps"),f={store:{models:{exam:{type:"localStorage",url:"../exam/exam/exam-mark-paper/front"},grades:{type:"localStorage",mixin:{init:function(e){this.data=d.map(e,function(e){return e.type===u.READING?{key:e.id,value:d.map(d.filter(e.subs,function(e){return e.type===u.QUESTION_ANSWER}),function(e){return{key:e.id,value:"",type:e.type,isRight:0}}),type:e.type,isRight:u.ZERO}:{key:e.id,value:"",type:e.type,isRight:u.ZERO}})},getGrade:function(e){return d.find(this.data,["key",e])},saveGrade:function(e){this.data=d.reject(this.data,["key",e.key]),this.data.push(e)},getAnswerRecord:function(){var e=[];return d.forEach(this.data,function(n){n.type===u.READING?d.forEach(n.value,function(n){n.type===u.QUESTION_ANSWER&&e.push({questionId:n.key,score:(n.value*u.ONE_HUNDRED).toFixed(0),questionCopy:{type:n.type}})}):e.push({questionId:n.key,score:(n.value*u.ONE_HUNDRED).toFixed(0),questionCopy:{type:n.type}})}),e},check:function(e){var n=this,a=[];return d.forEach(e,function(e){d.forEach(e.questions,function(e){var t=d.find(n.data,["key",e.id]),i=l.call(n,t.value,e);i.index&&a.push(i)})}),a}}},form:{url:"../exam/exam/mark-paper-info"},errors:{data:[],mixin:{saveError:function(e){this.data.push(e)}}},removeTodo:{url:"../exam/to-do/remove"},validateMark:{url:"../exam/exam/front/validate-mark-paper"}},callbacks:{init:function(e){var n=this.models.exam,a=this.models.types,t=this.models.state,l=this.models.grades,r=this.models.validateMark,d=this;return n.clear(),o.assign(n.params,{examRecordId:e.examRecordId,examId:e.examId}),o.assign(r.params,{examRecordId:e.examRecordId,examId:e.examId}),this.get(this.models.validateMark,{loading:!0}).then(function(){return"0"===r.data.status?(d.app.message.alert("您好，该试卷已被其他老师评卷，请阅其他试卷"),d.module.dispatch("removeTodo",{targetId:e.examRecordId,examId:e.examId}).then(function(){setTimeout(function(){i(),window.opener?(d.module.dispatch("clearModels"),window.close()):(d.module.dispatch("clearModels"),d.app.navigate("home"))},1500)})):d.get(n,{loading:!0}).then(function(){n.data&&(a.clearByKey(n.data.id),t.clearByKey(n.data.id),l.clear()),a.init(n.data.paper.questions),t.init(n.data),l.init(n.data.paper.questions)})},function(e){var n=JSON.parse(e[0].responseText).errorCode;30207!==n&&30208!==n||s.call(d)})},saveGrade:function(e){this.models.grades.saveGrade(e),this.models.state.data.singleMode||(this.models.types.updateStatus(e.key,m.ACTIVE),this.models.types.changed())},submitGrade:function(){var e=this.models.exam.data,n=this.models.state.data,a=this,t=this.models.grades.check(this.models.types.data);return t.length>0?(o.assign(n,{errors:t}),this.app.viewport.modal(this.module.items["exam-notes"]),this.models.types.initStatus(),this.models.types.changed(),!1):(this.models.form.set({examRecordId:e.examRecord.id,examId:e.id,answerRecords:JSON.stringify(this.models.grades.getAnswerRecord())}),this.post(this.models.form,{loading:!0}).then(function(){return"0"===a.models.form.data.msg?(a.app.message.error("您好，该试卷已被评卷，不能重复提交"),a.module.dispatch("removeTodo",{targetId:e.examRecord.id,examId:e.id}).then(function(){setTimeout(function(){i(),a.module.dispatch("clearModels"),window.opener?window.close():a.app.navigate("home")},1500)})):(a.app.message.success(c.get("operation-success")),setTimeout(function(){i(),a.module.dispatch("clearModels"),window.opener?window.close():a.app.navigate("home")},500),"")},function(e){var n=JSON.parse(e[0].responseText).errorCode;30207!==n&&30208!==n&&30209!==n||s.call(a)}))},removeTodo:function(e){return o.assign(this.models.removeTodo.data,e),this.post(this.models.removeTodo)}}}},v=o.assign({},r.store.models),g=o.assign({},r.store.callbacks),b=o.assign({},{items:r.items,store:{models:o.assign(v,f.store.models),callbacks:o.assign(g,f.store.callbacks)},beforeRender:function(){return this.dispatch("init",this.renderOptions)},getCurrentStatus:function(e){var n=this.store.models.grades.data||[],a=d.find(n,["key",e]),t=this.store.models.errors.data,i=d.find(t,["questionId",e]);if(a&&o.isArray(a.value)&&a.value.length>0){if(d.some(a.value,function(e){return""!==e.value&&e.value>=0}))return m.ACTIVE}else if(a&&""!==a.value&&a.value>=0)return m.ACTIVE;return i?m.CHECK:m.INIT}});n.exports=b,t=function(e){var n=[];return p.required.fn(e)||n.push("必填项"),p.number.fn(e)||n.push("只能填数字"),p.keepDecimal.fn(e,1)||n.push("只能保留1位小数"),p.range.fn(e,0,100)||n.push("只能填0分~100分"),n},l=function(e,n){var a,i,l=this.module.store.models.errors,s=h.get("question-types");if(6===n.type){if(d.every(d.filter(n.subs,function(e){return 5===e.type}),function(e){return!e.answerRecord}))return{}}else if(6!==n.type&&(!n.answerRecord||""===n.answerRecord.answer))return{};return 6===n.type?(i=d.filter(e,function(e){var a=d.filter(n.subs,function(e){return 5===e.type&&(!e.answerRecord||""===e.answerRecord.answer)});return!d.find(a,["id",e.key])}),a=d.filter(d.map(i,function(e){var n=t(e.value);return n.length>0?n:[]}),function(e){return e.length>0})):a=t(e),a.length>0?(o.assign(n,{status:m.CHECK}),l.saveError({questionId:n.id}),{type:d.find(s,["key",n.type.toString()]).value,index:n.index,errorStr:a.join(",")}):{}},i=function(){var e,n,a=window;return a.opener&&(e=a.opener.app,d.forEach(e._modules,function(e,a){a.indexOf("mark-paper")>-1&&(n=e)}),n)?n.dispatch("init"):""},s=function(){var e=this;setTimeout(function(){i(),e.module.dispatch("clearModels"),window.opener?window.close():e.app.navigate("home")},3e3)}},{"./app/exam/exam/base-paper/index":"./app/exam/exam/base-paper/index","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/maps":"./app/util/maps","./app/util/strings":"./app/util/strings","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/mark-paper/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="achievement-content">\n    <div class="achievement-side bg-color">\n        <div data-region="side"></div>\n    </div>\n    <div class="achievement-head" data-region="head"></div>\n    <div class="achievement-main" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <ul class="list">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li>\n            <div class="list-title pointer" id="list-item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <span class="text-tips"><i class="iconfont icon-triangle-up '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'"></i><i class="iconfont icon-triangle-down '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(5,i,0),data:i}))?l:"")+'"></i></span>\n                '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i}):s))+'分)\n            </div>\n            <div class="min-btn-groups m-left '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'">\n'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n        </li>\n    "},5:function(e,n,a,t,i){return""},7:function(e,n,a,t,i){return"hidden"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","check",{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","active",{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","current",{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","init",{name:"compare",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item no-mark" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item right" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item current" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},16:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},18:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="pull-left title" title="'+r(s(null!=(l=null!=n?n.state:n)?l.name:l,n))+'">考试名称: '+r(s(null!=(l=null!=n?n.state:n)?l.name:l,n))+'</div>\n    <div class="text-right">\n        <ul class="head-info inline-block">\n'+(null!=(l=a.if.call(o,null!=n?n.showExamNotes:n,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(o,null!=(l=null!=n?n.state:n)?l.anonymityMark:l,"eq",0,{name:"compare",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+'        </ul>\n        <div id="submit" class="btn">提交评卷</div>\n    </div>\n'},19:function(e,n,a,t,i){var l;return'                <li class="drop-down-wrapper right">\n                    <i class="iconfont icon-notice drop-down-btn">\n                        <div class="drop-down-content"><div class="content">\n                            <div class="sub-tip">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.examNotes:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n                        </div></div>\n                    </i>\n                </li>\n"},21:function(e,n,a,t,i){var l;return'                <li class="border right">考生： '+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.examinee:l,n))+"</li>\n"},23:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="preview-content">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.program(27,i,0),data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},24:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:""},25:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                <div class="row"></div>\n                <div class="col-xs-6">\n                    <div class="com-title inline-block">'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeDesc:l,n))+"("+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.index:l,n))+"/"+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.totalCount:l,n))+')</div>\n                    <div class="inline-block">本题分数:'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.score:l,n))+'</div>\n                </div>\n                <div data-dynamic-key="'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n'},27:function(e,n,a,t,i){var l;return"            <div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},28:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                    <div class="h3 m-bottom">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i}):s))+"分)</div>\n"+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))?l:"")},29:function(e,n,a,t,i){var l;return'                        <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},31:function(e,n,a,t,i){var l,s=null!=n?n:{};return'            <div class="text-right m-bottom">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.hasPrevious:l,{name:"if",hash:{},fn:e.program(32,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.hasNext:l,{name:"if",hash:{},fn:e.program(34,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},32:function(e,n,a,t,i){var l;return'                    <div class="btn white border m-right" id="prev-'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'">上一题</div>\n'},34:function(e,n,a,t,i){var l;return'                    <div class="btn white border" id="next-'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'">下一题</div>\n'},36:function(e,n,a,t,i){var l;return'    <div>\n        <p class="error">'+e.escapeExpression((l=null!=(l=a.errors||(null!=n?n.errors:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"errors",hash:{},data:i}):l))+"</p>\n    </div>\n    <hr/>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"exam-notes",{name:"view",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/mark-paper/view-exam-notes",function(e,n,a){var t=e("./app/exam/exam/base-paper/view-exam-notes"),i=e("drizzle-zxy"),l=i.assign({},t),s=i.assign({},l.dataForTemplate);l.dataForTemplate=s,i.assign(l.dataForTemplate,{errors:function(e){return"您有"+e.state.errors.length+"题还没有评分，请评分完整才可以进行提交"}}),i.assign(l,{title:"温馨提示"}),n.exports=l},{"./app/exam/exam/base-paper/view-exam-notes":"./app/exam/exam/base-paper/view-exam-notes","drizzle-zxy":!1}),loadjs.d("./app/exam/exam/mark-paper/view-head",function(e,n,a){var t=e("./app/exam/exam/base-paper/view-head"),i=e("drizzle-zxy"),l=i.assign({},t),s=i.assign({},l.actions),r=i.assign({},l.dataForActions),o=e("./app/util/strings");l.actions=s,i.assign(l.actions,{"click submit":"submitGrade"}),l.dataForActions=r,i.assign(l.dataForActions,{submitGrade:function(){var e=this;return this.Promise.create(function(n){var a=o.get("exam.submit-mark-paper-confirm");e.app.message.confirm(a,function(){n()},function(){n(!1)})})}}),n.exports=l},{"./app/exam/exam/base-paper/view-head":"./app/exam/exam/base-paper/view-head","./app/util/strings":"./app/util/strings","drizzle-zxy":!1}),loadjs.d("./app/exam/exam/mark-paper/view-main",function(e,n,a){var t,i=e("./app/exam/exam/base-paper/view-main"),l=e("drizzle-zxy"),s=l.assign({},i),r=l.assign({},s.bindings),o=e("./app/exam/exam-question-types"),d={MARK_PAPER_MODE:4,NO_DETAIL_MODE:-1};s.bindings=r,l.assign(s.bindings,{grades:!0}),l.assign(s,{type:"dynamic",getEntity:function(e){var n;return n=this.bindings.types.getQuestionById(e),n=l.assign({},n,{questionAttrs:n.questionAttrCopys}),{isCorrect:!0,data:n}},getEntityModuleName:function(e,n){return o.get(n.data.type,d.MARK_PAPER_MODE)},dataForEntityModule:function(e){return t.call(this,e.data)}}),t=function(e){var n=this;return{data:e,goal:this.bindings.grades.getGrade(e.id),callback:function(e){return n.module.dispatch("saveGrade",e)}}},n.exports=s},{"./app/exam/exam-question-types":"./app/exam/exam-question-types","./app/exam/exam/base-paper/view-main":"./app/exam/exam/base-paper/view-main","drizzle-zxy":!1}),loadjs.d("./app/exam/exam/mark-paper/view-side",function(e,n,a){n.exports=e("./app/exam/exam/base-paper/view-side")},{"./app/exam/exam/base-paper/view-side":"./app/exam/exam/base-paper/view-side"}),loadjs.d("./app/exam/exam/other-exam-prompt/index",function(e,n,a){a.items={main:"main"},a.title="考试须知",a.auto=!0,a.store={models:{exam:{url:"../exam/exam/front/user-record"}},callbacks:{init:function(e){return e.examId?(this.models.exam.set({id:e.examId}),this.get(this.models.exam,{loading:!0})):""}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/exam/exam/other-exam-prompt/prompt-help",function(e,n,a){var t,i,l,s,r,o,d,c,u;a.getUserStatusOfExam=function(e){return u(e)?9:t(e.startTime,e)?1:i(e.startTime,e.endTime,e)?d(e)?7:3===e.sourceType&&e.createTime>15410016e5&&null!==e.allowExamTimes&&void 0!==e.allowExamTimes&&e.examedTimes>0&&(e.examedTimes<e.allowExamTimes||0===e.allowExamTimes)?10:3===e.sourceType&&null===e.allowExamTimes&&1===e.isOverByPassExam&&7===e.examRecord.status?10:3===e.sourceType&&e.createTime>15410016e5&&null!==e.allowExamTimes&&void 0!==e.allowExamTimes&&e.examedTimes>=e.allowExamTimes&&0!==e.allowExamTimes?11:s(e)?2:r(e)?3:c(e)?8:4:l(e.endTime,e)?o(e)?6:5:0},t=function(e,n){var a=n&&n.examRecord&&n.examRecord.currentTime;return a=a||(new Date).getTime(),e&&a<e},i=function(e,n,a){var t=a&&a.examRecord&&a.examRecord.currentTime;return t=t||(new Date).getTime(),e&&n&&t>=e&&t<=n||!e&&!n},l=function(e,n){var a=n&&n.examRecord&&n.examRecord.currentTime;return a=a||(new Date).getTime(),e&&a>e},s=function(e){return e.examRecord.isFinished},r=function(e){return 0===e.examRecord.isFinished},l=function(e){var n=e&&e.examRecord&&e.examRecord.currentTime;return n=n||(new Date).getTime(),!e.startTime&&!e.endTime||e.endTime<n},o=function(e){return e.examRecord&&e.examRecord.status>4},d=function(e){return e.examRecord&&e.examRecord.status<4&&e.examRecord.submitTime},c=function(e){return e.examRecord&&5===e.examRecord.status},u=function(e){return 2===e.status}},{}),loadjs.d("./app/exam/exam/other-exam-prompt/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda;return'    <div class="exam-notes-content">\n        <p>'+e.escapeExpression(s(null!=(l=null!=n?n.currentExam:n)?l.examNotes:l,n))+"</p>\n        <p>"+(null!=(l=s(null!=(l=null!=n?n.currentExam:n)?l.content:l,n))?l:"")+'</p>\n        <div class="layout-mt-small">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.currentExam:n)?l.buttons:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n    </div>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                <button class="btn" id="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.text||(null!=n?n.text:n))?l:r,"function"==typeof l?l.call(s,{name:"text",hash:{},data:i}):l))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/other-exam-prompt/view-main",function(e,n,a){var t,i,l={1:"您好，本次考试尚未到考试时间，请在考试时间{0}内进行考试，谢谢",2:"点击下方“查看详情”可查看上次考试成绩详情",3:"您好，本次考试没有通过，点击下方“重新考试”后将会立即重新考试，点击下方“查看详情”可查看考试成绩详情",4:"点击下方“开始考试”后将会立即进入考试，该考试时长为{0}分钟",5:"您好,本次考试已结束",6:"点击下方“查看详情”可查看考试成绩详情",7:"您好，您的作答记录已上传，系统正在同步您的分数，请30分钟后再次查看。",8:"您好，本次考试处于待评卷状态，点击下方“查看详情”可查看考试详情",9:"您好, 系统正在生成试卷，请稍后再试",10:"您好, 点击下方“重新考试”后可重新考试",11:"您好, 您已经参加过考试"},s=e("./app/exam/exam/other-exam-prompt/prompt-help"),r=e("./app/util/helpers");a.bindings={exam:!0},a.dataForTemplate={currentExam:function(e){var n=i(e.exam);return{content:n.content,buttons:n.buttons,examNotes:e.exam.examNotes}}},a.events={"click close-button":"close","click had-knew-button":"close","click exam-later-button":"close","click come-later-button":"close","click to-exam-button":"toExam","click view-detail-button":"viewDetail","click exam-again-button":"toExam"},a.handlers={close:function(){if(this.module.renderOptions.toActivityHome)return this.app.navigate("activity/index",!0),void this.app.viewport.closeModal();this.app.viewport.closeModal()},toExam:function(){var e=this.bindings.exam.data.id,n="#/exam/exam/answer-paper/"+e;window.open(n,"_blank"),this.app.viewport.closeModal()},viewDetail:function(){var e=this.bindings.exam.data.examRecord.id,n=this.bindings.exam.data.id,a="#/exam/exam/score-detail/"+e+"/"+n;window.open(a,"_blank"),this.app.viewport.closeModal()}},i=function(e){var n,a,i,o=s.getUserStatusOfExam(e),d={id:"had-knew-button",text:"我已经知道了"},c={id:"exam-later-button",text:"以后再考"},u={id:"to-exam-button",text:"开始考试"},m={id:"view-detail-button",text:"查看详情"},p={id:"exam-again-button",text:"重新考试"};return 4===e.showAnswerRule?(i={1:[d],2:[d],3:[p],4:[c,u],5:[d],6:[d],7:[],8:[],9:[d],10:[p],11:[]},l[2]="您已参加过考试",l[3]="您好，本次考试没有通过，点击下方“重新考试”后将会立即重新考试",l[6]="您已参加过考试",l[8]="您好，本次考试处于待评卷状态"):i={1:[d],2:[d,m],3:[m,p],4:[c,u],5:[d],6:[d,m],7:[],8:[m],9:[d],10:[p,m],11:[m]},3===e.sourceType&&null!==e.allowExamTimes&&0!==e.allowExamTimes&&(l[4]="您一共可参加{0}次考试，您还剩{1}次考试机会。</br>本次考试时长为{2}分钟。",l[10]="您一共可参加{0}次考试，您还剩{1}次考试机会。",l[11]="您一共可参加{0}次考试，您还剩{1}次考试机会。"),3!==e.sourceType||null!==e.allowExamTimes&&0!==e.allowExamTimes||(l[4]="本次考试不限次数。</br>本次考试时长为{0}分钟。",l[10]="本次考试不限次数。",l[11]="本次考试不限次数。"),{content:function(i,l,s){return 4===s&&3!==e.sourceType?t(l,i.duration):1===s?t(l,r.dateMinute(i.startTime)+"  ~  "+r.dateMinute(i.endTime)):4!==s&&10!==s&&11!==s||3!==e.sourceType?l:null===i.allowExamTimes||0===i.allowExamTimes?t(l,[i.duration]):(n=i.allowExamTimes,a=i.allowExamTimes-i.examedTimes>=0?i.allowExamTimes-i.examedTimes:0,t(l,[n,a,i.duration]))}(e,l[o],o),buttons:i[o]}},t=function(e,n){var a,t,i;if(!n)return e;for(i=!n||n instanceof Array?n:[n],a=e,t=0;t<i.length;t++)a=a.replace(new RegExp("\\{"+t+"\\}","g"),i[t]);return a}},{"./app/exam/exam/other-exam-prompt/prompt-help":"./app/exam/exam/other-exam-prompt/prompt-help","./app/util/helpers":"./app/util/helpers"}),loadjs.d("./app/exam/exam/paper/index",function(e,n,a){a.items={main:"main",tips:""},a.store={models:{exam:{url:"../exam/exam/front/user-record"}},callbacks:{init:function(e){return e.examId?(this.models.exam.set({id:e.examId}),this.get(this.models.exam)):""}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/exam/exam/paper/view-main",function(e,n,a){var t="exam/exam/score-detail";a.bindings={exam:!0},a.afterRender=function(){var e=this.bindings.exam.data,n=e.examRecord;return 4===e.sourceType&&null!==e.allowExamTimes&&void 0!==e.allowExamTimes&&e.examedTimes>=e.allowExamTimes&&0!==e.allowExamTimes?this.module.regions.main.show(t,{examRecordId:n.id,examId:e.id}):4!==e.sourceType||null!==e.allowExamTimes||1!==e.isOverByPassExam||null!==e.examRecord.isFinished&&0!==e.examRecord.isFinished&&void 0!==e.examRecord.isFinished?4===e.sourceType&&null===e.allowExamTimes&&1===e.examRecord.isFinished?this.module.regions.main.show(t,{examRecordId:n.id,examId:e.id}):1!==e.sourceType&&e.createTime>15410016e5&&null!==e.allowExamTimes&&void 0!==e.allowExamTimes&&(e.examedTimes<e.allowExamTimes||0===e.allowExamTimes)?this.module.regions.main.show("exam/exam/answer-paper",{examId:e.id}):2===e.status?(this.app.viewport.modal(this.module.items.tips,{tips:"试卷正在生成中，请稍后再试"}),!0):n&&5===n.status?this.module.regions.main.show(t,{examRecordId:n.id,examId:e.id}):n&&n.status<4&&n.submitTime?(this.app.viewport.modal(this.module.items.tips,{tips:"您的作答记录已上传，系统正在同步您的分数，请30分钟后再次查看。"}),!0):n&&n.status>4&&1===n.isFinished?this.module.regions.main.show(t,{examRecordId:n.id,examId:e.id}):this.module.regions.main.show("exam/exam/answer-paper",{examId:e.id}):this.module.regions.main.show("exam/exam/answer-paper",{examId:e.id})}},{}),loadjs.d("./app/exam/exam/preview-paper/index",function(e,n,a){var t=e("./app/exam/exam/base-paper/index"),i=e("drizzle-zxy"),l=e("lodash/collection"),s={INIT:"init",CHECK:"check",ACTIVE:"active",CURRENT:"current",CORRECT:"correct",ERROR:"error",NOANSWER:"no-answer",NOMARK:"no-mark"},r={store:{models:{exam:{url:"../exam/exam/front/find-by-ids"},paper:{url:"../exam/paper-class"},questions:{mixin:{init:function(e){var n=l.filter(e.paperClassQuestions,function(e){return e.parentId}),a=l.filter(e.paperClassQuestions,function(e){return!e.parentId});this.data=l.map(a,function(e){return 6===e.question.type?i.assign(e.question,{score:e.score,sequence:e.sequence,questionAttrCopys:e.question.questionAttrs,subs:l.map(e.question.subs,function(e){var a=l.find(n,["questionId",e.id]);return i.assign(e,{score:a?a.score:e.score,questionAttrCopys:a.question.questionAttrs})})}):i.assign(e.question,{score:e.score,sequence:e.sequence,questionAttrCopys:e.question.questionAttrs})})}}}},callbacks:{init:function(e){var n=this.models.paper,a=this.models.state,t=this.models.types,l=this.models.questions,s=this.models.exam,r=this;return this.module.dispatch("clearModels"),e.exam&&i.assign(s.data,e.exam),e.paperId||e.examId?(i.assign(n.params,{paperId:e.paperId,examId:e.examId}),i.assign(s.params,{ids:e.examId}),this.get(s).then(function(){return s.data=s.data[0],r.get(r.models.paper,{loading:!0}).then(function(){l.init(n.data),t.init(l.data,!0,!0),i.assign(s.data,{paper:i.assign(n.data,{questions:l.data}),examNotes:n.data.exam.examNotes||"",paperShowRule:s.data.paperShowRule||n.data.exam.paperShowRule||1}),a.init(s.data||{})})})):""}}}},o=i.assign({},t.store.models),d=i.assign({},t.store.callbacks),c=i.assign({},{items:t.items,store:{models:i.assign(o,r.store.models),callbacks:i.assign(d,r.store.callbacks)},beforeRender:function(){return this.dispatch("init",this.renderOptions)},getCurrentStatus:function(){return s.INIT}});n.exports=c},{"./app/exam/exam/base-paper/index":"./app/exam/exam/base-paper/index","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/preview-paper/templates",function(e,n,a){
var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="achievement-content">\n        <div class="achievement-side bg-color">\n            <div data-region="side"></div>\n        </div>\n        <div class="achievement-head" data-region="head"></div>\n        <div class="achievement-main" data-region="main"></div>\n    </div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="side-top">本卷共'+r(s(null!=(l=null!=n?n.state:n)?l.totalCount:l,n))+"题，总分"+r(s(null!=(l=null!=n?n.state:n)?l.totalScore:l,n))+'分</div>\n    <ul class="list">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li>\n            <div class="list-title" id="list-item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'"></i><i class="iconfont icon-triangle-down '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(5,i,0),data:i}))?l:"")+'"></i></span>\n                '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i}):s))+'分)\n            </div>\n            <div class="min-btn-groups  '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'">\n'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n        </li>\n    "},5:function(e,n,a,t,i){return""},7:function(e,n,a,t,i){return"hidden"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","current",{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","correct",{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","error",{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","no-answer",{name:"compare",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","init",{name:"compare",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item current" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item right" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item wrong" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},16:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item no-mark" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},18:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},20:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="pull-left title" title="'+r(s(null!=(l=null!=n?n.state:n)?l.name:l,n))+'">考试名称: '+r(s(null!=(l=null!=n?n.state:n)?l.name:l,n))+'</div>\n    <div class="text-right">\n        <ul class="head-info inline-block">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.showExamNotes:n,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+'        </ul>\n        <div id="close" class="btn">关闭</div>\n    </div>\n'},21:function(e,n,a,t,i){var l;return'                <li class="drop-down-wrapper right">\n                    <i class="iconfont icon-notice drop-down-btn">\n                        <div class="drop-down-content"><div class="content">\n                            <div class="sub-tip">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.examNotes:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n                        </div></div>\n                    </i>\n                </li>\n"},23:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="preview-content" oncontextmenu1="window.event.returnValue=false;" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.program(27,i,0),data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},24:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:""},25:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                <div class="row"></div>\n                <div class="col-xs-6">\n                    <div class="com-title inline-block">'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeDesc:l,n))+"("+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.index:l,n))+"/"+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.totalCount:l,n))+')</div>\n                    <div class="inline-block">本题分数:'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.score:l,n))+'</div>\n                </div>\n                <div data-dynamic-key="'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n'},27:function(e,n,a,t,i){var l;return"            <div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},28:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                    <div class="h3 m-bottom">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i}):s))+"分)</div>\n"+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))?l:"")},29:function(e,n,a,t,i){var l;return'                        <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},31:function(e,n,a,t,i){var l,s=null!=n?n:{};return'            <div class="text-right m-bottom">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.hasPrevious:l,{name:"if",hash:{},fn:e.program(32,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.hasNext:l,{name:"if",hash:{},fn:e.program(34,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},32:function(e,n,a,t,i){var l;return'                    <div class="btn white border m-right" id="prev-'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'">上一题</div>\n'},34:function(e,n,a,t,i){var l;return'                    <div class="btn white border" id="next-'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'">下一题</div>\n'},36:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.showAnswerDetail:l,{name:"if",hash:{},fn:e.program(37,i,0),inverse:e.noop,data:i}))?l:""},37:function(e,n,a,t,i){return'        <div data-dynamic-key="answer-detail"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"answer-detail",{name:"view",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/preview-paper/view-exam-notes",function(e,n,a){n.exports=e("./app/exam/exam/base-paper/view-exam-notes")},{"./app/exam/exam/base-paper/view-exam-notes":"./app/exam/exam/base-paper/view-exam-notes"}),loadjs.d("./app/exam/exam/preview-paper/view-head",function(e,n,a){var t=e("./app/exam/exam/base-paper/view-head"),i=e("drizzle-zxy"),l=i.assign({},t),s=i.assign({},l.events),r=i.assign({},l.handlers);l.events=s,i.assign(l.events,{"click close":"clickClose"}),l.handlers=r,i.assign(l.handlers,{clickClose:function(){window.close()}}),n.exports=l},{"./app/exam/exam/base-paper/view-head":"./app/exam/exam/base-paper/view-head","drizzle-zxy":!1}),loadjs.d("./app/exam/exam/preview-paper/view-main",function(e,n,a){var t,i=e("./app/exam/exam/base-paper/view-main"),l=e("drizzle-zxy"),s=l.assign({},i),r=l.assign({},s.bindings),o=e("./app/exam/exam-question-types"),d=e("lodash/collection"),c={ANSWER_PAPER_MODE:3,NO_DETAIL_MODE:-1,TO_BE_OVER:5,SINGLE:1,MUTIPLE:2,JUDGE:3,SORT:8};s.bindings=r,l.assign(s.bindings,{exam:!1}),l.assign(s,{type:"dynamic",getEntity:function(e){var n=this.bindings.types.getQuestionById(e),a=l.assign({},n),i=d.map(n.subs,function(e){var n=l.assign({},e);return l.assign(n,{questionAttrs:e.questionAttrCopys,errorRate:n.errorRate/1e4,answerRecord:null===n.answerRecord?null:l.assign({},n.answerRecord,{score:t(n)})})});return l.assign(a,{errorRate:a.errorRate/1e4,questionAttrs:n.questionAttrCopys,answerRecord:a.answerRecord?l.assign({},a.answerRecord,{score:t(a)}):null,subs:i})},getEntityModuleName:function(e,n){return o.get(n.type,c.ANSWER_PAPER_MODE)},dataForEntityModule:function(e){return{data:e,multiple:2===e.type,mode:-1}}}),n.exports=s,t=function(e){return 1===e.type||2===e.type||3===e.type||8===e.type?e.answerRecord?e.answerRecord.score/100:0:e.answerRecord&&e.answerRecord.score&&e.answerRecord.score?e.answerRecord.score/100:null}},{"./app/exam/exam-question-types":"./app/exam/exam-question-types","./app/exam/exam/base-paper/view-main":"./app/exam/exam/base-paper/view-main","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/question/types/answer/choise/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{mixin:{getOption:function(e){return this.data.options[e]}}},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n,a,l=this.models.state.data={options:[],title:"单选题",answer:"",mutiple:!1,gainScore:0,errorRate:0},s=e.data,r=t.get("question-types");if(s){for(i.assign(l,s),a=s.questionAttrs,n=0;n<a.length;n++)l.options.push({content:a[n].value,isAnswer:0===Number(a[n].type),isRichText:!1,mutiple:2===s.type,id:a[n].id,name:a[n].name}),0===Number(a[n].type)&&(l.answer+=String.fromCharCode(n+"A".charCodeAt(0)));l.type=r[Number(s.type)-1].value,2===Number(s.type)&&(l.title="多选题"),!l.gainScore&&s.answerRecord&&(l.gainScore=s.answerRecord.score)}l.detailMode=e.mode,this.models.answer.init(e.answer),this.models.state.changed()},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e)}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/exam/exam/question/types/answer/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="question">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+"</a></span>\n        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<div class="answer">\n    <div class="preview-list"><dl>'+(null!=(l=a.each.call(s,null!=n?n.options:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"    </dl></div>\n"+(null!=(l=a.if.call(s,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"</div>"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <dd id="item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n'+(null!=(l=a.if.call(r,null!=n?n.mutiple:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(12,i,0),data:i}))?l:"")+'            <label for="answer-item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <span class="pull-left option-num">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.code:n,".",{name:"echoX",hash:{},data:i}))?l:"")+'</span>\n                <div class="answer-options m-left">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n            </label>\n        </dd>\n"},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="checkbox">\n                    <input '+(null!=(l=a.if.call(r,null!=n?n.isDisabled:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="check-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"/>\n                    <label for="check-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"></label>\n                </div>\n'},8:function(e,n,a,t,i){return' disabled="disabled"'},10:function(e,n,a,t,i){return' checked="checked"'},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="radio m-right">\n                    <input '+(null!=(l=a.if.call(r,null!=n?n.isDisabled:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="value-'+d((s=null!=(s=a.questionId||(null!=n?n.questionId:n))?s:o,"function"==typeof s?s.call(r,{name:"questionId",hash:{},data:i}):s))+'" id="radio-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"/>\n                    <label for="radio-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"></label>\n                </div>\n'},14:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowAnswer:l,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+'                </div></div>\n                <div class="text-right">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowGainScore:l,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+"                    \x3c!--  span.layout-ml > echo('本题易错率：' state.errorRate '%') --\x3e\n                </div>\n            </div>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=(l=null!=n?n.state:n)?l.showAnswerRule:l,"eq",1,{name:"compare",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},15:function(e,n,a,t,i){var l;return"                        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},"标准答案：",null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n"},17:function(e,n,a,t,i){var l;return"                        <span>本题得分："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"</span>\n"},19:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.parsing:l,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:""},20:function(e,n,a,t,i){var l;return'                    <div class="parsing clearfix">\n                        <div class="common-title">\n                            <div class="pull-left">试题解析：</div>\n                            <div class="overflow">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.parsing:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n                        </div>\n                    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/question/types/answer/choise/view-content",function(e,n,a){var t=e("drizzle-zxy");a.bindings={state:!0},a.dataForTemplate={state:function(e){var n=this.module.renderOptions.indexType,a=e.state;return n&&1===n?t.assign(a,{index:String.fromCharCode(9263+(a.index+"").charCodeAt(0))+"【"+a.type+"】"}):t.assign(a,{index:a.index+"、"})}}},{"drizzle-zxy":!1}),loadjs.d("./app/exam/exam/question/types/answer/choise/view-options",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.bindings={state:!0,answer:!0},a.dataForTemplate={options:function(e){var n=e.answer,a=this;return t.map(e.state.options,function(i,l){var s=i;s.index=l,s.code=String.fromCharCode(s.index+"A".charCodeAt(0)),s.questionId=a.bindings.state.data.id,s.isDisabled=e.state.detailMode>0,t.find(n.value,["value",s.name])&&(s.checked=!0)}),e.state.options},isShowDetail:function(){var e=this.bindings.state.data.detailMode;return e&&e>0&&e<4},state:function(e){return i.assign(e.state,{errorRate:e.state.errorRate/1e4})}},a.events={"click check-*":"check","click radio-*":"radio"},a.handlers={check:function(e){var n,a=this.bindings.answer.data,i=this.bindings.state.getOption(e);return this.$("check-"+e).checked?(a.key=this.bindings.state.data.id,a.value.push({id:i.id,value:i.name})):(n=t.reject(a.value,["value",i.name]),this.bindings.answer.data={key:this.bindings.state.data.id,value:n}),this.module.dispatch("save")},radio:function(e){var n,a=this.bindings.answer.data,i=this.bindings.state.getOption(e);return this.$("radio-"+e).checked?(a.key=this.bindings.state.data.id,a.value=[{id:i.id,value:i.name}]):(n=t.reject(a.value,["value",i.name]),this.bindings.answer.data=n),this.module.dispatch("save")}},a.beforeRender=function(){var e=this.bindings.state.data;1===e.detailMode&&(e.isShowAnswer=!0,e.isShowGainScore=!0),2===e.detailMode?(e.isShowAnswer=!1,e.isShowGainScore=!0):3===e.detailMode&&(e.isShowAnswer=!1,e.isShowGainScore=!0,this.bindings.answer.data={})}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/question/types/answer/judgement/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{data:{}},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data={gainScore:0,errorRate:0},l=t.get("judgement"),s=t.get("question-types");i.assign(a,n),-1!==e.mode&&n.questionAttrs.length>0&&(a.answer=l[Number(n.questionAttrs[0].value)].value),a.type=s[Number(n.type)-1].value,!a.gainScore&&n.answerRecord&&(a.gainScore=n.answerRecord.score),a.detailMode=e.mode,this.models.answer.init(e.answer)},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/exam/exam/question/types/answer/judgement/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="question">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+"、</a></span>\n        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'<div class="answer">\n    <div class="preview-list"><dl>\n        <dd>\n            <div class="radio">\n                <input '+(null!=(l=a.if.call(s,null!=n?n.isDisabled:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(s,null!=n?n.isCorrect:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="value-'+o(r(null!=(l=null!=n?n.state:n)?l.id:l,n))+'" value="1" id="check-0"/>\n                <label for="check-0"></label>\n            </div>\n            <span class="m-right">正确</span>\n            <div class="radio">\n                <input '+(null!=(l=a.if.call(s,null!=n?n.isDisabled:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(s,null!=n?n.isError:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="value-'+o(r(null!=(l=null!=n?n.state:n)?l.id:l,n))+'" value="0" id="check-1"/>\n                <label for="check-1"></label>\n            </div>\n            <span>错误</span>\n        </dd>\n    </dl></div>\n'+(null!=(l=a.if.call(s,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"</div>"},6:function(e,n,a,t,i){return' disabled="disabled"'},8:function(e,n,a,t,i){return' checked="checked"'},10:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowAnswer:l,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+'                </div></div>\n                <div class="text-right">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowGainScore:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+"                    \x3c!--  span.layout-ml > echo('本题易错率：' state.errorRate '%') --\x3e\n                </div>\n            </div>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=(l=null!=n?n.state:n)?l.showAnswerRule:l,"eq",1,{name:"compare",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},11:function(e,n,a,t,i){var l;return"                        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},"标准答案：",null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n"},13:function(e,n,a,t,i){var l;return"                        <span>本题得分："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"</span>\n"},15:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.parsing:l,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:""},16:function(e,n,a,t,i){var l;return'                    <div class="parsing clearfix">\n                        <div class="common-title">\n                            <div class="pull-left">试题解析：</div>\n                            <div class="overflow">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.parsing:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n                        </div>\n                    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/question/types/answer/judgement/view-options",function(e,n,a){var t=e("drizzle-zxy");a.bindings={state:!0,answer:!0},a.dataForTemplate={isCorrect:function(){var e=this.bindings.answer.data;return!!(e.value&&e.value.length>0)&&1===Number(e.value[0].value)},isError:function(){var e=this.bindings.answer.data;return!!(e.value&&e.value.length>0)&&0===Number(e.value[0].value)},isShowDetail:function(){var e=this.bindings.state.data.detailMode;return e&&e>0&&e<4},state:function(e){return t.assign(e.state,{errorRate:e.state.errorRate/1e4})},isDisabled:function(){var e=this.bindings.state.data.detailMode;return e&&e>0}},a.events={"click check-*":"check"},a.handlers={check:function(e){return this.bindings.answer.set({key:this.bindings.state.data.id,value:[{id:this.$("check-"+e).value,value:this.$("check-"+e).value}]}),this.module.dispatch("save")}},a.beforeRender=function(){var e=this.bindings.state.data;1===e.detailMode&&(e.isShowAnswer=!0,e.isShowGainScore=!0),2===e.detailMode?(e.isShowAnswer=!1,e.isShowGainScore=!0):3===e.detailMode&&(e.isShowAnswer=!1,e.isShowGainScore=!0,this.bindings.answer.data={})}},{"drizzle-zxy":!1}),loadjs.d("./app/exam/exam/question/types/answer/line/index",function(e,n,a){var t=e("./app/util/maps");a.items={content:"content",options:"options"},a.store={models:{state:{data:{}}},callbacks:{init:function(e){var n,a=e.data,i=a.questionAttrs,l=t.get("question-types"),s=t.get("question-difficultys"),r=this.models.state.data={answer:""},o=[],d=[],c=0;for(r.content=a.content,r.score=a.score,r.type=l[Number(a.type)-1].value,r.difficulty=s[Number(a.difficulty)-1].value,c;c<i.length;c++)n=String.fromCharCode(c+"A".charCodeAt(0)),o.push({content:i[c].name,i:c,code:n}),d.push({content:i[c].value,i:c,code:n}),r.answer+=i[c].name+"-"+i[c].value;r.items=o,r.matchs=d,this.models.state.changed()}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps"}),loadjs.d("./app/exam/exam/question/types/answer/line/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <div class="row">\n        <div class="col-xs-6"><div class="com-title">连线题</div></div>\n        <div class="col-xs-6"><div class="m-top text-right">\n            本题分数：\n            '+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.score:l,n))+'\n        </div></div>\n    </div>\n    <p class="question">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</p>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'<div class="answer line">\n    <div class="row">\n        <div class="col-sm-6"><ul>'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.state:n)?l.items:l,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'        </ul></div>\n        <div class="col-sm-6"><ul>'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.state:n)?l.matchs:l,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'        </ul></div>\n    </div>\n    <div class="clearfix">\n        <div class="pull-right m-bottom">\n            <div class="inline-block">\n                <span class="text-tips">标准答案:</span>\n                <span>'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(s,null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i
}))?l:"")+'</span>\n            </div>\n            <div class="inline-block m-left">\n                <span class="text-tips">题型:</span>\n                <span>'+o(r(null!=(l=null!=n?n.state:n)?l.type:l,n))+'</span>\n            </div>\n            <div class="inline-block m-left">\n                <span class="text-tips">分数:</span>\n                <span>'+o(r(null!=(l=null!=n?n.state:n)?l.score:l,n))+'</span>\n            </div>\n            <div class="inline-block m-left">\n                <span class="text-tips">难度:</span>\n                <span>'+o(r(null!=(l=null!=n?n.state:n)?l.difficulty:l,n))+"</span>\n            </div>\n        </div>\n    </div>\n</div>"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing;return'\n            <li>\n                <div class="inline-block"><label class="no-margin" for="answer-item-'+e.escapeExpression((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+'">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.code:n,".",null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"</label></div>\n            </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/question/types/answer/question-answer/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data={gainScore:5===e.status?"-":0,errorRate:0},l=t.get("question-types");i.assign(a,n),n.questionAttrs.length>0&&(a.answer=n.questionAttrs[0].value),a.type=l[Number(n.type)-1].value,n.answerRecord&&null!==n.answerRecord.score?a.gainScore=n.answerRecord.score:n.answerRecord||(a.gainScore=0),a.detailMode=e.mode,this.models.answer.init(e.answer)},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/exam/exam/question/types/answer/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="question">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+"</a></span>\n        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<form class="vertical layout-mb-small">\n'+(null!=(l=a.if.call(s,null!=n?n.isDisabled:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"</form>"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing;return'        <div class="m-top"><div class="textarea input disabled" id="answer" name="value" '+e.escapeExpression((s=null!=(s=a.disabled||(null!=n?n.disabled:n))?s:o,"function"==typeof s?s.call(r,{name:"disabled",hash:{},data:i}):s))+">"+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.answer:n,{name:"echoX",hash:{},data:i}))?l:"")+"</div></div>\n"},8:function(e,n,a,t,i){var l;return'        <div class="m-top"><textarea class="input w-full" id="answer" name="value" rows="5" placeholder="请输入答案">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=n?n.answer:n,{name:"echoX",hash:{},data:i}))?l:"")+"</textarea></div>\n"},10:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowAnswer:l,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+'                </div></div>\n                <div class="text-right">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowGainScore:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+"                    \x3c!--  span.layout-ml > echo('本题易错率：' state.errorRate '%') --\x3e\n                </div>\n            </div>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=(l=null!=n?n.state:n)?l.showAnswerRule:l,"eq",1,{name:"compare",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},11:function(e,n,a,t,i){var l;return"                        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},"标准答案：",null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n"},13:function(e,n,a,t,i){var l;return"                        <span>本题得分："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"</span>\n"},15:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.parsing:l,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:""},16:function(e,n,a,t,i){var l;return'                    <div class="parsing clearfix">\n                        <div class="common-title">\n                            <div class="pull-left">试题解析：</div>\n                            <div class="overflow">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.parsing:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n                        </div>\n                    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/question/types/answer/question-answer/view-options",function(e,n,a){var t=e("jquery"),i=e("drizzle-zxy");a.bindings={state:!0,answer:!0},a.events={"change answer":"changeAnswer"},a.handlers={changeAnswer:function(){return this.bindings.answer.set({key:this.bindings.state.data.id,value:[{id:this.bindings.state.data.id,value:t(this.$("answer")).val().trim()}]}),this.module.dispatch("save")}},a.dataForTemplate={answer:function(){var e=this.bindings.answer;return e.data.value&&e.data.value.length>0?e.data.value[0].value:""},isShowDetail:function(e){var n=e.state.detailMode;return n&&n>0&&n<4},state:function(e){return i.assign(e.state,{errorRate:e.state.errorRate/1e4})},isDisabled:function(e){var n=e.state.detailMode;return n&&n>0}},a.beforeRender=function(){var e=this.bindings.state.data;1===e.detailMode&&(e.isShowAnswer=!0,e.isShowGainScore=!0),2===e.detailMode?(e.isShowAnswer=!1,e.isShowGainScore=!0):3===e.detailMode&&(e.isShowAnswer=!1,e.isShowGainScore=!0,this.bindings.answer.data={})}},{"drizzle-zxy":!1,jquery:!1}),loadjs.d("./app/exam/exam/question/types/answer/reading-comprehension/index",function(e,n,a){var t,i=e("./app/util/maps"),l=e("lodash/collection"),s=e("drizzle-zxy");a.items={content:"content",subs:"subs"},a.store={models:{state:{},sub:{data:{},mixin:{getQuestionById:function(e){return l.find(this.data.questions,["id",e])}}},answer:{data:{},mixin:{init:function(e){this.data=e||{key:this.store.models.state.data.id,type:6,value:[]}},save:function(e){var n,a=this.data.value;n=l.reject(a,["key",e.key]),n.push(e),this.data.value=n},getAnswer:function(e){var n=this.data.value;return l.find(n,["key",e])}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data,l=i.get("question-types");s.assign(a,n),a.type=l[Number(n.type)-1].value,a.detailMode=e.mode,a.subMode=e.subMode,a.status=e.status,this.models.sub.data.questions=t(n.subs),this.models.answer.init(e.answer)},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(s.assign(e,{type:6}))}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},t=function(e){return l.orderBy(e,["type"],["asc"])}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/question/types/answer/reading-comprehension/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="subs"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="question">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+"、</a></span>\n        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </div>\n"},5:function(e,n,a,t,i){var l;return'<div class="m-bottom reading-comprehension-view">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.subs:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"</div>"},6:function(e,n,a,t,i){var l;return'        <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"subs",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/question/types/answer/reading-comprehension/view-subs",function(e,n,a){var t=e("lodash/collection"),i=e("./app/exam/exam-question-types"),l=e("drizzle-zxy");a.type="dynamic",a.bindings={sub:!0,answer:!0,state:!0},a.dataForTemplate={subs:function(){var e=this.bindings.sub.data.questions;return t.map(e,function(e,n){var a=e;return a.index=n+1,a})}},a.getEntity=function(e){var n=this.module.store.models.sub.getQuestionById(e),a=l.assign({},n),t=l.assign({},n.answerRecord);return n.questionAttrs||l.assign(a,{questionAttrs:n.questionAttrCopys,answerRecord:l.assign(t,{score:t.score/100})}),a},a.getEntityModuleName=function(e,n){return i.get(n.type,3)},a.dataForEntityModule=function(e){var n=this,a=this.bindings.state.data;return l.assign(e,{showAnswerRule:a.showAnswerRule}),{type:e.type,data:e,multiple:2===e.type,callback:function(e){return n.bindings.answer.save(e),n.module.dispatch("save")},answer:this.bindings.answer.getAnswer(e.id),mode:a.detailMode,status:a.status,indexType:1}}},{"./app/exam/exam-question-types":"./app/exam/exam-question-types","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/question/types/answer/sentence-completion/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data={gainScore:5===e.status?"-":0,errorRate:0},l=t.get("question-types");i.assign(a,n),n.questionAttrs.length>0&&(a.answer=n.questionAttrs[0].value),a.type=l[Number(n.type)-1].value,a.detailMode=e.mode,n.answerRecord&&null!==n.answerRecord.score?a.gainScore=n.answerRecord.score:n.answerRecord||(a.gainScore=0),this.models.answer.init(e.answer)},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/exam/exam/question/types/answer/sentence-completion/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="question">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+"、</a></span>\n        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return"<form class=\"vertical m-bottom\">\n    \x3c!--  textarea.input.w-full(id='answer' name='value' rows='5' placeholder='请输入答案')('disabled')&if(isDisabled) > @echoX(answer) --\x3e\n"+(null!=(l=a.each.call(s,null!=n?n.sentences:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"</form>"},6:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isDisabled:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))?l:""},7:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'            <div class="m-top"><input class="input w-full disabled" id="answer-'+o((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,"function"==typeof l?l.call(s,{name:"i",hash:{},data:i}):l))+'" name="value" value="'+o((l=null!=(l=a.answer||(null!=n?n.answer:n))?l:r,"function"==typeof l?l.call(s,{name:"answer",hash:{},data:i}):l))+'" '+o((l=null!=(l=a.disabled||(null!=n?n.disabled:n))?l:r,"function"==typeof l?l.call(s,{name:"disabled",hash:{},data:i}):l))+"/></div>\n"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'            <div class="m-top"><input class="input w-full" id="answer-'+o((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,"function"==typeof l?l.call(s,{name:"i",hash:{},data:i}):l))+'" name="value" value="'+o((l=null!=(l=a.answer||(null!=n?n.answer:n))?l:r,"function"==typeof l?l.call(s,{name:"answer",hash:{},data:i}):l))+'" placeholder="请输入答案"/></div>\n'},11:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowAnswer:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+'                </div></div>\n                <div class="text-right">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowGainScore:l,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"                    \x3c!--  span.layout-ml > echo('本题易错率：' state.errorRate '%') --\x3e\n                </div>\n            </div>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=(l=null!=n?n.state:n)?l.showAnswerRule:l,"eq",1,{name:"compare",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},12:function(e,n,a,t,i){var l;return"                        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},"标准答案：",null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n"},14:function(e,n,a,t,i){var l;return"                        <span>本题得分："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"</span>\n"},16:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.parsing:l,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:""},17:function(e,n,a,t,i){var l;return'                    <div class="parsing clearfix">\n                        <div class="common-title">\n                            <div class="pull-left">试题解析：</div>\n                            <div class="overflow">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.parsing:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n                        </div>\n                    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/question/types/answer/sentence-completion/view-options",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.bindings={state:!0,answer:!0},a.events={"change answer-*":"changeAnswer"},a.handlers={changeAnswer:function(){var e=this.bindings.answer;return e.set({key:this.bindings.state.data.id,value:[{id:this.bindings.state.data.id,value:function(e){return t.map(e,function(e){return e.value}).join("@answer@")}(this.$$('[name="value"]'))}]}),this.module.dispatch("save")}},a.dataForTemplate={answer:function(){var e=this.bindings.answer;return e.data.value&&e.data.value.length>0?e.data.value[0].value:""},isShowDetail:function(){var e=this.bindings.state.data.detailMode;return e&&e>0&&e<4},state:function(e){return i.assign(e.state,{errorRate:e.state.errorRate/1e4})},isDisabled:function(e){var n=e.state.detailMode;return n&&n>0},sentences:function(e){var n=e.state.content?e.state.content.replace(/<[^>]+>/g,"").replace(/&nbsp;/gi,""):e.state.content,a=new RegExp("\\(\\s*\\)","g"),t=n.match(a),i=t?t.length:0,l=[],s=e.answer.split("@answer@"),r=e.state.detailMode,o=r&&r>0,d=0;for(d;d<i;d++)l.push({i:d,answer:s.length>d?s[d]:"",isDisabled:o});return l}},a.beforeRender=function(){var e=this.bindings.state.data;1===e.detailMode&&(e.isShowAnswer=!0,e.isShowGainScore=!0),2===e.detailMode?(e.isShowAnswer=!1,e.isShowGainScore=!0):3===e.detailMode&&(e.isShowAnswer=!1,e.isShowGainScore=!0,this.bindings.answer.data={})}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/question/types/answer/sorting/index",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection"),l=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{data:{}},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n,a=e.data,s=this.models.state.data={gainScore:0,errorRate:0},r=t.get("question-types"),o=a.questionAttrs,d=0,c="";for(l.assign(s,a),s.type=i.find(r,["key",a.type.toString()]).value,s.options=[],i.find(o,["type","0"])&&(c=i.find(o,["type","0"]).value),o=i.filter(o,function(e){return 0!==Number(e.type)}),d;d<o.length;d++)n=String.fromCharCode(d+"A".charCodeAt(0)),s.options.push({content:o[d].value,name:o[d].name,code:n,i:d});""!==c&&(s.answer=i.map(i.filter(c.split("|"),function(e){return e}),function(e){return i.find(s.options,["name",e]).code}).join("")),!s.gainScore&&a.answerRecord&&(s.gainScore=a.answerRecord.score),s.detailMode=e.mode,this.models.answer.init(e.answer)},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e),this.models.state.changed()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/question/types/answer/sorting/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="question">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+"、</a></span>\n        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'    <div class="answer"><div class="preview-list">\n        <dl>'+(null!=(l=a.each.call(r,null!=(l=null!=n?n.state:n)?l.options:l,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'</dl>\n        <form class="vertical form">\n            <div class="w-half form-row">\n                <input class="input" '+(null!=(l=a.if.call(r,null!=n?n.isDisabled:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' id="answer" name="value" placeholder="请输入顺序" autocomplete="off" value="'+e.escapeExpression((s=null!=(s=a.answer||(null!=n?n.answer:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"answer",hash:{},data:i}):s))+'"/>\n                <div class="inline-block error" id="error"></div>\n            </div>\n        </form>\n    </div></div>\n'+(null!=(l=a.if.call(r,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n            <dd id="item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <label for="answer-item-'+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+'">\n                    <span class="option-num">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.code:n,".",{name:"echoX",hash:{},data:i}))?l:"")+'</span>\n                    <div class="answer-options m-left">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n                </label>\n            </dd>\n        "},8:function(e,n,a,t,i){return' disabled="disabled"'},10:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowAnswer:l,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+'                </div></div>\n                <div class="text-right">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowGainScore:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+"                    \x3c!--  span.layout-ml > echo('本题易错率：' state.errorRate '%') --\x3e\n                </div>\n            </div>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=(l=null!=n?n.state:n)?l.showAnswerRule:l,"eq",1,{name:"compare",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},11:function(e,n,a,t,i){var l;return"                        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},"标准答案：",null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n"},13:function(e,n,a,t,i){var l;return"                        <span>本题得分："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"</span>\n"},15:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.parsing:l,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:""},16:function(e,n,a,t,i){var l;return'                    <div class="parsing clearfix">\n                        <div class="common-title">\n                            <div class="pull-left">试题解析：</div>\n                            <div class="overflow">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.parsing:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n                        </div>\n                    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/question/types/answer/sorting/view-options",function(e,n,a){var t,i,l,s=e("lodash/collection"),r=e("jquery");a.bindings={state:!0,answer:!0},a.dataForTemplate={options:function(e){return s.map(e.state.options,function(e,n){var a=e;a.index=n,a.code=String.fromCharCode(a.index+"A".charCodeAt(0))}),e.state.options},answer:function(){var e=this.bindings.answer,n=this.bindings.state.data.options,a="";return e.data.value&&e.data.value.length>0&&(a=s.map(s.filter(e.data.value[0].value.split("|"),function(e){return e}),function(e){return s.find(n,["name",e]).code}).join("")),a},isShowDetail:function(){var e=this.bindings.state.data.detailMode;return e&&e>0&&e<4},isDisabled:function(e){var n=e.state.detailMode;return n&&n>0}},a.events={"change answer":"changeAnswer","keypress answer":"keypressAnswer"},a.handlers={changeAnswer:function(){var e,n,a=this.bindings.answer,t=this.bindings.state.data.options,i=this.$("answer").value.toLocaleUpperCase(),r=i;if(!l.call(this,r))return!1;for(e=0;e<i.length;e++)n=s.find(t,["code",i.charAt(e)]),r=r.replace(i.charAt(e),n.name+"|");return a.set({key:this.bindings.state.data.id,value:[{id:this.bindings.state.data.id,value:r}]}),this.module.dispatch("save")},keypressAnswer:function(e){var n=e.keyCode||e.which||e.charCode,a=String.fromCharCode(n).toLocaleUpperCase(),l=this.$("answer").value;return 8===n||(n>=65&&n<=122&&s.find(this.bindings.state.data.options,["code",a])?l.length>0&&function(e,n){return!e||!s.every(e,function(e){return e!==n})}(l.toLocaleUpperCase(),a)?(t.call(this,"有重复的字母顺序"),e.preventDefault(),!1):(i(),!0):(t.call(this,"仅支持字母顺序"),e.preventDefault(),!1))}},t=function(e){r(this.$("error")).html('<span class="error-text">'+e+"</span>"),r(this.$("answer")).addClass("error")},i=function(){r(this.$("error")).html(""),r(this.$("answer")).removeClass("error")},l=function(e){return!/.*[\u4e00-\u9fa5]+.*$/.test(e)||(t.call(this,"非法输入"),this.$("answer").value="",!1)},a.beforeRender=function(){var e=this.bindings.state.data;1===e.detailMode&&(e.isShowAnswer=!0,e.isShowGainScore=!0),2===e.detailMode?(e.isShowAnswer=!1,e.isShowGainScore=!0):3===e.detailMode&&(e.isShowAnswer=!1,e.isShowGainScore=!0,this.bindings.answer.data={})}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/question/types/mark/checkScore",function(e,n,a){var t=e("jquery");n.exports={isNull:function(e){return e&&""===e},isInputNumber:function(e){return 46===e||e>=48&&e<=57},isKeepOneDecimal:function(e){return/^\d+[.]?[1-9]?$/.test(e)},isOverRange:function(e,n){return e>n},setError:function(e,n,a){t(n).html('<span class="error-text">'+e+"</span>"),t(a).addClass("error")},clearError:function(e,n){t(e).html(""),t(n).removeClass("error")}}},{jquery:!1}),loadjs.d("./app/exam/exam/question/types/mark/question-answer/index",function(e,n,a){var t=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{},goal:{mixin:{init:function(e,n){this.data=e||{key:"",value:""},n.answerRecord&&""!==n.answerRecord.answer||(this.data={key:n.id,value:0})}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data;t.assign(a,n,{answer:n.questionAttrs[0].value}),a.answer=n.questionAttrs[0].value,this.models.goal.init(e.goal,a)},save:function(){var e=this.module.renderOptions.callback,n=this.models.goal.data;e&&e(n),this.models.goal.changed()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1}),loadjs.d("./app/exam/exam/question/types/mark/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="question">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+"</a></span>\n        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </div>\n    答："+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.answerRecord:l)?l.answer:l,n))+"\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <form class="vertical">\n        <div class="answer-row">\n            <p class="question color-pass">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(s,"标准答案：",null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+'</p>\n            <div class="clearfix mark-row border top dashed">\n                <div class="inline-block">本试题'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.score:l,n))+'分，</div>\n                <div class="inline-block">评分:</div>\n'+(null!=(l=a.if.call(s,null!=(l=null!=(l=null!=n?n.state:n)?l.answerRecord:l)?l.answer:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+'                <div class="inline-block">分</div>\n                <div class="inline-block m-left color-error" id="error"></div>\n            </div>\n        </div>\n    </form>\n'},6:function(e,n,a,t,i){var l;return'                    <input id="goal" class="input inline-block min-width" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.goal:n)?l.value:l,n))+'" name="goal"/>\n'},8:function(e,n,a,t,i){var l;return'                    <input id="goal" class="input inline-block min-width" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.goal:n)?l.value:l,n))+'" name="goal" disabled="disabled"/>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},
fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/question/types/mark/question-answer/view-content",function(e,n,a){var t=e("drizzle-zxy"),i=e("./app/util/maps");a.bindings={state:!0},a.dataForTemplate={state:function(e){var n=this.module.renderOptions.indexType,a=e.state,l=i.get("question-types");return n&&1===n?(a.type=l[Number(a.type)-1].value,t.assign(a,{index:String.fromCharCode(9263+(a.index+"").charCodeAt(0))+"【"+a.type+"】"})):t.assign(a,{index:a.index+"、"})}}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/exam/exam/question/types/mark/question-answer/view-options",function(e,n,a){var t=e("./app/exam/exam/question/types/mark/checkScore");a.bindings={state:!0,goal:!0},a.events={"change goal":"changeGoal","keypress goal":"keypressGoal"},a.handlers={changeGoal:function(){var e=this.$("goal"),n=this.bindings.state.data;return!!function(e,n){return t.isNull(e)?(t.setError("请为该题目评分",this.$("error"),this.$("goal")),!1):!t.isOverRange(e,n)||(t.setError("试题总分只有"+n+"分，请重新评分",this.$("error"),this.$("goal")),this.$("goal").value="",!1)}.call(this,e.value,this.bindings.state.data.score)&&(this.bindings.goal.data={key:this.bindings.state.data.id,value:e.value,type:this.bindings.state.data.type,isRight:Number(e.value)===n.score?1:0},this.module.dispatch("save"))},keypressGoal:function(e){var n=e.keyCode||e.which||e.charCode,a=this.$("goal"),i=String.fromCharCode(n);return 8===n||(!(!t.isInputNumber(n)||!t.isKeepOneDecimal(Number(a.value+i)))||(t.setError("只能填数字",this.$("error"),this.$("goal")),e.preventDefault(),!1))}}},{"./app/exam/exam/question/types/mark/checkScore":"./app/exam/exam/question/types/mark/checkScore"}),loadjs.d("./app/exam/exam/question/types/mark/reading-comprehension/index",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection"),l=e("drizzle-zxy");a.items={content:"content",subs:"subs"},a.store={models:{state:{},sub:{data:{},mixin:{getQuestionById:function(e){return i.find(this.data.questions,["id",e])}}},goal:{data:{},mixin:{init:function(e){this.data=e||{key:this.store.models.state.data.id,type:6,value:[]}},save:function(e){var n,a=this.data.value;n=i.reject(a,["key",e.key]),n.push(e),this.data.value=n},getGoal:function(e){var n=this.data.value;return i.find(n,["key",e])}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data,s=t.get("question-types");this.models.sub.clear(),l.assign(a,n),a.type=s[Number(n.type)-1].value,this.models.sub.data.questions=i.filter(n.subs,["type",5]),this.models.goal.init(e.goal)},save:function(){var e=this.models.goal.data,n=this.module.renderOptions.callback;n&&n(e)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/question/types/mark/reading-comprehension/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="subs"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="question">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+"、</a></span>\n        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </div>\n"},5:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.subs:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:""},6:function(e,n,a,t,i){var l;return'        <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"subs",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/question/types/mark/reading-comprehension/view-subs",function(e,n,a){var t=e("lodash/collection"),i=e("./app/exam/exam-question-types"),l=e("drizzle-zxy");a.type="dynamic",a.bindings={sub:!0,goal:!0},a.dataForTemplate={subs:function(){var e=this.bindings.sub.data.questions;return t.map(e,function(e,n){var a=e;return a.index=n+1,a})}},a.getEntity=function(e){var n=this.module.store.models.sub.getQuestionById(e),a={};return l.assign(a,n,{score:n.score/100,questionAttrs:t.orderBy(n.questionAttrCopys,["name"],["asc"])}),a},a.getEntityModuleName=function(e,n){return i.get(n.type,4)},a.dataForEntityModule=function(e){var n=this;return{type:e.type,data:e,multiple:2===e.type,callback:function(e){return n.bindings.goal.save(e),n.module.dispatch("save")},goal:this.bindings.goal.getGoal(e.id),indexType:1}}},{"./app/exam/exam-question-types":"./app/exam/exam-question-types","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/question/types/mark/sentence-completion/index",function(e,n,a){var t=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{},goal:{mixin:{init:function(e,n){this.data=e||{key:"",value:""},n.answerRecord&&""!==n.answerRecord.answer||(this.data={key:n.id,value:0})}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data;t.assign(a,n,{answer:n.questionAttrs[0].value}),this.models.goal.init(e.goal,a),this.models.state.changed()},save:function(){var e=this.module.renderOptions.callback,n=this.models.goal.data;e&&e(n)}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1}),loadjs.d("./app/exam/exam/question/types/mark/sentence-completion/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="question">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+"、</a></span>\n        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(o,null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </div>\n    <div>\n"+(null!=(l=a.each.call(o,null!=n?n.answers:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"            <div>\n                答"+o((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,"function"==typeof l?l.call(s,{name:"i",hash:{},data:i}):l))+":"+o((l=null!=(l=a.answer||(null!=n?n.answer:n))?l:r,"function"==typeof l?l.call(s,{name:"answer",hash:{},data:i}):l))+"\n            </div>\n"},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'    <form class="vertical">\n        <div class="answer-row">\n            <p class="m-top color-pass">\n                '+(null!=(l=(a.echoX||n&&n.echoX||r).call(s,"标准答案：",{name:"echoX",hash:{},data:i}))?l:"")+"\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.type:l,"eq",4,{name:"compare",hash:{},fn:e.program(7,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+'            </p>\n            <div class="clearfix mark-row border top dashed">\n                <div class="inline-block">本试题'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.score:l,n))+'分，</div>\n                <div class="inline-block">评分:</div>\n'+(null!=(l=a.if.call(s,null!=(l=null!=(l=null!=n?n.state:n)?l.answerRecord:l)?l.answer:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.program(14,i,0),data:i}))?l:"")+'                <div class="inline-block">分</div>\n                <div class="inline-block m-left color-error" id="error"></div>\n            </div>\n        </div>\n    </form>\n'},7:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.answer:l,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:""},8:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression((l=null!=(l=a.text||(null!=n?n.text:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"text",hash:{},data:i}):l))+" \n"},10:function(e,n,a,t,i){var l;return"                    "+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.answer:l,n))+"\n"},12:function(e,n,a,t,i){var l;return'                    <input id="goal" class="input inline-block min-width" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.goal:n)?l.value:l,n))+'" name="goal"/>\n'},14:function(e,n,a,t,i){var l;return'                    <input id="goal" class="input inline-block min-width" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.goal:n)?l.value:l,n))+'" name="goal" disabled="disabled"/>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/question/types/mark/sentence-completion/view-content",function(e,n,a){var t=e("lodash/collection");a.bindings={state:!0},a.dataForTemplate={answer:function(e){var n=e.state.answerRecord&&e.state.answerRecord.answer;return n?t.filter(n.split("@answer@"),function(e){return e}).join("|"):n},answers:function(e){var n=e.state.content?e.state.content.replace(/<[^>]+>/g,"").replace(/&nbsp;/gi,""):e.state.content,a=new RegExp("\\(\\s*\\)","g"),t=n?n.match(a):"",i=t?t.length:0,l=e.state.answerRecord&&e.state.answerRecord.answer,s=l?l.split("@answer@"):"",r=[],o=0;for(o;o<i;o++)r.push({i:o+1,answer:s.length>o?s[o]:""});return r}}},{"lodash/collection":!1}),loadjs.d("./app/exam/exam/question/types/mark/sentence-completion/view-options",function(e,n,a){var t=e("./app/exam/exam/question/types/mark/checkScore"),i=e("lodash/collection");a.bindings={state:!0,goal:!0},a.events={"change goal":"changeGoal","keypress goal":"keypressGoal"},a.handlers={changeGoal:function(){var e=this.$("goal"),n=this.bindings.state.data;return!!function(e,n){return t.isNull(e)?(t.setError("请为该题目评分",this.$("error"),this.$("goal")),!1):!t.isOverRange(e,n)||(t.setError("试题总分只有"+n+"分，请重新评分",this.$("error"),this.$("goal")),this.$("goal").value="",!1)}.call(this,e.value,this.bindings.state.data.score)&&(this.bindings.goal.data={key:this.bindings.state.data.id,value:e.value,type:this.bindings.state.data.type,isRight:Number(e.value)===n.score?1:0},this.module.dispatch("save"))},keypressGoal:function(e){var n=e.keyCode||e.which||e.charCode,a=this.$("goal"),i=String.fromCharCode(n);return 8===n||(!(!t.isInputNumber(n)||!t.isKeepOneDecimal(Number(a.value+i)))||(t.setError("非法输入， 只能输入数字，小数保留1位",this.$("error"),this.$("goal")),e.preventDefault(),!1))}},a.dataForTemplate={state:function(e){var n=e.state;return 4===n.type&&(n.answer=i.map(n.answer.split("|"),function(e){var n="";return i.forEach(e.split("#"),function(e){n+="“"+e+"”或"}),{text:n.slice(0,n.length-1)}})),n}}},{"./app/exam/exam/question/types/mark/checkScore":"./app/exam/exam/question/types/mark/checkScore","lodash/collection":!1}),loadjs.d("./app/exam/exam/question/types/review/sentence-completion/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="question">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+"、</a></span>\n        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(o,null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </div>\n    <div>\n"+(null!=(l=a.each.call(o,null!=n?n.answers:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"            <div>\n                答"+o((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,"function"==typeof l?l.call(s,{name:"i",hash:{},data:i}):l))+":"+o((l=null!=(l=a.answer||(null!=n?n.answer:n))?l:r,"function"==typeof l?l.call(s,{name:"answer",hash:{},data:i}):l))+"\n            </div>\n"},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.lambda,d=e.escapeExpression;return'    <form class="vertical">\n        <div class="answer-row">\n            <p class="m-top color-pass">\n                '+(null!=(l=(a.echoX||n&&n.echoX||r).call(s,"标准答案：",{name:"echoX",hash:{},data:i}))?l:"")+"\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.type:l,"eq",4,{name:"compare",hash:{},fn:e.program(7,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+'            </p>\n            <div class="clearfix mark-row border top dashed">\n                <div class="inline-block">本试题'+d(o(null!=(l=null!=n?n.state:n)?l.score:l,n))+'分，</div>\n                <div class="inline-block">系统评分:'+d(o(null!=(l=null!=(l=null!=n?n.state:n)?l.answerRecord:l)?l.score:l,n))+'分，</div>\n                <div class="inline-block">阅卷老师评分:</div>\n'+(null!=(l=a.if.call(s,null!=(l=null!=(l=null!=n?n.state:n)?l.answerRecord:l)?l.answer:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.program(14,i,0),data:i}))?l:"")+'                <div class="inline-block">分</div>\n                <div class="inline-block m-left color-error" id="error"></div>\n            </div>\n        </div>\n    </form>\n'},7:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.answer:l,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:""},8:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression((l=null!=(l=a.text||(null!=n?n.text:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"text",hash:{},data:i}):l))+" \n"},10:function(e,n,a,t,i){var l;return"                    "+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.answer:l,n))+"\n"},12:function(e,n,a,t,i){var l;return'                    <input id="goal" class="input inline-block min-width" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.goal:n)?l.value:l,n))+'" name="goal"/>\n'},14:function(e,n,a,t,i){var l;return'                    <input id="goal" class="input inline-block min-width" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.goal:n)?l.value:l,n))+'" name="goal" disabled="disabled"/>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/question/types/review/sentence-completion/view-options",function(e,n,a){var t=e("./app/exam/exam/question/types/mark/checkScore"),i=e("lodash/collection");a.bindings={state:!0,goal:!0},a.events={"change goal":"changeGoal","keypress goal":"keypressGoal"},a.handlers={changeGoal:function(){var e=this.$("goal"),n=this.bindings.state.data;return!!function(e,n){return t.isNull(e)?(t.setError("请为该题目评分",this.$("error"),this.$("goal")),!1):!t.isOverRange(e,n)||(t.setError("试题总分只有"+n+"分，请重新评分",this.$("error"),this.$("goal")),this.$("goal").value="",!1)}.call(this,e.value,this.bindings.state.data.score)&&(this.bindings.goal.data={key:this.bindings.state.data.id,value:e.value,type:this.bindings.state.data.type,isRight:Number(e.value)===n.score?1:0},this.module.dispatch("save"))},keypressGoal:function(e){var n=e.keyCode||e.which||e.charCode,a=this.$("goal"),i=String.fromCharCode(n);return 8===n||(!(!t.isInputNumber(n)||!t.isKeepOneDecimal(Number(a.value+i)))||(t.setError("非法输入， 只能输入数字，小数保留1位",this.$("error"),this.$("goal")),e.preventDefault(),!1))}},a.dataForTemplate={state:function(e){var n,a=e.state;return 4===a.type&&(a.answer=i.map(a.answer.split("|"),function(e){var n="";return i.forEach(e.split("#"),function(e){n+="“"+e+"”或"}),{text:n.slice(0,n.length-1)}})),a.answerRecord&&(n=a.answerRecord.score/100,a.answerRecord.score=n),a}}},{"./app/exam/exam/question/types/mark/checkScore":"./app/exam/exam/question/types/mark/checkScore","lodash/collection":!1}),loadjs.d("./app/exam/exam/review-paper/index",function(e,n,a){var t,i,l,s,r=e("./app/exam/exam/base-paper/index"),o=e("drizzle-zxy"),d=e("lodash/collection"),c=e("./app/util/strings"),u={ONE_HUNDRED:100,ZERO:0,ONE:1,SINGLE_MODE:1,PC_CLIENT_TYPE:1,READING:6,QUESTION_ANSWER:5,FILL_BLANK:4},m={INIT:"init",CHECK:"check",ACTIVE:"active",CURRENT:"current"},p=e("./app/ext/views/form/validators"),h=e("./app/util/maps"),f={store:{models:{exam:{type:"localStorage",url:"../exam/exam/exam-audit-paper/front",mixin:{getSystemExam:function(e){return d.find(this.data.paper.questions,["id",e])}}},grades:{type:"localStorage",mixin:{init:function(e){this.data=d.map(e,function(e){return e.type===u.READING?{key:e.id,value:d.map(d.filter(e.subs,function(e){return e.type===u.QUESTION_ANSWER}),function(e){return{key:e.id,value:"",type:e.type,isRight:0}}),type:e.type,isRight:u.ZERO}:{key:e.id,value:"",type:e.type,isRight:u.ZERO}})},getGrade:function(e){return d.find(this.data,["key",e])},saveGrade:function(e){this.data=d.reject(this.data,["key",e.key]),this.data.push(e)},getAnswerRecord:function(){var e,n=[],a=this;return d.forEach(this.data,function(t){t.type===u.READING?d.forEach(t.value,function(e){e.type===u.QUESTION_ANSWER&&n.push({questionId:e.key,score:(e.value*u.ONE_HUNDRED).toFixed(0),questionCopy:{type:e.type}})}):t.type===u.FILL_BLANK?(e=a.store.models.exam.getSystemExam(t.key),e=e&&e.answerRecord.score||0,n.push({questionId:t.key,score:""===t.value?e:(t.value*u.ONE_HUNDRED).toFixed(0),questionCopy:{type:t.type}})):n.push({questionId:t.key,score:(t.value*u.ONE_HUNDRED).toFixed(0),questionCopy:{type:t.type}})}),n},check:function(e){var n=this,a=[];return d.forEach(e,function(e){d.forEach(e.questions,function(e){var t=d.find(n.data,["key",e.id]),i=l.call(n,t.value,e);i.index&&a.push(i)})}),a}}},form:{url:"../exam/exam/audit-paper-info"},errors:{data:[],mixin:{saveError:function(e){this.data.push(e)}}},removeTodo:{url:"../exam/to-do/remove"},validateMark:{url:"../exam/exam/front/validate-audit-paper"}},callbacks:{init:function(e){var n=this.models.exam,a=this.models.types,t=this.models.state,l=this.models.grades,r=this.models.validateMark,d=this;return n.clear(),o.assign(n.params,{examRecordId:e.examRecordId,examId:e.examId}),o.assign(r.params,{examRecordId:e.examRecordId,examId:e.examId}),this.get(this.models.validateMark,{loading:!0}).then(function(){return"0"===r.data.status?(d.app.message.alert("您好，该试卷已被其他老师评卷，请阅其他试卷"),d.module.dispatch("removeTodo",{targetId:e.examRecordId,examId:e.examId}).then(function(){setTimeout(function(){i(),window.opener?(d.module.dispatch("clearModels"),window.close()):(d.module.dispatch("clearModels"),d.app.navigate("home"))},1500)})):d.get(n,{loading:!0}).then(function(){n.data&&(a.clearByKey(n.data.id),t.clearByKey(n.data.id),l.clear()),a.init(n.data.paper.questions),t.init(n.data),l.init(n.data.paper.questions)})},function(e){var n=JSON.parse(e[0].responseText).errorCode;30207!==n&&30208!==n||s.call(d)})},saveGrade:function(e){this.models.grades.saveGrade(e),this.models.state.data.singleMode||(this.models.types.updateStatus(e.key,m.ACTIVE),this.models.types.changed())},submitGrade:function(){var e=this.models.exam.data,n=this;return this.models.form.set({examRecordId:e.examRecord.id,examId:e.id,answerRecords:JSON.stringify(this.models.grades.getAnswerRecord())}),this.post(this.models.form,{loading:!0}).then(function(){return"0"===n.models.form.data.msg?(n.app.message.error("您好，该试卷已被评卷，不能重复提交"),n.module.dispatch("removeTodo",{targetId:e.examRecord.id,examId:e.id}).then(function(){setTimeout(function(){i(),n.module.dispatch("clearModels"),window.opener?window.close():n.app.navigate("home")},1500)})):(n.app.message.success(c.get("operation-success")),setTimeout(function(){i(),n.module.dispatch("clearModels"),window.opener?window.close():n.app.navigate("home")},500),"")},function(e){var a=JSON.parse(e[0].responseText).errorCode;30207!==a&&30208!==a&&30209!==a||s.call(n)})},removeTodo:function(e){return o.assign(this.models.removeTodo.data,e),this.post(this.models.removeTodo)}}}},v=o.assign({},r.store.models),g=o.assign({},r.store.callbacks),b=o.assign({},{items:r.items,store:{models:o.assign(v,f.store.models),callbacks:o.assign(g,f.store.callbacks)},beforeRender:function(){return this.dispatch("init",this.renderOptions)},getCurrentStatus:function(e){var n=this.store.models.grades.data||[],a=d.find(n,["key",e]),t=this.store.models.errors.data,i=d.find(t,["questionId",e]);if(a&&o.isArray(a.value)&&a.value.length>0){if(d.some(a.value,function(e){return""!==e.value&&e.value>=0}))return m.ACTIVE}else if(a&&""!==a.value&&a.value>=0)return m.ACTIVE;return i?m.CHECK:m.INIT}});n.exports=b,t=function(e){var n=[];return p.required.fn(e)||n.push("必填项"),p.number.fn(e)||n.push("只能填数字"),p.keepDecimal.fn(e,1)||n.push("只能保留1位小数"),p.range.fn(e,0,100)||n.push("只能填0分~100分"),n},l=function(e,n){var a,i,l=this.module.store.models.errors,s=h.get("question-types");if(6===n.type){if(d.every(d.filter(n.subs,function(e){return 5===e.type}),function(e){return!e.answerRecord}))return{}}else if(6!==n.type&&(!n.answerRecord||""===n.answerRecord.answer))return{};return 6===n.type?(i=d.filter(e,function(e){var a=d.filter(n.subs,function(e){return 5===e.type&&(!e.answerRecord||""===e.answerRecord.answer)});return!d.find(a,["id",e.key])}),a=d.filter(d.map(i,function(e){var n=t(e.value);return n.length>0?n:[]}),function(e){return e.length>0})):a=t(e),a.length>0?(o.assign(n,{status:m.CHECK}),l.saveError({questionId:n.id}),{type:d.find(s,["key",n.type.toString()]).value,index:n.index,errorStr:a.join(",")}):{}},i=function(){var e,n,a=window;return a.opener&&(e=a.opener.app,d.forEach(e._modules,function(e,a){a.indexOf("review-paper")>-1&&(n=e)}),n)?n.dispatch("init"):""},s=function(){var e=this;setTimeout(function(){i(),e.module.dispatch("clearModels"),window.opener?window.close():e.app.navigate("home")},3e3)}},{"./app/exam/exam/base-paper/index":"./app/exam/exam/base-paper/index","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/maps":"./app/util/maps","./app/util/strings":"./app/util/strings","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/review-paper/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="achievement-content">\n    <div class="achievement-side bg-color">\n        <div data-region="side"></div>\n    </div>\n    <div class="achievement-head" data-region="head"></div>\n    <div class="achievement-main" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <ul class="list">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li>\n            <div class="list-title pointer" id="list-item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <span class="text-tips"><i class="iconfont icon-triangle-up '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'"></i><i class="iconfont icon-triangle-down '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(5,i,0),data:i}))?l:"")+'"></i></span>\n                '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i}):s))+'分)\n            </div>\n            <div class="min-btn-groups m-left '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'">\n'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n        </li>\n    "},5:function(e,n,a,t,i){return""},7:function(e,n,a,t,i){return"hidden"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","check",{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","active",{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","current",{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","init",{name:"compare",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item no-mark" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item right" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item current" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},16:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},18:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="pull-left title" title="'+r(s(null!=(l=null!=n?n.state:n)?l.name:l,n))+'">考试名称: '+r(s(null!=(l=null!=n?n.state:n)?l.name:l,n))+'</div>\n    <div class="text-right">\n        <ul class="head-info inline-block">\n'+(null!=(l=a.if.call(o,null!=n?n.showExamNotes:n,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(o,null!=(l=null!=n?n.state:n)?l.anonymityMark:l,"eq",0,{name:"compare",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+'        </ul>\n        <div id="review" class="btn">提交复核</div>\n    </div>\n'},19:function(e,n,a,t,i){var l;return'                <li class="drop-down-wrapper right">\n                    <i class="iconfont icon-notice drop-down-btn">\n                        <div class="drop-down-content"><div class="content">\n                            <div class="sub-tip">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.examNotes:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n                        </div></div>\n                    </i>\n                </li>\n"},21:function(e,n,a,t,i){var l;return'                <li class="border right">考生： '+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.examinee:l,n))+"</li>\n"},23:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="preview-content">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.program(27,i,0),data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},24:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:""},25:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                <div class="row"></div>\n                <div class="col-xs-6">\n                    <div class="com-title inline-block">'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeDesc:l,n))+"("+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.index:l,n))+"/"+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.totalCount:l,n))+')</div>\n                    <div class="inline-block">本题分数:'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.score:l,n))+'</div>\n                </div>\n                <div data-dynamic-key="'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n'},27:function(e,n,a,t,i){var l;return"            <div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},28:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                    <div class="h3 m-bottom">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i
}):s))+"分)</div>\n"+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))?l:"")},29:function(e,n,a,t,i){var l;return'                        <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},31:function(e,n,a,t,i){var l,s=null!=n?n:{};return'            <div class="text-right m-bottom">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.hasPrevious:l,{name:"if",hash:{},fn:e.program(32,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.hasNext:l,{name:"if",hash:{},fn:e.program(34,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},32:function(e,n,a,t,i){var l;return'                    <div class="btn white border m-right" id="prev-'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'">上一题</div>\n'},34:function(e,n,a,t,i){var l;return'                    <div class="btn white border" id="next-'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'">下一题</div>\n'},36:function(e,n,a,t,i){var l;return'    <div>\n        <p class="error">'+e.escapeExpression((l=null!=(l=a.errors||(null!=n?n.errors:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"errors",hash:{},data:i}):l))+"</p>\n    </div>\n    <hr/>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"exam-notes",{name:"view",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/review-paper/view-head",function(e,n,a){var t=e("./app/exam/exam/base-paper/view-head"),i=e("drizzle-zxy"),l=i.assign({},t),s=i.assign({},l.actions),r=i.assign({},l.dataForActions),o=e("./app/util/strings");l.actions=s,i.assign(l.actions,{"click review":"submitGrade"}),l.dataForActions=r,i.assign(l.dataForActions,{submitGrade:function(){var e=this;return this.Promise.create(function(n){var a=o.get("exam.submit-review-paper-confirm");e.app.message.confirm(a,function(){n()},function(){n(!1)})})}}),n.exports=l},{"./app/exam/exam/base-paper/view-head":"./app/exam/exam/base-paper/view-head","./app/util/strings":"./app/util/strings","drizzle-zxy":!1}),loadjs.d("./app/exam/exam/review-paper/view-main",function(e,n,a){var t,i=e("./app/exam/exam/base-paper/view-main"),l=e("drizzle-zxy"),s=l.assign({},i),r=l.assign({},s.bindings),o=e("./app/exam/exam-question-types"),d={MARK_PAPER_MODE:5,NO_DETAIL_MODE:-1};s.bindings=r,l.assign(s.bindings,{grades:!0}),l.assign(s,{type:"dynamic",getEntity:function(e){var n;return n=this.bindings.types.getQuestionById(e),n=l.assign({},n,{questionAttrs:n.questionAttrCopys}),{isCorrect:!0,data:n}},getEntityModuleName:function(e,n){return o.get(n.data.type,d.MARK_PAPER_MODE)},dataForEntityModule:function(e){return t.call(this,e.data)},dataForTemplate:{state:function(e){return e.state},grades:function(e){return e.grades},types:function(e){return e.types}}}),t=function(e){var n=this;return{data:e,goal:this.bindings.grades.getGrade(e.id),callback:function(e){return n.module.dispatch("saveGrade",e)}}},n.exports=s},{"./app/exam/exam-question-types":"./app/exam/exam-question-types","./app/exam/exam/base-paper/view-main":"./app/exam/exam/base-paper/view-main","drizzle-zxy":!1}),loadjs.d("./app/exam/exam/score-detail/index",function(e,n,a){var t,i,l,s,r=e("./app/exam/exam/base-paper/index"),o=e("drizzle-zxy"),d=e("lodash/collection"),c={ONE_HUNDRED:100,ZERO:0,ONE:1,SINGLE_MODE:1,PC_CLIENT_TYPE:1},u={INIT:"init",CHECK:"check",ACTIVE:"active",CURRENT:"current",CORRECT:"correct",ERROR:"error",NOANSWER:"no-answer",NOMARK:"no-mark"},m=e("./app/util/behaviorReported"),p={store:{models:{exam:{url:"../exam/exam/front/score-detail"},rule:{url:"../system/rule-config/key"},watermarkOpen:{url:"../system/screenshot-guard-config"},state:{mixin:{initNoSujective:function(e){var n=this.module.store.models.types,a=this.module.store.models.answer,t=e.examRecord,i=a.questionSummary();this.data={name:e.name,examinee:t.member&&(t.member.fullName||t.member.name),totalCount:e.paper.questionNum,totalScore:e.paper.totalScore/c.ONE_HUNDRED,singleMode:e.paperShowRule===c.SINGLE_MODE,examineeTotalScore:0,hasPrevious:!1,hasNext:e.paper.questions.length>1},(e.examRecord.status>5||0===e.paper.isSubjective)&&o.assign(this.data,{examineeTotalScore:i.totalScore}),-1!==e.showAnswerRule&&o.assign(this.data,{currentQuestion:n.getFirstQuestion(),correctNum:"-",errorNum:"-",noAnswerCount:"-",examineeTotalScore:"-"})},initWithSuject:function(e){var n=this.module.store.models.types,a=e.paper.questions,t=e.examRecord,i=this.module.store.models.answerSheet.data;o.assign(this.data,e,{name:e.name,examinee:t.member&&(t.member.fullName||t.member.name),totalCount:e.paper.questionNum,totalScore:e.paper.totalScore/c.ONE_HUNDRED,singleMode:e.paperShowRule===c.SINGLE_MODE,currentQuestion:n.getFirstQuestion(),correctNum:0,errorNum:0,noAnswerCount:0,noMarkNum:0,examineeTotalScore:0,hasPrevious:!1,hasNext:e.paper.questions.length>1}),-1!==e.showAnswerRule&&e.examRecord.status>=5&&(d.forEach(a,function(e){6===e.type?d.some(e.subs,function(e){return e.answerRecord})?d.every(d.filter(e.subs,function(e){return e.answerRecord}),function(e){return null!==e.answerRecord.score})&&(d.some(e.subs,function(e){return e.answerRecord&&e.answerRecord.score>0})?i.corrects.push(e):i.errors.push(e)):i.noAnswers.push(e):e.answerRecord&&e.answerRecord.answer?e.answerRecord.score>0?i.corrects.push(e):0===e.answerRecord.score&&i.errors.push(e):i.noAnswers.push(e)}),this.data.correctNum=i.corrects.length,this.data.errorNum=i.errors.length,this.data.noAnswerCount=i.noAnswers.length,this.data.examineeTotalScore=d.reduce(d.map(i.corrects,function(e){var n;return 6===e.type?(n=d.reduce(d.map(d.filter(e.subs,function(e){return e.answerRecord&&e.answerRecord.score}),function(e){return e.answerRecord.score/100}),function(e,n){return e+n}),n>=0?n:0):e.answerRecord&&e.answerRecord.score?e.answerRecord.score/100:0}),function(e,n){return e+n})),e.showAnswerRule!==e.NO_SHOW_ANYTHING&&e.examRecord.status>5&&(this.data.examineeTotalScore=e.examRecord.score/100),-1===e.showAnswerRule&&o.assign(this.data,{examineeTotalScore:"-",correctNum:"-",errorNum:"-",noAnswerCount:"-"})},selectQuestion:function(e){var n=this.module.store.models.types;o.assign(this.data,{currentQuestion:n.getQuestionById(e)})},resetCurrentQuestion:function(){var e=this.module.store.models.types;o.assign(this.data,{currentQuestion:e.getCurrentQuestion()})}}},answer:{mixin:{getAnswer:function(e){return d.find(this.data,["key",e])},questionSummary:function(){var e={correctNum:0,errorNum:0,noAnswerCount:0,totalScore:0},n=this.module.store.models.types.data,a=this;return d.forEach(n,function(n){d.forEach(n.questions,function(n){var r=d.find(a.data,["key",n.id]);e=1===n.type||2===n.type?t.call(a,n,r,e):3===n.type?i.call(a,n,r,e):8===n.type?l.call(a,n,r,e):s.call(a,n,r,e)})}),e},init:function(e){var n=function(e){return d.map(e.answerRecord.answer.split(","),function(n){return{id:d.find(e.questionAttrCopys,["name",n]).id,value:n}})},a=function(e){return[{id:e.id,value:e.answerRecord.answer}]};this.data=d.map(e,function(e){var t=[];return e.answerRecord&&e.answerRecord.answer?t=1===e.type||2===e.type?n(e):a(e):6===e.type&&(t=d.map(e.subs,function(e){var t=[];return e.answerRecord&&e.answerRecord.answer&&(t=1===e.type||2===e.type?n(e):a(e)),{key:e.id,value:t}})),{key:e.id,value:t}})}}},answerSheet:{data:{corrects:[],errors:[],noAnswers:[]},mixin:{init:function(){this.data.corrects=[],this.data.errors=[],this.data.noAnswers=[]}}}},callbacks:{init:function(e){var n=e.data,a=this.models.rule,t=this;return this.models.watermarkOpen.params={type:3,businessId:e.examId},this.get(this.models.watermarkOpen),this.chain([function(){return a.params={key:"SCREENSHOT_GUARD_CONFIG"},this.get(a,{slient:!0}).then(function(e){return o.assign({},{key:e[0].key,value:e[0].value,type:e[0].type})})}],function(e){a.set({rule2:e[0]})}),n?(this.models.exam.set(n.exam),this.models.types.set(n.types),this.models.types.initStatus(),this.models.answer.set(n.answer),this.models.state.initNoSujective(n.exam),""):(o.assign(this.models.exam.params,e),this.get(this.models.exam,{loading:!0}).then(function(){var e=t.models.exam.data;t.models.answer.clear(),t.models.types.clearByKey(e.id),t.models.state.clear(),-1!==e.showAnswerRule&&t.models.answer.init(e.paper.questions),t.models.types.init(e.paper.questions),t.models.answerSheet.init(),e.examRecord.status<5?t.models.state.initNoSujective(e):t.models.state.initWithSuject(e),t.models.types.resetQuestionStatus()}))}}}},h=o.assign({},r.store.models),f=o.assign({},r.store.callbacks),v=o.assign({},{items:o.assign(r.items,{"watermark-mix":"watermark-mix"}),store:{models:o.assign(h,p.store.models),callbacks:o.assign(f,p.store.callbacks)},beforeRender:function(){var e={};return e.mid=this.renderOptions&&this.renderOptions.examId,e.content_type="EXAM",m.clickBehavior(e),this.dispatch("init",this.renderOptions)},getCurrentStatus:function(e){var n=this.store.models.answerSheet.data;return d.find(n.corrects,["id",e])?u.CORRECT:d.find(n.errors,["id",e])?u.ERROR:d.find(n.noAnswers,["id",e])?u.NOANSWER:u.INIT}});n.exports=v,t=function(e,n,a){var t,i=[],l=a;return n&&0!==n.value.length?(1===e.type&&(0===d.find(e.questionAttrCopys,["name",n.value[0].value]).type?(o.assign(e,{gainScore:e.score}),o.assign(l,{correctNum:++l.correctNum,totalScore:l.totalScore+e.score})):(o.assign(e,{gainScore:0}),o.assign(l,{errorNum:++l.errorNum}))),2===e.type&&(i=d.filter(e.questionAttrCopys,function(e){return 0===e.type}),n.value.length===i.length?(t=d.every(i,function(e){return!!d.find(n.value,["value",e.name])}),t?(o.assign(e,{gainScore:e.score}),o.assign(l,{correctNum:++l.correctNum,totalScore:l.totalScore+e.score})):(o.assign(e,{gainScore:0}),o.assign(l,{errorNum:++l.errorNum}))):(o.assign(e,{gainScore:0}),o.assign(l,{errorNum:++l.errorNum})))):(o.assign(e,{gainScore:0}),o.assign(l,{noAnswerCount:++l.noAnswerCount})),l},i=function(e,n,a){var t=a;return n&&0!==n.value.length?n.value[0].value===e.questionAttrCopys[0].value?(o.assign(e,{gainScore:e.score}),o.assign(t,{correctNum:++t.correctNum,totalScore:t.totalScore+e.score})):(o.assign(e,{gainScore:0}),o.assign(t,{errorNum:++t.errorNum})):(o.assign(e,{gainScore:0}),o.assign(t,{noAnswerCount:++t.noAnswerCount})),t},l=function(e,n,a){var t=a;return n&&0!==n.value.length?d.find(e.questionAttrCopys,["type","0"]).value===n.value[0].value?(o.assign(e,{gainScore:e.score}),o.assign(t,{correctNum:++t.correctNum,totalScore:t.totalScore+e.score})):(o.assign(e,{gainScore:0}),o.assign(t,{errorNum:++t.errorNum})):(o.assign(e,{gainScore:0}),o.assign(t,{noAnswerCount:++t.noAnswerCount})),t},s=function(e,n,a){var t=a;return n&&0!==n.value.length?n||o.assign(t,{noAnswerCount:++t.noAnswerCount}):(o.assign(e,{gainScore:0}),o.assign(t,{noAnswerCount:++t.noAnswerCount})),t}},{"./app/exam/exam/base-paper/index":"./app/exam/exam/base-paper/index","./app/util/behaviorReported":"./app/util/behaviorReported","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/score-detail/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="achievement-content" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n        <div class="achievement-side bg-color">\n            <div data-region="side"></div>\n        </div>\n        <div class="achievement-head" data-region="head"></div>\n        <div class="achievement-main">\n            <div data-region="main"></div>\n            <div data-region="watermark-mix"></div>\n        </div>\n    </div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="side-top" oncopy1="return false;" oncut1="return false;" onpaste1="return false">本卷共'+r(s(null!=(l=null!=n?n.state:n)?l.totalCount:l,n))+"题，总分"+r(s(null!=(l=null!=n?n.state:n)?l.totalScore:l,n))+'分</div>\n    <div class="text-center m-top m-bottom min-btn-groups" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n        <div class="m-right inline-block">\n            <div class="list-item no-margin right">'+r(s(null!=(l=null!=n?n.state:n)?l.correctNum:l,n))+'</div>\n            <div class="inline-block">正确</div>\n        </div>\n        <div class="m-right inline-block">\n            <div class="list-item no-margin wrong">'+r(s(null!=(l=null!=n?n.state:n)?l.errorNum:l,n))+'</div>\n            <div class="inline-block">错误</div>\n        </div>\n        <div class="inline-block">\n            <div class="list-item no-margin no-mark">'+r(s(null!=(l=null!=n?n.state:n)?l.noAnswerCount:l,n))+'</div>\n            <div class="inline-block">未答</div>\n        </div>\n    </div>\n    <ul class="list">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li>\n            <div class="list-title" id="list-item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'"></i><i class="iconfont icon-triangle-down '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(5,i,0),data:i}))?l:"")+'"></i></span>\n                '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i}):s))+'分)\n            </div>\n            <div class="min-btn-groups  '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'">\n'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n        </li>\n    "},5:function(e,n,a,t,i){return""},7:function(e,n,a,t,i){return"hidden"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","current",{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","correct",{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","error",{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","no-answer",{name:"compare",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","init",{name:"compare",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item current" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item right" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item wrong" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},16:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item no-mark" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},18:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},20:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression,d=null!=n?n:{};return'    <div class="pull-left title" title="'+o(r(null!=(l=null!=n?n.state:n)?l.name:l,n))+'" oncopy1="return false;" oncut1="return false;" onpaste1="return false">考试名称: '+o(r(null!=(l=null!=n?n.state:n)?l.name:l,n))+'</div>\n    <div class="text-right" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n        <ul class="head-info inline-block">\n'+(null!=(l=a.if.call(d,null!=n?n.showExamNotes:n,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+"            \x3c!--  li.border.right > echo('本卷共' state.totalCount '道题') --\x3e\n            \x3c!--  li.border.right > echo('总分: ' state.totalScore '分') --\x3e\n            <li class=\"border right\">考生: "+o(r(null!=(l=null!=n?n.state:n)?l.examinee:l,n))+'</li>\n            <li class="border right">总得分：'+o(r(null!=(l=null!=n?n.state:n)?l.examineeTotalScore:l,n))+'</li>\n            <li class="border right">'+o((s=null!=(s=a.scoreResult||(null!=n?n.scoreResult:n))?s:a.helperMissing,"function"==typeof s?s.call(d,{name:"scoreResult",hash:{},data:i}):s))+'</li>\n        </ul>\n        <div id="close" class="btn">关闭</div>\n    </div>\n'},21:function(e,n,a,t,i){var l;return'                <li class="drop-down-wrapper right">\n                    <i class="iconfont icon-notice drop-down-btn">\n                        <div class="drop-down-content"><div class="content">\n                            <div class="sub-tip">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.examNotes:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n                        </div></div>\n                    </i>\n                </li>\n"},23:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="preview-content" oncontextmenu1="window.event.returnValue=false;" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.program(27,i,0),data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},24:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:""},25:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                <div class="row"></div>\n                <div class="col-xs-6">\n                    <div class="com-title inline-block">'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeDesc:l,n))+"("+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.index:l,n))+"/"+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.totalCount:l,n))+')</div>\n                    <div class="inline-block">本题分数:'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.score:l,n))+'</div>\n                </div>\n                <div data-dynamic-key="'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n'},27:function(e,n,a,t,i){var l;return"            <div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},28:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                    <div class="h3 m-bottom">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i}):s))+"分)</div>\n"+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))?l:"")},29:function(e,n,a,t,i){var l;return'                        <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},31:function(e,n,a,t,i){var l,s=null!=n?n:{};return'            <div class="text-right m-bottom">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.hasPrevious:l,{name:"if",hash:{},fn:e.program(32,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.hasNext:l,{name:"if",hash:{},fn:e.program(34,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},32:function(e,n,a,t,i){var l;return'                    <div class="btn white border m-right" id="prev-'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'">上一题</div>\n'},34:function(e,n,a,t,i){var l;return'                    <div class="btn white border" id="next-'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'">下一题</div>\n'},36:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.showAnswerDetail:l,{name:"if",hash:{},fn:e.program(37,i,0),inverse:e.noop,data:i}))?l:""},37:function(e,n,a,t,i){return'        <div data-dynamic-key="answer-detail" oncopy1="return false;" oncut1="return false;" onpaste1="return false"></div>\n'},39:function(e,n,a,t,i){return'    <div id="watermark" class="watermark watermark-mix"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"answer-detail",{name:"view",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"watermark-mix",{name:"view",hash:{},fn:e.program(39,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/exam/score-detail/view-main",function(e,n,a){var t,i=e("./app/exam/exam/base-paper/view-main"),l=e("drizzle-zxy"),s=l.assign({},i),r=l.assign({},s.bindings),o=e("./app/exam/exam-question-types"),d=e("lodash/collection"),c={ANSWER_PAPER_MODE:3,NO_DETAIL_MODE:-1,TO_BE_OVER:5,SINGLE:1,MUTIPLE:2,JUDGE:3,SORT:8};s.bindings=r,l.assign(s.bindings,{answer:!1,exam:!1}),l.assign(s,{type:"dynamic",getEntity:function(e){var n=this.bindings.types.getQuestionById(e),a=l.assign({},n),i=d.map(n.subs,function(e){var n=l.assign({},e);return l.assign(n,{questionAttrs:e.questionAttrCopys,errorRate:n.errorRate/1e4,answerRecord:null===n.answerRecord?null:l.assign({},n.answerRecord,{score:t(n)})})});return l.assign(a,{errorRate:a.errorRate/1e4,questionAttrs:n.questionAttrCopys,answerRecord:a.answerRecord?l.assign({},a.answerRecord,{score:t(a)}):null,subs:i,showAnswerRule:this.bindings.exam.data&&this.bindings.exam.data.showAnswerRule})},getEntityModuleName:function(e,n){return o.get(n.type,c.ANSWER_PAPER_MODE)},dataForEntityModule:function(e){var n=this.bindings.exam.data;return{data:e,answer:this.bindings.answer.getAnswer(e.id),mode:n.showAnswerRule,subMode:n.showAnswerRule,status:n.examRecord.status}}}),n.exports=s,t=function(e){return 1===e.type||2===e.type||3===e.type||8===e.type?e.answerRecord?e.answerRecord.score/100:0:e.answerRecord&&e.answerRecord.score&&e.answerRecord.score?e.answerRecord.score/100:null}},{"./app/exam/exam-question-types":"./app/exam/exam-question-types","./app/exam/exam/base-paper/view-main":"./app/exam/exam/base-paper/view-main","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/exam/score-detail/view-watermark-mix",function(e,n,a){var t,i;a.bindings={rule:!0,watermarkOpen:!0},a.components=[function(){var e,n=!!this.bindings.watermarkOpen.data,a=this.bindings.rule.data;return e=a&&a.rule2&&JSON.parse(a.rule2.value)||{},n?{id:"watermark",name:"watermark-heighten",options:{ruleConfig:e,renderNode:".watermark-mix",watermarkArea:".achievement-main"}}:null}],a.mixin={recreate:function(){!!this.bindings.watermarkOpen.data&&this.components.watermark.recreate()}},a.afterRender=function(){t.call(this)},a.beforeClose=function(){i.call(this)},t=function(){this.app.askbar.on("exam.watermark.recreate",this.recreate,this)},i=function(){this.app.askbar.off("exam.watermark.recreate",this.recreate,this)}},{}),loadjs.d("./app/exam/research-activity/index/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection"),l=e("./app/util/behaviorReported");a.items={side:"side",main:"main",banner:"banner","research-tips":""},a.store={models:{research:{url:"../exam/research-activity/simple-data"},topics:{url:"../system/topic/ids"},relativeResearchs:{url:"../exam/research-activity/relative-researchs"},relativeMembers:{url:"../exam/research-activity/relative-members"},down:{url:"../file-deal/file/download"},researchRecord:{url:"../exam/research-record/get-by-research"},access:{url:"../exam/research-activity/access"},researchShare:{url:"../exam/research-activity/share"}},callbacks:{init:function(e){var n=this,a=this.models.research,l=this.models.topics,s=this.models.relativeResearchs,r=this.models.relativeMembers,o=this.models.access;return e.researchId?(a.params={contentType:8},a.set({id:e.researchId}),s.params={researchId:e.researchId},r.params={researchId:e.researchId},o.data={researchQuestionaryId:e.researchId},n.get(s),n.get(r),n.save(o).then(function(){return n.chain(n.get(n.models.research,{loading:!0,slient:!0}),function(){return t.assign(l.params,{ids:i.map(a.data.topics,"topicId").join(",")}),!!l.params.ids&&n.get(n.models.topics)},function(){t.assign(n.models.research.data,{topics:n.models.topics.data}),n.models.research.changed()})})):""},getRecordByResearch:function(){return this.models.researchRecord.clear(),t.assign(this.models.researchRecord.params,{researchId:this.models.research.data.id}),this.get(this.models.researchRecord)},researchShare:function(e){var n=this.models.researchShare;n.set(e),this.save(n)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.afterRender=function(){var e={};e.mid=this.renderOptions.researchId,e.content_type="RESEARCH",l.clickBehavior(e)}},{"./app/util/behaviorReported":"./app/util/behaviorReported","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/index/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="class-register-page page-detail-wrapper">\n    <div class="class-register-banner page-detail-top-wrapper" style="background-image:url(images/default-cover/default_class.jpg)"><div class="clearfix container" data-region="banner"></div></div>\n    <div class="page-main-wrapper container">\n        <div class="page-side" data-region="side"></div>\n        <div class="page-main" data-region="main"></div>\n        <div class="page-main" data-region="refresh"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'    <div class="cover pull-left"><img src="'+d((s=null!=(s=a.img||(null!=n?n.img:n))?s:o,"function"==typeof s?s.call(r,{name:"img",hash:{},data:i}):s))+'"/></div>\n    <div class="banner-con pull-left">\n        <div class="pull-right layout-ml-small">\n            <div id="share"></div>\n        </div>\n        <div class="h3 overflow top-title">'+d(e.lambda(null!=(l=null!=n?n.research:n)?l.name:l,n))+"</div>\n        <p>调研时间：\n            "+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=(l=null!=n?n.research:n)?l.startTime:l,{name:"dateMinute",hash:{},data:i}))+"\n            ~\n            "+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=(l=null!=n?n.research:n)?l.endTime:l,{name:"dateMinute",hash:{},data:i}))+'\n        </p>\n        <div class="m-top">\n            <span class="m-right">相关标签</span>\n'+(null!=(l=a.each.call(r,null!=(l=null!=n?n.research:n)?l.topics:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"+(null!=(l=a.if.call(r,null!=(l=null!=n?n.research:n)?l.name:l,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){var l;return'                <div class="tag-btn radius">\n'+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.group:n,"eq",1,{name:"compare",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+"                </div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="normal" href="#/ask/topic/detail/'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" target="_blank">'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+"</a>\n"},7:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression((l=null!=(l=a.name||(null!=n?n.name:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"name",hash:{},data:i}):l))+"\n"},9:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.access:n)?l.status:l,"eq",1,{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))?l:""},10:function(e,n,a,t,i){return'                <div class="m-top"><div id="do-research" class="btn">查看详情</div></div>\n'},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.research:n)?l.status:l,"eq",4,{name:"compare",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i
}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.research:n)?l.status:l,"eq",2,{name:"compare",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.research:n)?l.status:l,"eq",3,{name:"compare",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")},13:function(e,n,a,t,i){return'                    <div class="m-top"><div class="btn disabled">已结束</div></div>\n'},15:function(e,n,a,t,i){return'                    <div class="m-top"><div class="btn disabled">未开始</div></div>\n'},17:function(e,n,a,t,i){return'                    <div class="m-top"><div id="do-research" class="btn">进入调研</div></div>\n'},19:function(e,n,a,t,i){var l;return'    <section class="section student">\n        <div class="h3">TA们也参加了调研</div>\n        <div class="layout-mt-small user-picture">\n            <div class="grid-row">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.relativeMembers:n,{name:"each",hash:{},fn:e.program(20,i,0),inverse:e.program(22,i,0),data:i}))?l:"")+"            </div>\n        </div>\n    </section>\n"},20:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <div class="col-md-4 text-center">\n                        <img src="'+o((l=null!=(l=a.headPortraitPath||(null!=n?n.headPortraitPath:n))?l:r,"function"==typeof l?l.call(s,{name:"headPortraitPath",hash:{},data:i}):l))+'"/>\n                        <div class="text-overflow" title="'+o((l=null!=(l=a.fullName||(null!=n?n.fullName:n))?l:r,"function"==typeof l?l.call(s,{name:"fullName",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.fullName||(null!=n?n.fullName:n))?l:r,"function"==typeof l?l.call(s,{name:"fullName",hash:{},data:i}):l))+"</div>\n                    </div>\n"},22:function(e,n,a,t,i){return'                    <div class="content-empty-side"><div class="img-box"></div><p>暂无相关的数据</p></div>\n'},24:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="h3">问卷须知</div>\n    <div class="layout-mt-small">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.research:n)?l.questionaryDetail:l,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.program(27,i,0),data:i}))?l:"")+'    </div>\n    <section class="section">\n        <div class="h3">相关调研</div>\n        <div class="main-list layout-mt-small">\n            <ul class="cell-3">\n'+(null!=(l=a.each.call(s,null!=n?n.relativeResearchs:n,{name:"each",hash:{},fn:e.program(29,i,0),inverse:e.program(31,i,0),data:i}))?l:"")+"            </ul>\n        </div>\n    </section>\n"},25:function(e,n,a,t,i){var l;return"            "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.research:n)?l.questionaryDetail:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n"},27:function(e,n,a,t,i){return"            暂无\n"},29:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                    <li>\n                        <div class="content">\n                            <div class="img">\n                                <div class="img-cont">\n                                    <a class="normal"><img src="'+d((s=null!=(s=a.coverIdPath||(null!=n?n.coverIdPath:n))?s:o,"function"==typeof s?s.call(r,{name:"coverIdPath",hash:{},data:i}):s))+'"/></a>\n                                </div>\n                                <div class="detail-wrapper">\n                                    <p>'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.questionaryDetail:n,{name:"echoX",hash:{},data:i}))?l:"")+'</p>\n                                    <div class="btn radius block" id="research-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">我要参与</div>\n                                </div>\n                            </div>\n                            <div class="clearfix">\n                                <div class="pull-right tip-text">\n                                    <i class="iconfont icon-user" title="参加人数"></i>\n                                    '+d((s=null!=(s=a.joinNumber||(null!=n?n.joinNumber:n))?s:o,"function"==typeof s?s.call(r,{name:"joinNumber",hash:{},data:i}):s))+'\n                                </div>\n                                <div class="title text-overflow">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                            </div>\n                            <div class="bottom sub-text clearfix">\n                                <div class="pull-left"><i class="iconfont icon-time"></i></div>\n                                <div class="pull-right">\n                                    '+d((a.date||n&&n.date||o).call(r,null!=n?n.startTime:n,{name:"date",hash:{},data:i}))+"\n                                    ~\n                                    "+d((a.date||n&&n.date||o).call(r,null!=n?n.endTime:n,{name:"date",hash:{},data:i}))+"\n                                </div>\n                            </div>\n                        </div>\n"},31:function(e,n,a,t,i){return'                        <div class="content-empty"><div class="img-box img-type-1"></div><p>暂无相关的调研</p></div>\n                    </li>\n'},33:function(e,n,a,t,i){return""},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"banner",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"research-tips",{name:"view",hash:{},fn:e.program(33,i,0),inverse:e.noop,data:i}))?l:"")+"\n<div>"+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.research:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/index/view-banner",function(e,n,a){a.bindings={research:!0,access:!0,down:!1},a.events={"click do-research":"doResearch"},a.handlers={doResearch:function(){window.open("#/exam/research-activity/paper-research/"+this.bindings.research.data.id,"_blank")}},a.dataForTemplate={img:function(e){var n=e.research;return n.coverIdPath?n.coverIdPath:"images/default-cover/default_survey.jpg"}},a.components=[function(){var e={},n=this,a=this.bindings.research.data;return a&&(e.id=a.id,e.type=5,e.pics=a.coverIdPath,e.title=a.name),{id:"share",name:"picker",options:{picker:"share",data:e,callback:function(){n.module.dispatch("researchShare",{id:a.id})}}}}]},{}),loadjs.d("./app/exam/research-activity/index/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={research:!0,relativeResearchs:!0,down:!0},a.dataForTemplate={relativeResearchs:function(e){var n=e.relativeResearchs;return t.map(n||[],function(e){var n=e;n.coverIdPath=n.coverIdPath?n.coverIdPath:"images/default-cover/default_survey.jpg"}),n}},a.events={"click research-*":"showResearchIndex"},a.handlers={showResearchIndex:function(e){var n="#/exam/research-activity/index/"+e;window.open(n,"_blank")}}},{"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/index/view-research-tips",function(e,n,a){var t=e("./app/util/helpers");a.bindings={researchRecord:!0},a.dataForTemplate={research:function(e){var n=e.researchRecord,a=n.researchQuestionary,i=a.questionaryDetail;return this.options.closeText="关闭",this.options.title="问卷须知",n.id?1===a.status||5===a.status?(this.options.title="温馨提示",i="您好，该调研已不存在"):2===a.status?(this.options.title="温馨提示",i="您好，本次调研尚未到调研时间，请在调研时间 "+t.dateMinute(a.startTime)+" ~ "+t.dateMinute(a.endTime)+" 进行调研，谢谢"):3===a.status?0===n.status&&(this.options.closeText="下次再答"):4===a.status&&0===n.status&&(this.options.title="温馨提示",i="您好，该调研已过期，无法参与，谢谢"):(this.options.title="温馨提示",i="抱歉，您没有权限参加此调研，谢谢"),{content:i}}},a.events={"click button-*":"doSome"},a.handlers={doSome:function(e){e.indexOf("answer-next-time")>-1&&this.app.viewport.closeModal()}},a.beforeRender=function(){},a.title="问卷须知",a.buttons=function(){var e=this.bindings.researchRecord.data,n=this.bindings.researchRecord.data.researchQuestionary,a=(new Date).getTime(),t=[],i={text:"查看详情",fn:function(){var n="#/exam/research-activity/research-answer/"+e.id;window.open(n,"_blank")}},l={text:"开始答题",fn:function(){var e="#/exam/research-activity/research-detail/"+n.id+"/"+n.id;window.open(e,"_blank")}};return!e.id||n.startTime>a?t:(a>=n.startTime&&a<=n.endTime?0===e.status?t.push(l):t.push(i):a>=n.endTime&&1===e.status&&t.push(i),t)}},{"./app/util/helpers":"./app/util/helpers"}),loadjs.d("./app/exam/research-activity/index/view-side",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection");a.bindings={relativeMembers:!0,down:!0},a.dataForTemplate={relativeMembers:function(e){return i.map(e.relativeMembers,function(e){return t.assign(e,{headPortraitPath:e.headPortraitPath||"images/default-userpic.png"})})}}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/paper-research/index",function(e,n,a){var t=e("drizzle-zxy");a.items={"research-tips":""},a.store={models:{researchRecord:{url:"../exam/research-record/get-by-research"}},callbacks:{getRecordByResearch:function(e){var n=this;return this.models.researchRecord.clear(),t.assign(this.models.researchRecord.params,{researchId:e.researchId}),this.get(this.models.researchRecord,{loading:!0}).then(function(){var e=n.models.researchRecord.data,a=e.researchQuestionary;return e.id&&1===e.status?n.app.navigate("exam/research-activity/research-answer/"+e.id,!0):3===a.status&&0===e.status?n.app.navigate("exam/research-activity/research-detail/"+a.id+"/"+a.id,!0):n.app.viewport.modal(n.module.items["research-tips"])})}}},a.beforeRender=function(){return this.dispatch("getRecordByResearch",this.renderOptions)}},{"drizzle-zxy":!1}),loadjs.d("./app/exam/research-activity/paper-research/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){var l;return"        <div>"+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.research:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l;return null!=(l=(a.view||n&&n.view||a.helperMissing).call(null!=n?n:{},"research-tips",{name:"view",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:""},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/paper-research/view-research-tips",function(e,n,a){var t=e("./app/util/helpers");a.bindings={researchRecord:!0},a.dataForTemplate={research:function(e){var n=e.researchRecord,a=n.researchQuestionary,i=a.questionaryDetail,l=Number(a.status);return this.options.closeText="关闭",this.options.title="问卷须知",n.id?1===l||5===l?(this.options.title="温馨提示",i="您好，该调研已不存在"):2===l?(this.options.title="温馨提示",i="您好，本次调研尚未到调研时间，请在调研时间 "+t.dateMinute(a.startTime)+" ~ "+t.dateMinute(a.endTime)+" 进行调研，谢谢"):3===l?0===n.status&&(this.options.closeText="下次再答"):4===l&&0===n.status&&(this.options.title="温馨提示",i="您好，该调研已过期，无法参与，谢谢"):(this.options.title="温馨提示",i="抱歉，您没有权限参加此调研，谢谢"),{content:i}}},a.events={"click button-*":"doSome"},a.handlers={doSome:function(e){e.indexOf("answer-next-time")>-1&&this.app.viewport.closeModal()}},a.title="问卷须知",a.afterClose=function(){window.close()}},{"./app/util/helpers":"./app/util/helpers"}),loadjs.d("./app/exam/research-activity/paper/index",function(e,n,a){a.items={main:"main"},a.store={models:{research:{url:"../exam/research-record/research"}},callbacks:{init:function(e){return e.researchId?(this.models.research.params={researchId:e.researchId,businessId:e.businessId,clientType:0},this.get(this.models.research)):""}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/exam/research-activity/paper/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){return""},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/paper/view-main",function(e,n,a){a.bindings={research:!0},a.afterRender=function(){var e=this.bindings.research.data,n=e.researchRecord;return n&&1===n.status?this.module.regions.main.show("exam/research-activity/research-answer",{researchRecordId:n.id}):this.module.regions.main.show("exam/research-activity/research-detail",{researchQuestionaryId:e.id,businessId:this.bindings.research.params.businessId})}},{}),loadjs.d("./app/exam/research-activity/preview-questionary/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy"),l=e("jquery");a.large=!0,a.title="问卷预览",a.items={side:"side",head:"head",main:"main",description:""},a.store={models:{research:{url:"../exam/research-activity"},questions:{mixin:{init:function(e){var n=this;this.data=[],t.forEach(e,function(e){t.forEach(e.questions,function(e){n.data.push(e)})})},getQuestionById:function(e){return t.find(this.data,["id",e])}}},dimensions:{mixin:{init:function(e){this.data=t.map(e.dimensions,function(e,n){var a=e.questions||[];return i.assign(e,{questions:t.map(a,function(e,a){return i.assign(e,{index:a+1,dimensionIndex:n+1,status:0===n&&0===a?"current":"init"})}),questionSize:a.length})}),this.data.length>0&&(this.data[0].isCurrent=!0)},getFirstDimension:function(){return this.data[0]},getDimensionById:function(e){return t.find(this.data,["id",e])},selectQuestion:function(e){var n=this.data.findIndex(function(e){return t.some(e.questions,function(e){return"current"===e.status})});i.assign(t.find(this.data[n].questions,["status","current"]),{status:"init"}),n=this.data.findIndex(function(n){return!!t.find(n.questions,["id",e])}),i.assign(t.find(this.data[n].questions,["id",e]),{status:"current"})},selectType:function(e){this.data[e].isCurrent=!this.data[e].isCurrent}}},state:{mixin:{init:function(){var e=this.module.store.models.dimensions,n=e.getFirstDimension();this.data=n?{currentDimension:n,currentQuestion:n.questions[0],totalQuestionsCount:this.module.store.models.questions.data.length}:{totalQuestionsCount:0}},selectQuestion:function(e){var n=this.module.store.models.dimensions;i.assign(this.data,{currentQuestion:e,currentDimension:n.getDimensionById(e.dimensionId)})}}}},callbacks:{init:function(e){var n=this,a=this.models.research;return e.researchId?(a.set({id:e.researchId}),this.chain(this.get(a,{loading:!0}),function(){a.data.name=e.name||a.data.name,n.models.dimensions.init(a.data),n.models.questions.init(n.models.dimensions.data),n.models.state.init()})):(e.research&&(this.models.research.set(e.research||{}),this.models.dimensions.init(e.research),this.models.questions.init(this.models.dimensions.data),this.models.state.init()),!0)},selectQuestion:function(e){this.models.state.selectQuestion(this.models.questions.getQuestionById(e.id)),this.models.dimensions.selectQuestion(e.id),this.models.dimensions.changed(),this.models.state.changed()},selectType:function(e){this.models.dimensions.selectType(e.id),this.models.dimensions.changed()}}},a.beforeRender=function(){var e=l.extend(!0,{},this.renderOptions);return this.dispatch("init",e)}},{"drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/preview-questionary/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="achievement-content">\n        <div class="achievement-side bg-color">\n            <div data-region="side"></div>\n        </div>\n        <div class="achievement-head" data-region="head"></div>\n        <div class="achievement-main" data-region="main"></div>\n    </div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="pull-left title text-overflow" title="'+r(s(null!=(l=null!=n?n.research:n)?l.name:l,n))+'">'+r(s(null!=(l=null!=n?n.research:n)?l.name:l,n))+'</div>\n    <div class="text-right" id="leave-notice">\n        <ul class="head-info inline-block">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.research:n)?l.questionaryDetail:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'        </ul>\n        <a id="close" class="btn">关闭</a>\n    </div>\n'},4:function(e,n,a,t,i){var l;return'                <li class="drop-down-wrapper right">\n                    <i class="iconfont icon-notice drop-down-btn"></i>\n                    <div class="drop-down-content"><div class="content">\n                        <div class="sub-tip">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.research:n)?l.questionaryDetail:l,n))+"</div>\n                    </div></div>\n                </li>\n"},6:function(e,n,a,t,i){var l;return'    <div class="side-top"><div class="time">\n        <div class="text-center">\n            本卷共\n            '+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.totalQuestionsCount:l,n))+'\n            题\n        </div>\n    </div></div>\n    <ul class="list">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li>\n            <div class="list-title pointer" id="list-item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+'"></i><i class="iconfont icon-triangle-down '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+'"></i></span>\n                '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'\n            </div>\n            <div class="min-btn-groups m-left '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+'">'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n        </li>\n    "},8:function(e,n,a,t,i){return""},10:function(e,n,a,t,i){return"hidden"},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return"\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","init",{name:"compare",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","current",{name:"compare",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+"            "},13:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <a class="list-item" href="#mlj-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="q-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"questionIndex",hash:{},data:i}):l))+"</a>\n"},15:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <a class="list-item current" href="#mlj-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="q-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"questionIndex",hash:{},data:i}):l))+"</a>\n"},17:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="preview-content" oncontextmenu1="window.event.returnValue=false;" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.program(21,i,0),data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},18:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:""},19:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                <div class="row"></div>\n                <div class="col-xs-6">\n                    <div class="com-title inline-block">'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeDesc:l,n))+"("+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.index:l,n))+"/"+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.totalCount:l,n))+')</div>\n                    <div class="inline-block">本题分数:'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.score:l,n))+'</div>\n                </div>\n                <div data-dynamic-key="'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n'},21:function(e,n,a,t,i){var l;return"            <div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},22:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                    <div class="h3 m-bottom">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i}):s))+"分)</div>\n"+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")},23:function(e,n,a,t,i){var l;return'                        <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},25:function(e,n,a,t,i){var l,s=null!=n?n:{};return'            <div class="text-right m-bottom">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.hasPrevious:l,{name:"if",hash:{},fn:e.program(26,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.hasNext:l,{name:"if",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},26:function(e,n,a,t,i){var l;return'                    <div class="btn white border m-right" id="prev-'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'">上一题</div>\n'},28:function(e,n,a,t,i){var l;return'                    <div class="btn white border" id="next-'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'">下一题</div>\n'},30:function(e,n,a,t,i){var l;return'    <div class="preview-content">\n        \x3c!-- 一页所有题目 --\x3e\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isMutiple:n,{name:"if",hash:{},fn:e.program(31,i,0),inverse:e.program(37,i,0),data:i}))?l:"")+"    </div>\n"},31:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(32,i,0),inverse:e.noop,data:i}))?l:""},32:function(e,n,a,t,i){var l,s=null!=n?n:{};return(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=n?n.isEmpty:n,"ne",1,{name:"compare",hash:{},fn:e.program(33,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.each.call(s,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(35,i,0),inverse:e.noop,data:i}))?l:"")},33:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <div class="m-bottom">\n                        <div class="h3 inline-block">\n                            '+o((l=null!=(l=a.dimensionIndex||(null!=n?n.dimensionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"dimensionIndex",hash:{},data:i}):l))+"、"+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'\n                        </div>\n                        <div class="description-con">\n                            <p class="des-con">'+o((l=null!=(l=a.description||(null!=n?n.description:n))?l:r,"function"==typeof l?l.call(s,{name:"description",hash:{},data:i}):l))+'</p>\n                            <span class="btn-des-more" id="desMore'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">\n                                <span class="text">展开</span>\n                                <i class="iconfont icon-arrow-down"></i>\n                            </span>\n                        </div>\n                    </div>\n'},35:function(e,n,a,t,i){var l;return'                    <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},37:function(e,n,a,t,i){var l,s=null!=n?n:{};return'            <div class="m-bottom">\n                <div class="h3 inline-block">\n                    '+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentDimension:l)?l.name:l,n))+"\n"+(null!=(l=a.if.call(s,null!=n?n.hasQuestion:n,{name:"if",hash:{},fn:e.program(38,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n            </div>\n"+(null!=(l=a.if.call(s,null!=n?n.hasQuestion:n,{name:"if",hash:{},fn:e.program(40,i,0),inverse:e.noop,data:i}))?l:"")+"            \x3c!--  .icon.pe-7s-angle-left-circle.pe-3x.m-right(id='prev') --\x3e\n            \x3c!--  .icon.pe-7s-angle-right-circle.pe-3x(id='next') --\x3e\n"},38:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return"                        ("+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.index:l,n))+"/"+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentDimension:l)?l.questionSize:l,n))+")\n"},40:function(e,n,a,t,i){var l;return'                <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n'},42:function(e,n,a,t,i){var l;return"    "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.research:n)?l.questionaryDetail:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(30,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"description",{name:"view",hash:{},fn:e.program(42,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/preview-questionary/view-description",function(e,n,a){a.title="问卷须知",a.bindings={research:!0}},{}),loadjs.d("./app/exam/research-activity/preview-questionary/view-head",function(e,n,a){a.bindings={research:!0,state:!1},a.events={"click close":"close"},a.handlers={close:function(){window.close()}}},{}),loadjs.d("./app/exam/research-activity/preview-questionary/view-main",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection"),l=e("drizzle-zxy"),s=e("./app/exam/research-question-types"),r=e("jquery");a.type="dynamic",a.bindings={research:!0,questions:!0,state:!0},a.events={"click close":"close"},a.handlers={close:function(){this.app.viewport.closeModal()}},a.dataForTemplate={dimensions:function(e){var n=t.get("research-question-types"),a=t.get("chineseNumber"),s=e.research.dimensions.findIndex(function(e){return 1===e.isEmpty});return i.map(e.research.dimensions,function(e,t){var r=i.find(a,["key",(t+1).toString()]).value;return-1!==s&&s<t&&(r=i.find(a,["key",t.toString()]).value),s===t&&(r=""),l.assign(e,{dimensionIndex:r,questions:i.map(e.questions,function(e,a){return l.assign(e,{questionIndex:a+1,typeDesc:i.find(n,["key",e.type.toString()]).value+"题"})})})})},isMutiple:function(e){return!e.research.answerPaperRule||e.research.answerPaperRule&&1===Number(e.research.answerPaperRule)},hasQuestion:function(e){return!!e.state.currentQuestion}},a.getEntity=function(e){var n=this.module.store.models.questions.getQuestionById(e)||{},a=JSON.parse(JSON.stringify(n));return a=l.assign({},a,{questionAttrs:i.orderBy(i.map(a.questionAttrs,function(e){return e.score?l.assign(e,{score:e.score/100}):e}),["name"],["asc"]),score:a.score/100})},a.getEntityModuleName=function(e,n){return s.get(n.type,4)},a.dataForEntityModule=function(e){return{data:l.assign(e,{mode:this.module.store.models.research.data.type<3?0:1}),showIndex:!0}},a.afterRender=function(){r(".description-con").each(function(e,n){var a=r(n).children(".des-con"),t=a.height(),i=r(n);t>30?a.addClass("text-overflow"):a.hasClass("text-overflow")||i.addClass("overflow-hidden")})},a.events={"click desMore*":"handleDesMore"},a.handlers={handleDesMore:function(e,n,a){var t=r(a);t.hasClass("active")?(t.removeClass("active"),t.siblings(".des-con").addClass("text-overflow"),t.children(".text").text("展开")):(t.addClass("active"),t.siblings(".des-con").removeClass("text-overflow"),t.children(".text").text("收起"))}}},{"./app/exam/research-question-types":"./app/exam/research-question-types","./app/util/maps":"./app/util/maps","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/preview-questionary/view-side",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection"),l=e("drizzle-zxy");a.bindings={research:!0,dimensions:!0,state:!0},a.dataForTemplate={dimensions:function(e){var n=t.get("research-question-types"),a=t.get("chineseNumber");return i.map(e.research.dimensions,function(e,t){return l.assign(e,{dimensionIndex:i.find(a,["key",(t+1).toString()]).value,questions:i.map(e.questions,function(e,a){return l.assign(e,{questionIndex:a+1,typeDesc:i.find(n,["key",e.type.toString()]).value+"题"})})})})}},a.events={"click q-*":"selectQuestion","click questionaryDetail":"questionaryDetail","click list-item-*":"toggleMore"},a.handlers={selectQuestion:function(e){return this.module.dispatch("selectQuestion",{id:e})},questionaryDetail:function(){var e=this.module.items.description;this.app.viewport.modal(e)},toggleMore:function(e){return this.module.dispatch("selectType",{id:e})}}},{
"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/question/types/answer-detail/choise/index",function(e,n,a){var t=e("lodash/collection");a.items={main:"main"},a.store={models:{question:{mixin:{init:function(){var e=this;this.data.options=t.map(this.data.questionAttrs,function(n,a){return{code:String.fromCharCode(a+"A".charCodeAt(0)),text:n.value,checked:e.isChecked(n.name),mutiple:2===Number(e.data.type)}})},isChecked:function(e){var n=t.find(this.data.answerRecords,["researchRecordId",this.data.researchRecordId]),a=!1,i=[];return n&&n.answer&&(i=n.answer.split(","),a=t.some(i,function(n){return n===e})),a}}}},callbacks:{init:function(e){this.models.question.set(e.question),this.models.question.init()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/question/types/answer-detail/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div id="main"></div>\n    <div class="question" style="display:inline;">\n        <span class="sub-text inline-block">\n            '+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".\n            【\n            "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.question:n)?l.type:l,{name:"map",hash:{},data:i}))+'\n            】 &nbsp;\n        </span>\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+'</a></span>\n    </div>\n    <table class="table m-top">\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.question:n)?l.options:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </table>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{};return"            <tr>\n                <td>\n"+(null!=(l=a.if.call(s,null!=n?n.mutiple:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+"                    <label>"+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(s,null!=n?n.code:n,".",null!=n?n.text:n,{name:"echoX",hash:{},data:i}))?l:"")+"</label>\n                </td>\n            </tr>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                        <div class="checkbox">\n                            <input '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="checkbox-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'" disabled/>\n                            <label for="checkbox-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"></label>\n                        </div>\n'},6:function(e,n,a,t,i){return' checked="checked"'},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                        <div class="radio">\n                            <input '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" disabled id="radio-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"/>\n                            <label for="radio-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"></label>\n                        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/question/types/answer-detail/choise/view-main",function(e,n,a){a.bindings={question:!0}},{}),loadjs.d("./app/exam/research-activity/question/types/answer-detail/question-answer/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection");a.items={main:"main"},a.store={models:{question:{mixin:{init:function(){this.data=t.assign(this.data,{answerRecord:this.findOwnAnswerRecord()})},findOwnAnswerRecord:function(){return i.find(this.data.answerRecords,["researchRecordId",this.data.researchRecordId])}}}},callbacks:{init:function(e){this.models.question.set(e.question),this.models.question.init()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/question/types/answer-detail/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div class="question" style="display:inline;">\n        <span class="sub-text inline-block">\n            '+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".\n            【\n            "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.question:n)?l.type:l,{name:"map",hash:{},data:i}))+'\n            】 &nbsp;\n        </span>\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+'</a></span>\n    </div>\n    <div class="clearfix statistics-list">\n        <div class="statistics-list-tit">答：'+r(s(null!=(l=null!=(l=null!=n?n.question:n)?l.answerRecord:l)?l.answer:l,n))+'</div>\n        <div class="statistics-list-time">'+r((a.dateMinute||n&&n.dateMinute||d).call(o,null!=(l=null!=(l=null!=n?n.question:n)?l.answerRecord:l)?l.createTime:l,{name:"dateMinute",hash:{},data:i}))+"</div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/question/types/answer-detail/question-answer/view-main",function(e,n,a){a.bindings={question:!0}},{}),loadjs.d("./app/exam/research-activity/question/types/answer/choise/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{mixin:{getOption:function(e){return this.data.options[e]}}},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n,a,l=this.models.state.data={options:[],title:"单选题",answer:"",mutiple:!1,gainScore:0,errorRate:0},s=e.data,r=t.get("question-difficultys");if(s){for(i.assign(l,s),a=s.questionAttrs,n=0;n<a.length;n++)l.options.push({content:a[n].value,isAnswer:0===Number(a[n].type),isRichText:!1,mutiple:2===s.type,id:a[n].id,name:a[n].name,score:a[n].score||0}),0===Number(a[n].type)&&(l.answer+=String.fromCharCode(n+"A".charCodeAt(0)));s.difficulty&&(l.difficulty=r[Number(s.difficulty)-1].value),2===Number(s.type)&&(l.title="多选题"),s.answerRecord&&(l.gainScore=s.answerRecord.score),l.detailMode=e.mode}this.models.answer.init(e.answer),this.models.state.changed()},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e)}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/exam/research-activity/question/types/answer/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div class="question mb-1" style="display:inline;">\n        <span class="sub-text inline-block">\n            '+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+".\n            【\n            "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.state:n)?l.type:l,{name:"map",hash:{},data:i}))+'\n            】 &nbsp;\n        </span>\n        <span class="inline-block"><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</a></span>\n    </div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<div class="answer">\n    <div class="preview-list"><dl>'+(null!=(l=a.each.call(s,null!=n?n.options:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"    </dl></div>\n"+(null!=(l=a.if.call(s,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"</div>"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <dd id="item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n'+(null!=(l=a.if.call(r,null!=n?n.mutiple:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+'            <label for="answer-item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <span class="pull-left option-num">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.code:n,"：",{name:"echoX",hash:{},data:i}))?l:"")+'</span>\n                <div class="answer-options">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n            </label>\n        </dd>\n"},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="checkbox">\n                    <input '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="check-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"/>\n                    <label for="check-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"></label>\n                </div>\n'},8:function(e,n,a,t,i){return' checked="checked"'},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="radio">\n                    <input class="m-right" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="value-'+d((s=null!=(s=a.questionId||(null!=n?n.questionId:n))?s:o,"function"==typeof s?s.call(r,{name:"questionId",hash:{},data:i}):s))+'" id="radio-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"/>\n                    <label for="radio-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"></label>\n                </div>\n'},12:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowAnswer:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'                </div></div>\n                <div class="text-right">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowGainScore:l,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+'                    <span class="layout-ml">本题易错率：'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.errorRate:l,n))+"%</span>\n                </div>\n            </div>\n        </div>\n"},13:function(e,n,a,t,i){var l;return"                        答案："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.answer:l,n))+"\n"},15:function(e,n,a,t,i){var l;return"                        <span>本题得分："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/question/types/answer/choise/view-options",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.bindings={state:!0,answer:!0},a.dataForTemplate={options:function(){var e=this.bindings.answer.data,n=this;return t.map(this.bindings.state.data.options,function(a,i){var l=a;l.index=i,l.code=String.fromCharCode(l.index+"A".charCodeAt(0)),l.questionId=n.bindings.state.data.id,t.find(e.value,["id",l.id])&&(l.checked=!0)}),this.bindings.state.data.options},isShowDetail:function(){var e=this.bindings.state.data.detailMode;return e&&e>0},state:function(e){return i.assign(e.state,{errorRate:e.state.errorRate/1e4})}},a.events={"click check-*":"check","click radio-*":"radio"},a.handlers={check:function(e){var n,a=this.bindings.answer.data,i=this.bindings.state.getOption(e);return this.$("check-"+e).checked?(a.key=this.bindings.state.data.id,a.value.push({id:i.id,value:i.name,score:i.score})):(n=t.reject(a.value,["id",i.id]),this.bindings.answer.data={key:this.bindings.state.data.id,value:n}),this.module.dispatch("save")},radio:function(e){var n,a=this.bindings.answer.data,i=this.bindings.state.getOption(e);return this.$("radio-"+e).checked?(a.key=this.bindings.state.data.id,a.value=[{id:i.id,value:i.name,score:i.score}]):(n=t.reject(a.value,["id",i.id]),this.bindings.answer.data=n),this.module.dispatch("save")}},a.beforeRender=function(){var e=this.bindings.state.data;1===e.detailMode&&(e.isShowAnswer=!0,e.isShowGainScore=!0),2===e.detailMode?(e.isShowAnswer=!1,e.isShowGainScore=!0):3===e.detailMode&&(e.isShowAnswer=!1,e.isShowGainScore=!0,this.bindings.answer.data={})}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/question/types/answer/question-answer/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data={gainScore:0,errorRate:0},l=t.get("question-difficultys");i.assign(a,n),n.questionAttrs.length>0&&(a.answer=n.questionAttrs[0].value),n.difficulty&&(a.difficulty=l[Number(n.difficulty)-1].value),n.answerRecord&&(a.gainScore=n.answerRecord.score),a.detailMode=e.mode,this.models.answer.init(e.answer)},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/exam/research-activity/question/types/answer/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div class="question" style="display:inline;">\n        <span class="sub-text inline-block">\n            '+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+".\n            【\n            "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.state:n)?l.type:l,{name:"map",hash:{},data:i}))+'\n            】 &nbsp;\n        </span>\n        <span class="inline-block"><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</a></span>\n    </div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<form class="vertical m-bottom">\n    <textarea class="input w-full" id="answer" x-rule="maxLength:5000" name="value" rows="5" placeholder="请输入答案" maxlength="5000">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(s,null!=n?n.answer:n,{name:"echoX",hash:{},data:i}))?l:"")+"</textarea>\n"+(null!=(l=a.if.call(s,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"</form>"},6:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowAnswer:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+'                </div></div>\n                <div class="text-right">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowGainScore:l,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"                    \x3c!--  span.layout-ml > echo('本题易错率：' state.errorRate '%') --\x3e\n                </div>\n            </div>\n        </div>\n"},7:function(e,n,a,t,i){var l;return"                        答案："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.answer:l,n))+"\n"},9:function(e,n,a,t,i){var l;return"                        <span>本题得分："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/question/types/answer/question-answer/view-options",function(e,n,a){var t=e("jquery"),i=e("drizzle-zxy");a.bindings={state:!0,answer:!0},a.events={"change answer":"changeAnswer"},a.handlers={changeAnswer:function(){return this.bindings.answer.set({key:this.bindings.state.data.id,value:[{id:this.bindings.state.data.id,value:t(this.$("answer")).val().trim()}]}),this.module.dispatch("save")}},a.dataForTemplate={answer:function(){var e=this.bindings.answer;return e.data.value.length>0?e.data.value[0].value:""},isShowDetail:function(){var e=this.bindings.state.data.detailMode;return e&&e>0},state:function(e){return i.assign(e.state,{errorRate:e.state.errorRate/1e4})}},a.beforeRender=function(){var e=this.bindings.state.data;1===e.detailMode&&(e.isShowAnswer=!0,e.isShowGainScore=!0),2===e.detailMode?(e.isShowAnswer=!1,e.isShowGainScore=!0):3===e.detailMode&&(e.isShowAnswer=!1,e.isShowGainScore=!0,this.bindings.answer.data={})}},{"drizzle-zxy":!1,jquery:!1});loadjs.d("./app/exam/research-activity/question/types/preview/choise/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy"),l=e("lodash/collection");a.items={content:"content"},a.store={models:{state:{}},callbacks:{init:function(e){var n,a,s=this.models.state.data={options:[],title:"单选题",answer:"",id:e.data.id,index:e.data.index,showIndex:e.showIndex||!1},r=e.data,o=t.get("question-difficultys"),d=t.get("question-types");if(r){for(i.assign(s,r),a=r.questionAttrs,a=l.sortBy(a,"name"),n=0;n<a.length;n++)s.options.push({content:a[n].value,score:a[n].score||0,isAnswer:0===Number(a[n].type),isRichText:!1}),0===Number(a[n].type)&&(s.answer+=String.fromCharCode(n+"A".charCodeAt(0)));s.score=r.score,s.content=r.content,r.difficulty&&(s.difficulty=o[Number(r.difficulty)-1].value),s.type=d[Number(r.type)-1].value,2===Number(r.type)&&(s.title="多选题")}s.mode||(s.mode=0),this.models.state.changed()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/question/types/preview/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise col-sm-12 preview-content">\n    <div data-region="content"></div>\n</div>'},3:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'    \x3c!-- .row --\x3e\n    \x3c!--   .col-xs-6 > .com-title > echo(state.title) --\x3e\n    \x3c!--   .col-xs-6 > .m-top.text-right --\x3e\n    \x3c!--          | 本题分数： --\x3e\n    \x3c!--         echo(state.score) --\x3e\n    <div class="question" style="display:inline;">\n        <span class="sub-text inline-block">\n'+(null!=(l=a.if.call(r,null!=(l=null!=n?n.state:n)?l.showIndex:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"            【\n            "+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=(l=null!=n?n.state:n)?l.title:l,{name:"echoX",hash:{},data:i}))?l:"")+'\n            】 &nbsp;\n        </span>\n        <span><a class="normal" name="'+d((s=null!=(s=a.anchor||(null!=n?n.anchor:n))?s:o,"function"==typeof s?s.call(r,{name:"anchor",hash:{},data:i}):s))+"-"+d(e.lambda(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+'</a></span>\n    </div>\n    <div class="answer">\n        <div class="preview-list"><dl>'+(null!=(l=a.each.call(r,null!=n?n.options:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"        </dl></div>\n    </div>\n"},4:function(e,n,a,t,i){var l;return"                "+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.index:l,n))+"\n                .\n"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n            <dd id="item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <label for="answer-item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                    <span class="pull-left option-num">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.code:n,"：",{name:"echoX",hash:{},data:i}))?l:"")+'</span>\n                    <div class="answer-options">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n                </label>\n            </dd>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/question/types/preview/choise/view-content",function(e,n,a){var t=e("lodash/collection");a.bindings={state:!0},a.dataForTemplate={anchor:function(){return this.module.renderOptions.anchor||"mlj"},options:function(e){var n=this;return t.map(e.state.options,function(e,a){var t=e;t.index=a,t.code=String.fromCharCode(t.index+"A".charCodeAt(0)),t.mode=n.bindings.state.data.mode}),e.state.options},showScore:function(){return 1===this.module.renderOptions.previewMode}}},{"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/question/types/preview/question-answer/index",function(e,n,a){var t=e("./app/util/maps");a.items={content:"content"},a.store={models:{state:{}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data,i=t.get("question-types"),l=t.get("question-difficultys");a.content=n.content,a.answer=n.questionAttrs[0].value,a.score=n.score,a.type=i[Number(n.type)-1].value,a.id=n.id,a.index=n.index,a.showIndex=e.showIndex||!1,n.difficulty&&(a.difficulty=l[Number(n.difficulty)-1].value),this.models.state.changed()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps"}),loadjs.d("./app/exam/research-activity/question/types/preview/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n</div>'},3:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'    <div class="question" style="display:inline;">\n        <span class="sub-text inline-block">\n'+(null!=(l=a.if.call(r,null!=(l=null!=n?n.state:n)?l.showIndex:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'            【\n            问答题\n            】 &nbsp;\n        </span>\n        <span class="inline-block"><a class="normal" name="'+d((s=null!=(s=a.anchor||(null!=n?n.anchor:n))?s:o,"function"==typeof s?s.call(r,{name:"anchor",hash:{},data:i}):s))+"-"+d(e.lambda(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+'</a></span>\n    </div>\n    <div class="answer">\n        <dl>'+(null!=(l=a.each.call(r,null!=n?n.options:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"</dl>\n    </div>\n"},4:function(e,n,a,t,i){var l;return"                "+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.index:l,n))+"\n                .\n"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing;return'\n            <dd id="item-'+e.escapeExpression((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <div class="inline-block"><label class="no-margin" for="answer-item-1">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"</label></div>\n            </dd>\n        "},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/question/types/preview/question-answer/view-content",function(e,n,a){var t=e("lodash/collection");a.bindings={state:!0},a.dataForTemplate={anchor:function(){return this.module.renderOptions.anchor||"mlj"},options:function(e){return t.map(e.state.options,function(e,n){var a=e;a.index=n,a.code=String.fromCharCode(a.index+"A".charCodeAt(0))}),e.state.options}}},{"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/question/types/summary-detail/choise/index",function(e,n,a){var t=e("lodash/collection");a.items={main:"main"},a.store={models:{question:{mixin:{init:function(){var e=this;this.data.options=t.map(this.data.questionAttrs,function(n,a){return{code:String.fromCharCode(a+"A".charCodeAt(0)),text:n.value,selectPercent:n.selectPercent||e.countPercent(n.name),checked:e.isChecked(n.name)}})},countPercent:function(e){var n=t.filter(this.data.answerRecords,function(n){return!(!n||!n.answer)&&t.some(n.answer.split(","),function(n){return n===e})}).length,a=t.filter(this.data.answerRecords,function(e){return!(!e||!e.answer)}).length,i=0===a?0:n/a,l=100*i+"";return l.indexOf(".")>0?Number(l).toFixed(2):l},isChecked:function(e){var n=t.find(this.data.answerRecords,["researchRecordId",this.data.researchRecordId]),a=!1,i=[];return n&&n.answer&&(i=n.answer.split(","),a=t.some(i,function(n){return n===e})),a}}}},callbacks:{init:function(e){this.models.question.set(e.question),this.models.question.init()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/question/types/summary-detail/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div id="main"></div>\n    <div class="question mb-1">\n        <span class="inline-block"><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".</a></span>\n        【\n        "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.question:n)?l.type:l,{name:"map",hash:{},data:i}))+"\n        】\n        "+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </div>\n"+(null!=(l=a.if.call(o,null!=n?n.mutiple:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(8,i,0),data:i}))?l:"")},4:function(e,n,a,t,i){var l;return'        <div class="layout-mb border bottom">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.question:n)?l.options:l,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"            <br/>\n        </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                <div class="clearfix layout-mb-small">\n                    <div class="pull-left layout-mr-small">\n                        <div class="inline-block">\n                            <div class="checkbox">\n                                <input '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="checkbox-'+c((s=null!=(s=a.index||i&&i.index)?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'" disabled/>\n                                <label for="checkbox-'+c((s=null!=(s=a.index||i&&i.index)?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'"></label>\n                            </div>\n                        </div>\n                        <b>'+c((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,typeof s===d?s.call(r,{name:"code",
hash:{},data:i}):s))+'.</b>\n                    </div>\n                    <div class="overflow">\n                        <div class="m-bottom">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.text:n,{name:"echoX",hash:{},data:i}))?l:"")+'</div>\n                        <div class="w-half"><div class="progress-box">\n                            <div class="progress m-right"><div class="progress-bar" style="width:'+c((s=null!=(s=a.selectPercent||(null!=n?n.selectPercent:n))?s:o,typeof s===d?s.call(r,{name:"selectPercent",hash:{},data:i}):s))+'%"></div></div>\n                            <span class="m-left text-left">'+c((s=null!=(s=a.selectPercent||(null!=n?n.selectPercent:n))?s:o,typeof s===d?s.call(r,{name:"selectPercent",hash:{},data:i}):s))+"%</span>\n                        </div></div>\n                    </div>\n                </div>\n"},6:function(e,n,a,t,i){return' checked="checked"'},8:function(e,n,a,t,i){var l;return'        <div class="layout-mb border bottom">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.question:n)?l.options:l,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"            <br/>\n        </div>\n"},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="clearfix layout-mb-small">\n                    <div class="pull-left layout-mr-small">\n                        <input '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" disabled/>\n                        <b>'+d((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,"function"==typeof s?s.call(r,{name:"code",hash:{},data:i}):s))+'.</b>\n                    </div>\n                    <div class="overflow">\n                        <div class="m-bottom">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.text:n,{name:"echoX",hash:{},data:i}))?l:"")+'</div>\n                        <div class="w-half"><div class="progress-box">\n                            <div class="progress m-right"><div class="progress-bar" style="width:'+d((s=null!=(s=a.selectPercent||(null!=n?n.selectPercent:n))?s:o,"function"==typeof s?s.call(r,{name:"selectPercent",hash:{},data:i}):s))+'%"></div></div>\n                            <span class="m-left text-left">'+d((s=null!=(s=a.selectPercent||(null!=n?n.selectPercent:n))?s:o,"function"==typeof s?s.call(r,{name:"selectPercent",hash:{},data:i}):s))+"%</span>\n                        </div></div>\n                    </div>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/question/types/summary-detail/choise/view-main",function(e,n,a){a.bindings={question:!0},a.dataForTemplate={mutiple:function(e){return 2===e.question.type}}},{}),loadjs.d("./app/exam/research-activity/question/types/summary-detail/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div class="question">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".</a></span>\n        【\n        "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.question:n)?l.type:l,{name:"map",hash:{},data:i}))+"\n        】\n        "+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+'\n    </div>\n    <div class="clearfix statistics-list">\n        <div class="statistics-list-tit pull-left col-sm-10">答：'+r(s(null!=(l=null!=(l=null!=n?n.question:n)?l.answerRecord:l)?l.answer:l,n))+'</div>\n        <div class="statistics-list-time pull-right">'+r((a.dateMinute||n&&n.dateMinute||d).call(o,null!=(l=null!=(l=null!=n?n.question:n)?l.answerRecord:l)?l.createTime:l,{name:"dateMinute",hash:{},data:i}))+"</div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/question/types/summary/choise/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.items={main:"main"},a.store={models:{question:{mixin:{init:function(){var e=this;this.data.options=t.map(this.data.questionAttrs,function(n,a){return i.assign({code:String.fromCharCode(a+"A".charCodeAt(0)),text:n.value},n.selectCount?{selectPercent:n.selectPercent,selectCount:n.selectCount}:e.getSelectData(n.name))}),this.data.answerCount=this.data.answerCount||this.data.answerRecords.length},getSelectData:function(e){var n=t.filter(this.data.answerRecords,function(n){return!(!n||!n.answer)&&t.some(n.answer.split(","),function(n){return n===e})}).length,a=t.filter(this.data.answerRecords,function(e){return!(!e||!e.answer)}).length,i=0===a?0:n/a,l=100*i+"";return{selectPercent:l.indexOf(".")>0?Number(l).toFixed(2):l,selectCount:n}}}}},callbacks:{init:function(e){this.models.question.set(e.question),this.models.question.init()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/question/types/summary/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div id="main"></div>\n    '+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".【\n    "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.question:n)?l.type:l,{name:"map",hash:{},data:i}))+'\n    】\n    <a class="normal" name="mlj-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+'</a>\n    <table class="table m-top">\n        <tr>\n            <th width="45%"> 选项</th>\n            <th width="10%">  计数</th>\n            <th width="45%">  比例</th>\n        </tr>\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.question:n)?l.options:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'    </table>\n    <div class="statistics-table-footer">本题有效填写人数    '+r(s(null!=(l=null!=n?n.question:n)?l.answerCount:l,n))+"</div>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"            <tr>\n                <td>"+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.code:n,".",null!=n?n.text:n,{name:"echoX",hash:{},data:i}))?l:"")+"</td>\n                <td>"+d((s=null!=(s=a.selectCount||(null!=n?n.selectCount:n))?s:o,"function"==typeof s?s.call(r,{name:"selectCount",hash:{},data:i}):s))+'</td>\n                <td>\n                    <div class="progress-box">\n                        <div class="progress m-right"><div class="progress-bar" style="width:'+d((s=null!=(s=a.selectPercent||(null!=n?n.selectPercent:n))?s:o,"function"==typeof s?s.call(r,{name:"selectPercent",hash:{},data:i}):s))+'%"></div></div>\n                    </div>\n                    '+d((s=null!=(s=a.selectPercent||(null!=n?n.selectPercent:n))?s:o,"function"==typeof s?s.call(r,{name:"selectPercent",hash:{},data:i}):s))+"%\n                </td>\n            </tr>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/question/types/summary/choise/view-main",function(e,n,a){a.bindings={question:!0}},{}),loadjs.d("./app/exam/research-activity/question/types/summary/question-answer/index",function(e,n,a){a.items={main:"main","exam/research-activity/question/types/summary/question-answer/more":{isModule:!0}},a.store={models:{question:{mixin:{init:function(){}}}},callbacks:{init:function(e){this.models.question.set(e.question)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/exam/research-activity/question/types/summary/question-answer/more/index",function(e,n,a){a.items={main:"main",head:"head"},a.title="查看答题明细",a.large=!0,a.store={models:{question:{},answers:{url:"../exam/research-activity/summary-detail/question",type:"pageable",root:"items"}},callbacks:{init:function(e){var n=this.models.answers;return this.models.question.set(e.question),n.params={questionId:e.question.id,researchId:e.question.researchQuestionary.id},this.get(n)},search:function(e){var n=this.models.answers;return n.params.answer=e.answer,this.get(n)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/exam/research-activity/question/types/summary/question-answer/more/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="head"></div>\n    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l;return'<form>\n    <div class="row"><div class="col-sm-12">\n        <h3>'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.question:n)?l.researchQuestionary:l)?l.name:l,n))+'</h3>\n    </div></div>\n    <div class="row"><div class="col-sm-12">\n        '+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},"问题：",null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+'\n    </div></div>\n    <hr/>\n    <div class="row"><div class="col-sm-12">\n        <div class="pull-right m-bottom">\n            <input class="input pull-left" name="answer" placeholder="请输入查询答案内容"/>\n            <button id="search" class="btn pull-left">查询</button>\n        </div>\n    </div></div>\n</form>'},5:function(e,n,a,t,i){var l;return'    <div class="row"><div class="col-sm-12">\n        <div class="list">\n            <table class="table table2 text-center train border around">\n                <thead><tr>\n                    <th width="150">姓名</th>\n                    <th>答案内容</th>\n                    <th width="200">答题时间</th>\n                </tr></thead>\n                <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.answers:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'</tbody>\n            </table>\n        </div>\n        <div id="pager" class="pagination"></div>\n    </div></div>\n'},6:function(e,n,a,t,i){var l,s,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return"\n                    <tr>\n                        <td>"+r(e.lambda(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                        <td>"+r((s=null!=(s=a.answer||(null!=n?n.answer:n))?s:d,"function"==typeof s?s.call(o,{name:"answer",hash:{},data:i}):s))+"</td>\n                        <td>"+r((a.dateMinute||n&&n.dateMinute||d).call(o,null!=n?n.createTime:n,{name:"dateMinute",hash:{},data:i}))+"</td>\n                    </tr>\n                "},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/question/types/summary/question-answer/more/view-head",function(e,n,a){a.bindings={question:!0},a.type="form",a.actions={"click search":"search"},a.dataForActions={search:function(e){return e}}},{}),loadjs.d("./app/exam/research-activity/question/types/summary/question-answer/more/view-main",function(e,n,a){a.bindings={answers:!0},a.components=[{id:"pager",name:"pager",options:{model:"answers"}}]},{}),loadjs.d("./app/exam/research-activity/question/types/summary/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return"    "+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".【\n    "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.question:n)?l.type:l,{name:"map",hash:{},data:i}))+'\n    】\n    <a class="normal" name="mlj-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</a>\n"+(null!=(l=a.if.call(o,null!=n?n.answerOne:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+(null!=(l=a.if.call(o,null!=n?n.biggerThan:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},4:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.answerRecords:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:""},5:function(e,n,a,t,i){var l,s,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'            <div class="clearfix statistics-list onlyone m-top">\n                <div class="statistics-list-tit m-top pull-left col-sm-10">'+r(e.lambda(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"的回答："+r((s=null!=(s=a.answer||(null!=n?n.answer:n))?s:d,"function"==typeof s?s.call(o,{name:"answer",hash:{},data:i}):s))+'</div>\n                <div class="statistics-list-time m-top pull-right">'+r((a.dateMinute||n&&n.dateMinute||d).call(o,null!=n?n.createTime:n,{name:"dateMinute",hash:{},data:i}))+"</div>\n            </div>\n"},7:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.answerRecords:n,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:""},8:function(e,n,a,t,i){var l,s,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'            <div class="clearfix statistics-list m-top">\n                <div class="statistics-list-tit m-top pull-left col-sm-10">'+r(e.lambda(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"的回答："+r((s=null!=(s=a.answer||(null!=n?n.answer:n))?s:d,"function"==typeof s?s.call(o,{name:"answer",hash:{},data:i}):s))+'</div>\n                <div class="statistics-list-time m-top pull-right">'+r((a.dateMinute||n&&n.dateMinute||d).call(o,null!=n?n.createTime:n,{name:"dateMinute",hash:{},data:i}))+"</div>\n            </div>\n"},10:function(e,n,a,t,i){return'        <a id="more" class="center-text">查看更多</a>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/question/types/summary/question-answer/view-main",function(e,n,a){a.bindings={question:!0},a.events={"click more":"viewMore"},a.handlers={viewMore:function(){var e=this.module.items["exam/research-activity/question/types/summary/question-answer/more"];this.app.viewport.modal(e,{question:this.bindings.question.data})}},a.dataForTemplate={biggerThan:function(e){return e.question.answerRecords.length>10},answerOne:function(e){return e.question.answerRecords.length<=1},answerRecords:function(e){var n=[],a=e.question.answerRecords,t=0;for(t=0;t<a.length&&(n.push(a[t]),!(t+1>9));t++);return n}}},{}),loadjs.d("./app/exam/research-activity/research-answer/index",function(e,n,a){var t,i=e("lodash/collection"),l=e("drizzle-zxy"),s=e("./app/util/maps"),r={INIT:"init",CHECK:"check",ACTIVE:"active",CURRENT:"current"};a.items={title:"title",main:"main",side:"side"},a.large=!0,a.title="调研详情",a.store={models:{state:{mixin:{init:function(){var e=this.module.store.models.dimensions,n=e.getFirstDimension();this.data={currentDimension:n,currentQuestion:n.questions[0]}},selectQuestion:function(e){var n=this.module.store.models.dimensions;l.assign(this.data,{currentQuestion:e,currentDimension:n.getDimension(e.id)})},resetCurrentQuestion:function(){var e=this.module.store.models.dimensions;l.assign(this.data,{currentQuestion:e.getCurrentQuestion()})}}},researchRecord:{url:"../exam/research-record/front/detail",mixin:{getAnswerRecordsByQuestionId:function(e){var n=this.data.researchQuestionary.researchAnswerRecordMaps;return i.filter(i.map(n,function(n){return i.find(n.researchAnswerRecords,["questionId",e])}),function(e){return e})},getQuestionIndex:function(e,n){var a=this.data.researchQuestionary.dimensions;return a[a.findIndex(function(e){return e.id===n})].questions.findIndex(function(n){return n.id===e})+1}}},questions:{mixin:{init:function(e){var n=this;this.data=[],i.forEach(e,function(e){e.questions&&i.forEach(e.questions,function(e){n.data.push(e)})})},getQuestionById:function(e){var n=i.find(this.data,["id",e]),a=this.module.store.models.researchRecord;return l.assign(n,{answerRecords:a.getAnswerRecordsByQuestionId(n.id),index:a.getQuestionIndex(n.id,n.dimensionId),researchRecordId:a.data.id})}}},dimensions:{mixin:{init:function(e){var n=s.get("research-question-types"),a=s.get("chineseNumber"),t=e.findIndex(function(e){return 1===e.isEmpty});return this.data=i.map(e,function(e,s){var o=i.find(a,["key",(s+1).toString()]).value;return-1!==t&&t<s&&(o=i.find(a,["key",s.toString()]).value),t===s&&(o=""),l.assign(e,{isCurrent:!0,dimensionIndex:o,questions:i.map(e.questions,function(e,a){return l.assign(e,{questionIndex:a+1,typeDesc:i.find(n,["key",e.type.toString()]).value+"题",status:0===s&&0===a?r.CURRENT:r.INIT})}),questionSize:e.questions.length})}),this.data},getDimension:function(e){return i.find(this.data,function(n){return i.some(n.questions,function(n){return n.id===e})})},getQuestionById:function(e){var n;return i.forEach(this.data,function(a){i.forEach(a.questions,function(a){a.id===e&&(n=a)})}),n},getFirstDimension:function(){return this.data[0]},getCurrentQuestion:function(){var e;return i.forEach(this.data,function(n){i.forEach(n.questions,function(n){n.status===r.CURRENT&&(e=n)})}),e},selectDimension:function(e){this.module.store.models.state.data.selectQuestion||(this.data[e].isCurrent=!this.data[e].isCurrent),this.module.store.models.state.data.selectQuestion=!1},selectQuestion:function(e){var n=this.getDimension(e),a=n.questions.findIndex(function(e){return e.status===r.CURRENT}),s=this;a>-1&&(n.questions[a].status=t.call(this,n.questions[a].id)),l.assign(this.getQuestionById(e),{status:r.CURRENT}),i.forEach(i.filter(this.data,function(n){return i.every(n.questions,function(n){return n.id!==e})}),function(e){var n=e.questions.findIndex(function(e){return e.status===r.CURRENT});-1!==n&&l.assign(e.questions[n],{status:t.call(s,e.questions[n].id)})}),this.module.store.models.state.data.selectQuestion=!0},move:function(e){var n=this.data[e.id],a=n.questions.findIndex(function(e){return e.status===r.CURRENT}),i=n.questions[a+e.offset];i&&(i.status=r.CURRENT,n.questions[a].status=t.call(this,n.questions[a].id))}}}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.questions,t=this.models.dimensions,i=this.models.state;if(n.clear(),e.researchRecord)n.set(e.researchRecord),a.init(e.researchRecord.researchQuestionary.dimensions),n.changed();else if(e.researchRecordId)return n.params={researchRecordId:e.researchRecordId},this.get(n,{loading:!0}).then(function(){a.init(t.init(n.data.researchQuestionary.dimensions)),t.changed(),i.init()},function(){setTimeout(function(){window.close()},1500)});return""},selectDimension:function(e){this.models.dimensions.selectDimension(e.id),this.models.dimensions.changed()},selectQuestion:function(e){this.models.dimensions.selectQuestion(e.id),this.models.dimensions.changed(),this.models.state.selectQuestion(this.models.dimensions.getQuestionById(e.id))},move:function(e){this.models.dimensions.move(e),this.models.dimensions.changed(),this.models.state.resetCurrentQuestion(),this.models.state.changed()}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)},t=function(){return r.INIT}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/research-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="achievement-content main-side">\n        <div class="achievement-side bg-color">\n            <div data-region="side"></div>\n        </div>\n        <div class="achievement-head" data-region="title"></div>\n        <div class="achievement-main top-half" data-region="main"></div>\n    </div>\n'},3:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression;return'    <div class="pull-left title" title="'+o(r(null!=(l=null!=(l=null!=n?n.researchRecord:n)?l.researchQuestionary:l)?l.name:l,n))+'">'+o(r(null!=(l=null!=(l=null!=n?n.researchRecord:n)?l.researchQuestionary:l)?l.name:l,n))+'</div>\n    <div class="text-right">\n        <ul class="head-info inline-block">\n            <li class="border right">'+o((s=null!=(s=a.memberTitle||(null!=n?n.memberTitle:n))?s:a.helperMissing,"function"==typeof s?s.call(null!=n?n:{},{name:"memberTitle",hash:{},data:i}):s))+": "+o(r(null!=(l=null!=(l=null!=n?n.researchRecord:n)?l.member:l)?l.fullName:l,n))+"</li>\n        </ul>\n    </div>\n"},5:function(e,n,a,t,i){var l;return'    <div class="preview-content">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isMutiple:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(12,i,0),data:i}))?l:"")+"    </div>\n"},6:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:""},7:function(e,n,a,t,i){var l,s=null!=n?n:{};return(null!=(l=a.if.call(s,null!=n?n.dimensionIndex:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.each.call(s,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},8:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <div class="h3 m-top">'+o((l=null!=(l=a.dimensionIndex||(null!=n?n.dimensionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"dimensionIndex",hash:{},data:i}):l))+"、"+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'</div>\n                    <div class="description-con">\n                        <p class="des-con">'+o((l=null!=(l=a.description||(null!=n?n.description:n))?l:r,"function"==typeof l?l.call(s,{name:"description",hash:{},data:i}):l))+'</p>\n                        <span class="btn-des-more" id="desMore'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">\n                            <span class="text">展开</span>\n                            <i class="iconfont icon-arrow-down"></i>\n                        </span>\n                    </div>\n'},10:function(e,n,a,t,i){var l;return'                    <div class="m-top" data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},12:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'            <div class="h3">'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentDimension:l)?l.name:l,n))+"("+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.questionIndex:l,n))+"/"+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentDimension:l)?l.questionSize:l,n))+')</div>\n            <div data-dynamic-key="'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n'},14:function(e,n,a,t,i){var l;return'    <ul class="list">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},15:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li>\n            <div class="list-title pointer" id="list-item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                \x3c!-- i.iconfont.icon-type.m-right --\x3e\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.program(18,i,0),data:i}))?l:"")+'"></i><i class="iconfont icon-triangle-down '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.program(16,i,0),data:i}))?l:"")+'"></i></span>\n                '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'\n            </div>\n            <div class="min-btn-groups  '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.program(18,i,0),data:i}))?l:"")+'">\n'+(null!=(l=a.if.call(r,null!=n?n.singleMode:n,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n        </li>\n    "},16:function(e,n,a,t,i){return""},18:function(e,n,a,t,i){return"hidden"},20:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <div class="items-pagination sub-text">\n                        <div class="up-arrow text-hover-main-color" id="prev-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"><i class="iconfont icon-arrow-up-circle-full"></i></div>\n                        <div class="down-arrow text-hover-main-color" id="next-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"><i class="iconfont icon-arrow-down-circle-full"></i></div>\n                    </div>\n'},22:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","active",{name:"compare",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","current",{name:"compare",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","init",{name:"compare",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")},23:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item active" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"questionIndex",hash:{},data:i}):l))+"</a>\n"},25:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item current" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"questionIndex",hash:{},data:i}):l))+"</a>\n"},27:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"questionIndex",hash:{},data:i}):l))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"title",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/research-answer/view-main",function(e,n,a){var t=e("./app/exam/research-question-types"),i=e("drizzle-zxy"),l=e("lodash/collection"),s=e("jquery");a.bindings={researchRecord:!0,dimensions:!0,state:!0,questions:!1},a.type="dynamic",a.getEntity=function(e){var n=this.bindings.questions.getQuestionById(e);return i.assign({},n,{questionAttrs:l.orderBy(n.questionAttrs,["name"],["asc"]),score:n.score/100})},a.getEntityModuleName=function(e,n){var a=this.bindings.researchRecord.data.researchQuestionary;return a&&3!==a.type&&1===a.permitViewCount?t.get(n.type,1):t.get(n.type,2)},a.dataForEntityModule=function(e){return{type:e.type,question:e}},a.dataForTemplate={isMutiple:function(e){return!e.researchRecord.researchQuestionary||1===e.researchRecord.researchQuestionary.answerPaperRule}},a.afterRender=function(){s(".description-con").each(function(e,n){var a=s(n).children(".des-con"),t=a.height(),i=s(n);t>30?a.addClass("text-overflow"):a.hasClass("text-overflow")||i.addClass("overflow-hidden")})},a.events={"click desMore*":"handleDesMore"},a.handlers={handleDesMore:function(e,n,a){var t=s(a);t.hasClass("active")?(t.removeClass("active"),t.siblings(".des-con").addClass("text-overflow"),t.children(".text").text("展开")):(t.addClass("active"),t.siblings(".des-con").removeClass("text-overflow"),t.children(".text").text("收起"))}}},{"./app/exam/research-question-types":"./app/exam/research-question-types","drizzle-zxy":!1,jquery:!1,
"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/research-answer/view-side",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.bindings={researchRecord:!0,dimensions:!0},a.events={"click prev-*":"prev","click next-*":"next","click question-*":"selectQuestion","click list-item-*":"toggleMore"},a.handlers={prev:function(e,n){return n.preventDefault(),this.module.dispatch("move",{id:e,offset:-1})},next:function(e,n){return n.preventDefault(),this.module.dispatch("move",{id:e,offset:1})},selectQuestion:function(e){return this.module.dispatch("selectQuestion",{id:e})},toggleMore:function(e){return this.module.dispatch("selectDimension",{id:e})}},a.dataForTemplate={dimensions:function(e){return t.map(e.dimensions,function(n){return i.assign(n,{singleMode:2===e.researchRecord.researchQuestionary.answerPaperRule})})}}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/research-answer/view-title",function(e,n,a){a.bindings={researchRecord:!0},a.dataForTemplate={memberTitle:function(e){return 3===(e.researchRecord.researchQuestionary||{}).type?"评估人员":"调研人员"}}},{}),loadjs.d("./app/exam/research-activity/research-detail/index",function(e,n,a){var t,i=e("lodash/collection"),l=e("drizzle-zxy"),s=e("./app/util/maps"),r=e("./app/util/strings"),o={INIT:"init",CHECK:"check",ACTIVE:"active",CURRENT:"current"};a.items={side:"side",main:"main",head:"head","research-tips":"",tips:""},a.store={models:{state:{mixin:{init:function(){var e=this.module.store.models.dimensions,n=this.module.store.models.questions,a=e.getFirstDimension();this.data={currentDimension:a,noAnswerCount:n.data.length,answeredCount:0,currentQuestion:a.questions[0],isSubmit:!1}},selectQuestion:function(e){var n=this.module.store.models.dimensions;l.assign(this.data,{currentQuestion:e,currentDimension:n.getDimension(e.id)})},resetCurrentQuestion:function(){var e=this.module.store.models.dimensions;l.assign(this.data,{currentQuestion:e.getCurrentQuestion()})},calculate:function(){var e=this.module.store.models.answer,n=this.module.store.models.questions.data||[],a=e.answeredCount();l.assign(this.data,{answeredCount:a,noAnswerCount:n.length-a})},isComplete:function(){return 0===this.data.noAnswerCount},saveSubmit:function(e){this.data.isSubmit=e},isSubmit:function(){return this.data.isSubmit}}},researchRecord:{url:"../exam/research-record/front/research-detail"},questions:{mixin:{init:function(e){var n=this;this.data=[],i.forEach(e,function(e){e.questions&&i.forEach(e.questions,function(e,a){n.data.push(l.assign(e,{index:a+1}))})})},getQuestionById:function(e){return i.find(this.data,["id",e])}}},dimensions:{mixin:{init:function(e){var n=s.get("research-question-types"),a=s.get("chineseNumber"),t=e.findIndex(function(e){return 1===e.isEmpty});return this.data=i.map(e,function(e,s){var r=i.find(a,["key",(s+1).toString()]).value;return-1!==t&&t<s&&(r=i.find(a,["key",s.toString()]).value),t===s&&(r=""),l.assign(e,{isCurrent:!0,dimensionIndex:r,questions:i.map(e.questions,function(e,a){return l.assign(e,{questionIndex:a+1,typeDesc:i.find(n,["key",e.type.toString()]).value+"题",status:0===s&&0===a?o.CURRENT:o.INIT})}),questionSize:e.questions?e.questions.length:0})}),this.data},getDimension:function(e){return i.find(this.data,function(n){return i.some(n.questions,function(n){return n.id===e})})},getQuestionById:function(e){var n;return i.forEach(this.data,function(a){i.forEach(a.questions,function(a){a.id===e&&(n=a)})}),n},selectDimension:function(e){this.module.store.models.state.data.selectQuestion||(this.data[e].isCurrent=!this.data[e].isCurrent),this.module.store.models.state.data.selectQuestion=!1},selectQuestion:function(e){var n=this.getDimension(e),a=n.questions.findIndex(function(e){return e.status===o.CURRENT}),s=this;a>-1&&(n.questions[a].status=t.call(this,n.questions[a].id)),l.assign(this.getQuestionById(e),{status:o.CURRENT}),i.forEach(i.filter(this.data,function(n){return i.every(n.questions,function(n){return n.id!==e})}),function(e){var n=e.questions.findIndex(function(e){return e.status===o.CURRENT});-1!==n&&l.assign(e.questions[n],{status:t.call(s,e.questions[n].id)})}),this.module.store.models.state.data.selectQuestion=!0},updateStatus:function(e,n){l.assign(this.getQuestionById(e),{status:n})},getFirstDimension:function(){return this.data[0]},getCurrentQuestion:function(){var e;return i.forEach(this.data,function(n){i.forEach(n.questions,function(n){n.status===o.CURRENT&&(e=n)})}),e},move:function(e){var n=this.data[e.id],a=n.questions.findIndex(function(e){return e.status===o.CURRENT}),i=n.questions[a+e.offset];i&&(i.status=o.CURRENT,n.questions[a].status=t.call(this,n.questions[a].id))}}},answer:{data:[],mixin:{saveAnswer:function(e){var n=i.reject(this.data,["key",e.key]);n.push(e),this.data=n},getAnswer:function(e){return this.data?i.find(this.data,["key",e]):null},answeredCount:function(){return i.filter(this.data,function(e){return e.value.length>0&&i.some(e.value,function(e){return""!==e.value})}).length},getData:function(){var e=this;return{researchAnswerRecords:JSON.stringify(i.map(e.store.models.questions.data,function(n){var a=i.find(e.data,["key",n.id])||{};return{questionId:n.id,answer:a.value?i.map(a.value,"value").join(","):"",score:a.value&&a.value.length>0?a.value[0].score:0,researchRecordId:e.store.models.researchRecord.data.id}}))}}}},form:{url:"../exam/research-answer-record/submit"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.questions,t=this.models.dimensions,i=this.models.state,l=this;if(e.researchRecord)n.set(e.researchRecord);else if(e.researchQuestionaryId)return n.params={researchQuestionaryId:e.researchQuestionaryId,businessId:e.businessId},this.get(n,{loading:!0}).then(function(){var e=n.data,s=e.researchQuestionary;if(1===s.type&&(1===s.status||2===s.status||4===s.status||5===s.status))return void l.app.viewport.modal(l.module.items["research-tips"]);a.init(t.init(n.data.researchQuestionary.dimensions)),i.init(),a.changed()});return""},saveResearchDetail:function(){var e=this,n=this.models.researchRecord;return this.models.form.set(l.assign({},this.models.answer.getData(),{researchQuestionaryId:n.params.researchQuestionaryId,businessId:n.params.businessId})),this.post(this.models.form,{loading:!0}).then(function(){e.app.message.success(r.get("submit-success")),e.app.viewport.modal(e.module.items.tips)})},selectDimension:function(e){this.models.dimensions.selectDimension(e.id),this.models.dimensions.changed()},selectQuestion:function(e){this.models.dimensions.selectQuestion(e.id),this.models.dimensions.changed(),this.models.state.selectQuestion(this.models.dimensions.getQuestionById(e.id))},saveAnswer:function(e){this.models.answer.saveAnswer(e),this.models.state.calculate(),this.models.dimensions.updateStatus(e.key,o.ACTIVE),this.models.dimensions.changed()},move:function(e){this.models.dimensions.move(e),this.models.dimensions.changed(),this.models.state.resetCurrentQuestion(),this.models.state.changed()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},t=function(e){var n=this.store.models.answer.data;return i.find(n,["key",e])?o.ACTIVE:o.INIT}},{"./app/util/maps":"./app/util/maps","./app/util/strings":"./app/util/strings","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/research-detail/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="achievement-content main-side">\n    <div class="achievement-side bg-color">\n        <div data-region="side"></div>\n    </div>\n    <div class="achievement-head" data-region="head"></div>\n    <div class="achievement-main" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression,d=null!=n?n:{},c=a.helperMissing;return'    <div class="pull-left title" title="'+o(r(null!=(l=null!=(l=null!=n?n.researchRecord:n)?l.researchQuestionary:l)?l.name:l,n))+'">正在参与: '+o(r(null!=(l=null!=(l=null!=n?n.researchRecord:n)?l.researchQuestionary:l)?l.name:l,n))+'</div>\n    <div class="text-right">\n        <ul class="head-info inline-block">\n            <li class="border right">'+o((s=null!=(s=a.memberTitle||(null!=n?n.memberTitle:n))?s:c,"function"==typeof s?s.call(d,{name:"memberTitle",hash:{},data:i}):s))+": "+o(r(null!=(l=null!=(l=null!=n?n.Global:n)?l.currentUser:l)?l.fullName:l,n))+'</li>\n        </ul>\n        <div id="submit" class="btn">'+o((a.string||n&&n.string||c).call(d,"exam.research.research-detail.submit",{name:"string",hash:{},data:i}))+"</div>\n    </div>\n"},5:function(e,n,a,t,i){var l;return'    <ul class="list">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li>\n            <div class="list-title pointer" id="list-item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                \x3c!-- i.iconfont.icon-type.m-right --\x3e\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'"></i><i class="iconfont icon-triangle-down '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'"></i></span>\n                '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'\n            </div>\n            <div class="min-btn-groups  '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'">\n'+(null!=(l=a.if.call(r,null!=n?n.singleMode:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n        </li>\n    "},7:function(e,n,a,t,i){return""},9:function(e,n,a,t,i){return"hidden"},11:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <div class="items-pagination sub-text">\n                        <div class="up-arrow text-hover-main-color" id="prev-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"><i class="iconfont icon-arrow-up-circle-full"></i></div>\n                        <div class="down-arrow text-hover-main-color" id="next-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"><i class="iconfont icon-arrow-down-circle-full"></i></div>\n                    </div>\n'},13:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","active",{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","current",{name:"compare",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","init",{name:"compare",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item active" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},16:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item current" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},18:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},20:function(e,n,a,t,i){var l;return'    <div class="preview-content">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isMutiple:n,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.program(27,i,0),data:i}))?l:"")+"    </div>\n"},21:function(e,n,a,t,i){var l;return"            <div>"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n"},22:function(e,n,a,t,i){var l,s=null!=n?n:{};return"\n"+(null!=(l=a.if.call(s,null!=n?n.dimensionIndex:n,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.each.call(s,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+"            "},23:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <div class="h3 m-bottom">'+o((l=null!=(l=a.dimensionIndex||(null!=n?n.dimensionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"dimensionIndex",hash:{},data:i}):l))+"、"+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'</div>\n                    <div class="description-con">\n                        <p class="des-con">'+o((l=null!=(l=a.description||(null!=n?n.description:n))?l:r,"function"==typeof l?l.call(s,{name:"description",hash:{},data:i}):l))+'</p>\n                        <span class="btn-des-more" id="desMore'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">\n                            <span class="text">展开</span>\n                            <i class="iconfont icon-arrow-down"></i>\n                        </span>\n                    </div>\n'},25:function(e,n,a,t,i){var l;return'                    <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},27:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'            <div class="h3">'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentDimension:l)?l.name:l,n))+"("+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.questionIndex:l,n))+"/"+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentDimension:l)?l.questionSize:l,n))+')</div>\n            <div data-dynamic-key="'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n'},29:function(e,n,a,t,i){return'    <div class="exam-notes-content">\n        <p>交卷成功</p>\n        <div class="layout-mt-small">\n            <button class="btn" id="show-answer-detail">查看详情</button>\n        </div>\n    </div>\n'},31:function(e,n,a,t,i){var l;return"    <div>"+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.research:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"tips",{name:"view",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"research-tips",{name:"view",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/research-detail/view-head",function(e,n,a){var t=e("./app/util/strings"),i=e("jquery");a.bindings={researchRecord:!0,state:!1},a.events={"click submit":"submit"},a.handlers={submit:function(e){var n=this,a=this.bindings.state,l=t.get("exam.research.research-detail.confirm-submit"),s=this.app.options.disabledClass;return!!i(e.target).hasClass(s)||(a.isSubmit()?(this.app.message.error("您已交卷，请勿重复提交"),!0):(a.saveSubmit(!0),i(e.target).addClass(s),n.bindings.state.data.noAnswerCount>0&&(l="您有"+t.getWithParams("exam.submit-paper-confirm.no-finish",n.bindings.state.data.noAnswerCount)+"，"+l),this.app.message.confirm(l,function(){return n.module.dispatch("saveResearchDetail").then(function(){i(e.target).removeClass(s)},function(){i(e.target).removeClass(s),a.saveSubmit(!1)})},function(){return i(e.target).removeClass(s),a.saveSubmit(!1),!1})))}},a.dataForTemplate={memberTitle:function(e){return 3===(e.researchRecord.researchQuestionary||{}).type?"评估人员":"调研人员"}}},{"./app/util/strings":"./app/util/strings",jquery:!1}),loadjs.d("./app/exam/research-activity/research-detail/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy"),l=e("./app/exam/research-question-types"),s=e("jquery");a.type="dynamic",a.bindings={researchRecord:!0,questions:!1,answer:!1,dimensions:!0,state:!0},a.getEntity=function(e){var n=this.module.store.models.questions.getQuestionById(e);return n=i.assign({},n,{questionAttrs:t.orderBy(n.questionAttrs,["name"],["asc"])})},a.getEntityModuleName=function(e,n){return l.get(n.type,3)},a.dataForEntityModule=function(e){var n=this;return{type:e.type,data:e,multiple:2===e.type,answer:this.bindings.answer.getAnswer(e.id),callback:function(e){return n.module.dispatch("saveAnswer",e)}}},a.dataForTemplate={isMutiple:function(e){return 1===e.researchRecord.researchQuestionary.answerPaperRule}},a.afterRender=function(){s(".description-con").each(function(e,n){var a=s(n).children(".des-con"),t=a.height(),i=s(n);t>30?a.addClass("text-overflow"):a.hasClass("text-overflow")||i.addClass("overflow-hidden")})},a.events={"click desMore*":"handleDesMore"},a.handlers={handleDesMore:function(e,n,a){var t=s(a);t.hasClass("active")?(t.removeClass("active"),t.siblings(".des-con").addClass("text-overflow"),t.children(".text").text("展开")):(t.addClass("active"),t.siblings(".des-con").removeClass("text-overflow"),t.children(".text").text("收起"))}}},{"./app/exam/research-question-types":"./app/exam/research-question-types","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/research-detail/view-research-tips",function(e,n,a){var t=e("./app/util/helpers");a.bindings={researchRecord:!0},a.dataForTemplate={research:function(e){var n=e.researchRecord,a=n.researchQuestionary,i=a.questionaryDetail,l=Number(a.status);return this.options.closeText="关闭",this.options.title="问卷须知",n.id?1===l||5===l?(this.options.title="温馨提示",i="您好，该调研已不存在"):2===l?(this.options.title="温馨提示",i="您好，本次调研尚未到调研时间，请在调研时间 "+t.dateMinute(a.startTime)+" ~ "+t.dateMinute(a.endTime)+" 进行调研，谢谢"):4===l&&(0===n.status?(this.options.title="温馨提示",i="您好，该调研已过期，无法参与，谢谢"):(this.options.title="温馨提示",i="您好，您已经参与过该调研，请勿重复参与")):(this.options.title="温馨提示",i="抱歉，您没有权限参加此调研，谢谢"),{content:i}}},a.events={"click button-*":"doSome"},a.handlers={doSome:function(e){e.indexOf("answer-next-time")>-1&&this.app.viewport.closeModal()}},a.beforeRender=function(){},a.title="问卷须知"},{"./app/util/helpers":"./app/util/helpers"}),loadjs.d("./app/exam/research-activity/research-detail/view-side",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.bindings={dimensions:!0,researchRecord:!0},a.events={"click prev-*":"prev","click next-*":"next","click question-*":"selectQuestion","click list-item-*":"toggleMore"},a.handlers={prev:function(e,n){return n.preventDefault(),this.module.dispatch("move",{id:e,offset:-1})},next:function(e,n){return n.preventDefault(),this.module.dispatch("move",{id:e,offset:1})},selectQuestion:function(e){return this.module.dispatch("selectQuestion",{id:e})},toggleMore:function(e){return this.module.dispatch("selectDimension",{id:e})}},a.dataForTemplate={dimensions:function(e){return t.map(e.dimensions,function(n){return i.assign(n,{singleMode:2===e.researchRecord.researchQuestionary.answerPaperRule})})}}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/research-detail/view-tips",function(e,n,a){a.auto=!0,a.title="温馨提示",a.bindings={researchRecord:!0},a.events={"click show-answer-detail":"showDetail"},a.handlers={showDetail:function(){var e,n=this.bindings.researchRecord.data;e=window.open("#/exam/research-activity/research-answer/"+n.id,"_blank"),e.opener&&e.opener.close()}},a.afterClose=function(){window.close()}},{}),loadjs.d("./app/exam/research-activity/summary/index",function(e,n,a){var t,i=e("lodash/collection"),l=e("drizzle-zxy"),s=e("./app/util/maps");a.items={title:"title",main:"main",side:"side",description:""},a.title="汇总统计",a.large=!0,a.store={models:{summaryDetail:{url:"../exam/research-activity/summary-detail",mixin:{getAnswerRecordsByQuestionId:function(e){var n=this.data.researchAnswerRecordMaps;return i.sortBy(i.filter(i.map(n,function(n){return i.find(n.researchAnswerRecords,["questionId",e])}),function(e){return e}),function(e){return 0-e.createTime})},getQuestionIndex:function(e,n){var a=this.data.dimensions;return a[a.findIndex(function(e){return e.id===n})].questions.findIndex(function(n){return n.id===e})+1}}},questions:{mixin:{init:function(e){var n=this;this.data=[],i.forEach(e,function(e){e.questions&&i.forEach(e.questions,function(e){n.data.push(e)})})},getQuestionById:function(e){var n=i.find(this.data,["id",e]),a=this.module.store.models.summaryDetail;return l.assign(n,{answerRecords:a.getAnswerRecordsByQuestionId(n.id),index:a.getQuestionIndex(n.id,n.dimensionId)})}}},dimensions:{mixin:{init:function(e){var n=s.get("research-question-types"),a=s.get("chineseNumber"),t=-1;e&&(t=e.findIndex(function(e){return 1===e.isEmpty}),this.data=i.map(e,function(e,s){var r=i.find(a,["key",(s+1).toString()]).value;return-1!==t&&t<s&&(r=i.find(a,["key",s.toString()]).value),t===s&&(r=""),l.assign(e,{dimensionIndex:r,questions:i.map(e.questions,function(e,a){return l.assign(e,{questionIndex:a+1,status:0===s&&0===a?"current":"init",typeDesc:i.find(n,["key",e.type.toString()]).value+"题"})})})}))},selectQuestion:function(e){var n=this.data.findIndex(function(e){return i.some(e.questions,function(e){return"current"===e.status})});l.assign(i.find(this.data[n].questions,["status","current"]),{status:"init"}),n=this.data.findIndex(function(n){return!!i.find(n.questions,["id",e])}),l.assign(i.find(this.data[n].questions,["id",e]),{status:"current"}),this.changed()}}}},callbacks:{init:function(e){var n=this.models.summaryDetail,a=this.models.questions,t=this.models.dimensions;if(n.clear(),t.clear(),t.changed(),e.summaryDetail)n.set(e.summaryDetail),a.init(e.summaryDetail.dimensions),t.init(n.data.dimensions),n.changed();else if(e.researchQuestionaryId)return n.params={researchQuestionaryId:e.researchQuestionaryId,businessId:e.businessId},this.get(n).then(function(){a.init(n.data.dimensions),t.init(n.data.dimensions),a.changed(),t.changed()});return""},selectQuestion:function(e){this.models.dimensions.selectQuestion(e.id)}}},a.beforeRender=function(){return t=this.app.global.uri,this.dispatch("init",this.renderOptions)},a.beforeClose=function(){return this.app.global.uri=t}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/summary/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="achievement-content main-side">\n        <div class="achievement-side bg-color">\n            <div data-region="side"></div>\n        </div>\n        <div class="achievement-head" data-region="title"></div>\n        <div class="achievement-main top-half" data-region="main"></div>\n    </div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="pull-left title" title="'+r(s(null!=(l=null!=n?n.summaryDetail:n)?l.name:l,n))+'">'+r(s(null!=(l=null!=n?n.summaryDetail:n)?l.name:l,n))+"</div>\n"},5:function(e,n,a,t,i){var l;return'    <div class="preview-content" oncontextmenu1="window.event.returnValue=false;" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},6:function(e,n,a,t,i){var l,s=null!=n?n:{};return(null!=(l=a.if.call(s,null!=n?n.dimensionIndex:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+'            <ul class="statistics-ul">\n'+(null!=(l=a.each.call(s,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"            </ul>\n"},7:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"                <h3>"+o((l=null!=(l=a.dimensionIndex||(null!=n?n.dimensionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"dimensionIndex",hash:{},data:i}):l))+"、"+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'</h3>\n                <div class="description-con">\n                    <p class="des-con">'+o((l=null!=(l=a.description||(null!=n?n.description:n))?l:r,"function"==typeof l?l.call(s,{name:"description",hash:{},data:i}):l))+'</p>\n                    <span class="btn-des-more" id="desMore'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">\n                        <span class="text">展开</span>\n                        <i class="iconfont icon-arrow-down"></i>\n                    </span>\n                </div>\n'},9:function(e,n,a,t,i){var l;return'                    <li>\n                        <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n                    </li>\n'},11:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <ul class="list">'+(null!=(l=a.each.call(s,null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"+(null!=(l=a.if.call(s,null!=(l=null!=n?n.summaryDetail:n)?l.questionaryDetail:l,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li>\n            <div class="list-title pointer" id="list-item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <i class="iconfont icon-type m-right"></i>\n                <span class="text-tips m-right"><i class="iconfont icon-triangle-up '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+'"></i><i class="iconfont icon-triangle-down '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.program(13,i,0),data:i}))?l:"")+'"></i></span>\n                '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'\n            </div>\n            <div class="min-btn-groups">'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n        </li>\n    "},13:function(e,n,a,t,i){return""},15:function(e,n,a,t,i){return"hidden"},17:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return"\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","init",{name:"compare",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","current",{name:"compare",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+"            "},18:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <a class="list-item" href="#mlj-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="q-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"questionIndex",hash:{},data:i}):l))+"</a>\n"},20:function(e,n,a,t,i){return'        <div id="questionaryDetail" class="achievement-tips pointer" style="position:absolute; left:10px; bottom:10px;">\n            问卷须知\n            <i class="iconfont icon-info"></i>\n        </div>\n'},22:function(e,n,a,t,i){var l;return"    "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.summaryDetail:n)?l.questionaryDetail:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"title",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\x3c!--  view('title') --\x3e\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"description",{name:"view",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/exam/research-activity/summary/view-description",function(e,n,a){a.title="问卷须知",a.bindings={summaryDetail:!0},a.tname="exam.research-activity.summary"},{}),loadjs.d("./app/exam/research-activity/summary/view-main",function(e,n,a){var t=e("./app/exam/research-question-types"),i=e("drizzle-zxy"),l=e("lodash/collection"),s=e("jquery");a.bindings={summaryDetail:!0,questions:!0,dimensions:!0},a.type="dynamic",a.getEntity=function(e){var n=this.bindings.questions.getQuestionById(e);return i.assign({},n,{questionAttrs:l.orderBy(n.questionAttrs,["name"],["asc"]),score:n.score/100})},a.getEntityModuleName=function(e,n){return t.get(n.type,5)},a.dataForEntityModule=function(e){var n=e;return n.researchQuestionary=this.bindings.summaryDetail.data,{type:e.type,question:n}},a.afterRender=function(){s(".description-con").each(function(e,n){var a=s(n).children(".des-con"),t=a.height(),i=s(n);t>30?a.addClass("text-overflow"):a.hasClass("text-overflow")||i.addClass("overflow-hidden")})},a.events={"click desMore*":"handleDesMore"},a.handlers={handleDesMore:function(e,n,a){var t=s(a);t.hasClass("active")?(t.removeClass("active"),t.siblings(".des-con").addClass("text-overflow"),
t.children(".text").text("展开")):(t.addClass("active"),t.siblings(".des-con").removeClass("text-overflow"),t.children(".text").text("收起"))}}},{"./app/exam/research-question-types":"./app/exam/research-question-types","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/exam/research-activity/summary/view-side",function(e,n,a){a.bindings={dimensions:!0,summaryDetail:!0},a.events={"click q-*":"selectQuestion","click questionaryDetail":"questionaryDetail"},a.handlers={selectQuestion:function(e){return this.module.dispatch("selectQuestion",{id:e})},questionaryDetail:function(){var e=this.module.items.description;this.app.viewport.modal(e)}}},{}),loadjs.d("./app/exam/research-activity/summary/view-title",function(e,n,a){a.bindings={summaryDetail:!0}},{}),loadjs.d("./app/exam/util",function(e,n,a){var t=function(){var e,n=window.navigator.userAgent.toLowerCase();return n.indexOf("msie")>=0?(e=n.match(/msie ([\d.]+)/)[1],{type:"IE",version:e}):n.indexOf("firefox")>=0?(e=n.match(/firefox\/([\d.]+)/)[1],{type:"Firefox",version:e}):n.indexOf("chrome")>=0?(e=n.match(/chrome\/([\d.]+)/)[1],{type:"Chrome",version:e}):n.indexOf("opera")>=0?(e=n.match(/opera.([\d.]+)/)[1],{type:"Opera",version:e}):n.indexOf("safari")>=0?(e=n.match(/version\/([\d.]+)/)[1],{type:"Safari",version:e}):n.indexOf("rv:11")>=0?(e=11,{type:"IE",version:e}):{type:"",version:""}};a.getNavigatorName=function(){var e=t();return e.type+"/"+e.version}},{}),loadjs.d("./app/expert/expert-manage/gensee/steps/preview/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){return"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/expert/expert-manage/select-members/view-toolbox1",function(e,n,a){a.bindings={search:!0},a.actions={"click searchMember":"refreshList","keypress searchKey":"searchKey"},a.dataForActions={searchKey:function(e,n){return 13===(n.keyCode||n.which||n.charCode)&&{name:e.name.trim(),fullName:e.fullName.trim()}}}},{}),loadjs.d("./app/lead/index",function(e,n,a){a.items={main:"main"}},{}),loadjs.d("./app/team-class/manage-list/import-data/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'    <form class="vertical">\n        <div class="row"><div class="col-sm-12"><span>导入步骤</span></div></div>\n        <p>1.下载标准模板，按示例格式和示例说明填写需要导入的电子表格文件\n            <a id="download-template" href="'+e.escapeExpression((s=null!=(s=a.downloadTemplateUrl||(null!=n?n.downloadTemplateUrl:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"downloadTemplateUrl",hash:{},data:i}):s))+'">(下载导入模板)</a>\n        </p>\n        <p>2.点击“导入数据”按钮，选择您要导入的电子表格文件</p>\n        <p>3.导入成功后，页面会提示成功数量，失败数量，并显示相关信息</p>\n        <p>4.如有失败记录，删掉电子表格里已经成功的记录，然后修正失败的记录，再次上传导入。</p>\n        <br/>\n        <div class="row"><div class="col-sm-10 text-center">\n            <div id="import" class="btn layout-mb-small m-right">导入数据</div>\n'+(null!=(l=a.if.call(r,null!=(l=null!=n?n.file:n)?l.imgs:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"        </div></div>\n    </form>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=(l=null!=(l=null!=n?n.file:n)?l.imgs:l)?l.errorCount:l,"gt",0,{name:"compare",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"                <h3>\n                    导入成功记录"+o(r(null!=(l=null!=(l=null!=n?n.file:n)?l.imgs:l)?l.successCount:l,n))+"条, 导入失败记录"+o(r(null!=(l=null!=(l=null!=n?n.file:n)?l.imgs:l)?l.errorCount:l,n))+"条\n                </h3>\n                <div>\n"+(null!=(l=a.each.call(s,null!=n?n.errorMsg:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n"},5:function(e,n,a,t,i){var l;return'                    <a class="btn layout-mb-small" href="'+e.escapeExpression((l=null!=(l=a.errorDataUrl||(null!=n?n.errorDataUrl:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"errorDataUrl",hash:{},data:i}):l))+'" download="导入失败记录.xlsx" target="_blank">下载导入失败记录</a>\n'},7:function(e,n,a,t,i){return'                        <p class="error">'+e.escapeExpression(e.lambda(n,n))+"</p>\n"},9:function(e,n,a,t,i){return'    <div id="uploader"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"file",{name:"view",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/team-class/manage-list/import-data/view-main",function(e,n,a){var t=e("./app/util/errors"),i=e("lodash/collection");a.bindings={courseTemplate:!0,file:!0,state:!0,download:!1},a.events={"click import":"importData","click downloadError":"downloadError"},a.handlers={importData:function(){this.app.viewport.modal(this.module.items.file)},downloadError:function(){var e=this;return this.module.dispatch("displayErrorUrl").then(function(){e.app.viewport.closePopup()})}},a.dataForTemplate={downloadTemplateUrl:function(){var e=this.bindings.courseTemplate,n=e.getFullUrl()+"?";return n+="access_token="+this.app.global.OAuth.token.access_token},errorDataUrl:function(e){var n=this.bindings.download;return e.file.imgs?n.getFullUrl()+"?id="+e.file.imgs.errorFileId:null},errorMsg:function(e){return e.file.imgs?i.map(e.file.imgs.errorRow,function(e){var n=t.get(e.code)||"不能为空";return"第"+e.row+"行, 第"+(e.column+1)+"列有错误。["+n+"]"}):[]}}},{"./app/util/errors":"./app/util/errors","lodash/collection":!1}),loadjs.d("./app/team-class/select-member/view-search",function(e,n,a){a.bindings={search:!0},a.actions={"click searchMember":"refreshList","keypress searchKey":"searchKey"},a.dataForActions={searchKey:function(e,n){return 13===(n.keyCode||n.which||n.charCode)&&{name:e.name,fullName:e.fullName}}}},{}),loadjs.d("./app/train/base/index",function(e,n,a){var t=e("drizzle-zxy");a.items={main:"main",upload:"","train/base/select-restaurants":{isModule:!0},"train/base/select-guest-rooms":{isModule:!0}},a.store={models:{classInfo:{url:"../train/class-info/find-by-project-id"},saveModel:{url:"../train/class-info"},offlineCourse:{url:"../train/offline-course/init"},file:{url:"../human/file/upload"},down:{url:"../file-deal/file/download"},classroomList:{url:"../train/config-classroom/findList",params:{type:6},autoLoad:"after"},quota:{url:"../train/class-quota/init"},trainTypes:{url:"../train/configuration-value",autoLoad:"after",params:{typeId:"10"}},state:{data:{}},classTypes:{url:"../train/configuration-value",autoLoad:"after",params:{typeId:"5"}}},callbacks:{init:function(e){var n=this.models.classInfo,a=this.models.state,t=this;return n.set(e),a.data.classId=e.id,a.data.role=e.role,t.get(n,{loading:!0})},submit:function(e){var n=this.models.saveModel,a=this.models.classInfo,i=this.models.offlineCourse,l=this.models.quota,s=this.models.state,r=this;return 2===s.data.role&&t.assign(e,{restRoom:a.data.restRoom,diningRoom:a.data.diningRoom,role:2}),n.set(e),n.data.confirm=1,i.data.classId=a.data.id,l.data.classId=a.data.id,this.chain(function(){r.save(n).then(function(){a.set({id:s.data.classId}),r.get(a)}),r.save(l)},function(){(a.data.returnDate-a.data.arriveDate)/864e5>=2&&r.save(i)})},save:function(e){var n=this.models.saveModel,a=this.models.classInfo,t=this.models.state,i=this;return n.set(e),a.set({id:t.data.classId}),i.save(n).then(function(){i.get(a)})},addCoverFile:function(e){var n=e[0],a=this.models.state,t=this.models.down;a.data.downUrl=t.getFullUrl()+"?id="+n.attachmentId,a.data.attachmentId=n.attachmentId,a.changed()},addBannerFile:function(e){var n=e[0],a=this.models.state,t=this.models.down;a.data.bannerUrl=t.getFullUrl()+"?id="+n.attachmentId,a.data.bannerId=n.attachmentId,a.data.path=n.path,a.changed()}}},a.beforeRender=function(){return this.dispatch("init",{id:this.renderOptions.state.id,role:this.renderOptions.state.role})}},{"drizzle-zxy":!1}),loadjs.d("./app/train/base/select-class-room/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection");a.title="选择教室",a.items={content:"content",toolbox:"toolbox"},a.store={models:{members:{url:"../train/config-classroom/page",type:"pageable",root:"items"},state:{data:{},mixin:{keepCheckedMembers:function(e,n){var a=this.data.checkedMembers||[];a.push({member:e,checked:n}),this.data.checkedMembers=a}}},search:{data:{},mixin:{getQueryParams:function(){return{}}}}},callbacks:{refreshList:function(e){var n=t.assign(this.models.search.getQueryParams()),a=this.models.members;e&&t.assign(n,{name:e.name,code:e.code}),a.clear(),a.params=n,this.get(a)},searchKey:function(e){var n=t.assign(this.models.search.getQueryParams(),e),a=this.models.members;a.clear(),a.params=n,this.get(a)}}},a.mixin={nodeChanged:function(){this.store.models.search.changed(),this.dispatch("refreshList")}},a.buttons=[{text:"确定",fn:function(){var e=this.renderOptions.callback,n=this.store.models.state.data.checkedMembers||[];e&&i.forEach(n,function(n){e(n.member,n.checked)}),this.store.models.state.data.checkedMembers=[]}}],a.afterRender=function(){this.dispatch("refreshList")}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/base/select-class-room/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="toolbox" data-region="toolbox"></div>\n    <div data-region="content"></div>\n'},3:function(e,n,a,t,i){return'<form id="searchKey" class="vertical layout-mb-small">\n    <div class="filter-row train-small">\n        <div class="filter-item">\n            <leabel>教室名称</leabel>\n            <input class="input" name="name"/>\n        </div>\n        <div class="filter-item">\n            <label>教室编号</label>\n            <input class="input" name="code"/>\n        </div>\n        <div class="filter-item">\n            <btn id="searchMember" class="btn">查询</btn>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l;return'    <div class="list">\n        <table class="table text-center border around train">\n            <thead><tr>\n                <th>选择</th>\n                <th>教室名称</th>\n                <th>教室编号</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.members:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination" style="float:none"></div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return"<tr>\n                <td>\n                    <input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                    <label for="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"></label>\n                </td>\n                <td>'+c((s=null!=(s=a.classroom||(null!=n?n.classroom:n))?s:o,typeof s===d?s.call(r,{name:"classroom",hash:{},data:i}):s))+"</td>\n                <td>"+c((s=null!=(s=a.classroomCoding||(null!=n?n.classroomCoding:n))?s:o,typeof s===d?s.call(r,{name:"classroomCoding",hash:{},data:i}):s))+"\n"},7:function(e,n,a,t,i){return' checked="checked"'},9:function(e,n,a,t,i){return'                    <tr><td colspan="7"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr></td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"toolbox",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/base/select-class-room/view-content",function(e,n,a){var t=e("lodash/collection");a.components=[{id:"pager",name:"pager",options:{model:"members"}}],a.title="选择用户",a.bindings={members:!0,state:!1},a.events={"click select_*":"checkMember"},a.handlers={checkMember:function(e,n,a){var i=t.find(this.bindings.members.data,function(n){return n.id===e});this.bindings.state.keepCheckedMembers(i,a.checked)}},a.dataForTemplate={members:function(e){var n=this.module.renderOptions.ids;return t.map(e.members||[],function(e){var a=e||{};n&&-1!==n.indexOf(a.id)&&(a.checked=!0)}),e.members}},a.searchChange=function(){this.module.dispatch("refreshList",this.bindings.search.getQueryParams())}},{"lodash/collection":!1}),loadjs.d("./app/train/base/select-class-room/view-toolbox",function(e,n,a){a.bindings={search:!0},a.actions={"click searchMember":"refreshList","keypress searchKey":"searchKey"},a.dataForActions={searchKey:function(e,n){return 13===(n.keyCode||n.which||n.charCode)&&{name:e.name,code:e.code}}}},{}),loadjs.d("./app/train/base/select-guest-rooms/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection");a.title="选择客房",a.items={content:"content",toolbox:"toolbox"},a.store={models:{members:{url:"../train/configuration-value/guestrooms",type:"pageable",root:"items"},state:{data:{},mixin:{keepCheckedMembers:function(e,n){var a=this.data.checkedMembers||[];a.push({member:e,checked:n}),this.data.checkedMembers=a}}},search:{data:{},mixin:{getQueryParams:function(){return{}}}}},callbacks:{refreshList:function(e){var n=t.assign(this.models.search.getQueryParams()),a=this.models.members;e&&t.assign(n,{name:e.name,code:e.code}),a.clear(),a.params=n,this.get(a)},searchKey:function(e){var n=t.assign(this.models.search.getQueryParams(),e),a=this.models.members;a.clear(),a.params=n,this.get(a)}}},a.mixin={nodeChanged:function(){this.store.models.search.changed(),this.dispatch("refreshList")}},a.buttons=[{text:"确定",fn:function(){var e,n=this.renderOptions.callback,a=this.renderOptions.singleCallback,t=this.store.models.state.data.checkedMembers||[];return!(a&&void 0!==(e=a(t))&&!e)&&(n&&i.map(t,function(e){n(e.member,e.checked)}),this.store.models.state.data.checkedMembers=[],!0)}}],a.afterRender=function(){this.dispatch("refreshList")}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/base/select-guest-rooms/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="toolbox" data-region="toolbox"></div>\n    <div data-region="content"></div>\n'},3:function(e,n,a,t,i){return'<form id="searchKey" class="vertical layout-mb-small">\n    <div class="filter-row train-small">\n        <div class="filter-item">\n            <leabel>客房名称</leabel>\n            <input class="input" name="name"/>\n        </div>\n        <div class="filter-item">\n            <label>客房编号</label>\n            <input class="input" name="code"/>\n        </div>\n        <div class="filter-item">\n            <btn id="searchMember" class="btn">查询</btn>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l;return'    <div class="list">\n        <table class="table text-center border around train">\n            <thead><tr>\n                <th>选择</th>\n                <th>客房名称</th>\n                <th>客房编号</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.members:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination" style="float:none"></div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return"<tr>\n                <td>\n                    <input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                    <label for="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"></label>\n                </td>\n                <td>'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                <td>"+c((s=null!=(s=a.coding||(null!=n?n.coding:n))?s:o,typeof s===d?s.call(r,{name:"coding",hash:{},data:i}):s))+"\n"},7:function(e,n,a,t,i){return' checked="checked"'},9:function(e,n,a,t,i){return'                    <tr><td colspan="7"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr></td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"toolbox",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/base/select-restaurants/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection");a.title="选择餐厅",a.items={content:"content",toolbox:"toolbox"},a.store={models:{members:{url:"../train/configuration-value/restaurants",type:"pageable",root:"items"},state:{data:{},mixin:{keepCheckedMembers:function(e,n){var a=this.data.checkedMembers||[];a.push({member:e,checked:n}),this.data.checkedMembers=a}}},search:{data:{},mixin:{getQueryParams:function(){return{}}}}},callbacks:{refreshList:function(e){var n=t.assign(this.models.search.getQueryParams()),a=this.models.members;e&&t.assign(n,{name:e.name,code:e.code}),a.clear(),a.params=n,this.get(a)},searchKey:function(e){var n=t.assign(this.models.search.getQueryParams(),e),a=this.models.members;a.clear(),a.params=n,this.get(a)}}},a.mixin={nodeChanged:function(){this.store.models.search.changed(),this.dispatch("refreshList")}},a.buttons=[{text:"确定",fn:function(){var e,n=this.renderOptions.callback,a=this.renderOptions.singleCallback,t=this.store.models.state.data.checkedMembers||[];return!(a&&void 0!==(e=a(t))&&!e)&&(n&&i.map(t,function(e){n(e.member,e.checked)}),this.store.models.state.data.checkedMembers=[],!0)}}],a.afterRender=function(){this.dispatch("refreshList")}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/base/select-restaurants/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="toolbox" data-region="toolbox"></div>\n    <div data-region="content"></div>\n'},3:function(e,n,a,t,i){return'<form id="searchKey" class="vertical layout-mb-small">\n    <div class="filter-row train-small">\n        <div class="filter-item">\n            <leabel>餐厅名称</leabel>\n            <input class="input" name="name"/>\n        </div>\n        <div class="filter-item">\n            <label>餐厅编号</label>\n            <input class="input" name="code"/>\n        </div>\n        <div class="filter-item">\n            <btn id="searchMember" class="btn">查询</btn>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l;return'    <div class="list">\n        <table class="table text-center border around train">\n            <thead><tr>\n                <th>选择</th>\n                <th>餐厅名称</th>\n                <th>餐厅编号</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.members:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination" style="float:none"></div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return"<tr>\n                <td>\n                    <input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                    <label for="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"></label>\n                </td>\n                <td>'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                <td>"+c((s=null!=(s=a.coding||(null!=n?n.coding:n))?s:o,typeof s===d?s.call(r,{name:"coding",hash:{},data:i}):s))+"\n"},7:function(e,n,a,t,i){return' checked="checked"'},9:function(e,n,a,t,i){return'                    <tr><td colspan="7"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr></td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"toolbox",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/base/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-class-page">\n    <div class="page-main-wrapper">\n        <div class="main" data-region="main"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'<form class="vertical">\n    <div class="classinfo container overflow border around layout-mt-small">\n        <section class="managements-content-area" style="position: relative;">\n            <div class="classinfo-top text-center">\n                <div class="form" style="margin-left: -5em;">\n                    <div class="form-row inline-block vertical-top col-sm-8 special">\n                        <label class="label">培训班名称</label>\n                        <div class="content">\n                            <div class="input input-height text-left" title="'+r(s(null!=(l=null!=n?n.classInfo:n)?l.classNames:l,n))+'">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.className:l,n))+'</div>\n                            <input type="hidden" name="id" value="'+r(s(null!=(l=null!=n?n.classInfo:n)?l.id:l,n))+'"/>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-8 special">\n                        <label class="label">学习地点</label>\n                        <div class="content">\n                            <div class="input input-height text-left">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.address:l,n))+'</div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-8 special">\n                        <label class="label">培训类型</label>\n                        <div class="content">\n                            <div class="input input-height text-left">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.type:l,n))+'</div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-8 special">\n                        <label class="label">培训级别</label>\n                        <div class="content">\n                            <div class="input input-height text-left">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.cost:l,n))+'</div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-8 special">\n                        <label class="label">培训起止时间</label>\n                        <div class="content">\n                            <div class="input input-height text-left">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.startDate:l,n))+"～"+r(s(null!=(l=null!=n?n.classInfo:n)?l.endDate:l,n))+'</div>\n                        </div>\n                    </div>\n                    \x3c!--  .pull-left.color-error （注：开始时间自动生成为报到日后一天，结束时间自动生成为返程日前一天） --\x3e\n                    <div class="form-row inline-block vertical-top col-sm-8 special">\n                        <label class="label">客房</label>\n                        <div class="content">\n                            <div class="input text-left" style="height:8em;overflow:auto;">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.rommText:l,n))+'</div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-8 special">\n                        <label class="label">餐厅</label>\n                        <div class="content">\n                            <div class="input text-left" style="height:8em;overflow:auto;">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.diningRoomText:l,n))+'</div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-8 special">\n                        <label class="label">教室</label>\n                        <div class="content">\n                            <div class="input input-height text-left">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.classRoomName:l,n))+'</div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-8 special">\n                        <label class="label required">是否有省公司二级经理参加</label>\n                        <div class="content">\n                            <select id="haveProvinceLeaderOne" class="input" '+(null!=(l=a.if.call(o,null!=n?n.isService:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(o,null!=n?n.isRequiredAndConfirm:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' name="haveProvinceLeader">\n                                <option '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.checked:n)?l.provinceLeaderCheck:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">是</option>\n                                <option '+(null!=(l=a.unless.call(o,null!=(l=null!=n?n.checked:n)?l.provinceLeaderCheck:l,{name:"unless",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="0">否</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-8 special">\n                        <label class="label required">是否有部长级及以上领导参加</label>\n                        <div class="content">\n                            <select id="haveMinisterOne" class="input" '+(null!=(l=a.if.call(o,null!=n?n.isService:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(o,null!=n?n.isRequiredAndConfirm:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' name="haveMinister">\n                                <option '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.checked:n)?l.haveMinisterCheck:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">是</option>\n                                <option '+(null!=(l=a.unless.call(o,null!=(l=null!=n?n.checked:n)?l.haveMinisterCheck:l,{name:"unless",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="0">否</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-8 special">\n                        <label class="label required">班级合影</label>\n                        <div class="content">\n                            <select id="needGroupPhoto" class="input" '+(null!=(l=a.if.call(o,null!=n?n.isService:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(o,null!=n?n.isRequiredAndConfirm:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' name="needGroupPhoto">\n                                <option '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.checked:n)?l.needGroupPhotoCheck:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">是</option>\n                                <option '+(null!=(l=a.unless.call(o,null!=(l=null!=n?n.checked:n)?l.needGroupPhotoCheck:l,{name:"unless",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="0">否</option>\n                            </select>\n                        </div>\n                    </div>\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.state:n)?l.needGroupPhotoCheck:l,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'                    <div class="form-row inline-block vertical-top col-sm-8 special">\n                        <label class="label required">课程制作</label>\n                        <div class="content">\n                            <select id="needMakeCourse" class="input" '+(null!=(l=a.if.call(o,null!=n?n.isService:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(o,null!=n?n.isRequiredAndConfirm:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' name="needMakeCourse">\n                                <option '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.checked:n)?l.needMakeCourseCheck:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">是</option>\n                                <option '+(null!=(l=a.unless.call(o,null!=(l=null!=n?n.checked:n)?l.needMakeCourseCheck:l,{name:"unless",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="0">否</option>\n                            </select>\n                        </div>\n                    </div>\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.state:n)?l.needMakeCourseCheck:l,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i
}))?l:"")+'                    <div class="form-row inline-block vertical-top col-sm-8 special">\n                        <label class="label required">教室桌型</label>\n                        <div class="content">\n                            <select id="tableType" class="input" '+(null!=(l=a.if.call(o,null!=n?n.isService:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(o,null!=n?n.isRequiredAndConfirm:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' name="tableType">\n'+(null!=(l=a.each.call(o,null!=n?n.trainTypes:n,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+'                            </select>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-8 special">\n                        <label class="label">其他需求</label>\n                        <div class="content"><textarea id="otherRequirement" class="input pull-left border-weak" '+(null!=(l=a.if.call(o,null!=n?n.isService:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(o,null!=n?n.isRequiredAndConfirm:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' name="otherRequirement" rows="3">'+r(s(null!=(l=null!=(l=null!=n?n.classInfo:n)?l.classDetail:l)?l.otherRequirement:l,n))+"</textarea></div>\n                    </div>\n"+(null!=(l=a.if.call(o,null!=n?n.isClassAndManage:n,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n            </div>\n"+(null!=(l=a.if.call(o,null!=n?n.isClassAndManage:n,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(o,null!=n?n.isAssist:n,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+"        </section>\n    </div>\n</form>"},4:function(e,n,a,t,i){return' disabled="disabled"'},6:function(e,n,a,t,i){return' selected="selected"'},8:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                        <div class="form-row inline-block vertical-top col-sm-8 special">\n                            <label class="label required">合影时间</label>\n                            <div class="content">\n                                <input id="photoTime" class="input date" '+(null!=(l=a.if.call(s,null!=n?n.isService:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(s,null!=n?n.isRequiredAndConfirm:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' name="photoTime" value="'+e.escapeExpression((a.dateTime||n&&n.dateTime||a.helperMissing).call(s,null!=(l=null!=(l=null!=n?n.classInfo:n)?l.classDetail:l)?l.photoTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n                            </div>\n                        </div>\n'},10:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                        <div class="form-row inline-block vertical-top col-sm-8 special">\n                            <label class="label required">制作需求</label>\n                            <div class="content"><input id="courseVideoRequirement" class="input" '+(null!=(l=a.if.call(s,null!=n?n.isService:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(s,null!=n?n.isRequiredAndConfirm:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' name="courseVideoRequirement" placeholder="全部制作、指定内容制作在线课程" value="'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.classInfo:n)?l.classDetail:l)?l.courseVideoRequirement:l,n))+'"/></div>\n                        </div>\n'},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                    <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</option>\n"},14:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                        <div class="form-row inline-block vertical-top col-sm-8 special">\n                            <label class="label">客房</label>\n                            <div class="content">\n                                <div id="validate1" class="input btn-right-bottom" x-action="change" x-marker="text" x-target="tags" style="padding-bottom: 35px;position: relative;">\n                                    <div id="test1" class="div" style="padding: 5px 10px 10px;color: gray;">\n                                        <div id="tags1"></div>\n                                    </div>\n                                    <div class="btn-group" style="position: absolute;right: 10px;bottom: 0;">\n                                        <div id="clearMembers1" class="tag-btn active no-radius pointer">清空</div>\n                                        <div id="selectMember1" class="tag-btn active no-radius pointer">添加</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="form-row inline-block vertical-top col-sm-8 special">\n                            <label class="label">餐厅</label>\n                            <div class="content">\n                                <div id="validate2" class="input btn-right-bottom" x-action="change" x-marker="text" x-target="tags" style="padding-bottom: 35px;position: relative;">\n                                    <div id="test2" class="div" style="padding: 5px 10px 10px;color: gray;">\n                                        <div id="tags2"></div>\n                                    </div>\n                                    <div class="btn-group" style="position: absolute;right: 10px;bottom: 0;">\n                                        <div id="clearMembers2" class="tag-btn active no-radius pointer">清空</div>\n                                        <div id="selectMember2" class="tag-btn active no-radius pointer">添加</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="form-row inline-block vertical-top col-sm-8 special">\n                            <label class="label">教室</label>\n                            <div class="content">\n                                <select id="classRoom" class="tag-select input-height input" name="classRoom" x-rule="required">\n'+(null!=(l=a.each.call(s,null!=n?n.classroomList:n,{name:"each",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+'                                </select>\n                            </div>\n                        </div>\n                        <div class="col-sm-8 layout-ml-big">\n                            <div class="layout-mt-small layout-ml">\n                                <div class="inline-block layout-mr-small">\n                                    <span class="m-right layout-ml">班级首页图片</span>\n                                    <span class="sub-text">推荐图片分辨率为：2000*400；图片大小小于1M。</span>\n                                </div>\n                                <div id="uploadBanner" class="tag-btn active pointer no-radius">上传</div>\n                            </div>\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.bannerUrl:l,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+"                        </div>\n"},15:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                        <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.classroom||(null!=n?n.classroom:n))?s:o,"function"==typeof s?s.call(r,{name:"classroom",hash:{},data:i}):s))+"</option>\n"},17:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                                <div class="layout-ml m-top">\n                                    <img class="layout-ml" src="'+r(s(null!=(l=null!=n?n.state:n)?l.bannerUrl:l,n))+'" width="500" height="145"/>\n                                    <input type="hidden" name="bannerId" value="'+r(s(null!=(l=null!=n?n.state:n)?l.bannerId:l,n))+'"/>\n                                    <input type="hidden" name="path" value="'+r(s(null!=(l=null!=n?n.state:n)?l.path:l,n))+'"/>\n                                </div>\n'},19:function(e,n,a,t,i){return'                <div style="position: absolute; top: 0.0em; right: -8em;">\n                    <div id="headFile"></div>\n                </div>\n'},21:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                <div class="text-center layout-mt">\n'+(null!=(l=a.if.call(s,null!=n?n.isManageAndSponsor:n,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.isClassAndManage:n,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n"},22:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isSubmit:n,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:""},23:function(e,n,a,t,i){return'                            <div id="submit" class="btn layout-ml-small">提交</div>\n'},25:function(e,n,a,t,i){return'                        <div id="save" class="btn layout-ml-small">保存</div>\n'},27:function(e,n,a,t,i){return'    <div class="row">\n        <div id="uploader"></div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"upload",{name:"view",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/base/view-main",function(e,n,a){var t=e("./app/util/helpers"),i=e("./app/ext/views/form/markers"),l=e("./app/ext/views/form/validators"),s=e("jquery"),r=e("lodash/collection");a.bindings={classInfo:!0,down:!1,state:!0,classroomList:!0,trainTypes:!0,classTypes:!0,file:"changeFile"},a.events={"click uploadFile":"uploadFile","change needGroupPhoto":"changePhotoType","click needVideo-*":"changeNeedVideo","change needMakeCourse":"changeMakeCourse","change photoTime":"changePhotoTime","change courseVideoRequirement":"changeCourseVideoRequirement","change otherRequirement":"changeOtherRequirement","change restRoom":"changeRestRoom","change diningRoom":"changeDiningRoom","click selectMember1":"showMember1","click clearMembers1":"clearMembers1","click selectMember2":"showMember2","click clearMembers2":"clearMembers2"},a.handlers={showMember2:function(){var e=this,n=e.module.items["train/base/select-restaurants"];e.app.viewport.modal(n,{ids:e.components.tags2.getValue(),singleCallback:function(n){var a=[],t=[];r.map(n,function(e){e.checked?t.push({value:e.member.id,text:e.member.name}):a.push({value:e.member.id,text:e.member.name})}),e.components.tags2.removeItems(a),e.components.tags2.addItems(t)}})},clearMembers2:function(){this.components.tags2.clear()},showMember1:function(){var e=this,n=e.module.items["train/base/select-guest-rooms"];e.app.viewport.modal(n,{ids:e.components.tags1.getValue(),singleCallback:function(n){var a=[],t=[];r.map(n,function(e){e.checked?t.push({value:e.member.id,text:e.member.name}):a.push({value:e.member.id,text:e.member.name})}),e.components.tags1.removeItems(a),e.components.tags1.addItems(t)}})},clearMembers1:function(){this.components.tags1.clear()},uploadFile:function(){var e=this.module.items.upload;this.bindings.state.data.type="cover",this.app.viewport.modal(e)},changePhotoType:function(){var e=this.bindings.classInfo.data,n=this.bindings.state.data,a=s(this.$("needGroupPhoto")).val();e.classDetail.needGroupPhoto=Number(a),e.classDetail.haveProvinceLeader=Number(s(this.$("haveProvinceLeaderOne")).val()),e.classDetail.haveMinister=Number(s(this.$("haveMinisterOne")).val()),e.classDetail.needMakeCourse=Number(s(this.$("needMakeCourse")).val()),1===Number(s(this.$("needMakeCourse")).val())&&(e.classDetail.courseVideoRequirement=this.$("courseVideoRequirement").value),e.classDetail.tableType=this.$("tableType").value,e.classDetail.photoTime="",e.classDetail.otherRequirement=this.$("otherRequirement").value,1!==n.role&&3!==n.role||(e.guestroomsConfig&&e.guestroomsConfig.length>0?(e.rommText=r.map(e.guestroomsConfig,"name").join(","),e.rommText=e.rommText.replace(/,/g,"，")):e.rommText="暂未分配",e.restaurantsConfig&&e.restaurantsConfig.length>0?(e.diningRoomText=r.map(e.restaurantsConfig,"name").join(","),e.diningRoomText=e.diningRoomText.replace(/,/g,"，")):e.diningRoomText="暂未分配",e.classroomConfig&&e.classroomConfig.length>0?(e.classRoomName=r.map(e.classroomConfig,"classroom").join(","),e.classRoomName=e.classRoomName.replace(/,/g,"，")):e.classRoomName="暂未分配"),this.bindings.classInfo.changed()},changeNeedVideo:function(e){"0"===e?(s(this.$("videoRequirement")).val(""),s(this.$("videoRequirement")).attr("readonly","readonly")):s(this.$("videoRequirement")).attr("readonly",!1)},changeMakeCourse:function(){var e,n,a,t=s(this.$("needMakeCourse")).val(),i=this.bindings.classInfo.data,l=this.bindings.state.data;i.classDetail.needMakeCourse=Number(t),i.classDetail.haveProvinceLeader=Number(s(this.$("haveProvinceLeaderOne")).val()),i.classDetail.haveMinister=Number(s(this.$("haveMinisterOne")).val()),i.classDetail.needGroupPhoto=Number(s(this.$("needGroupPhoto")).val()),1===Number(s(this.$("needGroupPhoto")).val())&&this.$("photoTime").value&&(e=this.$("photoTime").value,n=e.split(" ")[0].split("-"),a=e.split(" ")[1].split(":"),i.classDetail.photoTime=new Date(n[0],n[1]-1,n[2],a[0],a[1]).getTime()),i.classDetail.tableType=this.$("tableType").value,i.classDetail.otherRequirement=this.$("otherRequirement").value,i.classDetail.courseVideoRequirement=null,1!==l.role&&3!==l.role||(i.guestroomsConfig&&i.guestroomsConfig.length>0?(i.rommText=r.map(i.guestroomsConfig,"name").join(","),i.rommText=i.rommText.replace(/,/g,"，")):i.rommText="暂未分配",i.restaurantsConfig&&i.restaurantsConfig.length>0?(i.diningRoomText=r.map(i.restaurantsConfig,"name").join(","),i.diningRoomText=i.diningRoomText.replace(/,/g,"，")):i.diningRoomText="暂未分配",i.classroomConfig&&i.classroomConfig.length>0?(i.classRoomName=r.map(i.classroomConfig,"classroom").join(","),i.classRoomName=i.classRoomName.replace(/,/g,"，")):i.classRoomName="暂未分配"),this.bindings.classInfo.changed()},uploadBanner:function(){var e,n,a,t=this.module.items.upload,i=this.bindings.state.data,l=this.bindings.classInfo.data;l.classDetail||(l.classDetail={}),l.classRoom||(l.classRoom={}),l.classDetail.haveProvinceLeader=Number(s(this.$("haveProvinceLeaderOne")).val()),l.classDetail.haveMinister=Number(s(this.$("haveMinisterOne")).val()),l.classDetail.needGroupPhoto=Number(s(this.$("needGroupPhoto")).val()),1===Number(s(this.$("needGroupPhoto")).val())&&this.$("photoTime").value&&(e=this.$("photoTime").value,n=e.split(" ")[0].split("-"),a=e.split(" ")[1].split(":"),l.classDetail.photoTime=new Date(n[0],n[1]-1,n[2],a[0],a[1]).getTime()),l.classDetail.needMakeCourse=Number(s(this.$("needMakeCourse")).val()),1===Number(s(this.$("needMakeCourse")).val())&&(l.classDetail.courseVideoRequirement=this.$("courseVideoRequirement").value),l.classDetail.tableType=Number(this.$("tableType").value),l.classDetail.otherRequirement=this.$("otherRequirement").value,1!==i.role&&3!==i.role||(l.guestroomsConfig&&l.guestroomsConfig.length>0?(l.rommText=r.map(l.guestroomsConfig,"name").join(","),l.rommText=l.rommText.replace(/,/g,"，")):l.rommText="暂未分配",l.restaurantsConfig&&l.restaurantsConfig.length>0?(l.diningRoomText=r.map(l.restaurantsConfig,"name").join(","),l.diningRoomText=l.diningRoomText.replace(/,/g,"，")):l.diningRoomText="暂未分配",l.classroomConfig&&l.classroomConfig.length>0?(l.classRoomName=r.map(l.classroomConfig,"classroom").join(","),l.classRoomName=l.classRoomName.replace(/,/g,"，")):l.classRoomName="暂未分配",l.guestroomsConfig=this.components.tags1.getData(),l.restaurantsConfig=this.components.tags2.getData()),i.type="banner",this.app.viewport.modal(t)},changePhotoTime:function(){var e=s(this.$("photoTime"));i.text.valid(e),l.required.fn(e.val())||i.text.invalid(e,l.required.message)},changeCourseVideoRequirement:function(){var e=s(this.$("courseVideoRequirement")),n=new RegExp("\\{0\\}","g");i.text.valid(e),l.required.fn(e.val())?l.maxLength.fn(e.val(),1e3)||i.text.invalid(e,l.maxLength.message.replace(n,1e3)):i.text.invalid(e,l.required.message)},changeOtherRequirement:function(){var e=s(this.$("otherRequirement")),n=new RegExp("\\{0\\}","g");i.text.valid(e),l.maxLength.fn(e.val(),1e3)||i.text.invalid(e,l.maxLength.message.replace(n,1e3))}},a.actions={"click submit":"submit","click save":"save"},a.dataForTemplate={classInfo:function(e){var n,a,i,l=e.classInfo;return n=new Date(l.arriveDate),a=new Date(l.returnDate),(l.returnDate-l.arriveDate)/864e5>=2?(n.setDate(n.getDate()+1),a.setDate(a.getDate()-1)):(n.setDate(n.getDate()),a.setDate(a.getDate())),l.startDate=t.date(l.arriveDate),l.endDate=t.date(l.returnDate),l.classNames=l.className,l.className&&l.className.length>26&&(l.className=l.className.substring(0,25)+"..."),i=l.address,l.addressText=null!==i?i:"暂未分配",l.guestroomsConfig&&l.guestroomsConfig.length>0?(l.rommText=r.map(l.guestroomsConfig,"name").join(","),l.rommText=l.rommText.replace(/,/g,"，")):l.rommText="暂未分配",l.restaurantsConfig&&l.restaurantsConfig.length>0?(l.diningRoomText=r.map(l.restaurantsConfig,"name").join(","),l.diningRoomText=l.diningRoomText.replace(/,/g,"，")):l.diningRoomText="暂未分配",l.classRoomName?l.classRoomName=l.classRoomName:l.classroomConfig&&l.classroomConfig.length>0?(l.classRoomName=r.map(l.classroomConfig,"classroom").join(","),l.classRoomName=l.classRoomName.replace(/,/g,"，")):l.classRoomName="暂未分配",l},checked:function(){var e=this.bindings.classInfo.data;return{provinceLeaderCheck:1===e.classDetail.haveProvinceLeader,haveMinisterCheck:1===e.classDetail.haveMinister,needGroupPhotoCheck:1===e.classDetail.needGroupPhoto,needVideoCheck:1===e.classDetail.needVideo,needMakeCourseCheck:1===e.classDetail.needMakeCourse,needNetCheck:1===e.classDetail.needNet}},state:function(){var e,n,a=this.bindings.classInfo.data,t=this.bindings.state.data;return t.attachmentId?e=this.bindings.down.getFullUrl()+"?id="+t.attachmentId:(t.attachmentId=a.classDetail.coverId,e=this.bindings.down.getFullUrl()+"?id="+a.classDetail.coverId),t.bannerId?n=this.bindings.down.getFullUrl()+"?id="+t.bannerId:a.classDetail&&a.classDetail.bannerId&&(t.bannerId=a.classDetail.bannerId,n=this.bindings.down.getFullUrl()+"?id="+a.classDetail.bannerId),t.downUrl=e,t.bannerUrl=n,t.needGroupPhotoCheck=1===a.classDetail.needGroupPhoto,t.needMakeCourseCheck=1===a.classDetail.needMakeCourse,t},classroomList:function(e){var n=this.bindings.classInfo.data.classroomConfig||[];return r.map(e.classroomList||[],function(e){var a=e;n.length>0&&n[0].id===a.id&&(a.selected=!0)}),e.classroomList},isManageAndSponsor:function(){var e=this.bindings.state.data;return 1===e.role||2===e.role},isAssist:function(){return 4!==this.bindings.state.data.role},isClassAndManage:function(){var e=this.bindings.state.data;return 1===e.role||3===e.role},isSubmit:function(){var e=this.bindings.state.data,n=this.bindings.classInfo.data;return 2!==e.role&&1!==e.role||1!==n.confirm},isService:function(){return 3===this.bindings.state.data.role},trainTypes:function(e){var n=e.trainTypes,a=e.classInfo.classDetail.tableType;return r.map(n,function(e){var n=e;return a===n.id?n.selected=!0:n.selected=!1,n}),n},classTypes:function(e){var n=e.classTypes,a=e.classInfo.classInfoType;return r.map(n,function(e){var n=e;return a===n.id?n.selected=!0:n.selected=!1,n}),n},isRequiredAndConfirm:function(){var e=this.bindings.classInfo.data.confirm;return 2===this.bindings.state.data.role&&1===e}},a.dataForActions={submit:function(e){var n=e,a=this.validate(),t=this.bindings.state.data,i=this.bindings.classroomList.data||[];return 2===t.role&&i.length>0&&(n.classRoom=i[0].id),1!==t.role&&3!==t.role||(n.restaurantsIds=this.components.tags2.getValue(),n.guestroomsIds=this.components.tags1.getValue()),!!a&&n},save:function(e){var n=e,a=this.validate(),t=this.bindings.state.data,i=s(this.$$('[name="otherRequirement"]')).val();return 1!==t.role&&3!==t.role||(n.restaurantsIds=this.components.tags2.getValue(),n.guestroomsIds=this.components.tags1.getValue(),n.otherRequirement=i),!!a&&n}},a.actionCallbacks={submit:function(){this.module.renderOptions.base.siblings().removeClass("grey"),this.app.message.success("提交成功")},save:function(){this.app.message.success("保存成功")}},a.components=[function(){var e=this;return{id:"photoTime",name:"flatpickr",options:{enableTime:!0,onChange:function(n,a){e.changePhotoTime(a)}}}},function(){return{id:"uploadBanner",name:"superUpload",options:{model:"file",maxSize:"1M",accept:"jpg,jpeg,png,bmp,gif,ico",isProgress:!0}}},function(){var e=this.bindings.classInfo.data,n=[];return e.restaurantsConfig&&r.map(e.restaurantsConfig,function(e){n.push({text:e.name||e.text,value:e.id||e.value})}),{id:"tags2",name:"picker",options:{picker:"configuration-value",name:"restaurantsIds",emptyText:"请选择餐厅",tags:n,enableInput:!1}}},function(){var e=this.bindings.classInfo.data,n=[];return e.guestroomsConfig&&r.map(e.guestroomsConfig,function(e){n.push({text:e.name||e.text,value:e.id||e.value})}),{id:"tags1",name:"picker",options:{picker:"configuration-value",name:"guestroomsIds",emptyText:"请选择客房",tags:n,enableInput:!1}}},function(){var e=this.bindings.classInfo.data;return{id:"headFile",name:"picker",options:{picker:"cropper",inputName:"cover",width:250,height:166,defaultImg:"images/default-cover/default_class.jpg",avatarSize:"250,166",data:{btnName:"上传封面",btnClass:"block",path:e.classDetail.coverPath,value:e.classDetail.coverId}}}}],a.changeFile=function(){var e,n,a,t=this.bindings.file.data.imgs,i=this.bindings.state.data,l=r.map(t,function(e){return{contentType:e.contentType,attachmentId:e.id,name:e.filename,path:e.path}}),o=this.bindings.classInfo.data;o.classDetail||(o.classDetail={}),o.classRoom||(o.classRoom={}),o.classDetail.haveProvinceLeader=Number(s(this.$("haveProvinceLeaderOne")).val()),o.classDetail.haveMinister=Number(s(this.$("haveMinisterOne")).val()),o.classDetail.needGroupPhoto=Number(s(this.$("needGroupPhoto")).val()),1===Number(s(this.$("needGroupPhoto")).val())&&this.$("photoTime").value&&(e=this.$("photoTime").value,n=e.split(" ")[0].split("-"),a=e.split(" ")[1].split(":"),o.classDetail.photoTime=new Date(n[0],n[1]-1,n[2],a[0],a[1]).getTime()),o.classDetail.needMakeCourse=Number(s(this.$("needMakeCourse")).val()),1===Number(s(this.$("needMakeCourse")).val())&&(o.classDetail.courseVideoRequirement=this.$("courseVideoRequirement").value),o.classDetail.tableType=Number(this.$("tableType").value),o.classDetail.otherRequirement=this.$("otherRequirement").value,o.guestroomsConfig&&o.guestroomsConfig.length>0?(o.rommText=r.map(o.guestroomsConfig,"name").join(","),o.rommText=o.rommText.replace(/,/g,"，")):o.rommText="暂未分配",o.restaurantsConfig&&o.restaurantsConfig.length>0?(o.diningRoomText=r.map(o.restaurantsConfig,"name").join(","),o.diningRoomText=o.diningRoomText.replace(/,/g,"，")):o.diningRoomText="暂未分配",o.guestroomsConfig=r.map(this.components.tags1.getData(),function(e){return{id:e.value,name:e.text}}),o.restaurantsConfig=r.map(this.components.tags2.getData(),function(e){return{id:e.value,name:e.text}}),i.type="banner",o.classDetail.coverId=this.components.headFile.items.main.$$('[name="cover"]')[0].value,o.classDetail.coverPath=this.components.headFile.items.main.$$('[name="coverPath"]')[0].value,"cover"===i.type?this.module.dispatch("addCoverFile",l):this.module.dispatch("addBannerFile",l)},a.mixin={validate:function(){var e=s(this.$$('[name="needGroupPhoto"]')),n=s(this.$("photoTime")),a=s(this.$$('[name="needMakeCourse"]')),t=s(this.$("courseVideoRequirement")),r=s(this.$("otherRequirement")),o=!0,d=new RegExp("\\{0\\}","g");return i.text.valid(n),i.text.valid(t),i.text.valid(r),1!==this.bindings.state.data.role&&2!==this.bindings.state.data.role||("1"!==e.val()||l.required.fn(n.val())||(i.text.invalid(n,l.required.message),o=!1),"1"!==a.val()||l.required.fn(t.val())||(i.text.invalid(t,l.required.message),o=!1),"1"===a.val()&&l.required.fn(t.val())&&!l.maxLength.fn(t.val(),1e3)&&(i.text.invalid(t,l.maxLength.message.replace(d,1e3)),o=!1),l.maxLength.fn(r.val(),1e3)||(i.text.invalid(r,l.maxLength.message.replace(d,1e3)),o=!1)),o},changePhotoTime:function(e){var n=s(this.$("photoTime"));i.text.valid(n),l.required.fn(e)||i.text.invalid(n,l.required.message)}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/helpers":"./app/util/helpers",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/base/view-upload",function(e,n,a){var t=e("lodash/collection");a.title="文件上传",a.bindings={file:"changeFile",state:!0},a.components=function(){return[{id:"uploader",name:"uploader",options:{model:"file",chunk_size:"3mb",multi_selection:!1,filters:{max_file_size:"1mb",mime_types:[{title:"files",extensions:"jpg,jpeg,png,bmp,gif,ico,tif"}]}}}]},a.changeFile=function(){var e=this.bindings.file.data.imgs,n=this.bindings.state.data,a=t.map(e,function(e){return{contentType:e.contentType,attachmentId:e.id,name:e.filename}});"cover"===n.type?this.module.dispatch("addCoverFile",a):this.module.dispatch("addBannerFile",a),this.app.viewport.closeModal()}},{"lodash/collection":!1}),loadjs.d("./app/train/book-time/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.title="资源预定",a.items={toolbox:"toolbox",content:"content",tips:""},a.large=!0,a.store={models:{state:{data:[]},month:{data:{}},occupy:{url:"../train/occupy"},projects:{url:"../train/project/findByDate"},limit:{url:"../train/limit-configuration/month"},project:{},result:{data:{}}},callbacks:{changeMonth:function(e){var n,a,l,s,r,o,d=this.models.month,c=this.models.state,u=this.models.occupy,m=this.models.projects,p=this.models.project,h=this.models.limit,f=this.models.result;d.data=e.month,d.changed(),o=e.month.split("-"),p.data=e.project,n=new Date(d.data.split("-")[0],d.data.split("-")[1],0),a=n.getDate(),l=new Array(a),s=["日","一","二","三","四","五","六"],u.params.month=e.month,this.get(u).then(function(e){t.map(l,function(a,i){var o={};n.setDate(i+1),o.day=i+1,o.week=s[n.getDay()],r=t.find(e[0],{day:o.day}),r&&(o.allowed=r.available<0?0:r.available,o.green=r.available>=p.data.amount),l[i]=o}),c.clear(),c.data=l,c.changed()}),m.params.month=e.month,this.get(m),m.changed(),h.clear(),i.assign(h.params,{year:window.parseInt(o[0]),month:window.parseInt(o[1])}),this.get(h),e.arriveDate&&"-"!==e.arriveDate&&(f.data.arriveDate=e.arriveDate,f.data.returnDate=e.returnDate)}}},a.afterRender=function(){var e,n,a,t,i=this.renderOptions.project;return e=i.projectMonth.split("-"),n=e[0]+"",a=e[1]<10?"0"+e[1]:e[1]+"",t={month:n+"-"+a,project:i,arriveDate:this.renderOptions.aDate,returnDate:this.renderOptions.rDate},this.dispatch("changeMonth",t)},a.buttons=[{text:"确定",fn:function(){var e=this.store.models.result.data;return!!this.items.toolbox.validate()&&this.renderOptions.callback(e.arriveDate,e.returnDate)}}]},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/book-time/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choosedate-page">\n    <div class="choosedate" data-region="toolbox"></div>\n    <div class="choosedate" data-region="content"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="form clearfix align-left">\n        <div class="form-row col-sm-3 pull-left train r-padding">\n            <label class="required tag-height">月份</label>\n            <div class="content train">\n                <input type="hidden" name="no-focus"/>\n                <input id="month" class="input date tag-height" name="month"/>\n            </div>\n        </div>\n        <div class="form-row col-sm-3 pull-left train r-padding">\n            <label class="required tag-height">报到日</label>\n            <div class="content train">\n                <input id="arriveDate" class="input date tag-height" name="arriveDate" value="'+r(s(null!=(l=null!=n?n.result:n)?l.arriveDate:l,n))+'"/>\n            </div>\n        </div>\n        <div class="form-row col-sm-3 pull-left train r-padding tag-height">\n            <label class="required tag-height">返程日</label>\n            <div class="content train"><input id="backDate" class="input tag-height" name="backDate" readonly disabled value="'+r(s(null!=(l=null!=n?n.result:n)?l.returnDate:l,n))+'"/></div>\n        </div>\n        <div class="form-row col-sm-3 pull-left train r-padding tag-height">\n            <label class="required tag-height layout-mr-small tag-height">计划人数</label>\n            <div class="content text-right">\n                <div class="num tag-height pull-left">'+r(s(null!=(l=null!=n?n.project:n)?l.amount:l,n))+'</div>\n                <div id="rule" class="small-btn">查看预定规则</div>\n            </div>\n        </div>\n    </div>\n    <div class="clearfix">\n        <p class="pull-left small-font">注:图显示的是本月已预定的资源信息,不显示代表本月无预定,本月可用的资源数为<<'+r(s(null!=(l=null!=n?n.limit:n)?l.limit:l,n))+">>。</p>\n    </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'    <table>\n        <tr>\n            <th rowspan="3">培训班可用资源</th>\n            <th colspan="31">'+e.escapeExpression((s=null!=(s=a.month||(null!=n?n.month:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"month",hash:{},data:i}):s))+"月</th>\n        </tr>\n        <tr>"+(null!=(l=a.each.call(r,null!=n?n.state:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"</tr>\n        <tr>"+(null!=(l=a.each.call(r,null!=n?n.state:n,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"</tr>\n        <tr>\n            <td>可用资源</td>\n"+(null!=(l=a.each.call(r,null!=n?n.state:n,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"        </tr>\n        "+(null!=(l=a.each.call(r,null!=n?n.projects:n,{name:"each",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+"\n    </table>\n"},6:function(e,n,a,t,i){var l;return"\n            <td>"+e.escapeExpression((l=null!=(l=a.day||(null!=n?n.day:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"day",hash:{},data:i}):l))+"</td>\n        "},8:function(e,n,a,t,i){var l;return"\n            <td>"+e.escapeExpression((l=null!=(l=a.week||(null!=n?n.week:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"week",hash:{},data:i}):l))+"</td>\n        "},10:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.green:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.program(13,i,0),data:i}))?l:""},11:function(e,n,a,t,i){var l;return'                    <td class="custom-bg-color-4 w-30">'+e.escapeExpression((l=null!=(l=a.allowed||(null!=n?n.allowed:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"allowed",hash:{},data:i}):l))+"</td>\n"},13:function(e,n,a,t,i){var l
;return'                    <td class="custom-bg-color-3 w-30">'+e.escapeExpression((l=null!=(l=a.allowed||(null!=n?n.allowed:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"allowed",hash:{},data:i}):l))+"</td>\n"},15:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'<tr>\n            <td class="max">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"&nbsp;&nbsp;"+d((s=null!=(s=a.amount||(null!=n?n.amount:n))?s:o,"function"==typeof s?s.call(r,{name:"amount",hash:{},data:i}):s))+"人&nbsp;&nbsp;"+d((s=null!=(s=a.days||(null!=n?n.days:n))?s:o,"function"==typeof s?s.call(r,{name:"days",hash:{},data:i}):s))+"天</td>\n"+(null!=(l=a.each.call(r,null!=n?n.occupyDays:n,{name:"each",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+"        </tr>"},16:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isPass:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.program(19,i,0),data:i}))?l:""},17:function(e,n,a,t,i){return"                    \n"},19:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isOccupy:n,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.program(22,i,0),data:i}))?l:""},20:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <td class="bg-main-color" colspan="'+o((l=null!=(l=a.colspan||(null!=n?n.colspan:n))?l:r,"function"==typeof l?l.call(s,{name:"colspan",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.text||(null!=n?n.text:n))?l:r,"function"==typeof l?l.call(s,{name:"text",hash:{},data:i}):l))+"</td>\n"},22:function(e,n,a,t,i){return"                        <td></td>\n"},24:function(e,n,a,t,i){return"    <ol>\n        <li>5天班，周日报到，周一至周五上课，周六返程；</li>\n        <li>4天班，周一报到，周二至周五上课，周六返程（如有培训班要求周日报到，根据培训班实际情况酌情满足）；</li>\n        <li>3天班，周一报到，周二至周四上课，周五返程（如有培训班要求周二或周日报到，根据培训班实际情况酌情满足）；</li>\n        <li>2天班，周日报到，周一二上课，周三返程；或周三报到，周四五上课，周六返程</li>\n    </ol>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"toolbox",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"tips",{name:"view",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/book-time/view-content",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/helpers");a.title="预定时间",a.bindings={state:!0,projects:!0,month:!0},a.dataForTemplate={state:function(){return this.bindings.state.data},projects:function(){var e=this.bindings.projects.data,n=this.bindings.month.data,a=this.bindings.state.data;return t.map(e,function(e){var l,s,r,o=e,d=new Array(o.days),c=!1,u=0;o.occupyDays=a.slice(0),t.map(d,function(e,a){var t=24*a*60*60*1e3,d={};s=o.classInfo.arriveDate+t,l=i.date(s),l.indexOf(n)>-1&&(r=window.parseInt(l.split("-")[2])-1,d.isOccupy=!0,0===o.classInfo.isOutside?d.text="占用"+o.amount:d.text="不占用"+o.amount,c&&(d.isPass=!0),c=!0,u++,o.occupyDays[r]=d)}),t.map(o.occupyDays,function(e){var n=e;n&&n.isOccupy&&!n.isPass&&(n.colspan=u)})}),e}}},{"./app/util/helpers":"./app/util/helpers","lodash/collection":!1}),loadjs.d("./app/train/book-time/view-tips",function(e,n,a){a.title="预定规则"},{}),loadjs.d("./app/train/book-time/view-toolbox",function(e,n,a){var t=e("./app/ext/views/form/markers"),i=e("./app/ext/views/form/validators"),l=e("./app/util/helpers"),s=e("jquery");a.type="from",a.bindings={state:!0,project:!1,month:!0,result:!0,limit:!0},a.events={"click book":"book","click rule":"showRule"},a.handlers={book:function(){var e=this.$("arriveDate").value,n=this.$("backDate").value;return""===e?void this.app.message.alert("请选择报到日"):""===n?void this.app.message.alert("请选择返程日"):(this.module.renderOptions.callback(e,n),void this.app.viewport.closeModal())},showRule:function(){var e=this,n=e.module.items.tips;e.app.viewport.modal(n,{})}},a.dataForTemplate={limit:function(){return this.bindings.limit.data}},a.components=[function(){var e=this;return{id:"month",name:"flatpickr",options:{dateFormat:"Y-m",defaultDate:this.bindings.month.data,onChange:function(n,a){""!==a&&e.changeMonth(a)}}}},function(){var e=this;return{id:"arriveDate",name:"flatpickr",options:{minDate:new Date,onChange:function(n,a){e.changeArriveDate(a)}}}}],a.mixin={validate:function(){var e=s(this.$("arriveDate")),n=s(this.$("backDate")),a=!0;return t.text.valid(e),t.text.valid(n),i.required.fn(e.val())||(t.text.invalid(e,i.required.message),a=!1),i.required.fn(n.val())||(t.text.invalid(n,i.required.message),a=!1),a},changeArriveDate:function(e){var n,a,r,o=e,d=this.bindings.project,c=this.bindings.result.data,u=s(this.$("arriveDate")),m=s(this.$("backDate")),p=o.split("-");a=d.data.days-1,o?(n=new Date(p[0],p[1]-1,p[2]),n.setDate(n.getDate()+a),r=l.date(n),this.$("backDate").value=r,c.arriveDate=o,c.returnDate=r):this.$("backDate").value="",t.text.valid(u),i.required.fn(u.val())||t.text.invalid(u,i.required.message),t.text.valid(m),i.required.fn(m.val())||t.text.invalid(m,i.required.message)},changeMonth:function(e){var n=e,a=this.bindings.project.data;this.module.dispatch("changeMonth",{month:n,project:a})}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/helpers":"./app/util/helpers",jquery:!1}),loadjs.d("./app/train/book/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("jquery");a.items={main:"main","train/book-time":{isModule:!0}},a.store={models:{projectInfo:{url:"../train/project"},book:{url:"../train/project/book"},occupyCheck:{url:"../train/occupy/check"},state:{data:{}},trainingTypes:{data:[{text:"校内培训",type:0,checked:!0},{text:"校外培训",type:1,checked:!1},{text:"在线学习",type:2,checked:!1}]}},callbacks:{init:function(e){var n=this.models.projectInfo,a=this,t=this.models.state;return n.set(e),t.data.role=e.role,n.params={shield:!1},a.get(n,{loading:!0})},submit:function(e){var n=this.models.book,a=this.models.projectInfo,i=this;return t.assign(n.data,e,{isSubmit:1}),i.save(n).then(function(){i.get(a)})},save:function(e){var n=this.models.book,a=this.models.projectInfo,i=this;return t.assign(n.data,e,{isSubmit:0}),i.save(n).then(function(){i.get(a)})},changeDate:function(e){var n=this.models.projectInfo.data,a=this.models.occupyCheck,l=this;t.assign(a.params,{arriveDate:e.arriveDate,backDate:e.backDate,projectId:n.id}),this.get(a).then(function(e){"ok"===e[0].result?i(l.module.items.main.$("resourceStatus")).val("1"):i(l.module.items.main.$("resourceStatus")).val("0")})}}},a.beforeRender=function(){return this.dispatch("init",{id:this.renderOptions.state.id,role:this.renderOptions.state.role})}},{"drizzle-zxy":!1,jquery:!1}),loadjs.d("./app/train/book/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-class-page">\n    <div class="page-main-wrapper">\n        <div class="main" data-region="main"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i,l,s){var r,o=e.lambda,d=e.escapeExpression,c=null!=n?n:{};return'<form class="vertical">\n    <div class="ordertime container overflow border around layout-mt-small">\n        <section class="managements-content-area">\n            <div class="form">\n                <div class="clearfix">\n                    <div class="form-row inline-block vertical-top col-sm-6">\n                        <label class="label">培训班名称</label>\n                        <div class="content">\n                            <div class="col-sm-10"><div class="input input-height text-overflow" title="'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.names:r,n))+'">'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.name:r,n))+'</div></div>\n                        </div>\n                        <input type="hidden" name="id" value="'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.id:r,n))+'"/>\n                        <input id="arriveDate" type="hidden" name="arriveDate" value="'+d(o(null!=(r=null!=n?n.state:n)?r.arriveDate:r,n))+'"/>\n                        <input id="returnDate" type="hidden" name="returnDate" value="'+d(o(null!=(r=null!=n?n.state:n)?r.returnDate:r,n))+'"/>\n                        <input id="resourceStatus" class="input" type="hidden" name="resourceStatus" value="'+d(o(null!=(r=null!=(r=null!=n?n.projectInfo:n)?r.classInfo:r)?r.resourceStatus:r,n))+'"/>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-6">\n                        <label class="label">MIS编号</label>\n                        <div class="content">\n                            <div class="col-sm-10"><div class="input input-height text-overflow" title="'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.code:r,n))+'">'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.code:r,n))+'</div></div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-6">\n                        <label class="label">需求方</label>\n                        <div class="content">\n                            <div class="col-sm-10"><div class="input input-height text-overflow" title="'+d(o(null!=(r=null!=(r=null!=n?n.projectInfo:n)?r.organization:r)?r.name:r,n))+'">'+d(o(null!=(r=null!=(r=null!=n?n.projectInfo:n)?r.organization:r)?r.name:r,n))+'</div></div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-6">\n                        <label class="label">需求方联系人</label>\n                        <div class="content">\n                            <div class="col-sm-10"><div class="input input-height text-overflow" title="'+d(o(null!=(r=null!=(r=null!=n?n.projectInfo:n)?r.member:r)?r.fullName:r,n))+'">'+d(o(null!=(r=null!=(r=null!=n?n.projectInfo:n)?r.member:r)?r.fullName:r,n))+'</div></div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-6">\n                        <label class="label">计划人数</label>\n                        <div class="content">\n                            <div class="col-sm-10"><div class="input input-height">'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.amount:r,n))+'</div></div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-6">\n                        <label class="label">计划天数</label>\n                        <div class="content">\n                            <div class="col-sm-10">\n                                <div class="input input-height">'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.days:r,n))+'</div>\n                                <div class="small-font">包括报到日和返程日</div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-6">\n                        <label class="label required">联系电话</label>\n                        <div class="content">\n                            <div class="col-sm-10">\n                                <input id="contactPhoneT" class="input" '+(null!=(r=a.unless.call(c,null!=n?n.isGrant:n,{name:"unless",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' name="contactPhoneT" value="'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.contactPhoneT:r,n))+'"/>\n                                <input id="contactPhone" class="input" '+(null!=(r=a.unless.call(c,null!=n?n.isGrant:n,{name:"unless",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="hidden" name="contactPhone" value="'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.contactPhone:r,n))+'"/>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-6">\n                        <label class="label required">邮箱</label>\n                        <div class="content">\n                            <div class="col-sm-10">\n                                <input id="contactEmailT" class="input" '+(null!=(r=a.unless.call(c,null!=n?n.isGrant:n,{name:"unless",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' name="contactEmailT" title="'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.contactEmailT:r,n))+'" value="'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.contactEmailT:r,n))+'" maxLength="30"/>\n                                <input id="contactEmail" class="input" '+(null!=(r=a.unless.call(c,null!=n?n.isGrant:n,{name:"unless",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="hidden" name="contactEmail" title="'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.contactEmail:r,n))+'" value="'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.contactEmail:r,n))+'" maxLength="30"/>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-6">\n                        <label class="label required">培训方式</label>\n                        <div class="content">\n                            <div class="col-sm-10">\n'+(null!=(r=a.if.call(c,null!=(r=null!=n?n.projectInfo:n)?r.isShowCommit:r,{name:"if",hash:{},fn:e.program(6,i,0,l,s),inverse:e.program(10,i,0,l,s),data:i}))?r:"")+'                            </div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-6">\n                        <label class="label required">需求调研方式</label>\n                        <div class="content">\n                            <div class="col-sm-10">\n                                <input id="surveyType" class="input" '+(null!=(r=a.unless.call(c,null!=n?n.isGrant:n,{name:"unless",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' name="surveyType" title="'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.surveyType:r,n))+'" value="'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.surveyType:r,n))+'"/>\n                                <div class="small-font">如：工作分析、领导访谈、电话调研、培训系统问卷调研、其他或者无</div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-6">\n                        <label class="label required">培训日期</label>\n                        <div class="content">\n                            <div class="col-sm-10">\n'+(null!=(r=a.if.call(c,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(13,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'                                <div class="clearfix">\n                                    <input id="roundDate" class="input" name="roundDate" value="'+d(o(null!=(r=null!=n?n.state:n)?r.roundDate:r,n))+'" disabled/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="form-row inline-block vertical-top col-sm-6">\n                        <label class="label required" style="width:7em;">是否党校进修班</label>\n                        <div class="content">\n                            <div class="col-sm-10">\n                                <div class="input input-height">\n                                    <input '+(null!=(r=a.if.call(c,null!=(r=null!=n?n.projectInfo:n)?r.isPartyCadre:r,{name:"if",hash:{},fn:e.program(8,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' value="1" type="radio" name="isPartyCadre" disabled/>\n                                    <label class="m-right">是</label>\n                                    <input '+(null!=(r=a.unless.call(c,null!=(r=null!=n?n.projectInfo:n)?r.isPartyCadre:r,{name:"unless",hash:{},fn:e.program(8,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' value="0" type="radio" name="isPartyCadre" disabled/>\n                                    <label>否</label>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="form-row col-sm-12">\n                        <label class="label required">培训目标</label>\n                        <div class="content" style="width:80%;"><textarea id="target" class="w-full input" '+(null!=(r=a.unless.call(c,null!=n?n.isGrant:n,{name:"unless",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' name="target" value="" rows="5">'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.target:r,n))+'</textarea></div>\n                    </div>\n                    <div class="form-row col-sm-12">\n                        <label class="label required">培训对象</label>\n                        <div class="content" style="width:80%;"><textarea id="object" class="w-full input" '+(null!=(r=a.unless.call(c,null!=n?n.isGrant:n,{name:"unless",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' name="object" value="" rows="5">'+d(o(null!=(r=null!=n?n.projectInfo:n)?r.object:r,n))+"</textarea></div>\n                    </div>\n                </div>\n            </div>\n        </section>\n"+(null!=(r=a.if.call(c,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(16,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"    </div>\n</form>"},4:function(e,n,a,t,i){return" disabled"},6:function(e,n,a,t,i,l,s){var r;return'                                    <div class="input input-height" style="height:auto;min-height:2.5em;font-size:12px;">\n'+(null!=(r=a.each.call(null!=n?n:{},null!=n?n.trainingTypes:n,{name:"each",hash:{},fn:e.program(7,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"                                    </div>\n"},7:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.escapeExpression;return"                                            <input "+(null!=(r=a.unless.call(d,null!=s[1]?s[1].isGrant:s[1],{name:"unless",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:"")+" "+(null!=(r=a.if.call(d,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(8,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' value="'+u((o=null!=(o=a.type||(null!=n?n.type:n))?o:c,"function"==typeof o?o.call(d,{name:"type",hash:{},data:i}):o))+'" type="radio" name="isOutside"/>\n                                            <label>'+u((o=null!=(o=a.text||(null!=n?n.text:n))?o:c,"function"==typeof o?o.call(d,{name:"text",hash:{},data:i}):o))+"</label>\n"},8:function(e,n,a,t,i){return' checked="checked"'},10:function(e,n,a,t,i){var l;return'                                    <div class="input input-height" style="height:auto;min-height:2.5em;font-size:12px;">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.trainingTypes:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"                                    </div>\n"},11:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                            <input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.type||(null!=n?n.type:n))?s:o,"function"==typeof s?s.call(r,{name:"type",hash:{},data:i}):s))+'" type="radio" name="isOutside" disabled/>\n                                            <label>'+d((s=null!=(s=a.text||(null!=n?n.text:n))?s:o,"function"==typeof s?s.call(r,{name:"text",hash:{},data:i}):s))+"</label>\n"},13:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.projectInfo:n)?l.isShowCommitApproval:l,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:""},14:function(e,n,a,t,i){return'                                        <div id="bookTime" class="small-btn input-height">选择日期</div>\n'},16:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.projectInfo:n)?l.isShowCommit:l,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.program(19,i,0),data:i}))?l:""},17:function(e,n,a,t,i){return'                <div class="text-center layout-mt layout-mb relative">\n                    <div id="submit" class="btn">提交</div>\n                    \x3c!--  .notes --\x3e\n                    \x3c!--      p.small-font 注：1 提交后提交按钮变保存按钮 --\x3e\n                    \x3c!--      p.small-font &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 提交后往返日期不可修改 --\x3e\n                    \x3c!--      p.small-font &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 审核不通过可以重新提交 --\x3e\n                </div>\n'},19:function(e,n,a,t,i){return'                <div class="text-center layout-mt layout-mb relative">\n                    <div id="save" class="btn">保存</div>\n                    \x3c!--  .notes --\x3e\n                    \x3c!--      p.small-font 注：1 提交后提交按钮变保存按钮 --\x3e\n                    \x3c!--      p.small-font &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 提交后往返日期不可修改 --\x3e\n                    \x3c!--      p.small-font &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 审核不通过可以重新提交 --\x3e\n                </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i,l,s){var r,o,d,c=null!=n?n:{},u=a.helperMissing,m="";return o=null!=(o=a.module||(null!=n?n.module:n))?o:u,d={name:"module",hash:{},fn:e.program(1,i,0,l,s),inverse:e.noop,data:i},r="function"==typeof o?o.call(c,d):o,a.module||(r=a.blockHelperMissing.call(n,r,d)),null!=r&&(m+=r),m+"\n"+(null!=(r=(a.view||n&&n.view||u).call(c,"main",{name:"view",hash:{},fn:e.program(3,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"\n"},useData:!0,useDepths:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/book/view-main",function(e,n,a){var t=e("./app/ext/views/form/markers"),i=e("./app/ext/views/form/validators"),l=e("./app/util/helpers"),s=e("jquery"),r=e("lodash/collection"),o=e("./app/util/aesEncryption");a.bindings={projectInfo:!0,state:!0,trainingTypes:!0},a.events={"click bookTime":"book","change contactPhoneT":"changeContactPhone","click contactPhoneT":"clickContactPhone","change contactEmailT":"changeContactEmail","click contactEmailT":"clickContactEmail","change contactEmail":"changeContactEmail","change surveyType":"changeSurveyType","change roundDate":"changeRoundDate","change target":"changeTarget","change object":"changeObject"},a.handlers={book:function(){var e=this,n=e.module.items["train/book-time"],a=this.bindings.projectInfo;e.app.viewport.modal(n,{project:a.data,aDate:e.$("arriveDate").value,rDate:e.$("returnDate").value,callback:function(n,a){var l=s(e.$("roundDate")),r=n+"~"+a;e.$("arriveDate").value=n,e.$("returnDate").value=a,e.$("roundDate").value=n+"~"+a,e.module.dispatch("changeDate",{arriveDate:n,backDate:a}),t.text.valid(l),i.required.fn(r)||t.text.invalid(l,i.required.message)}})},changeContactPhone:function(){var e=s(this.$("contactPhone")),n=s(this.$("contactPhoneT"));t.text.valid(n),i.required.fn(e.val())?i.phone.fn(e.val())||t.text.invalid(n,i.phone.message):t.text.invalid(n,i.required.message)},clickContactPhone:function(){var e=this.$("contactPhoneT"),n=this.$("contactPhone");"false"!==s(e).attr("data-fouse")&&s(e).attr("data-fouse")||s(e).val(s(n).val()),s(e).attr("data-fouse","true"),e.focus(),this.onBlur(e,n)},changeContactEmail:function(){var e=s(this.$("contactEmail"));t.text.valid(e),i.required.fn(e.val())?i.email.fn(e.val())||t.text.invalid(e,i.email.message):t.text.invalid(e,i.required.message)},clickContactEmail:function(){var e=this.$("contactEmailT"),n=this.$("contactEmail");"false"!==s(e).attr("data-fouse")&&s(e).attr("data-fouse")||s(e).val(s(n).val()),s(e).attr("data-fouse","true"),e.focus(),this.onBlur(e,n)},changeSurveyType:function(){var e=s(this.$("surveyType")),n=new RegExp("\\{0\\}","g");t.text.valid(e),i.required.fn(e.val())?i.maxLength.fn(e.val(),30)||t.text.invalid(e,i.maxLength.message.replace(n,30)):t.text.invalid(e,i.required.message)},changeRoundDate:function(){var e=s(this.$("roundDate"));t.text.valid(e),i.required.fn(e.val())||t.text.invalid(e,i.required.message)},changeTarget:function(){var e=s(this.$("target")),n=new RegExp("\\{0\\}","g");t.text.valid(e),i.required.fn(e.val())?i.maxLength.fn(e.val(),2e3)||t.text.invalid(e,i.maxLength.message.replace(n,2e3)):t.text.invalid(e,i.required.message)},changeObject:function(){var e=s(this.$("object")),n=new RegExp("\\{0\\}","g");t.text.valid(e),i.required.fn(e.val())?i.maxLength.fn(e.val(),500)||t.text.invalid(e,i.maxLength.message.replace(n,500)):t.text.invalid(e,i.required.message)}},a.actions={"click submit":"submit","click save":"save"},a.dataForTemplate={projectInfo:function(e){var n=e.projectInfo;return 2!==n.status&&3!==n.status&&(n.isShowCommit=!0),3!==n.status&&(n.isShowCommitApproval=!0),n.names=n.name,n.name&&n.name.length>16&&(n.name=n.name.substring(0,15)+"..."),n.aesContactPhone&&(n.contactPhone=o.decrypt(n.aesContactPhone),n.contactPhoneT=l.phoneT(n.contactPhone)),n.aesContactEmail&&(n.contactEmail=o.decrypt(n.aesContactEmail),n.contactEmailT=l.emailT(n.contactEmail)),n},trainingTypes:function(e){var n=e.projectInfo,a=this.bindings.trainingTypes;return r.map(a.data,function(e){var a=e;return n.classInfo.isOutside&&(a.checked=n.classInfo.isOutside===a.type),a})},state:function(){var e,n,a=this.bindings.state.data,t=this.bindings.projectInfo.data;return t.classInfo&&(e=l.date(t.classInfo.arriveDate),n=l.date(t.classInfo.returnDate),a.roundDate=e+"~"+n,a.arriveDate=e,a.returnDate=n),a},isGrant:function(){var e=this.bindings.state.data;return 1===e.role||2===e.role}},a.dataForActions={submit:function(e){var n=e;return"0"===e.resourceStatus&&"0"===e.isOutside?(this.app.message.alert("所选时间段资源已满，请另选其他时间段，如需帮助请联系党校资源管理员！"),!1):!!this.validate()&&n},save:function(e){var n=s(this.$$('input[name="isOutside"]:checked')).val(),a=this.bindings.projectInfo,t=e;return t.isOutside=n,3!==a.data.status&&"0"===e.resourceStatus&&"0"===n?(this.app.message.alert("所选时间段资源已满，请另选其他时间段，如需帮助请联系党校资源管理员！"),!1):!!this.validate()&&t}},a.mixin={validate:function(){var e=s(this.$("contactPhoneT")),n=s(this.$("contactPhone")),a=s(this.$("contactEmail")),l=s(this.$("surveyType")),r=s(this.$("roundDate")),o=s(this.$("arriveDate")),d=s(this.$("target")),c=s(this.$("object")),u=!0,m=new RegExp("\\{0\\}","g");return t.text.valid(e),t.text.valid(a),t.text.valid(l),t.text.valid(r),t.text.valid(d),t.text.valid(c),i.required.fn(n.val())||(t.text.invalid(e,i.required.message),u=!1),i.phone.fn(n.val())||(t.text.invalid(e,i.phone.message),u=!1),i.required.fn(a.val())||(t.text.invalid(a,i.required.message),u=!1),i.email.fn(a.val())||(t.text.invalid(a,i.email.message),u=!1),i.required.fn(l.val())||(t.text.invalid(l,i.required.message),u=!1),i.maxLength.fn(l.val(),30)||(t.text.invalid(l,i.maxLength.message.replace(m,30)),u=!1),i.required.fn(o.val().replace("-",""))||(t.text.invalid(r,"为必填项"),u=!1),i.required.fn(d.val())||(t.text.invalid(d,i.required.message),u=!1),i.maxLength.fn(d.val(),2e3)||(t.text.invalid(d,i.maxLength.message.replace(m,2e3)),u=!1),i.required.fn(c.val())||(t.text.invalid(c,i.required.message),u=!1),i.maxLength.fn(c.val(),500)||(t.text.invalid(c,i.maxLength.message.replace(m,500)),u=!1),u},onBlur:function(e,n){var a=this;e.addEventListener?(e.removeEventListener("blur",a.blurHandler.bind(this,e,n),!1),e.addEventListener("blur",a.blurHandler.bind(this,e,n),!1)):e.attachEvent&&(e.detachEvent("onblur",a.blurHandler.bind(this,e,n)),e.attachEvent("onblur",a.blurHandler.bind(this,e,n)))},blurHandler:function(e,n){var a=s(e).attr("id");s(e).val().indexOf("*")>-1||(s(e).attr("data-fouse","false"),s(n).val(s(e).val()),a.indexOf("Email")>-1?s(e).val(l.emailT(s(e).val())):s(e).val(l.phoneT(s(e).val())))}},a.actionCallbacks={save:function(){this.module.renderOptions.base.removeClass("grey"),this.app.message.success("保存成功")},submit:function(){this.app.message.success("提交成功")}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/aesEncryption":"./app/util/aesEncryption","./app/util/helpers":"./app/util/helpers",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/class-address/index",function(e,n,a){var t=e("drizzle-zxy");a.items={main:"main"},a.large=!0,a.store={models:{classId:{data:{}},list:{url:"../train/trainee/trainees",type:"pageable",root:"items"},menu:{url:"../train/trainee-group"},mun:{url:"../train/trainee/no-group"},state:{data:{}}},callbacks:{list:function(e){var n=this.models.list;return this.models.state.data.groupId=e,n.clear(),t.assign(n.params,{classId:this.models.classId.data.classId,auditStatus:1,groupId:e}),this.get(n)},init:function(e){var n=this.models.menu,a=e.classId,i=this.models.state,l=this.models.mun,s=this.models.list;return l.clear(),this.models.classId.data.classId=a,n.params={classId:e.classId},l.params={classId:e.classId},i.data.qita=1,s.clear(),i.changed(),t.assign(s.params,{classId:this.models.classId.data.classId,auditStatus:1}),this.get(s),this.get(l).then(function(e){e&&e>0&&(i.data.qita=2,i.changed())}),this.get(n)}}},a.beforeRender=function(){var e=this;e.dispatch("init",this.renderOptions).then(function(n){var a=0;n[0].length<1&&e.dispatch("list",a),null!=n[0]&&n[0].length>0&&(a=n[0][0].id),e.dispatch("list",a)})}},{"drizzle-zxy":!1}),loadjs.d("./app/train/class-detail/class-address/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="class-address" data-region="main"></div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="train-model-title strong">班级通讯录</div>\n    <div class="classmate-side layout-mb-small clearfix m-top">\n'+(null!=(l=a.if.call(s,null!=n?n.menu:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"+(null!=(l=a.if.call(s,null!=n?n.menu:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+"    \x3c!--  .layout-mb --\x3e\n    \x3c!--      .table-row --\x3e\n    \x3c!--          .table-tr.table-cell 序号 --\x3e\n    \x3c!--          .table-tr.table-cell 姓名 --\x3e\n    \x3c!--          .table-tr.table-cell 单位 --\x3e\n    \x3c!--          .table-tr.table-cell 部门 --\x3e\n    \x3c!--          .table-tr.table-cell 职务 --\x3e\n    \x3c!--          .table-tr.table-cell 手机 --\x3e\n    \x3c!--          .table-tr.table-cell 邮箱 --\x3e\n    \x3c!--      .table-row --\x3e\n    \x3c!--          .table-cell 1 --\x3e\n    \x3c!--          .table-cell 吴航 --\x3e\n    \x3c!--          .table-cell 北京公司 --\x3e\n    \x3c!--          .table-cell 北京公司/信息系统部/大数据支撑中心 --\x3e\n    \x3c!--          .table-cell 产品经理 --\x3e\n    \x3c!--          .table-cell 18330292583 --\x3e\n    \x3c!--          .table-cell dwledjiwqdwd@zhixueyun.com --\x3e\n    \x3c!--      .table-row --\x3e\n    \x3c!--          .table-cell 2 --\x3e\n    \x3c!--          .table-cell 吴航 --\x3e\n    \x3c!--          .table-cell 北京公司 --\x3e\n    \x3c!--          .table-cell 北京公司/信息系统部/大数据支撑中心 --\x3e\n    \x3c!--          .table-cell 产品经理 --\x3e\n    \x3c!--          .table-cell 18330292583 --\x3e\n    \x3c!--          .table-cell dwledjiwqdwd@zhixueyun.com --\x3e\n    \x3c!--      .table-row --\x3e\n    \x3c!--          .table-cell 3 --\x3e\n    \x3c!--          .table-cell 吴航 --\x3e\n    \x3c!--          .table-cell 北京公司 --\x3e\n    \x3c!--          .table-cell 北京公司/信息系统部/大数据支撑中心 --\x3e\n    \x3c!--          .table-cell 产品经理 --\x3e\n    \x3c!--          .table-cell 18330292583 --\x3e\n    \x3c!--          .table-cell dwledjiwqdwd@zhixueyun.com --\x3e\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{};return(null!=(l=a.each.call(s,null!=n?n.menu:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.qita:n,{name:"if",hash:{},fn:e.program(8,i,0),
inverse:e.noop,data:i}))?l:"")},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="tab h4 pull-left pointer m-top m-bottom '+(null!=(l=a.if.call(r,null!=n?n.active:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'" id="menu-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</div>\n"},6:function(e,n,a,t,i){return"active"},8:function(e,n,a,t,i){var l;return'                <div class="tab h4 pull-left pointer m-top m-bottom '+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.rest:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'" id="menu-0">其它</div>\n'},10:function(e,n,a,t,i){var l;return'        <div class="layout-mb-small display-table box">\n            <div class="table-row">\n                <div class="table-tr table-cell">序号</div>\n                <div class="table-tr table-cell">姓名</div>\n                <div class="table-tr table-cell">单位</div>\n                <div class="table-tr table-cell">部门</div>\n                <div class="table-tr table-cell">职务</div>\n                <div class="table-tr table-cell">手机号码</div>\n                <div class="table-tr table-cell">邮箱</div>\n            </div>\n            '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.list:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.program(13,i,0),data:i}))?l:"")+'\n        </div>\n        <div id="pager" class="pagination classdetail" style="float:none"></div>\n'},11:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return'<div class="table-row">\n                <div class="table-cell">'+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+'</div>\n                <div class="table-cell">'+c(u(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+'</div>\n                <div class="table-cell">'+c((s=null!=(s=a.companyName||(null!=n?n.companyName:n))?s:o,typeof s===d?s.call(r,{name:"companyName",hash:{},data:i}):s))+'</div>\n                <div class="table-cell">'+c((s=null!=(s=a.organizationName||(null!=n?n.organizationName:n))?s:o,typeof s===d?s.call(r,{name:"organizationName",hash:{},data:i}):s))+'</div>\n                <div class="table-cell">'+c(u(null!=(l=null!=n?n.member:n)?l.jobName:l,n))+'</div>\n                <div class="table-cell">'+c((s=null!=(s=a.phoneNumber||(null!=n?n.phoneNumber:n))?s:o,typeof s===d?s.call(r,{name:"phoneNumber",hash:{},data:i}):s))+'</div>\n                <div class="table-cell">'+c((s=null!=(s=a.email||(null!=n?n.email:n))?s:o,typeof s===d?s.call(r,{name:"email",hash:{},data:i}):s))+"</div>\n            </div>\n"},13:function(e,n,a,t,i){return'                <div class="text-center none">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <div>暂无内容</div>\n                </div>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/class-address/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={classId:!0,list:!0,menu:!0,state:!0},a.events={"click menu-*":"menuBySelect"},a.handlers={menuBySelect:function(e){this.module.dispatch("list",e)}},a.components=[{id:"pager",name:"pager",options:{model:"list"}}],a.dataForTemplate={list:function(e){var n=this.bindings.list.getPageInfo().page;return t.map(e.list||[],function(e,a){var t=e;t.i=a+1+10*(n-1),t.newCompany&&(t.companyName=t.newCompany),t.newOrganization&&(t.organizationName=t.newOrganization)}),e.list},menu:function(e){var n=e.menu||[],a=this.bindings.state.data.groupId||{};return n&&t.map(n,function(e){var n=e;n.id===a&&(n.active=!0)}),n},rest:function(){return"0"===(this.bindings.state.data||{}).groupId},qita:function(){return(this.bindings.state.data||{}).qita>1}}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/class-bus/index",function(e,n,a){var t=e("lodash/collection");a.items={bus:"bus"},a.store={models:{bus:{url:"../train/bus/member-by-bus"},detailInsert:{url:"../train/bus-detail"},detaildelete:{url:"../train/bus-detail"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.bus,a=e.classId,i=e.busId,l=this.models.state,s=e.trainee;return n.params={busId:i,classId:a},l.data={trainee:s,returnDate:e.returnDate,arriveDate:e.arriveDate},l.changed(n),this.get(n).then(function(e){return t.map(e[0]||[],function(e,n){var a=e;return a.flag=!0,a.show=0===n,null!=e.busDetails&&null!=e.busDetails.length||(a.flag=!1),a}),n.changed(),e})},sectionDisplay:function(e){var n=this.models.bus;t.map(n.data||[],function(n){var a=n;return a.id===e&&(a.show=!a.show),a}),n.changed()},detailInsert:function(e){var n=this.models.detailInsert;return n.set({id:e}),this.post(n)},detaildelete:function(e){var n=this.models.detaildelete;return n.set({id:e}),this.del(n)}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/class-bus/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="class-details-page">\n    <div class="div" data-region="bus"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <div class="section businfo-page m-left"><div class="businfo">\n        <div class="train-model-title strong">预订班车</div>\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.bus:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(20,i,0),data:i}))?l:"")+"    </div></div>\n"},4:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.bus:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:""},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="none-bot">\n                    <div class="businfo-title clearfix layout-mt-small">\n                        <div class="h4 pull-left">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                        <div class="pull-right">\n                            <span class="sub-text layout-mr">'+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+"-"+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+'</span>\n                            <a class="normal layout-mr sub-text pull-right" id="sectionDisplay-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" href="javascript:;">\n                                <label id="label-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"></label>\n                                <div class="menu-text">\n'+(null!=(l=a.if.call(r,null!=n?n.show:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+"                                </div>\n                            </a>\n                        </div>\n                    </div>\n"+(null!=(l=a.if.call(r,null!=n?n.show:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n"},6:function(e,n,a,t,i){return'                                        <i class="iconfont icon-triangle-up up"></i>\n'},8:function(e,n,a,t,i){return'                                        <i class="iconfont icon-triangle-down down"></i>\n'},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                        <div id="busdetail">\n                            <div id="sectionDiv-'+e.escapeExpression((s=null!=(s=a.id||(null!=n?n.id:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"></div>\n'+(null!=(l=a.if.call(r,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+"                        </div>\n"},11:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.busDetails:n,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:""},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                                    <div class="bg-businfo m-top">\n                                        <div class="businfo-main inline-block">\n                                            <div class="small-font">'+e.escapeExpression((s=null!=(s=a.name||(null!=n?n.name:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</div>\n"+(null!=(l=a.if.call(r,null!=n?n.explain:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+"                                        </div>\n                                    </div>\n"},13:function(e,n,a,t,i){var l;return'                                                <div class="s-black m-top small-font">'+e.escapeExpression((l=null!=(l=a.explain||(null!=n?n.explain:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"explain",hash:{},data:i}):l))+"</div>\n"},15:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.optionList:n,{name:"each",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:""},16:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                                    <div class="bg-businfo m-top">\n                                        <div class="businfo-main inline-block">\n                                            <div class="small-font">'+e.escapeExpression((s=null!=(s=a.name||(null!=n?n.name:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</div>\n"+(null!=(l=a.if.call(r,null!=n?n.explain:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+"                                        </div>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+"                                    </div>\n"},17:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                            <div class="businfo-side inline-block layout-mr-small">\n                                                <input '+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="check-item'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" name="selected" value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                                                <label class="small-font" for="check-item'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">选择</label>\n                                            </div>\n'},18:function(e,n,a,t,i){return' checked="checked"'},20:function(e,n,a,t,i){return'            <div class="border-color h3 text-center none-top none-bot">该班级暂无班车信息。</div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"bus",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/class-bus/view-bus",function(e,n,a){var t=e("lodash/collection");a.title="班车餐饮信息统计",a.bindings={bus:!0,state:!1},a.events={"click sectionDisplay-*":"sectionDisplay","click check-item*":"checkItem"},a.handlers={sectionDisplay:function(e){this.module.dispatch("sectionDisplay",e)},checkItem:function(e,n){var a=n.target.checked,t=this;!0===a?this.module.dispatch("detailInsert",e).then(function(){t.app.message.success("保存成功")}):this.module.dispatch("detaildelete",e).then(function(){t.app.message.success("删除成功")})}},a.dataForTemplate={bus:function(){var e=this.bindings.bus.data,n=this.bindings.state.data||{};return t.map(e||{},function(e){var a=e,i=a.optionList;return t.map(i,function(e){var a=e;return n.trainee&&1===n.trainee.auditStatus?a.isGrant=!0:a.isGrant=!1,a}),a.optionList=i,a}),e}}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/class-photo/index",function(e,n,a){var t=e("lodash/collection");a.large=!0,a.items={picture:"picture",upload:"",swipe:""},a.store={models:{pannel:"pannel",photos:{url:"../train/album/photo/gage",type:"pageable",root:"items"},classPhoto:{url:"../train/album/photo"},photoss:{url:"../train/album/photo"},img:{url:"../human/file/upload"},download:{url:"../file-deal/file/download"},classId:{data:{}},state:{data:{index:0}}},callbacks:{init:function(e){var n=this.models.photos,a=e.classId,i=this.models.state,l=e.see;return this.models.classId.data.classId=a,n.clear(),n.params={classId:a},i.data.see=l,i.changed(),this.get(n).then(function(e){var n=e[0].items||[];t.map(n,function(e){var n=e,a=new Image;return n.imageUrl=n.path,a.src=n.imageUrl,n.image=a,n})})},turnPage:function(e){var n=this.models.state.data,a=this.models.photos.data||[],t=n.index;"prev"===e&&t>0?t--:"next"===e&&t<a.length-5&&t++,this.models.state.set({index:t}),this.models.state.changed()},addFile:function(e){var n=this.models.download,a=this.models.photos,i=this.models.classPhoto,l=this.models.classId.data,s=this,r=[];return t.forEach(e||[],function(e){var n=e;n.id="photo-"+(new Date).getTime(),r.push(n)}),i.set({classId:l.classId,photos:JSON.stringify(r)}),s.save(i).then(function(){return a.clear(),a.params={classId:l.classId},s.get(a)}).then(function(e){var a=e[0].items||[];t.map(a,function(e){var a=e,t=new Image;return a.imageUrl=n.getFullUrl()+"?id="+a.attachmentId,t.src=a.imageUrl,a.image=t,a})})}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/class-photo/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="classmate-book-page">\n    <div class="main">\n        <div class="classmate-content m-left m-right" data-region="picture"></div>\n        <section class="section" data-region="swipe"></section>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="train-model-title strong">班级相册</div>\n    <div class="managements-page"><div class="classmanage">\n        <div>\n            <section class="section">\n                <div class="clearfix">\n                    <div id="upload" class="btn small m-right pointer new">上传照片</div>\n                </div>\n'+(null!=(l=a.if.call(s,null!=n?n.photos:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+"            </section>\n        </div>\n    </div></div>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=n?n.pageCount:n,"gt",1,{name:"compare",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")},4:function(e,n,a,t,i){var l;return'                    <div id="album" class="swiper-container">\n                        <div class="photos new">\n                            <ul>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.photos:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"                            </ul>\n                        </div>\n                    </div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <li>\n                                        <div class="photo-item pointer" title="点击预览" style="background-image: url('+o((l=null!=(l=a.imageUrl||(null!=n?n.imageUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"imageUrl",hash:{},data:i}):l))+');">\n                                            <img id="showSwipe-'+o((l=null!=(l=a.attachmentId||(null!=n?n.attachmentId:n))?l:r,"function"==typeof l?l.call(s,{name:"attachmentId",hash:{},data:i}):l))+'" src="'+o((l=null!=(l=a.imageUrl||(null!=n?n.imageUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"imageUrl",hash:{},data:i}):l))+'" alt="'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'" width="100%" style="opacity:0;"/>\n                                        </div>\n                                    </li>\n'},7:function(e,n,a,t,i){return'                    <div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="100"/>\n                        <div>暂无班级相册</div>\n                    </div>\n'},9:function(e,n,a,t,i){return'        <div id="pager" class="pagination classdetail" style="margin: 1em;"></div>\n'},11:function(e,n,a,t,i){return'    <div id="uploader"></div>\n'},13:function(e,n,a,t,i){return'    <div id="classphotoSwipe"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"picture",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"upload",{name:"view",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"swipe",{name:"view",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/class-photo/view-picture",function(e,n,a){var t=e("lodash/collection");a.bindings={classId:!0,download:!1,photos:!0,state:!0},a.dataForTemplate={photos:function(e){var n=e.photos,a=this.bindings.photos.getPageInfo().page;return t.map(n,function(e,n){var t=e;t.i=n+1+25*(a-1),t.imageUrl=t.thumbnailPath}),n},pageCount:function(){return this.bindings.photos.getPageInfo().pageCount}},a.components=[{id:"pager",name:"pager",options:{model:"photos"}}],a.events={"click upload":"uploadPhoto","click showSwipe-*":"showSwipe","click return":"toggleActive"},a.handlers={uploadPhoto:function(){var e=this.module.items.upload;this.app.viewport.modal(e)},showSwipe:function(e){var n=this.module.regions;this.bindings.state.data.currentId=e,n.swipe.show(this.module.items.swipe)}}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/class-photo/view-swipe",function(e,n,a){var t=e("lodash/collection");a.bindings={photos:!1,download:!1,state:!1},a.components=[function(){var e=this.bindings.photos.data,n=this.bindings.state.data,a=0;return t.map(e,function(e,t){var i=e,l=new Image;return i.imageUrl=i.path,i.attachmentId===n.currentId&&(a=t),l.src=i.imageUrl,i.image=l,i}),{id:"classphotoSwipe",name:"picker",options:{picker:"photoswipe",photos:e,index:a}}}]},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/class-photo/view-upload",function(e,n,a){var t=e("lodash/collection");a.title="照片上传",a.bindings={img:"changeFile",classId:!0,state:!0},a.components=function(){return[{id:"uploader",name:"uploader",options:{model:"img",resize:{crop:!1},signle_file:!1,multi_selection:!0,multipart_params:{cutSize:"200,200"}}}]},a.changeFile=function(){var e=this.components.uploader,n=e.files.length,a=this.bindings.img.data.imgs,i=this,l=t.map(a,function(e){return{attachmentId:e.id,path:e.path,name:e.filename,thumbnailId:e.thumbnailId,thumbnailPath:e.thumbnailPath}});this.module.dispatch("addFile",l),e.uploadCount+=1,e.uploadCount>=n&&this.app.viewport.closeModal().then(function(){i.module.dispatch("init",{classId:i.bindings.classId.data.classId})})},a.afterRender=function(){this.components.uploader.uploadCount=0}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/commit-task/index",function(e,n,a){a.items={main:"main"},a.store={models:{state:{data:{}},tasks:{url:"../train/task/task-list"}},callbacks:{init:function(e){var n=this.models.state.data;n.classId=e.classId,n.trainee=e.trainee,this.models.state.changed()},refeshList:function(){var e=this.models.tasks,n=this.models.state.data;return e.params={classId:n.classId},this.get(e)}}},a.beforeRender=function(){var e=this;e.dispatch("init",this.renderOptions).then(function(){e.dispatch("refeshList")})}},{}),loadjs.d("./app/train/class-detail/commit-task/task-detail/index",function(e,n,a){var t=e("drizzle-zxy");a.items={head:"head",main:"main",side:"side",edit:"",upload:""},a.store={models:{state:{},taskMemberModel:{data:{}},mainState:{data:{isExplain:!0}},task:{url:"../train/task"},taskMember:{url:"../train/task-member"},preview:{url:"../file-deal/file/preview"},download:{url:"../file-deal/file/download"},file:{url:"../file-deal/file-upload/upload-parse-file"},img:{url:"../system/file/upload"}},callbacks:{init:function(e){var n=this.models.task;return n.set({id:e}),this.get(n)},preview:function(e){var n=this.models.state;t.assign(n.data||{},e),n.changed()},uploadTaskMember:function(e){var n=this.models.taskMember;n.clear(),n.params=e,n.data=e,n.changed()},submitTask:function(e){var n=this.models.taskMember,a=this.models.task,i=this;return t.assign(this.models.taskMember.params,e,{taskId:a.data.id,state:2}),t.assign(this.models.taskMember.data,e,{taskId:a.data.id,state:2}),i.save(n).then(function(e){var n={},t=e[0];t.taskApproval=n,"success"===e[1]&&i.app.message.success("提交成功!"),a.data.taskMemberList.push(t),i.models.task.changed()})}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions.id)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/class-detail/commit-task/task-detail/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="taskmarking-content main-side">\n    <div class="taskmarking-side bg-highlight">\n        <div class="layout-mt" data-region="side"></div>\n    </div>\n    <div class="taskmarking-head" data-region="head"></div>\n    <div class="taskmarking-main" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'    <div class="pull-left title">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.task:n)?l.name:l,n))+'</div>\n    <div class="pull-right title">\n'+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.taskMemberModel:n)?l.type:l,"eq",1,{name:"compare",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.taskMemberModel:n)?l.type:l,"eq",2,{name:"compare",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.taskMemberModel:n)?l.type:l,"eq",3,{name:"compare",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"        \x3c!-- .btn.white.m#closeTask 关闭作业 --\x3e\n    </div>\n"},4:function(e,n,a,t,i){return'            <label style="color:#66CC00;font-size:15px;">审核中 &nbsp;&nbsp;</label>\n'},6:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return"            提交人："+r(s(null!=(l=null!=n?n.taskMemberModel:n)?l.memberId:l,n))+"\n            审核人："+r(s(null!=(l=null!=(l=null!=n?n.taskMemberModel:n)?l.taskApproval:l)?l.approvalMemberId:l,n))+"\n            得分："+r(s(null!=(l=null!=(l=null!=n?n.taskMemberModel:n)?l.taskApproval:l)?l.score:l,n))+"\n"},8:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return"            提交人："+r(s(null!=(l=null!=n?n.taskMemberModel:n)?l.memberFullName:l,n))+"\n            审核人："+r(s(null!=(l=null!=(l=null!=n?n.taskMemberModel:n)?l.taskApproval:l)?l.approvalMemberFullName:l,n))+"\n            得分："+r(s(null!=(l=null!=(l=null!=n?n.taskMemberModel:n)?l.taskApproval:l)?l.score:l,n))+'\n            <div class="border" style="color:red;font-size:25px;">重新提交</div>\n'},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'    <div class="preview-content">\n'+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.flag:l,"eq","desc",{name:"compare",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.flag:l,"eq","down",{name:"compare",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.flag:l,"eq","useDesc",{name:"compare",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.flag:l,"eq","doc",{name:"compare",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")},11:function(e,n,a,t,i){var l;return'            <div class="preview-content">\n                <div class="h3 m-bottom">作业说明</div>\n                <p>\n                    <span>'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.task:n)?l.explain:l,{name:"echoX",hash:{},data:i}))?l:"")+"</span>\n                </p>\n            </div>\n"},13:function(e,n,a,t,i){return'            <div class="content-empty">\n                <div class="img-box img-type-1"></div>\n                <p>附件不支持预览，可直接下载</p>\n            </div>\n'},15:function(e,n,a,t,i){var l;return'            <div class="preview-content">\n                <div class="h3 m-bottom">作业详情</div>\n                <p>\n                    <span>'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.description:l,{name:"echoX",hash:{},data:i}))?l:"")+"</span>\n                </p>\n            </div>\n"},17:function(e,n,a,t,i){return'            <div id="viewPdf"></div>\n'},19:function(e,n,a,t,i){return'        <div id="viewPdf"></div>\n    </div>\n'},21:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=a.if.call(s,null!=(l=null!=n?n.task:n)?l.name:l,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+'    <div class="m-top">作业附件：</div>\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.task:n)?l.hasAttach:l,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.task:n)?l.hasTaskMember:l,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.task:n)?l.btnType:l,"eq",1,{name:"compare",hash:{},fn:e.program(33,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.task:n)?l.btnType:l,"eq",2,{name:"compare",hash:{},fn:e.program(35,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.taskMemberModel:n)?l.hasComment:l,{name:"if",hash:{},fn:e.program(37,i,0),inverse:e.noop,data:i}))?l:"")},22:function(e,n,a,t,i){return'        <a id="taskDescription" class="layout-mt-small" href="javascript:;">作业说明</a>\n'},24:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.task:n)?l.attachList:l,{name:"each",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:""},25:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'            <div class="side-item clearfix m-top">\n                <a class="inline-block" id="attachment-'+d((l=null!=(l=a.attachmentId||(null!=n?n.attachmentId:n))?l:r,typeof l===o?l.call(s,{name:"attachmentId",hash:{},data:i}):l))+'" attachType="1" preview="'+d((l=null!=(l=a.preview||(null!=n?n.preview:n))?l:r,typeof l===o?l.call(s,{name:"preview",hash:{},data:i}):l))+'" href="javascript:;">'+d((l=null!=(l=a.attachmentName||(null!=n?n.attachmentName:n))?l:r,typeof l===o?l.call(s,{name:"attachmentName",hash:{},data:i}):l))+'</a>\n                <a class="inline-blockr pull-right" href="'+d((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:r,typeof l===o?l.call(s,{name:"downUrl",hash:{},data:i}):l))+'" download="'+d((l=null!=(l=a.attachmentName||(null!=n?n.attachmentName:n))?l:r,typeof l===o?l.call(s,{name:"attachmentName",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"download",{name:"string",hash:{},data:i}))+"</a>\n            </div>\n"},27:function(e,n,a,t,i){var l;return'        <div class="h4 m-top">我提交的：</div>\n        <ul>'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.task:n)?l.taskMemberList:l,{name:"each",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},28:function(e,n,a,t,i){var l,s=null!=n?n:{};return"\n"+(null!=(l=a.if.call(s,null!=n?n.description:n,{name:"if",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.attachmentId:n,{name:"if",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))?l:"")+"        "},29:function(e,n,a,t,i){var l;return'                <a class="m-top" href="javascript:;" id="viewUseDesc-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">作业详情</a>\n'},31:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                <li class="side-item clearfix m-top">\n                    <a class="inline-block" id="attachment-'+d((l=null!=(l=a.attachmentId||(null!=n?n.attachmentId:n))?l:r,typeof l===o?l.call(s,{name:"attachmentId",hash:{},data:i}):l))+'" attachType="2" preview="'+d((l=null!=(l=a.preview||(null!=n?n.preview:n))?l:r,typeof l===o?l.call(s,{name:"preview",hash:{},data:i}):l))+'" href="javascript:;">'+d((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,typeof l===o?l.call(s,{name:"name",hash:{},data:i}):l))+'</a>\n                    <a class="inline-blockr pull-right" href="'+d((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:r,typeof l===o?l.call(s,{name:"downUrl",hash:{},data:i}):l))+'" download="'+d((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,typeof l===o?l.call(s,{name:"name",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"download",{name:"string",hash:{},data:i}))+"</a>\n                </li>\n"},33:function(e,n,a,t,i){return'        <div class="layout-mt text-center">\n            <div id="commitTask" class="btn w-full">提交作业</div>\n        </div>\n'},35:function(e,n,a,t,i){return'        <div class="layout-mt text-center">\n            <div id="commitTask" class="btn w-half">重新提交</div>\n        </div>\n'},37:function(e,n,a,t,i){var l;return'        <div class="m-top">\n            <label class="block">评语：</label>\n            <br/>\n            '+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.taskMemberModel:n)?l.taskApproval:l)?l.comment:l,n))+"\n        </div>\n"},39:function(e,n,a,t,i){var l;return'    <form class="vertical">\n        <div class="row"> \n            <div class="overflow" style="position:relative;">\n                <input class="input w-full" name="name" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.taskMember:n)?l.name:l,n))+'" placeholder="附件名称(可修改)"/>\n                <a id="uploadFile" class="btn pull-right" href="javascript:;" style="position:absolute; right:0;">上传附件</a>\n            </div>\n        </div>\n        <div class="row layout-mt-small">\n            <p>作业详情:</p>\n            <textarea id="description" class="input w-full" name="description" rows="5"></textarea>\n        </div>\n    </form>\n'},41:function(e,n,a,t,i){return'    <div class="row">\n        <div id="uploader"></div>\n    </div>\n'},compiler:[7,">= 4.0.0"],
main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(10,i,0),inverse:e.program(19,i,0),data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"edit",{name:"view",hash:{},fn:e.program(39,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"upload",{name:"view",hash:{},fn:e.program(41,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/commit-task/task-detail/view-edit",function(e,n,a){var t=e("drizzle-zxy");a.bindings={task:!1,taskMember:!0,img:!1,file:"changeFile"},a.type="form",a.title="提交作业",a.buttons=[{text:"提交",action:"submitTask"}],a.dataForActions={submitTask:function(e){var n=this.bindings.taskMember.data,a=this.components.description.html();return n.attachmentId||a?e.name||a?e.name&&e.name.length>30?(this.app.message.error("附件名称过长，最大长度为30个字符!"),!1):a&&a.length>5e3?(this.app.message.error("作业详情过长，最大长度为5000个字符!"),!1):(t.assign(e,{description:a}),e):(this.app.message.error("附件名称、作业详情不能同时为空!"),!1):(this.app.message.error("附件、作业详情不能同时为空!"),!1)}},a.beforeClose=function(){this.bindings.taskMember.clear()},a.components=[{id:"description",name:"rich-text",options:{model:"img",items:[]}},{id:"uploadFile",name:"superUpload",options:{model:"file",accept:"xls,xlsx,doc,docx,ppt,pptx,pdf,txt,zip",maxSize:"100M",isProgress:!0,filter:function(e,n){var a=n.name.split(".").pop(),t=new RegExp('[/\\\\|<>\\*:\\?\\"]+'),i=new RegExp("[~!@#$%\\^\\&]+");t.test(n.name)||i.test(n.name)?(e.removeFile(),this.app.message.error("文件名称不能包含特殊符号")):-1!==["mp3","mp4"].indexOf(a)?n.size>1073741824&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G")):n.size>104857600&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G"),this.app.message.error(a+"文件不能超过100M"))}}}],a.changeFile=function(){var e=this.bindings.file.data.imgs[0],n={attachmentType:e.contentType,attachmentId:e.id,name:e.filename};this.module.dispatch("uploadTaskMember",n)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/class-detail/commit-task/task-detail/view-head",function(e,n,a){a.bindings={task:!0,taskMemberModel:!0},a.events={"click closeTask":"closeTask"},a.handlers={closeTask:function(){window.close()}},a.dataForTemplate={taskMemberModel:function(e){var n=e.taskMemberModel;return n.id&&(n.taskApproval.id?0===n.taskApproval.state?n.type=2:1===n.taskApproval.state&&(n.type=3):n.type=1),n}}},{}),loadjs.d("./app/train/class-detail/commit-task/task-detail/view-main",function(e,n,a){a.bindings={task:!0,state:!0,mainState:!0,preview:!1},a.components=[function(){var e=this.bindings.state.data||{},n=this.bindings.preview.getFullUrl()+"/"+e.attachmentId;return"doc"===e.flag&&{id:"viewPdf",name:"picker",options:{picker:"pdf",id:e.attachmentId,pdfUrl:n}}}],a.dataForTemplate={state:function(e){var n=e.state;return n.flag=n.flag?n.flag:"desc",n}}},{}),loadjs.d("./app/train/class-detail/commit-task/task-detail/view-side",function(e,n,a){var t=e("lodash/collection");a.bindings={task:!0,preview:!1,mainState:!0,download:!1,taskMemberModel:!0},a.events={"click attachment-*":"preview","click taskDescription":"changeMain","click commitTask":"showCommitView","click viewUseDesc-*":"showTaskDetail"},a.handlers={preview:function(e,n,a){var i=a.getAttribute("attachType"),l=a.getAttribute("preview"),s=this.bindings.mainState.data,r=this.bindings.taskMemberModel,o=this.bindings.task.data,d={flag:"doc",attachmentId:e};s.isExplain=!1,this.bindings.mainState.changed(),"2"===i&&(r.data=t.find(o.taskMemberList,["attachmentId",e])),"1"===i&&this.bindings.taskMemberModel.clear(),this.bindings.taskMemberModel.changed(),"1"===l?this.module.dispatch("preview",d):this.app.message.alert("该文件为压缩文件,请下载查看!")},changeMain:function(){this.module.dispatch("preview",{flag:"desc"})},showCommitView:function(){this.app.viewport.modal(this.module.items.edit)},showTaskDetail:function(e){var n=this.bindings.task.data.taskMemberList||{},a=t.find(n,{id:e}),i={flag:"useDesc",description:a.description};this.module.dispatch("preview",i)}},a.dataForTemplate={task:function(e){var n=this,a=e.task,i=e.task.attachList||[],l=e.task.taskMemberList||[],s=l.length;return a.hasAttach=0!==i.length,a.hasTaskMember=0!==l.length,0===s?a.btnType=1:4===l[s-1].state?a.btnType=2:a.btnType=0,t.map(i||[],function(e){var a=e;return a.downUrl=n.bindings.download.getFullUrl()+"?id="+a.attachmentId,a.preview=1,"application/octet-stream"===a.attachmentType&&(a.preview=0),a}),t.map(l||[],function(e){var a=e;return a.downUrl=n.bindings.download.getFullUrl()+"?id="+a.attachmentId,a.preview=1,"application/octet-stream"===a.attachmentType&&(a.preview=0),a}),a},taskMemberModel:function(e){var n=e.taskMemberModel;return(e.taskMemberModel.taskApproval||{}).comment&&(n.hasComment=!0),n}}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/commit-task/task-detail/view-upload",function(e,n,a){a.title="文件上传",a.bindings={file:"changeFile",task:!1},a.components=function(){return[{id:"uploader",name:"uploader",options:{model:"file",chunk_size:"3mb",multi_selection:!1,filters:{max_file_size:"100mb",mime_types:[{title:"files",extensions:"xls,xlsx,doc,docx,ppt,pptx,pdf,txt,zip"}]},filter:function(e,n){var a=n.name.split(".").pop(),t=new RegExp('[/\\\\|<>\\*:\\?\\"]+'),i=new RegExp("[~!@#$%\\^\\&]+");t.test(n.name)||i.test(n.name)?(e.removeFile(),this.app.message.error("文件名称不能包含特殊符号")):-1!==["mp3","mp4"].indexOf(a)?n.size>1073741824&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G")):n.size>104857600&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G"),this.app.message.error(a+"文件不能超过100M"))}}}]},a.changeFile=function(){var e=this.bindings.file.data.imgs[0],n={attachmentType:e.contentType,attachmentId:e.id,name:e.filename};this.module.dispatch("uploadTaskMember",n),this.app.viewport.closeModal()}},{}),loadjs.d("./app/train/class-detail/commit-task/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="surveyexam-page"><div class="surveyexam layout-mb-small m-left">\n    <div class="commitwork" data-region="main"></div>\n</div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <div class="train-model-title strong">提交作业</div>\n    <div class="none-bot large layout-mt-small layout-mr">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.tasks:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.program(14,i,0),data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'            <div class="surveyexam-item border bottom m-right">\n                <div class="surveyexam-content clearfix inline-block w-full display-table">\n                    <i class="iconfont icon-exam time display-table-cell" style="font-size:2em;"></i>\n                    <div class="m-left title-color display-table-cell col-sm-4 text-overflow sur-title" title="'+d((s=null!=(s=a.names||(null!=n?n.names:n))?s:o,"function"==typeof s?s.call(r,{name:"names",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                    <div class="display-table-cell" align="right" style="padding-right:10px;">\n                        <div class="sub-text layout-mr time display-table-cell">'+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+"~"+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+"</div>\n                    </div>\n"+(null!=(l=a.if.call(r,null!=(l=null!=n?n.taskMember:n)?l.id:l,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+"                </div>\n            </div>\n"},5:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.taskMember:n)?l.state:l,"ne",4,{name:"compare",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:""},6:function(e,n,a,t,i){var l;return'                            <div class="display-table-cell" align="right">\n                                <a class="btn satificate display-table-cell" href="#/train/class-detail/task-detail/'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'" target="_blank">查看</a>\n                            </div>\n'},8:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:""},9:function(e,n,a,t,i){var l;return'                                <div class="display-table-cell" align="right">\n                                    <a class="btn satificate display-table-cell" id="submit-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">重新提交</a>\n                                </div>\n'},11:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:""},12:function(e,n,a,t,i){var l;return'                            <div class="display-table-cell" align="right">\n                                <a class="inline-block btn satificate display-table-cell" id="submit-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">提交作业</a>\n                            </div>\n'},14:function(e,n,a,t,i){return'            <div class="border-color h3 text-center none-top none-bot">该班级暂无作业。</div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/commit-task/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={tasks:!0,state:!1},a.dataForTemplate={tasks:function(){var e=this.bindings.state.data||{},n=this.bindings.tasks.data;return t.map(n||{},function(n){var a=n;return a.names=a.name,a.name&&a.name.length>17&&(a.name=a.name.substring(0,16)+"..."),e.trainee&&1===e.trainee.auditStatus?a.isGrant=!0:a.isGrant=!1,a}),n}},a.events={"click submit-*":"submit"},a.handlers={submit:function(e){var n=e,a="#/train/class-detail/task-detail/"+n,i=this.bindings.tasks.data,l=t.find(i,["id",n]),s=(new Date).getTime();s>=l.startTime&&s<=l.endTime?window.open(a,"_blank"):s>l.endTime?this.app.message.alert("作业已结束，无法提交"):l.startTime>s&&this.app.message.alert("该作业暂未开始，敬请期待")}}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/course-evaluate/index",function(e,n,a){a.items={main:"main"},a.store={models:{evaluateResult:{url:"../train/questionnaire-survey-new/class-course-evaluate"}},callbacks:{init:function(e){var n=this.models.evaluateResult,a=e.item&&e.item[0].id,t=e.item&&e.item[0].classId;return n.params={classId:t,courseId:a},this.get(n,{loading:!0})},submit:function(e){var n=this.models.evaluateResult,a=this.module.renderOptions.item&&this.module.renderOptions.item[0].id,t=this.module.renderOptions.item&&this.module.renderOptions.item[0].classId,i=e.answers;return n.set({courseId:a,classId:t,answers:i}),this.post(n)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.afterRender=function(){var e=this,n=document.documentElement.clientWidth;navigator.userAgent.indexOf("MSIE 9.0")>0&&(n=document.documentElement.clientWidth+20),setTimeout(function(){e.items.main.getResearch().width(n),e.items.main.getResearch().removeClass("none").addClass("full")},50)}},{}),loadjs.d("./app/train/class-detail/course-evaluate/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-satifi-new course-evaluate">\n    <div data-region="main"></div>\n</div>'},3:function(e,n,a,t,i,l,s){var r,o=e.lambda,d=e.escapeExpression,c=null!=n?n:{};return'    <div class="all none" id="research-page">\n        <div class="bg-highlight course-top">\n            <div>\n                <div class="clearfix inline-block" style="width:40%;">\n                    <div class="h4 pull-left">培训课程：</div>\n                    <div class="h4 text-overflow" title="'+d(o(null!=(r=null!=n?n.item:n)?r.name:r,n))+'">'+d(o(null!=(r=null!=n?n.item:n)?r.name:r,n))+'</div>\n                </div>\n                <div class="clearfix inline-block" style="width:20%;">\n                    <div class="h4 pull-left ml-1">讲师姓名：</div>\n                    <div class="h4 text-overflow" title="'+d(o(null!=(r=null!=n?n.item:n)?r.teacherName:r,n))+'">'+d(o(null!=(r=null!=n?n.item:n)?r.teacherName:r,n))+'</div>\n                </div>\n                <div class="clearfix inline-block">\n                    <div class="h4 pull-left layout-ml">课程时间：</div>\n                    <div class="h4 overflow">\n                        '+d(o(null!=(r=null!=n?n.item:n)?r.courseDateText:r,n))+" \n                        "+d(o(null!=(r=null!=n?n.item:n)?r.startTime:r,n))+"\n                        -\n                        "+d(o(null!=(r=null!=n?n.item:n)?r.endTime:r,n))+'\n                    </div>\n                </div>\n            </div>\n            <div class="m-top clearfix">\n                <div class="sub-text h4 pull-left">填写说明：</div>\n                <div class="sub-text h4 overflow">\n                    请根据描述与实际符合程度，选择相应分数并标记"\n                    <i class="iconfont icon-iconfontoptionbutton scale-1"></i>\n                    "，分数越高，意味着符合程度越高，10代表非常符合，1代表非常不符合。如对该课程有何具体优化意见建议，请在相应位置填写。（客观题必填，主观题选填）\n                </div>\n            </div>\n        </div>\n        <div>\n            <div class="main-one">\n                <div class="table-row row-one border-none clearfix border-left">\n                    <div class="table-cell one w-40 text-overflow text-center text-main-color" style="line-height:6em;">评价项目</div>\n                    <div class="table-cell one w-60 bg1 text-main-color text-center s-height">\n                        <span class="inline-block">非常符合</span>\n                        <span class="arrow-line inline-block col-sm-9">\n                            <div class="line inline-block">\n                                <div class="arrow left inline-block"></div>\n                                <div class="arrow right inline-block"></div>\n                            </div>\n                        </span>\n                        <span class="inline-block">非常不符合</span>\n                    </div>\n                    <div class="table-cell one w-60">\n                        <div class="table-cell bg1">10</div>\n                        <div class="table-cell bg1">9</div>\n                        <div class="table-cell bg1">8</div>\n                        <div class="table-cell bg1">7</div>\n                        <div class="table-cell bg1">6</div>\n                        <div class="table-cell bg1">5</div>\n                        <div class="table-cell bg1">4</div>\n                        <div class="table-cell bg1">3</div>\n                        <div class="table-cell bg1">2</div>\n                        <div class="table-cell bg1">1</div>\n                    </div>\n                </div>\n                <div class="table-row row-one border-none clearfix">\n                    <div class="table-cell one w-full text-center text-main-color item-bg" style="height:4em;line-height:4em;">\n                        课程内容\n                    </div>\n                </div>\n                <div class="table-row clearfix border-none">\n                    \x3c!-- .table-cell.border-bot.one.w-10.left(style=\'height:14em;line-height:14em;\') --\x3e\n                    \x3c!--     | 课程内容 --\x3e\n'+(null!=(r=a.each.call(c,null!=(r=null!=n?n.evaluateResult:n)?r.items:r,{name:"each",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'                </div>\n                <div class="table-row row-one border-none clearfix">\n                    <div class="table-cell one w-full text-center text-main-color item-bg" style="height:4em;line-height:4em;">\n                        师资表现\n                    </div>\n                </div>\n                <div class="table-row clearfix border-none">\n                    \x3c!-- .table-cell.border-bot.one.w-10.left(style=\'height:21em;line-height:21em;\') --\x3e\n                    \x3c!--     | 师资表现 --\x3e\n'+(null!=(r=a.each.call(c,null!=(r=null!=n?n.evaluateResult:n)?r.items:r,{name:"each",hash:{},fn:e.program(17,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'                </div>\n                <div class="table-row row-one border-none clearfix">\n                    <div class="table-cell one w-full item-bg" style="height:4em;line-height:4em;padding-left:13px;">\n                        对本课程有何优化意见建议\n                    </div>\n                </div>\n                <div class="table-row clearfix border-none">\n                    \x3c!-- .table-cell.border-bot.one.w-10.left(style=\'height:12.5em;line-height:12.5em;\') --\x3e\n                    \x3c!--     | 意见建议 --\x3e\n'+(null!=(r=a.each.call(c,null!=(r=null!=n?n.evaluateResult:n)?r.items:r,{name:"each",hash:{},fn:e.program(28,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'                </div>\n            </div>\n        </div>\n        <div class="layout-mt-small text-center layout-mb">\n'+(null!=(r=a.unless.call(c,null!=(r=null!=n?n.evaluateResult:n)?r.isModifiable:r,{name:"unless",hash:{},fn:e.program(32,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'            <div class="btn m-width white border" id="close">关闭</div>\n        </div>\n    </div>\n'},4:function(e,n,a,t,i,l,s){var r;return null!=(r=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.typeBranch:n,"eq",1,{name:"compare",hash:{},fn:e.program(5,i,0,l,s),inverse:e.noop,data:i}))?r:""},5:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing;return'                            <div class="table-cell border-bot one w-40 border-left" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(6,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'>\n                                <span class="num m-left">'+e.escapeExpression((o=null!=(o=a.type||(null!=n?n.type:n))?o:c,"function"==typeof o?o.call(d,{name:"type",hash:{},data:i}):o))+'</span>\n                                <span class="num-r">'+(null!=(o=null!=(o=a.questionName||(null!=n?n.questionName:n))?o:c,r="function"==typeof o?o.call(d,{name:"questionName",hash:{},data:i}):o)?r:"")+'</span>\n                            </div>\n                            <div class="table-cell border-bot bg1 one w-60" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(6,i,0,l,s),inverse:e.noop,data:i}))?r:"")+">\n"+(null!=(r=a.each.call(d,null!=n?n.arr:n,{name:"each",hash:{},fn:e.program(8,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(13,i,0,l,s),inverse:e.program(15,i,0,l,s),data:i}))?r:"")+"                            </div>\n"},6:function(e,n,a,t,i){return' style="height:7em;"'},8:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=e.lambda,u=e.escapeExpression,m=a.helperMissing;return'                                    <div class="pull-left w-10 text-center">\n                                        <input class="hide" '+(null!=(r=a.if.call(d,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(9,i,0,l,s),inverse:e.noop,data:i}))?r:"")+" "+(null!=(r=a.if.call(d,null!=(r=null!=s[2]?s[2].evaluateResult:s[2])?r.isModifiable:r,{name:"if",hash:{},fn:e.program(11,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="radio" name="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-order="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" id="radio-'+u(c(null!=s[1]?s[1].id:s[1],n))+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'"/>\n                                        <label for="radio-'+u(c(null!=s[1]?s[1].id:s[1],n))+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'"></label>\n                                    </div>\n'},9:function(e,n,a,t,i){return' checked="checked"'},11:function(e,n,a,t,i){return" disabled"},13:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                                    <div class="pull-left w-full" id="reason-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" style="padding:0 20px;" title="'+c((s=null!=(s=a.idea||(null!=n?n.idea:n))?s:o,typeof s===d?s.call(r,{name:"idea",hash:{},data:i}):s))+'">\n                                        <input class="input w-full" '+(null!=(l=a.if.call(r,null!=n?n.isDisable:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+' id="input-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" type="text" data-order="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.idea||(null!=n?n.idea:n))?s:o,typeof s===d?s.call(r,{name:"idea",hash:{},data:i}):s))+'"/>\n                                    </div>\n'},15:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <div class="pull-left w-full hide" id="reason-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" style="padding:0 20px;">\n                                        <input class="input w-full" id="input-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" type="text" data-order="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" maxlength="200" placeholder="请填写具体问题和建议，必填" x-rule="required"/>\n                                    </div>\n'},17:function(e,n,a,t,i,l,s){var r;return null!=(r=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.typeBranch:n,"eq",2,{name:"compare",hash:{},fn:e.program(18,i,0,l,s),inverse:e.noop,data:i}))?r:""},18:function(e,n,a,t,i,l,s){var r;return null!=(r=a.if.call(null!=n?n:{},null!=n?n.special:n,{name:"if",hash:{},fn:e.program(19,i,0,l,s),inverse:e.program(21,i,0,l,s),data:i}))?r:""},19:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                <div class="table-cell border-bot one w-40 border-left">\n                                    <span class="num m-left">'+d((s=null!=(s=a.type||(null!=n?n.type:n))?s:o,"function"==typeof s?s.call(r,{name:"type",hash:{},data:i}):s))+'</span>\n                                    <span class="num-r">'+(null!=(s=null!=(s=a.questionName||(null!=n?n.questionName:n))?s:o,l="function"==typeof s?s.call(r,{name:"questionName",hash:{},data:i}):s)?l:"")+'</span>\n                                </div>\n                                <div class="table-cell border-bot bg1 one w-60">\n                                    <div class="pull-left w-full text-center" name="default" data-order="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-value="10">本次为线上培训，无需评估此维度</div>\n                                </div>\n'},21:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing;return'                                <div class="table-cell border-bot one w-40 border-left" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(6,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'>\n                                    <span class="num m-left">'+e.escapeExpression((o=null!=(o=a.type||(null!=n?n.type:n))?o:c,"function"==typeof o?o.call(d,{name:"type",hash:{},data:i}):o))+'</span>\n                                    <span class="num-r">'+(null!=(o=null!=(o=a.questionName||(null!=n?n.questionName:n))?o:c,r="function"==typeof o?o.call(d,{name:"questionName",hash:{},data:i}):o)?r:"")+'</span>\n                                </div>\n                                <div class="table-cell border-bot bg1 one w-60" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(6,i,0,l,s),inverse:e.noop,data:i}))?r:"")+">\n"+(null!=(r=a.each.call(d,null!=n?n.arr:n,{name:"each",hash:{},fn:e.program(22,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(24,i,0,l,s),inverse:e.program(26,i,0,l,s),data:i}))?r:"")+"                                </div>\n"},22:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=e.lambda,u=e.escapeExpression,m=a.helperMissing;return'                                        <div class="pull-left w-10 text-center">\n                                            <input class="hide" '+(null!=(r=a.if.call(d,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(9,i,0,l,s),inverse:e.noop,data:i}))?r:"")+" "+(null!=(r=a.if.call(d,null!=(r=null!=s[2]?s[2].evaluateResult:s[2])?r.isModifiable:r,{name:"if",hash:{},fn:e.program(11,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="radio" name="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-order="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" id="radio-'+u(c(null!=s[1]?s[1].id:s[1],n))+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'"/>\n                                            <label for="radio-'+u(c(null!=s[1]?s[1].id:s[1],n))+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'"></label>\n                                        </div>\n'},24:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                                        <div class="pull-left w-full" id="reason-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" style="padding:0 20px;" title="'+c((s=null!=(s=a.idea||(null!=n?n.idea:n))?s:o,typeof s===d?s.call(r,{name:"idea",hash:{},data:i}):s))+'">\n                                            <input class="input w-full" '+(null!=(l=a.if.call(r,null!=n?n.isDisable:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+' id="input-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" type="text" data-order="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.idea||(null!=n?n.idea:n))?s:o,typeof s===d?s.call(r,{name:"idea",hash:{},data:i}):s))+'"/>\n                                        </div>\n'},26:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                        <div class="pull-left w-full hide" id="reason-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" style="padding:0 20px;">\n                                            <input class="input w-full" id="input-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" type="text" data-order="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" maxlength="200" placeholder="请填写具体问题和建议，必填" x-rule="required"/>\n                                        </div>\n'},28:function(e,n,a,t,i,l,s){var r;return null!=(r=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.typeBranch:n,"eq",3,{name:"compare",hash:{},fn:e.program(29,i,0,l,s),inverse:e.noop,data:i}))?r:""},29:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.escapeExpression;return'                            \x3c!-- .table-cell.one.w-90 --\x3e\n                            \x3c!--     span.num.m-left > echo(type) --\x3e\n                            \x3c!--     span.num-r(title=questionName) > @echo(questionName) --\x3e\n                            <div class="table-cell one w-full auto">\n                                <textarea class="input w-full border-light" '+(null!=(r=a.if.call(d,null!=(r=null!=s[1]?s[1].evaluateResult:s[1])?r.isModifiable:r,{name:"if",hash:{},fn:e.program(30,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' rows="5" maxLength="3000" placeholder="选填" name="'+u((o=null!=(o=a.id||(null!=n?n.id:n))?o:c,"function"==typeof o?o.call(d,{name:"id",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.answer||(null!=n?n.answer:n))?o:c,"function"==typeof o?o.call(d,{name:"answer",hash:{},data:i}):o))+'" id="text">'+u((o=null!=(o=a.answer||(null!=n?n.answer:n))?o:c,"function"==typeof o?o.call(d,{name:"answer",hash:{},data:i}):o))+"</textarea>\n                            </div>\n"},30:function(e,n,a,t,i){return' style="color: #999;" readonly'},32:function(e,n,a,t,i){return'                <div class="btn m-width layout-mr" id="submit">保存</div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i,l,s){var r,o,d,c=null!=n?n:{},u=a.helperMissing,m="";return o=null!=(o=a.module||(null!=n?n.module:n))?o:u,d={name:"module",hash:{},fn:e.program(1,i,0,l,s),inverse:e.noop,data:i},r="function"==typeof o?o.call(c,d):o,a.module||(r=a.blockHelperMissing.call(n,r,d)),null!=r&&(m+=r),m+"\n"+(null!=(r=(a.view||n&&n.view||u).call(c,"main",{name:"view",hash:{},fn:e.program(3,i,0,l,s),inverse:e.noop,data:i}))?r:"")},useData:!0,useDepths:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/course-evaluate/view-main",function(e,n,a){var t=e("jquery"),i=e("./app/util/helpers"),l=e("lodash");a.bindings={evaluateResult:!0},a.events={"click close":"close","click radio-*":"radio","keyup input-*":"changeInput","change input-*":"changeInput","focusout input-*":"focusoutInput"},a.handlers={close:function(){this.getResearch().removeClass("full").addClass("none"),document.body.setAttribute("style","overflow:auto;")},radio:function(e,n,a){var i=window.parseInt(a.value),l=a.getAttribute("data-order"),s=this.$("reason-"+l),r=t(a).parent().parent();i&&i<9?(r.addClass("max").removeClass("small-height "),r.prev().addClass("max").removeClass("small-height "),t(s).addClass("show").removeClass("hide")):(r.removeClass("max").addClass("small-height "),r.prev().removeClass("max").addClass("small-height "),t(s).removeClass("show").addClass("hide"),t(s).val(""))},changeInput:function(e,n,a){t(a).val()&&t(a).val().trim().length<=0?t(a).val(""):t(a).val().trim().length>200?(t(a).val(t(a).val().trim().slice(0,201)),this.$("input-"+e).classList.remove("input-error")):this.$("input-"+e).classList.remove("input-error")},focusoutInput:function(e){this.$("input-"+e).classList.remove("input-error")}},a.dataForTemplate={item:function(){
var e=this.module.renderOptions.item;return e&&e[0]&&e[0].courseDate&&"number"==typeof e[0].courseDate&&(e[0].courseDateText=i.date(e[0].courseDate),e[0].courseDateText=Number(e[0].courseDateText.split("-")[1])+"月"+Number(e[0].courseDateText.split("-")[2])+"日"),e&&e[0]},evaluateResult:function(){var e=this.module.renderOptions,n=e.item&&e.item[0]&&e.item[0].type||"",a=e.classType,t=[{value:"10",checked:!0},{value:"9",checked:!1},{value:"8",checked:!1},{value:"7",checked:!1},{value:"6",checked:!1},{value:"5",checked:!1},{value:"4",checked:!1},{value:"3",checked:!1},{value:"2",checked:!1},{value:"1",checked:!1}],i=this.bindings.evaluateResult.data;return l.map(i.items||[],function(e){var s=e,r=[];return s.special=!1,2===a&&5===n&&(s.special=!0),l.map(t,function(e){var n=e,a={};a.value=n.value,a.checked=n.checked,s.answer&&(a.checked=n.value===s.answer),r.push(a)}),s.answer&&window.parseInt(s.answer)<9&&(s.isIdea=!0,i.isModifiable&&(s.isDisable=!0)),s.arr=r,s}),i}},a.actions={"click submit":"submit"},a.dataForActions={submit:function(){var e=t('input[type="radio"]:checked'),n=t('input[type="text"]'),a=this.$("text"),i=t('div[name="default"]'),s="",r=0,o=[];return l.map(e,function(e){var a,t=e,i=t.getAttribute("data-order");a=l.filter(n,function(e){return e.getAttribute("data-order")===i&&e}),window.parseInt(t.value)<9?o.push(a[0]):a[0].value="",s+='"'+t.name+'":"'+t.value+"&"+a[0].value+'",'}),l.every(o,function(e){var n=e;return null===n.value||""===n.value||0===n.value.trim().length||"请填写具体问题和建议，必填"===n.value||"请填写具体问题和建议，必填"===n.value.trim()?(n.value="",n.focus(),n.classList.add("focus"),n.classList.add("input-error"),r++,!1):n}),r>0?(r=0,this.app.message.error("请填写完必填项后再提交"),!1):(i&&i.length>0&&l.map(i,function(e){var n=e,a=n.getAttribute("data-order"),t=n.getAttribute("data-value");s+='"'+a+'":"'+t+'&",'}),s="{"+s.substring(0,s.length)+'"'+a.name+'":"'+a.value+'"}',{answers:s})}},a.actionCallbacks={submit:function(){this.app.message.success("课程师资评价成功"),this.module.renderOptions.callback()}},a.mixin={getResearch:function(){return t(this.$("research-page"))}}},{"./app/util/helpers":"./app/util/helpers",jquery:!1,lodash:696}),loadjs.d("./app/train/class-detail/courseware/index",function(e,n,a){a.title="查看课件",a.items={main:"main","train/programme/preview":{isModule:!0}},a.store={models:{attachList:{url:"../train/offline-course/findAttach"},download:{url:"../file-deal/file/download"},preivew:{url:"../human/file"}},callbacks:{init:function(e){var n=this.models.attachList;return n.params.courseId=e,this.get(n)},getPreview:function(e){var n=this.models.preivew;return n.set(e),this.get(n)}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions.id)}},{}),loadjs.d("./app/train/class-detail/courseware/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    \x3c!--  .page-main-wrapper --\x3e\n    <div class="main" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l;return'    <div class="list m-top layout-mb">\n        <table class="table">\n            <thead><tr>\n                <td colspan="8">\n                    <div class="col-sm-2">\n                        <label>课件</label>\n                    </div>\n                </td>\n            </tr></thead>\n            <thead><tr>\n                <th>序号</th>\n                <th width="50%">课件名称</th>\n                <th>类型</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.files:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"</tbody>\n        </table>\n    </div>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"<tr>\n                <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                <td>\n                    <label>"+d((s=null!=(s=a.attachName||(null!=n?n.attachName:n))?s:o,"function"==typeof s?s.call(r,{name:"attachName",hash:{},data:i}):s))+"</label>\n                </td>\n                <td>"+d((a.map||n&&n.map||o).call(r,"class-file-type",null!=n?n.fileType:n,{name:"map",hash:{},data:i}))+"</td>\n                <td>\n"+(null!=(l=a.if.call(r,null!=n?n.canPreview:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'                    <a href="'+d((s=null!=(s=a.downUrl||(null!=n?n.downUrl:n))?s:o,"function"==typeof s?s.call(r,{name:"downUrl",hash:{},data:i}):s))+'" download="'+d((s=null!=(s=a.attachName||(null!=n?n.attachName:n))?s:o,"function"==typeof s?s.call(r,{name:"attachName",hash:{},data:i}):s))+'">下载</a>\n                </td>\n            </tr>\n            '},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a href="javascript:;" id="preview-'+o((l=null!=(l=a.attachId||(null!=n?n.attachId:n))?l:r,"function"==typeof l?l.call(s,{name:"attachId",hash:{},data:i}):l))+'" data-attachName="'+o((l=null!=(l=a.attachName||(null!=n?n.attachName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachName",hash:{},data:i}):l))+'" data-fileType="'+o((l=null!=(l=a.fileType||(null!=n?n.fileType:n))?l:r,"function"==typeof l?l.call(s,{name:"fileType",hash:{},data:i}):l))+'">预览</a>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/courseware/view-main",function(e,n,a){var t,i=e("lodash/collection"),l=e("jquery"),s={1:"pdf",2:"zip",3:"audio",4:"video",5:"epub"};a.bindings={attachList:!0,download:!1},a.dataForTemplate={files:function(){var e=this,n=this.bindings.attachList.data;return i.map(n||[],function(n,a){var i,l=n;return i=l.attachName.split(".").pop().toLowerCase(),l.fileType=t.call(e,i),l.downUrl=e.bindings.download.getFullUrl()+"?id="+l.attachId,l.i=a+1,l.canPreview=2!==l.fileType,l}),n}},a.events={"click preview-*":"preview"},a.handlers={preview:function(e,n,a){var t=a.getAttribute("data-attachName"),i=a.getAttribute("data-fileType"),r=this.module.items["train/programme/preview"],o=this;this.module.dispatch("getPreview",{id:e}).then(function(n){var a=n[0].path;o.app.viewport.modal(r,{id:e,name:t,key:s[i],path:a,close:function(){l(".dialog-content").css("overflow-y","auto")}})})}},t=function(e){var n,a="xls,xlsx,doc,docx,ppt,pptx,txt,pdf",t="zip,rar",i="mp3",l="mp4",s="epub";return a.indexOf(e)>-1&&(n=1),t.indexOf(e)>-1&&(n=2),i.indexOf(e)>-1&&(n=3),l.indexOf(e)>-1&&(n=4),s.indexOf(e)>-1&&(n=5),n}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection"),l=e("./app/util/behaviorReported");a.title="班级详情页",a.items={"class-information":"class-information","class-member":"class-member","class-notice":"class-notice",offline:"offline","discussion-area":"discussion-area","online-resources":"online-resources",main:"main","two-brings":"two-brings",questionnaire:"",research:"","train/class-detail/commit-task":{isModule:!0},banner:"banner",evaluate:"","train/class-detail/courseware":{isModule:!0},"research-tips":"","train/class-detail/online-attach":{isModule:!0},"ranking-list":"ranking-list","train/class-detail/class-bus":{isModule:!0},"train/class-detail/more-rank-study-time":{isModule:!0},"show-more-class-notice":"","research-detail":"","train/class-detail/class-address":{isModule:!0},"train/class-detail/class-photo":{isModule:!0},"exam-common/exam-records":{isModule:!0},"train/class-detail/course-evaluate":{isModule:!0},"train/class-detail/questionnaire-all":{isModule:!0},"show-grade":{}},a.store={models:{img:{url:"../human/file/upload"},classPhoto:{url:"../train/album/photo"},download:{},bus:{url:"../train/bus/member-by-bus"},state:{data:{index:0}},detailInsert:{url:"../train/bus-detail"},detaildelete:{url:"../train/bus-detail"},classId:{data:{}},twoBrings:{url:"../train/class-two-brings"},twoBringsResult:{url:"../train/class-two-brings/result"},signUpInfo:{url:"../train/sign-up"},questionnaire:{url:"../train/questionnaire-survey/class-evaluate"},classquestionnaire:{url:"../train/questionnaire-survey/class-evaluate-type"},classquestionnairenew:{url:"../train/questionnaire-survey-new/get-evaluate-info"},weekClassquestionnaireList:{url:"../train/questionnaire-survey-new/getResearchQuestionnaireList"},classInfo:{url:"../train/class-info/get"},groups:{url:"../train/class-group/find-by-class"},checkMember:{url:"../train/trainee/current-trainee"},classDetail:{url:"../train/class-detail/find"},staff:{url:"../train/classstaff/classstaffs"},offlineThemeList:{url:"../train/theme/findOfflineTheme"},offlineCourseList:{url:"../train/offline-course/find"},offlineCourseListAll:{url:"../train/offline-course"},onlineCourseList:{url:"../train/online-course/find"},hasQuestionaire:{url:"../train/questionnaire-survey-new/get-evaluate-info"},content:{data:[]},bridge:{data:{init:1}},research:{url:"../train/questionnaire-survey/research-detail"},researchRecord:{url:"../train/questionnaire-survey/get-by-research"},researchn:{url:"../train/questionnaire-survey/research-detailn"},researchRecordn:{url:"../train/questionnaire-survey/get-by-researchn"},researchs:{url:"../train/questionnaire-survey/research-details"},researchRecords:{url:"../train/questionnaire-survey/get-by-researchs"},researchl:{url:"../train/questionnaire-survey/research-detaill"},researchRecordl:{url:"../train/questionnaire-survey/get-by-researchl"},courseThemeStatus:{url:"../train/study-details/status"},selectOfflineCourseNum:{url:"../train/offline-course/find-num"},course:{url:"../course-study/course-study-progress/total-study-time"},down:{url:"../file-deal/file/download"},staticfaction:{url:"../train/class-evaluate/front-class-detail"},staticfactionn:{url:"../train/class-evaluate/front-class-detailn"},staticfactions:{url:"../train/class-evaluate/front-class-details"},researchExam:{url:"../exam/research-record/research"},exam:{url:"../exam/exam-record/exam"},"exam-common/exam-prompt":{isModule:!0},researchRecordDetail:{url:"../exam/research-record/get-by-research"},tasks:{url:"../train/task/task-list"},countTrainee:{url:"../train/trainee/count-trainee-num"},researcDetail:{url:"../exam/research-activity/simple-data"},attachList:{url:"../train/offline-course/findAttach"},weeks:{data:{}},downloadAttachment:{url:"../train/course-attach/download-attachment"},onlineStatus:{url:"../course-study/course-front/course-info-progress"},offlineCourseStatus:{url:"../course-study/course-front/course-info-progress"},sysTime:{url:"../train/questionnaire-survey/system"},grade:{url:"../train/grades-project/grades/find"},goSchool:{url:"../train/smart-campus/jump-link"}},callbacks:{init:function(e){var n=e.classId,a=this.models.classInfo,t=this.models.groups,l=this.models.checkMember,s=this.models.classDetail,r=this.models.staff,o=this.models.selectOfflineCourseNum,d=this.models.offlineThemeList,c=this.models.offlineCourseList,u=this.models.offlineCourseListAll,m=this.models.offlineCourseStatus,p=this.models.onlineCourseList,h=this.models.courseThemeStatus,f=this,v=e.see,g=this.models.weeks,b=this.models.research,x=this.models.state,y=this.models.twoBringsResult,w=this.models.classquestionnairenew,k={},I=this.models.grade;b.clear(),b.params={classId:n},x.data.see=v,x.changed(),h.clear(),this.models.classId.data.classId=n,w.clear(),w.clear(),w.params={classId:n},h.clear(),h.params={classId:n},this.get(w).then(function(){f.models.hasQuestionaire.data=w.data}),u.clear(),u.params.classId=n,o.clear(),o.params.classId=n,this.get(u),a.clear(),a.params={id:n,contentType:11},I.clear(),I.params={classId:n},this.get(a).then(function(e){var s=e[0];s.groupId&&(t.clear(),t.params.id=s.groupId,f.get(t)),l.clear(),l.params={type:0,classId:n},f.get(l).then(function(e){var n=e[0];n&&1===n.auditStatus&&(a.data.isFormal=!0)}),d.clear(),d.params.classId=e[0].id,f.get(d,{loading:!0}).then(function(n){g.data=n[0],g.changed(),k=f.module.getDateObj.apply(f.module),g.data.length>0&&(c.params.startDate=k.startTime,c.params.endDate=k.endTime),c.clear(),c.params.classId=e[0].id,f.get(c).then(function(e){var n=e[0],a="";i.map(n,function(e){5===e.type&&e.genseeUrl&&(a+=e.genseeUrl.split("study/course/detail/")[1]+",")}),f.models.offlineCourseStatus.clear(),a.length>0&&(f.models.offlineCourseStatus.params={ids:a},f.get(m))})})}),s.clear(),s.params.classId=n,this.get(s),this.get(o),r.clear(),this.get(h),r.params.classId=n,this.get(r),p.clear(),p.params.classId=n,this.get(p).then(function(e){var n=e,a="";i.map(n[0],function(e){a=a+e.resourceId+","}),f.models.onlineStatus.clear(),a.length>0&&(f.models.onlineStatus.params={ids:a},f.get(f.models.onlineStatus))}),this.models.signUpInfo.clear(),this.models.signUpInfo.params.classId=n,this.get(this.models.signUpInfo),y.clear(),y.params={classId:n},this.get(y),this.get(I)},researchRecordShow:function(e){var n=e.classId,a=this.models.research,i=this.models.researchn,l=this.models.researchs,s=this.models.researchl,r=this;a.params={classId:n},i.params={classId:n},l.params={classId:n},s.params={classId:n},this.models.research.clear(),this.models.researchRecord.clear(),this.models.researchn.clear(),this.models.researchRecordn.clear(),this.models.researchs.clear(),this.models.researchRecords.clear(),this.models.researchl.clear(),this.models.researchRecordl.clear(),this.get(a).then(function(e){return e&&e[0]?(t.assign(r.models.researchRecord.params,{researchId:e[0].id}),r.get(r.models.researchRecord)):null}),this.get(i).then(function(e){return e&&e[0]?(t.assign(r.models.researchRecordn.params,{researchId:e[0].id}),r.get(r.models.researchRecordn)):null}),this.get(l).then(function(e){return e&&e[0]?(t.assign(r.models.researchRecords.params,{researchId:e[0].id}),r.get(r.models.researchRecords)):null})},turnPage:function(e){var n=this.models.state.data,a=this.models.photos.data||[],t=n.index;"prev"===e&&t>0?t--:"next"===e&&t<a.length-5&&t++,this.models.state.set({index:t}),this.models.state.changed()},addFile:function(e){var n=this.models.photos,a=this.models.classPhoto,t=this.models.classId.data,l=this,s=[];return i.forEach(e||[],function(e){var n=e;n.id="photo-"+(new Date).getTime(),s.push(n)}),a.set({classId:t.classId,photos:JSON.stringify(s)}),l.save(a).then(function(){n.clear(),n.params={classId:t.classId},l.get(n)})},twoBring:function(){var e=this.models.twoBringsResult,n=this.models.classId.data.classId,a=this.models.signUpInfo,t=this;return e.clear(),e.params={classId:n},a.clear(),a.params={classId:n},t.get(e).then(function(){t.get(a)})},commitTwoBrings:function(e){var n=this.models.twoBrings,a=this;return n.clear(),n.set(e),a.save(n)},questionnaire:function(){var e=this.models.questionnaire,n=this.models.classId.data.classId;return e.clear(),e.params={classId:n},this.get(e)},classquestionnaire:function(){var e=this.models.classquestionnaire,n=this.models.classId.data.classId;return e.clear(),e.params={classId:n},this.get(e)},getRecordByResearch:function(){var e=this.models.research,n=this.models.classId.data.classId,a=this;e.clear(),e.params={classId:n},this.models.research.clear(),this.models.researchRecord.clear(),this.get(e).then(function(e){return t.assign(a.models.researchRecord.params,{researchId:e[0].id}),a.get(a.models.researchRecord)})},getResearchExam:function(e){var n=this.models.researchExam;return n.clear(),n.params=e,this.get(n)},getExam:function(e){var n=this.models.exam;return n.clear(),n.params=e,this.get(n)},getResearchRecordDetail:function(e){return this.models.researchRecord.clear(),t.assign(this.models.researchRecord.params,{researchId:e.id}),this.get(this.models.researchRecord)},getCommitTask:function(){var e=this.models.classId.data.classId,n=this.models.tasks;return n.clear(),n.params={classId:e},this.get(n)},getBusMessage:function(){var e=this.models.classId.data.classId,n=this.models.bus;return n.clear(),n.params={classId:e},this.get(n)},changeStatus:function(){var e=this.models.questionnaire,n=this.models.classId.data.classId;return e.clear(),e.params={classId:n},this.get(e)},countTrainee:function(){var e=this.models.classId.data.classId,n=this.models.countTrainee;return n.clear(),n.params={classId:e},this.get(n)},researcDetail:function(e){var n=this.models.researcDetail;return n.clear(),n.set({id:e}),this.get(n)},attachList:function(e){var n=this.models.attachList;return n.clear(),n.params.courseId=e,this.get(n)},getStaticfaction:function(e){return this.models.staticfaction.clear(),this.models.staticfaction.params={classId:this.module.renderOptions.classId,type:e.type},this.get(this.models.staticfaction)},getStaticfactionn:function(){return this.models.staticfaction.clear(),this.models.staticfaction.params={classId:this.module.renderOptions.classId,type:6},this.get(this.models.staticfaction)},getStaticfactions:function(){return this.models.staticfaction.clear(),this.models.staticfaction.params={classId:this.module.renderOptions.classId,type:5},this.get(this.models.staticfaction)},searchOffline:function(e){var n,a,t=this.models.weeks,l=this.models.offlineCourseList,s=this.models.offlineCourseStatus,r=this;i.map(t.data,function(n){var a=n;a.id===e.id?a.checked=!0:a.checked=!1}),n=t.data.findIndex(function(n){return n.id===e.id}),a=t.data[n],l.clear(),l.params.startDate=a.startTime,l.params.endDate=a.endTime,t.changed(),this.get(l,{loading:!0}).then(function(e){var n=e[0],a="";i.map(n,function(e){5===e.type&&e.genseeUrl&&(a=a+e.genseeUrl.split("study/course/detail/")[1]+",")}),r.models.offlineCourseStatus.clear(),a.length>0&&(r.models.offlineCourseStatus.params={ids:a},r.get(s))})},sysTime:function(){return this.models.sysTime.clear(),this.get(this.models.sysTime)},getWeekList:function(e){var n=this.models.weekClassquestionnaireList;return n.params.classId=e.classId,this.get(n,{loading:!0})},goSchool:function(){var e=this.models.classId.data,n=this.models.goSchool;return n.clear(),n.set({classId:e.classId,currentTimestamp:Date.now()}),this.post(n).then(function(e){var n="https://zhxy.wangda.chinamobile.com:8740/api/organization/wd/jump?data="+encodeURIComponent(e[0].values[0])+"&timestamp="+Date.now()+"&jumpType=0";e[0].values[1]?n+="&jumpIp=10.217.247.85":n+="&jumpIp=zhxy.wangda.chinamobile.com",window.open(n)})}}},a.beforeRender=function(){var e=this.renderOptions.classId,n=this;return this.chain(n.dispatch("init",{classId:e}),n.dispatch("researchRecordShow",{classId:e}))},a.afterRender=function(){var e={};e.mid=this.renderOptions.classId,e.content_type="CLASS_GRADE",l.clickBehavior(e)},a.mixin={getDateObj:function(){var e=this.store.models.offlineThemeList,n=(new Date).getTime(),a=i.sortBy(e.data,"startTime"),t={};return i.map(a||[],function(e,i){var l=e;n>=l.startTime&&i===a.length-1?t=l:n<l.startTime&&0===i?t=l:n>=l.startTime&&n<l.endTime&&(t=l)}),t}}},{"./app/util/behaviorReported":"./app/util/behaviorReported","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/more-rank-study-time/index",function(e,n,a){a.items={main:"main"},a.store={models:{course:{url:"../course-study/course-study-progress/total-study-time"},download:{url:"../file-deal/file/download"},down:{url:"../file-deal/file/download"},classId:{data:{}},classDetail:{url:"../train/class-detail/find"}},callbacks:{init:function(e){var n=e.classId,a=this.models.classDetail,t=this;this.models.classId.data.classId=n,a.clear(),a.params.classId=n,t.get(a)}}},a.afterRender=function(){var e=this.renderOptions.classId;this.chain([this.dispatch("init",{classId:e})])}},{}),loadjs.d("./app/train/class-detail/more-rank-study-time/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){return"    <div class=\"train-model-title strong\">时长排行榜</div>\n    <div class=\"col-sm-10 margin-auto\"><div class=\"rank-list container layout-mb-small layout-mt\">\n        \x3c!--  if(show) --\x3e\n        \x3c!--      if(study.arr) --\x3e\n        \x3c!--          compare(study.num 'ge' 1) --\x3e\n        \x3c!--              each(study.arr) --\x3e\n        \x3c!--                  if(flag) --\x3e\n        \x3c!--                      .clearfix.m-top --\x3e\n        \x3c!--                          .col-sm-5.pull-left --\x3e\n        \x3c!--                              compare(i 'eq' 1) --\x3e\n        \x3c!--                                  img(src='images/class-detail/jinpai.png' class='vertical-middle' width='20') --\x3e\n        \x3c!--                              compare(i 'eq' 2) --\x3e\n        \x3c!--                                  img(src='images/class-detail/yinpai.png' class='vertical-middle' width='20') --\x3e\n        \x3c!--                              compare(i 'eq' 3) --\x3e\n        \x3c!--                                  img(src='images/class-detail/tongpai.png' class='vertical-middle' width='20') --\x3e\n        \x3c!--                              compare(i 'gt' 3) --\x3e\n        \x3c!--                                  span.sub-text.inline-block.vertical-top.text-center(style='min-width:20px;') > echo(i + '.') --\x3e\n        \x3c!--                              .inline-block(title=member.fullName) > echo(member.fullName) --\x3e\n        \x3c!--                          .department.col-sm-5.pull-left.sub-text(title=member.organizationName) > echo(member.organizationName) --\x3e\n        \x3c!--                          .data.pull-left.sub-text > echo(t) --\x3e\n        \x3c!--          else --\x3e\n        \x3c!--              .border-color.h3.text-center.none-top.none-bot 暂无学习排行榜数据。 --\x3e\n        \x3c!--      else --\x3e\n        \x3c!--          .border-color.h3.text-center.none-top.none-bot 暂无学习排行榜数据。 --\x3e\n        \x3c!--  else --\x3e\n        <div class=\"border-color h3 text-center none-top none-bot\">暂无学习排行榜数据。</div>\n    </div></div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/more-rank-study-time/view-main",function(e,n,a){a.bindings={classDetail:!0,down:!0,classId:!1},a.dataForTemplate={show:function(){return 1===(this.bindings.classDetail.data||{}).showRanking}}},{}),loadjs.d("./app/train/class-detail/online-attach/index",function(e,n,a){a.title="下载附件",a.items={main:"main"},a.store={models:{course:{url:"../course-study/course-front/info"},download:{url:"../file-deal/file/download"}},callbacks:{init:function(e){var n=this.models.course;return n.set({id:e}),this.get(n)}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions.id)}},{}),loadjs.d("./app/train/class-detail/online-attach/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    \x3c!--  .page-main-wrapper --\x3e\n    <div class="main" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l;return'    <div class="list m-top">\n        <table class="table">\n            <thead><tr>\n                <td colspan="8">\n                    <div class="col-sm-2">\n                        <label>附件</label>\n                    </div>\n                </td>\n            </tr></thead>\n            <thead><tr>\n                <th>序号</th>\n                <th width="50%">附件名称</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.files:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"</tbody>\n        </table>\n    </div>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"<tr>\n                <td>"+o((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,"function"==typeof l?l.call(s,{name:"i",hash:{},data:i}):l))+"</td>\n                <td>\n                    <label>"+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'</label>\n                </td>\n                <td>\n                    <a href="'+o((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"downUrl",hash:{},data:i}):l))+'" download="'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'">下载</a>\n                </td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/online-attach/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={course:!0,download:!1},a.dataForTemplate={files:function(){var e=this,n=this.bindings.course.data.courseAttachments;return t.map(n||[],function(n,a){var t=n;return t.downUrl=e.bindings.download.getFullUrl()+"?id="+t.attachmentId,t.i=a+1,t}),n}}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/paper-research-center/index",function(e,n,a){var t=e("drizzle-zxy");a.store={models:{researchRecord:{url:"../train/questionnaire-survey/get-by-research"}},callbacks:{getRecordByResearch:function(e){var n=this;return this.models.researchRecord.clear(),t.assign(this.models.researchRecord.params,{researchId:e.researchId}),this.get(this.models.researchRecord,{loading:!0}).then(function(){var a=n.models.researchRecord.data,t=a.researchQuestionary;return a.id&&1===a.status?n.app.navigate("train/class-detail/research-answer/"+a.id+"/"+e.classId,!0):0!==a.status&&null!==a.status||n.app.navigate("train/class-detail/research-detail-center/"+t.id+"/"+e.classId,!0)})}}},a.beforeRender=function(){return this.dispatch("getRecordByResearch",this.renderOptions)},a.tname="train.statistics.ques.paper-research-center"},{"drizzle-zxy":!1}),loadjs.d("./app/train/class-detail/paper-research/index",function(e,n,a){var t=e("drizzle-zxy");a.store={models:{researchRecord:{url:"../train/questionnaire-survey/get-by-research"}},callbacks:{getRecordByResearch:function(e){var n=this;return this.models.researchRecord.clear(),t.assign(this.models.researchRecord.params,{researchId:e.researchId}),this.get(this.models.researchRecord,{loading:!0}).then(function(){var a=n.models.researchRecord.data,t=a.researchQuestionary;return a.id&&1===a.status?n.app.navigate("train/class-detail/research-answer/"+a.id+"/"+e.classId,!0):0!==a.status&&null!==a.status||n.app.navigate("train/class-detail/research-detail/"+t.id+"/"+e.classId,!0)})}}},a.beforeRender=function(){return this.dispatch("getRecordByResearch",this.renderOptions)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/class-detail/paper-researchl/index",function(e,n,a){var t=e("drizzle-zxy");a.store={models:{researchRecord:{url:"../train/questionnaire-survey/get-by-research"}},callbacks:{getRecordByResearch:function(e){var n=this;return this.models.researchRecord.clear(),t.assign(this.models.researchRecord.params,{researchId:e.researchId}),this.get(this.models.researchRecord,{loading:!0}).then(function(){var a=n.models.researchRecord.data,t=a.researchQuestionary;return a.id&&1===a.status?n.app.navigate("train/class-detail/research-answerl/"+a.id+"/"+e.classId,!0):0!==a.status&&null!==a.status||n.app.navigate("train/class-detail/research-detaill/"+t.id+"/"+e.classId,!0)})}}},a.beforeRender=function(){return this.dispatch("getRecordByResearch",this.renderOptions)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/class-detail/paper-researchn/index",function(e,n,a){var t=e("drizzle-zxy");a.store={models:{researchRecord:{url:"../train/questionnaire-survey/get-by-research"}},callbacks:{getRecordByResearch:function(e){var n=this;return this.models.researchRecord.clear(),t.assign(this.models.researchRecord.params,{researchId:e.researchId}),this.get(this.models.researchRecord,{loading:!0}).then(function(){var a=n.models.researchRecord.data,t=a.researchQuestionary;return a.id&&1===a.status?n.app.navigate("train/class-detail/research-answern/"+a.id+"/"+e.classId,!0):0!==a.status&&null!==a.status||n.app.navigate("train/class-detail/research-detailn/"+t.id+"/"+e.classId,!0)})}}},a.beforeRender=function(){return this.dispatch("getRecordByResearch",this.renderOptions)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/class-detail/paper-researchs/index",function(e,n,a){var t=e("drizzle-zxy");a.store={models:{researchRecord:{url:"../train/questionnaire-survey/get-by-research"}},callbacks:{getRecordByResearch:function(e){var n=this;return this.models.researchRecord.clear(),t.assign(this.models.researchRecord.params,{researchId:e.researchId}),this.get(this.models.researchRecord,{loading:!0}).then(function(){var a=n.models.researchRecord.data,t=a.researchQuestionary;return a.id&&1===a.status?n.app.navigate("train/class-detail/research-answers/"+a.id+"/"+e.classId,!0):0!==a.status&&null!==a.status||n.app.navigate("train/class-detail/research-details/"+t.id+"/"+e.classId,!0)})}}},a.beforeRender=function(){return this.dispatch("getRecordByResearch",this.renderOptions)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/class-detail/question/types/answer-detail/choise-yes/index",function(e,n,a){var t=e("lodash/collection");a.items={main:"main"},a.store={models:{question:{mixin:{init:function(){var e=this;this.data.options=t.map(this.data.questionAttrs,function(n,a){return{code:String.fromCharCode(a+"A".charCodeAt(0)),text:n.value,checked:e.isChecked(n.name)}})},isChecked:function(e){var n=t.find(this.data.answerRecords,["researchRecordId",this.data.researchRecordId]);return n&&e===n.answer}}}},callbacks:{init:function(e){this.models.question.set(e.question),this.models.question.init()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/question/types/answer-detail/choise-yes/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div id="main"></div>\n    <p class="question">\n        <span><a name="question-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".</a></span>\n        【单选】\n        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+'\n        <table class="table m-top">'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.question:n)?l.options:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"</table>\n    </p>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n            <tr>\n                <td>\n                    <input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" disabled/>\n                    <span>'+d((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,"function"==typeof s?s.call(r,{name:"code",hash:{},data:i
}):s))+"."+d((s=null!=(s=a.text||(null!=n?n.text:n))?s:o,"function"==typeof s?s.call(r,{name:"text",hash:{},data:i}):s))+"</span>\n                </td>\n            </tr>\n        "},5:function(e,n,a,t,i){return' checked="checked"'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/question/types/answer-detail/choise-yes/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={question:!0},a.dataForTemplate={mutiple:function(e){return 2===e.question.type},idea:function(e){var n=e.question.answerRecords,a=e.question.researchRecordId,i={};return t.forEach(n,function(e){e.researchRecordId===a&&(i.data=e.idea)}),i}}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/question/types/answer-detail/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div id="main"></div>\n    <p class="question">\n        <span><a name="question-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".</a></span>\n        【\n        "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.question:n)?l.type:l,{name:"map",hash:{},data:i}))+"\n        】\n        "+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </p>\n"+(null!=(l=a.if.call(o,null!=n?n.mutiple:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(12,i,0),data:i}))?l:"")},4:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <table class="table m-top">'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.question:n)?l.options:l,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"</table>\n        <label>意见：\n"+(null!=(l=a.if.call(s,null!=(l=null!=n?n.idea:n)?l.data:l,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+"        </label>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n            <tr>\n                <td>\n                    <div class="checkbox no-margin"></div>\n                    <input '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="checkbox-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"/>\n                    <label for="checkbox-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"></label>\n                    <span>'+d((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,"function"==typeof s?s.call(r,{name:"code",hash:{},data:i}):s))+"."+d((s=null!=(s=a.text||(null!=n?n.text:n))?s:o,"function"==typeof s?s.call(r,{name:"text",hash:{},data:i}):s))+"</span>\n                </td>\n            </tr>\n        "},6:function(e,n,a,t,i){return' checked="checked"'},8:function(e,n,a,t,i){var l;return"                "+e.escapeExpression(e.lambda(null!=(l=null!=n?n.idea:n)?l.data:l,n))+"\n"},10:function(e,n,a,t,i){return"                -\n"},12:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <table class="table m-top">'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.question:n)?l.options:l,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+"</table>\n        <label>意见：\n"+(null!=(l=a.if.call(s,null!=(l=null!=n?n.idea:n)?l.data:l,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+"        </label>\n"},13:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n            <tr>\n                <td>\n                    <input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" disabled/>\n                    <span>'+d((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,"function"==typeof s?s.call(r,{name:"code",hash:{},data:i}):s))+"."+d((s=null!=(s=a.text||(null!=n?n.text:n))?s:o,"function"==typeof s?s.call(r,{name:"text",hash:{},data:i}):s))+"</span>\n                </td>\n            </tr>\n        "},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/question/types/answer-detail/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <p class="question">\n        <span><a name="question-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".</a></span>\n        【\n        "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.question:n)?l.type:l,{name:"map",hash:{},data:i}))+"\n        】\n        "+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+'\n    </p>\n    <div class="clearfix statistics-list">\n        <div class="statistics-list-tit">\n'+(null!=(l=a.if.call(o,null!=(l=null!=(l=null!=n?n.question:n)?l.answerRecord:l)?l.answer:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'        </div>\n        <div class="statistics-list-time">'+r((a.dateMinute||n&&n.dateMinute||d).call(o,null!=(l=null!=(l=null!=n?n.question:n)?l.answerRecord:l)?l.createTime:l,{name:"dateMinute",hash:{},data:i}))+"</div>\n    </div>\n"},4:function(e,n,a,t,i){var l;return"                答： "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.question:n)?l.answerRecord:l)?l.answer:l,n))+"\n"},6:function(e,n,a,t,i){return"                答： -\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/question/types/answer/choise-yes/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{mixin:{getOption:function(e){return this.data.options[e]}}},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n,a,l=this.models.state.data={options:[],title:"单选题",answer:"",mutiple:!1,gainScore:0,errorRate:0},s=e.data,r=t.get("question-difficultys");if(s){for(i.assign(l,s),a=s.questionAttrs,n=0;n<a.length;n++)l.options.push({content:a[n].value,isAnswer:0===Number(a[n].type),isRichText:!1,id:a[n].id,name:a[n].name,score:a[n].score||0}),0===Number(a[n].type)&&(l.answer+=String.fromCharCode(n+"A".charCodeAt(0)));s.difficulty&&(l.difficulty=r[Number(s.difficulty)-1].value),s.answerRecord&&(l.gainScore=s.answerRecord.score),l.detailMode=e.mode}this.models.answer.init(e.answer),this.models.state.changed()},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e)}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/train/class-detail/question/types/answer/choise-yes/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <p class="question">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+".</a></span>\n        【单选】\n        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </p>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<div class="answer">\n    <div class="preview-list"><dl>'+(null!=(l=a.each.call(s,null!=n?n.options:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"    </dl></div>\n"+(null!=(l=a.if.call(s,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"</div>"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'\n        <dd id="item-'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n            <input class="m-right" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="value-'+c((s=null!=(s=a.questionId||(null!=n?n.questionId:n))?s:o,typeof s===d?s.call(r,{name:"questionId",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.index||i&&i.index)?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.index||i&&i.index)?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'"/>\n            <label for="answer-item-'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <span class="pull-left option-num">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.code:n,"：",{name:"echoX",hash:{},data:i}))?l:"")+'</span>\n                <div class="answer-options space">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n            </label>\n        </dd>\n"},7:function(e,n,a,t,i){return' checked="checked"'},9:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowAnswer:l,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+'                </div></div>\n                <div class="text-right">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowGainScore:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+'                    <span class="layout-ml">本题易错率：'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.errorRate:l,n))+"%</span>\n                </div>\n            </div>\n        </div>\n"},10:function(e,n,a,t,i){var l;return"                        答案："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.answer:l,n))+"\n"},12:function(e,n,a,t,i){var l;return"                        <span>本题得分："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/question/types/answer/choise-yes/view-options",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy"),l=e("jquery");a.bindings={state:!0,answer:!0},a.dataForTemplate={options:function(){var e=this.bindings.answer.data,n=this;return t.map(this.bindings.state.data.options,function(a,i){var l=a;l.index=i,l.code=String.fromCharCode(l.index+"A".charCodeAt(0)),l.questionId=n.bindings.state.data.id,e.value.length>0&&t.find(e.value,["id",l.id])&&(l.checked=!0),0===e.value.length&&0===i&&(l.checked=!0,e.key=l.questionId,e.value=[{id:l.id,score:l.score,value:l.name}],n.bindings.answer.changed(),n.module.dispatch("save"))}),this.bindings.state.data.options},isShowDetail:function(){var e=this.bindings.state.data.detailMode;return e&&e>0},state:function(e){return i.assign(e.state,{errorRate:e.state.errorRate/1e4})}},a.events={"click check-*":"check","click radio-*":"radio"},a.handlers={check:function(e){var n,a=this.bindings.answer.data,i=this.bindings.state.getOption(e);return this.$("check-"+e).checked?(a.key=this.bindings.state.data.id,a.value.push({id:i.id,value:i.name,score:i.score,idea:l(this.$$('[name="idea"]')).val()})):(n=t.reject(a.value,["id",i.id]),this.bindings.answer.data={key:this.bindings.state.data.id,value:n}),this.module.dispatch("save")},radio:function(e){var n,a=this.bindings.answer.data,i=this.bindings.state.getOption(e);return this.$("radio-"+e).checked?(a.key=this.bindings.state.data.id,a.value=[{id:i.id,value:i.name,score:i.score}]):(n=t.reject(a.value,["id",i.id]),this.bindings.answer.data=n),this.module.dispatch("save")}},a.beforeRender=function(){var e=this.bindings.state.data;1===e.detailMode&&(e.isShowAnswer=!0,e.isShowGainScore=!0),2===e.detailMode?(e.isShowAnswer=!1,e.isShowGainScore=!0):3===e.detailMode&&(e.isShowAnswer=!1,e.isShowGainScore=!0,this.bindings.answer.data={})}},{"drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/question/types/answer/choise/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{mixin:{getOption:function(e){return this.data.options[e]}}},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n,a,l=this.models.state.data={options:[],title:"单选题",answer:"",mutiple:!1,gainScore:0,errorRate:0},s=e.data,r=t.get("question-difficultys");if(s){for(i.assign(l,s),a=s.questionAttrs,n=0;n<a.length;n++)l.options.push({content:a[n].value,isAnswer:0===Number(a[n].type),isRichText:!1,mutiple:2===s.type,id:a[n].id,name:a[n].name,score:a[n].score||0}),0===Number(a[n].type)&&(l.answer+=String.fromCharCode(n+"A".charCodeAt(0)));s.difficulty&&(l.difficulty=r[Number(s.difficulty)-1].value),2===Number(s.type)&&(l.title="多选题"),s.answerRecord&&(l.gainScore=s.answerRecord.score),l.detailMode=e.mode}this.models.answer.init(e.answer),this.models.state.changed()},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e)}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/train/class-detail/question/types/answer/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise preview-content">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <p class="question">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+".</a></span>\n        【\n        "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.state:n)?l.type:l,{name:"map",hash:{},data:i}))+"\n        】\n        "+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </p>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing;return'<div class="answer">\n    <div class="preview-list"><dl>'+(null!=(l=a.each.call(r,null!=n?n.options:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'    </dl></div>\n    <div class="form vertical layout-mb-small">\n        <textarea class="input w-full" id="input-idea-'+e.escapeExpression((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'" name="idea" rows="5" maxlength="3000" placeholder="如果选择E选项，请先填写意见再选择">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=(l=null!=(l=null!=(l=null!=n?n.answer:n)?l.value:l)?l[0]:l)?l.idea:l,{name:"echoX",hash:{},data:i}))?l:"")+"</textarea>\n    </div>\n"+(null!=(l=a.if.call(r,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"</div>"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <dd id="item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n'+(null!=(l=a.if.call(r,null!=n?n.mutiple:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+'            <label for="answer-item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <span class="pull-left option-num">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.code:n,"：",{name:"echoX",hash:{},data:i}))?l:"")+'</span>\n                <div class="answer-options space">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n            </label>\n        </dd>\n"},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <span class="checkbox">\n                    <input '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="check-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"/>\n                    <label for="check-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"></label>\n                </span>\n'},8:function(e,n,a,t,i){return' checked="checked"'},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <input class="m-right" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="value-'+d((s=null!=(s=a.questionId||(null!=n?n.questionId:n))?s:o,"function"==typeof s?s.call(r,{name:"questionId",hash:{},data:i}):s))+'" id="radio-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"/>\n'},12:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowAnswer:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'                </div></div>\n                <div class="text-right">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowGainScore:l,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+'                    <span class="layout-ml">本题易错率：'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.errorRate:l,n))+"%</span>\n                </div>\n            </div>\n        </div>\n"},13:function(e,n,a,t,i){var l;return"                        答案："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.answer:l,n))+"\n"},15:function(e,n,a,t,i){var l;return"                        <span>本题得分："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/question/types/answer/choise/view-options",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy"),l=e("jquery");a.bindings={state:!0,answer:!0},a.dataForTemplate={options:function(){var e=this.bindings.answer.data,n=this;return t.map(this.bindings.state.data.options,function(a,i){var l=a;l.index=i,l.code=String.fromCharCode(l.index+"A".charCodeAt(0)),l.questionId=n.bindings.state.data.id,e.value.length>0&&t.find(e.value,["id",l.id])&&(l.checked=!0),0===e.value.length&&0===i&&(l.checked=!0,e.key=l.questionId,e.value=[{id:l.id,score:l.score,value:l.name}],n.bindings.answer.changed(),n.module.dispatch("save"))}),this.bindings.state.data.options},isShowDetail:function(){var e=this.bindings.state.data.detailMode;return e&&e>0},state:function(e){return i.assign(e.state,{errorRate:e.state.errorRate/1e4})}},a.events={"click check-*":"check","click radio-*":"radio","change input-idea-*":"inputIdea"},a.handlers={check:function(e){var n,a=this.bindings.answer.data,i=this.bindings.state.getOption(e);return this.$("check-"+e).checked?(a.key=this.bindings.state.data.id,a.value.push({id:i.id,value:i.name,score:i.score,idea:l(this.$$('[name="idea"]')).val()})):(n=t.reject(a.value,["id",i.id]),this.bindings.answer.data={key:this.bindings.state.data.id,value:n}),this.module.dispatch("save")},radio:function(e){var n,a=this.bindings.answer.data,i=this.bindings.state.getOption(e);return"4"===e&&""===l(this.$$('[name="idea"]')).val()&&this.$("radio-4").checked&&(this.app.message.alert("选择E选项，必须输入意见"),a.key=this.bindings.state.data.id,a.value=[{id:i.id,value:i.name,score:i.score,idea:l(this.$$('[name="idea"]')).val()||""}]),this.$("radio-"+e).checked?(a.key=this.bindings.state.data.id,a.value=[{id:i.id,value:i.name,score:i.score,idea:l(this.$$('[name="idea"]')).val()||""}]):(n=t.reject(a.value,["id",i.id]),this.bindings.answer.data=n),this.module.dispatch("save")},inputIdea:function(){return this.bindings.answer.data.value[0].idea=l(this.$$('[name="idea"]')).val()||"",this.module.dispatch("save")}},a.beforeRender=function(){var e=this.bindings.state.data;1===e.detailMode&&(e.isShowAnswer=!0,e.isShowGainScore=!0),2===e.detailMode?(e.isShowAnswer=!1,e.isShowGainScore=!0):3===e.detailMode&&(e.isShowAnswer=!1,e.isShowGainScore=!0,this.bindings.answer.data={})}},{"drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/question/types/answer/question-answer/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data={gainScore:0,errorRate:0},l=t.get("question-difficultys");i.assign(a,n),n.questionAttrs.length>0&&(a.answer=n.questionAttrs[0].value),n.difficulty&&(a.difficulty=l[Number(n.difficulty)-1].value),n.answerRecord&&(a.gainScore=n.answerRecord.score),a.detailMode=e.mode,this.models.answer.init(e.answer)},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/train/class-detail/question/types/answer/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <p class="question">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+".</a></span>\n        【\n        "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.state:n)?l.type:l,{name:"map",hash:{},data:i}))+"\n        】\n        "+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </p>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<form class="vertical m-bottom">\n    <textarea class="input w-full" id="answer" name="value" rows="5" maxlength="3000" placeholder="请输入答案">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(s,null!=n?n.answer:n,{name:"echoX",hash:{},data:i}))?l:"")+"</textarea>\n"+(null!=(l=a.if.call(s,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"</form>"},6:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowAnswer:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+'                </div></div>\n                <div class="text-right">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isShowGainScore:l,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"                    \x3c!--  span.layout-ml > echo('本题易错率：' state.errorRate '%') --\x3e\n                </div>\n            </div>\n        </div>\n"},7:function(e,n,a,t,i){var l;return"                        答案："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.answer:l,n))+"\n"},9:function(e,n,a,t,i){var l;return"                        <span>本题得分："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/question/types/answer/question-answer/view-options",function(e,n,a){var t=e("jquery"),i=e("drizzle-zxy");a.bindings={state:!0,answer:!0},a.events={"change answer":"changeAnswer"},a.handlers={changeAnswer:function(){return this.bindings.answer.set({key:this.bindings.state.data.id,value:[{id:this.bindings.state.data.id,value:t(this.$("answer")).val().trim()}]}),this.module.dispatch("save")}},a.dataForTemplate={answer:function(){var e=this.bindings.answer;return e.data.value.length>0?e.data.value[0].value:""},isShowDetail:function(){var e=this.bindings.state.data.detailMode;return e&&e>0},state:function(e){return i.assign(e.state,{errorRate:e.state.errorRate/1e4})}},a.beforeRender=function(){var e=this.bindings.state.data;1===e.detailMode&&(e.isShowAnswer=!0,e.isShowGainScore=!0),2===e.detailMode?(e.isShowAnswer=!1,e.isShowGainScore=!0):3===e.detailMode&&(e.isShowAnswer=!1,e.isShowGainScore=!0,this.bindings.answer.data={})}},{"drizzle-zxy":!1,jquery:!1}),loadjs.d("./app/train/class-detail/question/types/summary-detail/choise/index",function(e,n,a){var t=e("lodash/collection");a.items={main:"main"},a.store={models:{question:{mixin:{init:function(){var e=this;this.data.options=t.map(this.data.questionAttrs,function(n,a){return{code:String.fromCharCode(a+"A".charCodeAt(0)),text:n.value,selectPercent:e.countPercent(n.name),checked:e.isChecked(n.name)}})},countPercent:function(e){var n=t.filter(this.data.answerRecords,function(n){return n.answer===e}).length;return 100*(0!==this.data.answerRecords.length?n/this.data.answerRecords.length:0)},isChecked:function(e){var n=t.find(this.data.answerRecords,["researchRecordId",this.data.researchRecordId]);return n&&e===n.answer}}}},callbacks:{init:function(e){this.models.question.set(e.question),this.models.question.init()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/question/types/summary-detail/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div id="main"></div>\n    <p class="question mb-1">\n        <span><a class="normal" name="question-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".</a></span>\n        【\n        "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.question:n)?l.type:l,{name:"map",hash:{},data:i}))+"\n        】\n        "+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n    </p>\n"+(null!=(l=a.if.call(o,null!=n?n.mutiple:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(8,i,0),data:i}))?l:"")},4:function(e,n,a,t,i){var l;return'        <div class="layout-mb border bottom dashed">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.question:n)?l.options:l,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"            <br/>\n        </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                <div class="clearfix layout-mb-small">\n                    <div class="pull-left layout-mr-small">\n                        <div class="inline-block">\n                            <div class="checkbox no-margin">\n                                <input '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="checkbox-'+c((s=null!=(s=a.index||i&&i.index)?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'"/>\n                                <label for="checkbox-'+c((s=null!=(s=a.index||i&&i.index)?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'"></label>\n                            </div>\n                        </div>\n                        <b>'+c((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,typeof s===d?s.call(r,{name:"code",hash:{},data:i
}):s))+'.</b>\n                    </div>\n                    <div class="overflow">\n                        <div class="m-bottom">'+c((s=null!=(s=a.text||(null!=n?n.text:n))?s:o,typeof s===d?s.call(r,{name:"text",hash:{},data:i}):s))+'</div>\n                        <div class="w-half"><div class="progress-box">\n                            <div class="progress m-right"><div class="progress-bar" style="width:'+c((s=null!=(s=a.selectPercent||(null!=n?n.selectPercent:n))?s:o,typeof s===d?s.call(r,{name:"selectPercent",hash:{},data:i}):s))+'%"></div></div>\n                            <span class="m-left text-left">'+c((s=null!=(s=a.selectPercent||(null!=n?n.selectPercent:n))?s:o,typeof s===d?s.call(r,{name:"selectPercent",hash:{},data:i}):s))+"%</span>\n                        </div></div>\n                    </div>\n                </div>\n"},6:function(e,n,a,t,i){return' checked="checked"'},8:function(e,n,a,t,i){var l;return'        <div class="layout-mb border bottom dashed">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.question:n)?l.options:l,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"            <br/>\n        </div>\n"},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="clearfix layout-mb-small">\n                    <div class="pull-left layout-mr-small">\n                        <input '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio"/>\n                        <b>'+d((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,"function"==typeof s?s.call(r,{name:"code",hash:{},data:i}):s))+'.</b>\n                    </div>\n                    <div class="overflow">\n                        <div class="m-bottom">'+d((s=null!=(s=a.text||(null!=n?n.text:n))?s:o,"function"==typeof s?s.call(r,{name:"text",hash:{},data:i}):s))+'</div>\n                        <div class="w-half"><div class="progress-box">\n                            <div class="progress m-right"><div class="progress-bar" style="width:'+d((s=null!=(s=a.selectPercent||(null!=n?n.selectPercent:n))?s:o,"function"==typeof s?s.call(r,{name:"selectPercent",hash:{},data:i}):s))+'%"></div></div>\n                            <span class="m-left text-left">'+d((s=null!=(s=a.selectPercent||(null!=n?n.selectPercent:n))?s:o,"function"==typeof s?s.call(r,{name:"selectPercent",hash:{},data:i}):s))+"%</span>\n                        </div></div>\n                    </div>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/question/types/summary-detail/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <p class="question">\n        <span><a name="question-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".</a></span>\n        【\n        "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.question:n)?l.type:l,{name:"map",hash:{},data:i}))+"\n        】\n        "+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+'\n    </p>\n    <div class="clearfix statistics-list">\n        <div class="statistics-list-tit">答'+r(s(null!=(l=null!=(l=null!=n?n.question:n)?l.answerRecord:l)?l.answer:l,n))+'</div>\n        <div class="statistics-list-time">'+r((a.dateMinute||n&&n.dateMinute||d).call(o,null!=(l=null!=(l=null!=n?n.question:n)?l.answerRecord:l)?l.createTime:l,{name:"dateMinute",hash:{},data:i}))+"</div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/questionnaire-all/index",function(e,n,a){a.title="满意度问卷",a.items={main:"main"}},{}),loadjs.d("./app/train/class-detail/questionnaire-all/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div data-region="main"></div>'},3:function(e,n,a,t,i){var l;return'    <div class="questionnaire-all">\n        <div class="clearfix">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.weekList:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n    </div>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n            <div class="item-box pull-left">\n                <div class="item pointer" id="toResearch-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.commitStatus:n,"eq",1,{name:"compare",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"                    <div>"+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</div>\n                </div>\n            </div>\n        "},5:function(e,n,a,t,i){return'                        <div class="tag">\n                            <div class="iconfont icon-wancheng1"></div>\n                        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/questionnaire-all/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/helpers");a.dataForTemplate={weekList:function(){var e=this.module.renderOptions,n=e.weekClassquestionnaireList[0];return n&&n.list}},a.events={"click toResearch-*":"toResearch"},a.handlers={toResearch:function(e){var n,a=this,l="",s=this.module.renderOptions,r=s.classId,o=s.weekClassquestionnaireList[0];n=t.filter(o.list,function(n){return n.id===e}),(new Date).getTime()<n[0].startTime?(l="您好，该问卷时间未到,请在"+i.dateMinute(n[0].startTime)+"~"+i.dateMinute(n[0].endTime)+"进行问卷，谢谢",a.app.message.alert(l)):(new Date).getTime()>n[0].endTime&&!n[0].modifiable?a.app.message.alert("您好，该问卷已过期，无法参与，谢谢"):window.open("#/train/class-detail/research-detail-party/"+n[0].id+"/"+r+"/"+n[0].isEnsemble)}}},{"./app/util/helpers":"./app/util/helpers","lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-ability-new/index",function(e,n,a){a.items={main:"main"},a.tname="train.statistics.ques.research-answer-le"},{}),loadjs.d("./app/train/class-detail/research-ability-new/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-ability-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){return'    <div class="big-title text-center strong">感谢您参加培训班能力习得评估。</div>\n    <p class="h4 text-center">您在如下培训班完成了课程学习已有一个月，相信您在工作中也运用了所学知识和经验，为了评估培训在实际工作中对您的相关能力帮助和提升的情况，我们非常希望能够得到您的宝贵意见，为培训工作的持续改进提供支持，请您在下列问题中，对相关能力培训前和培训后的掌握程度，分别予以评价，感谢您的支持与配合。</p>\n    <div class="top-area">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">孔文昊，您一个月前参加的培训班是：</div>\n            <div class="h2 m-top">“学习贯彻习近平新时代中国特色社会主义思想和党的十九大 精神深入推进‘大连接’战略实施落地”——2018年度总部处室 经理研讨班（第三期）</div>\n            <div class="layout-mt-small">\n                <span>项目日期：</span>\n                <span class="sub-text">2018.3.10-3.14</span>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt-small">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">\n                <input class="input w-full" placeholder="能力习得问卷标题一（可修改）"/>\n            </div>\n            <div class="table-cell bg1">非常同意</div>\n            <div class="table-cell bg1">比较同意</div>\n            <div class="table-cell bg1">一般同意</div>\n            <div class="table-cell bg1">比较不同意</div>\n            <div class="table-cell bg1">很不同意</div>\n        </div>\n        <div class="table-row clearfix">\n            <div class="table-cell one">\n                <span class="num m-left">1</span>\n                <span class="num-r">培训前掌握程度</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-1" checked name="1"/>\n                <label for="radio-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-2" name="1"/>\n                <label for="radio-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-3" name="1"/>\n                <label for="radio-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-4" name="1"/>\n                <label for="radio-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-5" name="1"/>\n                <label for="radio-5"></label>\n            </div>\n        </div>\n        <div class="table-row clearfix">\n            <div class="table-cell one">\n                <span class="num m-left">2</span>\n                <span class="num-r">培训后掌握程度</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-1" checked name="2"/>\n                <label for="radio2-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-2" name="2"/>\n                <label for="radio2-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-3" name="2"/>\n                <label for="radio2-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-4" name="2"/>\n                <label for="radio2-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-5" name="2"/>\n                <label for="radio2-5"></label>\n            </div>\n        </div>\n        <div class="table-row clearfix">\n            <div class="table-cell one">\n                <span class="num m-left">3</span>\n                <span class="num-r">对实际工作的价值</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio3-1" checked name="3"/>\n                <label for="radio3-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio3-2" name="3"/>\n                <label for="radio3-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio3-3" name="3"/>\n                <label for="radio3-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio3-4" name="3"/>\n                <label for="radio3-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio3-5" name="3"/>\n                <label for="radio3-5"></label>\n            </div>\n        </div>\n        <div class="text-center"><div class="btn big layout-mt">提交问卷</div></div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-answer/index",function(e,n,a){a.store={models:{researchRecord:{url:"../train/questionnaire-survey/detail"},classId:{data:{}},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.classInfo;if(this.models.classId.data=e.classId,a.clear(),a.params.id=e.classId,n.clear(),e.researchRecord)n.set(e.researchRecord),n.changed(),this.get(a);else if(e.researchRecordId)return n.params={researchRecordId:e.researchRecordId,classId:e.classId},this.get(a),this.get(n,{loading:!0});return""}}},a.items={main:"main"},a.tname="train.statistics.ques.research-answer-l",a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/class-detail/research-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-satifi-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="big-title text-center strong">感谢您参加培训班满意度评估。</div>\n    <p class="h4 text-left m-left">非常感谢您对学院各项工作的理解、支持和帮助。为持续提升培训质量，请留下您对培训的评价及建议。并祝您工作顺利、万事如意！</p>\n    <div class="top-area clearfix layout-ml">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">'+r(s(null!=(l=null!=n?n.research:n)?l.fullName:l,n))+'，您正在评估的培训班是：</div>\n            <div class="h2 m-top text-overflow" style="height:4.2em;" title="'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'">'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'</div>\n            <div class="m-top">\n                <span>项目日期：</span>\n                <span class="sub-text">'+r(s(null!=(l=null!=n?n.research:n)?l.date:l,n))+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight text-overflow" title="第一部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content1:l,n))+'">第一部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content1:l,n))+'</div>\n            <div class="table-cell bg1">满意</div>\n            <div class="table-cell bg1">基本满意</div>\n            <div class="table-cell bg1">一般</div>\n            <div class="table-cell bg1">不满意</div>\n            <div class="table-cell bg1">很不满意</div>\n        </div>\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.researchRecord:n)?l.arr1:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'    </div>\n    <div class="main-one main-two layout-mt">\n        <div class="table-row row-one clearfix active">\n            <div class="table-cell one big w-35 text-overflow" title="第二部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content2:l,n))+'">第二部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content2:l,n))+'</div>\n            <div class="table-cell bg1 w-30">\n                <div class="h4">课程内容安排</div>\n                <div class="clearfix">\n                    <div class="pull-left w-20">满意</div>\n                    <div class="pull-left w-20">基本满意</div>\n                    <div class="pull-left w-20">一般</div>\n                    <div class="pull-left w-20">不满意</div>\n                    <div class="pull-left w-20">很不满意</div>\n                </div>\n            </div>\n            <div class="table-cell bg2 w-30">\n                <div class="h4 color2">讲师授课水平</div>\n                <div class="clearfix">\n                    <div class="pull-left w-20">满意</div>\n                    <div class="pull-left w-20">基本满意</div>\n                    <div class="pull-left w-20">一般</div>\n                    <div class="pull-left w-20">不满意</div>\n                    <div class="pull-left w-20">很不满意</div>\n                </div>\n            </div>\n            <div class="table-cell bg3 w-5 color3 small">\n                <div>\n                    <div>推荐</div>\n                    <div>课程</div>\n                </div>\n            </div>\n        </div>\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.researchRecord:n)?l.arr2:l,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+'    </div>\n    <div class="main-one mt layout-mb">\n        <div class="table-row row-one clearfix"><div class="table-cell one big normal-lheight text-overflow" title="第三部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content3:l,n))+'（选填）">第三部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content3:l,n))+'（选填）</div></div>\n        <div class="item-san layout-mt-small">\n            <div class="san-div">\n                <span class="num m-left">1</span>\n                <span class="num-r title-color">本次培训您认为哪些方面最有价值？主要收获有哪些？</span>\n            </div>\n            <div class="m-top">\n                <div><textarea class="input w-full border around sub-text" rows="5" readonly>'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.answer0:l,n))+'</textarea></div>\n            </div>\n            <div class="san-div layout-mt-small">\n                <span class="num m-left">2</span>\n                <span class="num-r title-color">本次培训您认为存在哪些不足？您的建议是什么？</span>\n            </div>\n            <div class="m-top">\n                <div><textarea class="input w-full border around sub-text" rows="5" readonly>'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.answer1:l,n))+'</textarea></div>\n            </div>\n        </div>\n        <div class="item-san layout-mt-small">\n            <div class="san-div">\n                <span class="num m-left">3</span>\n                <span class="num-r title-color">其它意见或建议？</span>\n            </div>\n            <div class="m-top">\n                <div><textarea class="input w-full border around sub-text" rows="5" readonly>'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.answer2:l,n))+"</textarea></div>\n            </div>\n        </div>\n    </div>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'            <div class="table-row clearfix border-bottom" '+(null!=(l=a.if.call(r,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'>\n                <div class="table-cell one">\n                    <span class="num m-left">'+d((s=null!=(s=a.k||(null!=n?n.k:n))?s:o,"function"==typeof s?s.call(r,{name:"k",hash:{},data:i}):s))+'</span>\n                    <span class="num-r" title="'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'</span>\n                </div>\n                <div class="table-cell bg1 one">\n'+(null!=(l=a.each.call(r,null!=n?n.questionAttrs:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(r,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n            </div>\n            \x3c!-- if(flag) --\x3e\n            \x3c!--     .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") > echo(idea) --\x3e\n"},5:function(e,n,a,t,i){return' style="height:7em;"'},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                        <div class="pull-left w-20 text-center">\n                            <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" disabled value="'+e.escapeExpression((s=null!=(s=a.name||(null!=n?n.name:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'"/>\n                            <label></label>\n                        </div>\n'},8:function(e,n,a,t,i){return' checked="checked"'},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <div class="write text-center w-full text-overflow title-color no-strong" title="'+o((l=null!=(l=a.idea||(null!=n?n.idea:n))?l:r,"function"==typeof l?l.call(s,{name:"idea",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.idea||(null!=n?n.idea:n))?l:r,"function"==typeof l?l.call(s,{name:"idea",hash:{},data:i}):l))+"</div>\n"},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'            <div class="table-row clearfix border-bottom" '+(null!=(l=a.if.call(r,null!=n?n.flagC:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'>\n                <div class="table-cell one w-35" myname="row">\n                    <span class="num m-left">'+d((s=null!=(s=a.j||(null!=n?n.j:n))?s:o,"function"==typeof s?s.call(r,{name:"j",hash:{},data:i}):s))+'</span>\n                    <span class="num-r" title="'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'</span>\n                </div>\n                <div class="table-cell w-30 bg1">\n'+(null!=(l=a.each.call(r,null!=n?n.A:n,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(r,null!=n?n.flagA:n,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+'                </div>\n                <div class="table-cell w-30 bg2">\n'+(null!=(l=a.each.call(r,null!=n?n.B:n,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(r,null!=n?n.flagB:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+'                </div>\n                <div class="table-cell w-5 bg3">\n'+(null!=(l=a.each.call(r,null!=n?n.C:n,{name:"each",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n            </div>\n            \x3c!-- if(flagC) --\x3e\n            \x3c!--     .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") > echo(ideaA) --\x3e\n            \x3c!--     .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") > echo(ideaB) --\x3e\n            \x3c!-- else --\x3e\n            \x3c!--     if(flagA) --\x3e\n            \x3c!--         .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") > echo(ideaA) --\x3e\n            \x3c!--         .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") --\x3e\n            \x3c!--     if(flagB) --\x3e\n            \x3c!--         .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") --\x3e\n            \x3c!--         .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") > echo(ideaB) --\x3e\n"},13:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" disabled value="'+e.escapeExpression((s=null!=(s=a.name||(null!=n?n.name:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'"/>\n                            <label></label>\n                        </div>\n'},15:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <div class="write text-center w-full text-overflow title-color no-strong" title="'+o((l=null!=(l=a.ideaA||(null!=n?n.ideaA:n))?l:r,"function"==typeof l?l.call(s,{name:"ideaA",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.ideaA||(null!=n?n.ideaA:n))?l:r,"function"==typeof l?l.call(s,{name:"ideaA",hash:{},data:i}):l))+"</div>\n"},17:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <div class="write text-center w-full text-overflow title-color no-strong" title="'+o((l=null!=(l=a.ideaB||(null!=n?n.ideaB:n))?l:r,"function"==typeof l?l.call(s,{name:"ideaB",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.ideaB||(null!=n?n.ideaB:n))?l:r,"function"==typeof l?l.call(s,{name:"ideaB",hash:{},data:i}):l))+"</div>\n"},19:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                        <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" disabled value="'+e.escapeExpression((s=null!=(s=a.name||(null!=n?n.name:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'"/>\n                        <label class="iconfont icon-dianzan"></label>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-answer/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("lodash/array"),l=e("./app/util/helpers");a.bindings={researchRecord:!0,classInfo:!0},a.dataForTemplate={researchRecord:function(e){var n=e.researchRecord.researchQuestionary||{},a=e.researchRecord.member||{},l={},s=t.find(e.researchRecord.researchQuestionary.researchAnswerRecordMaps,["researchRecordId",e.researchRecord.id]).researchAnswerRecords||{},r={},o={},d={};return l.arr1=t.find(n.dimensions,["order",1]).questions,l.arr2=t.find(n.dimensions,["order",2]).questions,l.arr3=t.find(n.dimensions,["order",3]).questions,l.content1=t.find(n.dimensions,["order",1]).name,l.content2=t.find(n.dimensions,["order",2]).name,l.content3=t.find(n.dimensions,["order",3]).name,l.arr1=t.orderBy(l.arr1,["order"],["asc"]),l.arr2=t.orderBy(l.arr2,["order"],["asc"]),l.arr3=t.orderBy(l.arr3,["order"],["asc"]),t.map(l.arr1||[],function(e,n){var a=e,i=t.find(s,["questionId",a.id])||{};a.k=n+1,a.idea=i.idea,a.questionAttrs=t.orderBy(a.questionAttrs,["score"],["desc"]),a.flag=!1,t.map(a.questionAttrs||[],function(e){var n=e;i.answer===n.name&&(n.checked=!0)}),null!==i.idea&&""!==i.idea&&Number(i.answer)>1&&(a.flag=!0)}),l.arr2=i.chunk(l.arr2,3),t.map(l.arr2||[],function(e,n){var a=e,i=t.find(s,["questionId",a[0].id])||{},l=t.find(s,["questionId",a[1].id])||{},r=t.find(s,["questionId",a[2].id])||{};a.j=n+1,a.content=a[0].content.substring(0,a[0].content.lastIndexOf(")")+1),a.A=t.orderBy(a[0].questionAttrs,["score"],["desc"]),a.B=t.orderBy(a[1].questionAttrs,["score"],["desc"]),a.C=t.orderBy(a[2].questionAttrs,["score"],["desc"]),a.ideaA=i.idea,a.ideaB=l.idea,a.flagA=!1,a.flagB=!1,a.flagC=!1,t.map(a.A||[],function(e){var n=e;i.answer===n.name&&(n.checked=!0)}),null!==i.idea&&""!==i.idea&&Number(i.answer)>1&&(a.flagA=!0,a.flagC=!0),t.map(a.B||[],function(e){var n=e;l.answer===n.name&&(n.checked=!0)}),null!==l.idea&&""!==l.idea&&Number(l.answer)>1&&(a.flagB=!0,a.flagC=!0),t.map(a.C||[],function(e){var n=e;r&&r.answer===n.name&&(n.checked=!0)})}),l.wendaA=l.arr3[0].content,l.wendaB=l.arr3[1].content,l.wendaC=l.arr3[2].content,l.wendaIDA=l.arr3[0].id,l.wendaIDB=l.arr3[1].id,l.wendaIDC=l.arr3[2].id,r=t.find(s,["questionId",l.arr3[0].id])||{},r&&r.answer?l.answer0=r.answer:l.answer0="暂无数据",o=t.find(s,["questionId",l.arr3[1].id])||{},o&&o.answer?l.answer1=o.answer:l.answer1="暂无数据",d=t.find(s,["questionId",l.arr3[2].id])||{},d&&d.answer?l.answer2=d.answer:l.answer2="暂无数据",l.questionaryDetail=n.questionaryDetail,l.fullName=a.fullName,l.name=n.name,l.tag1=l.questionaryDetail.substring(0,6),l.temp1=l.questionaryDetail.substring(6),l.tag2=l.temp1.substring(0,59),l.temp2=l.questionaryDetail.substring(65),l.temp3=l.temp2.split("计划时间:"),l.tag3=l.temp3[0],l.tag4=l.temp3[1],l},research:function(e){var n=e.researchRecord.researchQuestionary||{};return n.fullName=e.researchRecord.fullName,e.classInfo&&(n.arriveDate=l.date(e.classInfo.arriveDate),n.arriveDate=n.arriveDate.replace(/-/g,"."),n.returnDate=l.date(e.classInfo.returnDate),n.returnDate=n.returnDate.replace(/-/g,"."),n.returnDate=n.returnDate.substring(5),n.date=n.arriveDate+"-"+n.returnDate,n.className=e.classInfo.className),n}}},{"./app/util/helpers":"./app/util/helpers","lodash/array":623,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-answerl/index",function(e,n,a){a.store={models:{researchRecord:{url:"../train/questionnaire-survey/detail"},classId:{data:{}},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.classInfo;if(this.models.classId.data=e.classId,n.clear(),a.clear(),a.params.id=e.classId,e.researchRecord)n.set(e.researchRecord),n.changed(),this.get(a);else if(e.researchRecordId)return n.params={researchRecordId:e.researchRecordId,classId:e.classId},this.get(a),this.get(n,{loading:!0});return""}}},a.items={main:"main"},a.tname="train.statistics.ques.research-answe",a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/class-detail/research-answerl/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-four-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression
;return'    <div class="big-title text-center strong">尊敬的领导，您好。</div>\n    <p class="h4 text-center">为了评估学员（'+r(s(null!=(l=null!=n?n.research:n)?l.traineeName:l,n))+'）在培训后回到工作中的能力提升情况，为了解您对本次培训效果的反馈和建议，我们非常希望能得到您的宝贵意见，为培训工作的持续改进提供支持，请您完整而如实地回答，感谢您的支持与合作。</p>\n    <div class="top-area clearfix layout-ml">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">'+r(s(null!=(l=null!=n?n.research:n)?l.traineeName:l,n))+'参加的培训班是：</div>\n            <div class="h2 m-top text-overflow" style="height:4.2em;" title="'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'">'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'</div>\n            <div class="layout-mt-small">\n                <span>项目日期：</span>\n                <span class="sub-text">'+r(s(null!=(l=null!=n?n.research:n)?l.date:l,n))+"</span>\n            </div>\n        </div>\n    </div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.dimensions:n)?l.arr10:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'    <div class="main-one mt layout-mb">\n        <div class="table-row row-one clearfix"><div class="table-cell one big normal-lheight">开放问题</div></div>\n        \x3c!-- .title-3.layout-mb-small.strong > div 开放问题 --\x3e\n        <div class="item-san layout-mt-small">\n            <div class="san-div">\n                <span class="num m-left">1</span>\n                <span class="num-r">结合您的部门职责和重点工作，您希望您的团队在2019年参加哪些方面的培训项目？</span>\n            </div>\n            <div class="m-top">\n                <div><textarea class="input m-left w-full" rows="5" disabled>'+r(s(null!=(l=null!=n?n.dimensions:n)?l.answer0:l,n))+'</textarea></div>\n            </div>\n        </div>\n        <div class="item-san layout-mt-small">\n            <div class="san-div">\n                <span class="num m-left">2</span>\n                <span class="num-r">您对于集团组织的培训项目还有哪些建议？</span>\n            </div>\n            <div class="m-top">\n                <div><textarea class="input m-left w-full" rows="5" disabled>'+r(s(null!=(l=null!=n?n.dimensions:n)?l.answer1:l,n))+"</textarea></div>\n            </div>\n        </div>\n    </div>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'        <div class="main-one mt">\n            <div class="table-row row-one clearfix">\n                <div class="table-cell one big normal-lheight text-overflow" title="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</div>\n            </div>\n"+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                <div class="table-row auto clearfix">\n                    <div class="table-cell one w-full border-bottom">\n                        <div>\n                            <span class="num m-left">1</span>\n                            <div class="inline-block">'+e.escapeExpression((s=null!=(s=a.content||(null!=n?n.content:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'</div>\n                        </div>\n                        <div class="clearfix mt-1 mb-1">\n                            <span class="num transparent m-left pull-left"></span>\n                            <div class="overflow clearfix">\n'+(null!=(l=a.each.call(r,null!=n?n.questionAttrs:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"                            </div>\n                        </div>\n                    </div>\n                </div>\n"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                    <div class="pull-left w-20">\n                                        <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" disabled value="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'"/>\n                                        <label class="m-right" for="time-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"></label>\n                                        <div class="inline-block">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</div>\n                                    </div>\n"},7:function(e,n,a,t,i){return' checked="checked"'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-answerl/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/helpers");a.bindings={researchRecord:!0,classInfo:!0},a.dataForTemplate={dimensions:function(e){var n=e.researchRecord.researchQuestionary||{},a=t.find(e.researchRecord.researchQuestionary.researchAnswerRecordMaps,["researchRecordId",e.researchRecord.id]).researchAnswerRecords||{},i=[],l={},s={},r={};return r.arr1=t.find(n.dimensions,["order",1]),i.push(r.arr1),r.arr2=t.find(n.dimensions,["order",2]),i.push(r.arr2),r.arr3=t.find(n.dimensions,["order",3]),i.push(r.arr3),r.arr4=t.find(n.dimensions,["order",4]),i.push(r.arr4),r.arr5=t.find(n.dimensions,["order",5]),i.push(r.arr5),r.arr6=t.find(n.dimensions,["order",6]),i.push(r.arr6),r.arr7=t.find(n.dimensions,["order",7]),i.push(r.arr7),r.arr8=t.find(n.dimensions,["order",8]),i.push(r.arr8),r.arr10=i,l=t.find(a,["questionId","40"])||{},s=t.find(a,["questionId","41"])||{},l&&l.answer?r.answer0=l.answer:r.answer0="暂无数据",s&&s.answer?r.answer1=s.answer:r.answer1="暂无数据",t.map(r.arr10||[],function(e){var n=e;n.questions=t.orderBy(n.questions,["order"],["asc"]),t.map(n.questions||[],function(e,n){var i=e,l=t.find(a,["questionId",i.id])||{};i.i=n+1,i.questionAttrs=t.orderBy(i.questionAttrs,["score"],["desc"]),t.map(i.questionAttrs||[],function(e){var n=e;l.answer===n.name&&(n.checked=!0)})})}),r},research:function(e){var n=e.researchRecord.researchQuestionary||{};return n.traineeName=n.name.substring(n.name.indexOf("（")+1,n.name.indexOf("）")),e.classInfo&&(n.arriveDate=i.date(e.classInfo.arriveDate),n.arriveDate=n.arriveDate.replace(/-/g,"."),n.returnDate=i.date(e.classInfo.returnDate),n.returnDate=n.returnDate.replace(/-/g,"."),n.returnDate=n.returnDate.substring(5),n.date=n.arriveDate+"-"+n.returnDate,n.className=e.classInfo.className),n}}},{"./app/util/helpers":"./app/util/helpers","lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-answern/index",function(e,n,a){a.store={models:{researchRecord:{url:"../train/questionnaire-survey/detail"},classId:{data:{}},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.classInfo;if(this.models.classId.data=e.classId,a.clear(),a.params.id=e.classId,n.clear(),e.researchRecord)n.set(e.researchRecord),n.changed(),this.get(a);else if(e.researchRecordId)return n.params={researchRecordId:e.researchRecordId,classId:e.classId},this.get(a),this.get(n,{loading:!0});return""}}},a.items={main:"main"},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.tname="train.statistics.ques.research-a"},{}),loadjs.d("./app/train/class-detail/research-answern/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-ability-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="big-title text-center strong">感谢您参加培训班能力习得评估。</div>\n    <p class="h4 text-center">您在如下培训班完成了课程学习已有一个月，相信您在工作中也运用了所学知识和经验，为了评估培训在实际工作中对您的相关能力帮助和提升的情况，我们非常希望能得到您的宝贵意见，为培训工作的持续改进提供支持，请您在下列问题中，对相关能力培训前和培训后的掌握程度，分别予以评价，感谢您的支持与配合。</p>\n    <div class="top-area clearfix layout-ml">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">'+r(s(null!=(l=null!=n?n.research:n)?l.fullName:l,n))+'，您一个月前参加的培训班是：</div>\n            <div class="h2 m-top text-overflow" style="height:4.2em;" title="'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'">'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'</div>\n            <div class="m-top">\n                <span>项目日期：</span>\n                <span class="sub-text">'+r(s(null!=(l=null!=n?n.research:n)?l.date:l,n))+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="layout-mb">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'            <div class="main-one layout-mt-small">\n                <div class="table-row row-one clearfix">\n                    <div class="table-cell one big normal-lheight">\n                        <div class="w-full text-overflow" title="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                    </div>\n                    <div class="table-cell bg1">非常同意</div>\n                    <div class="table-cell bg1">比较同意</div>\n                    <div class="table-cell bg1">一般同意</div>\n                    <div class="table-cell bg1">比较不同意</div>\n                    <div class="table-cell bg1">很不同意</div>\n                </div>\n'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                    <div class="table-row clearfix">\n                        <div class="table-cell one">\n                            <span class="num m-left">'+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+'</span>\n                            <span class="num-r" title="'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+"</span>\n                        </div>\n"+(null!=(l=a.each.call(r,null!=n?n.questionAttrs:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"                    </div>\n"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                            <div class="table-cell bg1">\n                                <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" disabled value="'+e.escapeExpression((s=null!=(s=a.name||(null!=n?n.name:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'"/>\n                                <label></label>\n                            </div>\n'},7:function(e,n,a,t,i){return' checked="checked"'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-answern/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/helpers");a.bindings={researchRecord:!0,classInfo:!0},a.dataForTemplate={dimensions:function(e){var n=e.researchRecord.researchQuestionary||{},a=t.find(e.researchRecord.researchQuestionary.researchAnswerRecordMaps,["researchRecordId",e.researchRecord.id]).researchAnswerRecords||{},i={};return i.arr1=t.orderBy(n.dimensions,["order"],["asc"]),t.map(i.arr1||[],function(e){var n=e;n.questions=t.orderBy(n.questions,["order"],["asc"]),t.map(n.questions||[],function(e,n){var i=e,l=t.find(a,["questionId",i.id])||{};i.i=n+1,i.questionAttrs=t.orderBy(i.questionAttrs,["score"],["desc"]),t.map(i.questionAttrs||[],function(e){var n=e;l.answer===n.name&&(n.checked=!0)})})}),i.arr1},research:function(e){var n=e.researchRecord.researchQuestionary||{},a=e.researchRecord.member||{};return n.questionaryDetail1=n.questionaryDetail.substring(0,n.questionaryDetail.lastIndexOf("班")),n.fullName=a.fullName,e.classInfo&&(n.arriveDate=i.date(e.classInfo.arriveDate),n.arriveDate=n.arriveDate.replace(/-/g,"."),n.returnDate=i.date(e.classInfo.returnDate),n.returnDate=n.returnDate.replace(/-/g,"."),n.returnDate=n.returnDate.substring(5),n.date=n.arriveDate+"-"+n.returnDate,n.className=e.classInfo.className),n}}},{"./app/util/helpers":"./app/util/helpers","lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-answers/index",function(e,n,a){a.store={models:{researchRecord:{url:"../train/questionnaire-survey/detail"},classId:{data:{}},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.classInfo;if(this.models.classId.data=e.classId,a.clear(),a.params.id=e.classId,n.clear(),e.researchRecord)n.set(e.researchRecord),n.changed(),this.get(a);else if(e.researchRecordId)return n.params={researchRecordId:e.researchRecordId,classId:e.classId},this.get(a),this.get(n,{loading:!0});return""}}},a.items={main:"main"},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.tname="train.statistics.ques.research-answ"},{}),loadjs.d("./app/train/class-detail/research-answers/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-four-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="big-title text-center strong">感谢您参加培训班四度评估。</div>\n    <p class="h4 text-center">感谢您已经完成满意度评估调查表，为了进一步了解此次培训的战略相关度、业务紧迫度、工作指导度、知识前瞻度，以提高培训方案设计的针对性，为培训工作的持续改进提供支持，请完整而如实地回答下列问题。</p>\n    <div class="top-area clearfix layout-ml">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">'+r(s(null!=(l=null!=n?n.research:n)?l.fullName:l,n))+'，您正在评估的培训班是：</div>\n            <div class="h2 m-top text-overflow" style="height:4.2em;" title="'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'">'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'</div>\n            <div class="m-top">\n                <span>项目日期：</span>\n                <span class="sub-text">'+r(s(null!=(l=null!=n?n.research:n)?l.date:l,n))+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">培训时间和形式</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">在培训时间方面，您感觉集团组织的具体培训项目的时间长度安排是否合适？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked1:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'0" value="0" disabled/>\n                            <label for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'0"></label>\n                            <div class="inline-block">时间过长</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked2:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'1" value="1" disabled/>\n                            <label for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'1"></label>\n                            <div class="inline-block">时间偏长</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked3:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'2" value="2" disabled/>\n                            <label for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'2"></label>\n                            <div class="inline-block">时间合适</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked4:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'3" value="3" disabled/>\n                            <label for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'3"></label>\n                            <div class="inline-block">时间偏短</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked5:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'4" value="4" disabled/>\n                            <label for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'4"></label>\n                            <div class="inline-block">时间过短</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="table-cell one w-full border-bottom mt-1">\n                <div>\n                    <span class="num m-left">2</span>\n                    <div class="inline-block">2019年您更倾向于哪种培训形式？（可多选）</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-14">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked6:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" data-check="false" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'0" id="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'0" value="0" disabled/>\n                            <label class="m-right" for="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'0"></label>\n                            <div class="inline-block">面授培训</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked7:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" data-check="false" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'1" id="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'1" value="1" disabled/>\n                            <label class="m-right" for="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'1"></label>\n                            <div class="inline-block">相互交流</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked8:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" data-check="false" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'2" id="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'2" value="2" disabled/>\n                            <label class="m-right" for="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'2"></label>\n                            <div class="inline-block">案例教学</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked9:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" data-check="false" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'3" id="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'3" value="3" disabled/>\n                            <label class="m-right" for="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'3"></label>\n                            <div class="inline-block">在线学习</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked10:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" data-check="false" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'4" id="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'4" value="4" disabled/>\n                            <label class="m-right" for="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'4"></label>\n                            <div class="inline-block">引导技术</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked11:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" data-check="false" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'5" id="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'5" value="5" disabled/>\n                            <label class="m-right" for="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'5"></label>\n                            <div class="inline-block">实操演练</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked12:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" data-check="false" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'6" id="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'6" value="6" disabled/>\n                            <label class="m-right" for="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'6"></label>\n                            <div class="inline-block">其他</div>\n                        </div>\n                    </div>\n                </div>\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked12:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n            \x3c!--  if(dimensions.checked12) --\x3e\n            \x3c!--      .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") > echo(dimensions.idea) --\x3e\n        </div>\n    </div>\n"+(null!=(l=a.each.call(o,null!=(l=null!=n?n.dimensions:n)?l.arr7:l,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'    <div class="main-one layout-mt layout-mb">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">绩效改进度</div>\n        </div>\n        <div class="table-row auto clearfix border-none">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">参加本次培训集团项目是否对您的工作能力有所提升，后续进一步改善工作绩效</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked13:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'0" value="0" disabled/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'0"></label>\n                            <div class="inline-block">有明显改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked14:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'1" value="1" disabled/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'1"></label>\n                            <div class="inline-block">有改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked15:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'2" value="2" disabled/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'2"></label>\n                            <div class="inline-block">不能确定</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked16:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'3" value="3" disabled/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'3"></label>\n                            <div class="inline-block">没有明显改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked17:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'4" value="4" disabled/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'4"></label>\n                            <div class="inline-block">完全没有改善</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n'},4:function(e,n,a,t,i){return' checked="checked"'},6:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                    <div class="write w-full text-overflow title-color no-strong layout-ml" style="color:#5f5d5d;" title="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.idea:l,n))+'">'+r(s(null!=(l=null!=n?n.dimensions:n)?l.idea:l,n))+"</div>\n"},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'        <div class="main-one layout-mt">\n            <div class="table-row row-one clearfix">\n                <div class="table-cell one big normal-lheight text-overflow" title="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                <div class="table-cell bg1">非常同意</div>\n                <div class="table-cell bg1">比较同意</div>\n                <div class="table-cell bg1">一般同意</div>\n                <div class="table-cell bg1">比较不同意</div>\n                <div class="table-cell bg1">很不同意</div>\n            </div>\n'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="table-row clearfix border-bottom">\n                    <div class="table-cell one">\n                        <span class="num m-left">'+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+'</span>\n                        <span class="num-r" title="'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+"</span>\n                    </div>\n"+(null!=(l=a.each.call(r,null!=n?n.questionAttrs:n,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n"},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                        <div class="table-cell bg1">\n                            <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" disabled value="'+e.escapeExpression((s=null!=(s=a.name||(null!=n?n.name:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'"/>\n                            <label></label>\n                        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={
name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-answers/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/helpers");a.bindings={researchRecord:!0,classInfo:!0},a.dataForTemplate={dimensions:function(e){var n=e.researchRecord.researchQuestionary||{},a=t.find(e.researchRecord.researchQuestionary.researchAnswerRecordMaps,["researchRecordId",e.researchRecord.id]).researchAnswerRecords||{},i=[],l={},s={},r={},o={};return o.arr1=t.find(n.dimensions,["order",1]).questions,o.arr1=t.orderBy(o.arr1,["order"],["asc"]),o.arr2=t.find(n.dimensions,["order",2]),i.push(o.arr2),o.arr3=t.find(n.dimensions,["order",3]),i.push(o.arr3),o.arr4=t.find(n.dimensions,["order",4]),i.push(o.arr4),o.arr5=t.find(n.dimensions,["order",5]),i.push(o.arr5),o.arr7=i,o.arr6=t.find(n.dimensions,["order",6]).questions,o.id1=o.arr1[0].id,o.id2=o.arr1[1].id,o.id3=o.arr6[0].id,l=t.find(a,["questionId","17"])||{},"0"===l.answer?o.checked1=!0:"1"===l.answer?o.checked2=!0:"2"===l.answer?o.checked3=!0:"3"===l.answer?o.checked4=!0:o.checked5=!0,s=t.find(a,["questionId","18"])||{},s.answer.indexOf("0")>-1&&(o.checked6=!0),s.answer.indexOf("1")>-1&&(o.checked7=!0),s.answer.indexOf("2")>-1&&(o.checked8=!0),s.answer.indexOf("3")>-1&&(o.checked9=!0),s.answer.indexOf("4")>-1&&(o.checked10=!0),s.answer.indexOf("5")>-1&&(o.checked11=!0),s.answer.indexOf("6")>-1&&(o.checked12=!0,o.idea=s.idea),r=t.find(a,["questionId","31"])||{},"0"===r.answer?o.checked13=!0:"1"===r.answer?o.checked14=!0:"2"===r.answer?o.checked15=!0:"3"===r.answer?o.checked16=!0:o.checked17=!0,t.map(o.arr7||[],function(e){var n=e;n.questions=t.orderBy(n.questions,["order"],["asc"]),t.map(n.questions||[],function(e,n){var i=e,l=t.find(a,["questionId",i.id])||{};i.i=n+1,i.questionAttrs=t.orderBy(i.questionAttrs,["score"],["desc"]),t.map(i.questionAttrs||[],function(e){var n=e;l.answer===n.name&&(n.checked=!0)})})}),o},research:function(e){var n=e.researchRecord.researchQuestionary||{},a=e.researchRecord.member||{};return n.fullName=a.fullName,e.classInfo&&(n.arriveDate=i.date(e.classInfo.arriveDate),n.arriveDate=n.arriveDate.replace(/-/g,"."),n.returnDate=i.date(e.classInfo.returnDate),n.returnDate=n.returnDate.replace(/-/g,"."),n.returnDate=n.returnDate.substring(5),n.date=n.arriveDate+"-"+n.returnDate,n.className=e.classInfo.className),n}}},{"./app/util/helpers":"./app/util/helpers","lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-detail-center/index",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/helpers"),l=e("./app/util/strings"),s=e("drizzle-zxy");a.store={models:{researchRecord:{url:"../train/questionnaire-survey/front/research-detail"},answer:{data:[],mixin:{getData:function(){var e=this;return{researchAnswerRecords:JSON.stringify(t.map(this.data,function(n){return{questionId:n.questionId,answer:n.answer,idea:n.idea,researchRecordId:e.store.models.researchRecord.data.id,score:1}}))}}}},rcRecord:{url:"../train/questionnaire-survey/get-by-research"},form:{url:"../train/questionnaire-survey/submit"},researchs:{url:"../train/questionnaire-survey/research-details"},staticfaction:{url:"../train/class-evaluate/front-class-detail"},classId:{data:{}},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.classInfo,t=this.models.researchs;if(t.params={classId:e.classId},this.models.classId.data=e.classId,a.clear(),a.params.id=e.classId,this.get(t),e.researchRecord)n.set(e.researchRecord),this.get(a);else if(e.researchQuestionaryId)return n.params={researchQuestionaryId:e.researchQuestionaryId,classId:e.classId},this.get(a),this.get(n,{loading:!0});return""},submit:function(){var e=this,n=this.models.researchRecord,a=this.models.classId.data,i=this.models.answer.getData().researchAnswerRecords||[],r=0,o=0,d=[];return this.models.staticfaction.clear(),this.models.staticfaction.params={classId:this.module.renderOptions.classId,type:5},e.module.dispatch("getRecordByResearch",{researchId:n.data.researchQuestionary.id}).then(function(c){var u=c[0].status;return 1===Number(u)&&(o=1),0!==o?(e.app.message.error("请勿重复提交"),!1):("string"==typeof i&&(i=JSON.parse(i)),t.map(i||[],function(e){var n=e;return 11!==Number(n.questionId)&&12!==Number(n.questionId)&&13!==Number(n.questionId)&&("2"!==e.answer&&"3"!==e.answer&&"4"!==e.answer||null!==e.idea&&""!==e.idea&&0!==e.idea.trim().length||(r=1)),n}),1===r?(e.app.message.alert("选择一般或者不满意或者很不满意时，请输入意见再提交"),!1):(t.map(i||[],function(e){var n={researchRecordId:e.researchRecordId,researchAnswerRecords:i};d.push(n)}),e.models.form.set(s.assign({},e.models.answer.getData(),{researchQuestionaryId:n.params.researchQuestionaryId,classId:a})),e.post(e.models.form).then(function(){var n=e.models.researchRecord.data;e.app.message.success(l.get("submit-success")),e.app.navigate("train/class-detail/research-answer/"+n.id+"/"+a,{loading:!0})})))})},submits:function(e){var n,a=this,r=this.models.researchRecord,o=this.models.classId.data,d=this.models.answer.getData().researchAnswerRecords||[],c=0,u=0,m=[],p=(new Date).getTime(),h={},f=window.open();return this.models.staticfaction.clear(),this.models.staticfaction.params={classId:this.module.renderOptions.classId,type:5},a.module.dispatch("getRecordByResearch",{researchId:r.data.researchQuestionary.id}).then(function(v){var g=v[0].status;return 1===Number(g)&&(u=1),0!==u?(a.app.message.error("请勿重复提交"),f.close(),!1):("string"==typeof d&&(d=JSON.parse(d)),t.map(d||[],function(e){var n=e;return 11!==Number(n.questionId)&&12!==Number(n.questionId)&&13!==Number(n.questionId)&&("2"!==e.answer&&"3"!==e.answer&&"4"!==e.answer||null!==e.idea&&""!==e.idea&&0!==e.idea.trim().length||(c=1)),n}),1===c?(a.app.message.alert("选择一般或者不满意或者很不满意时，请输入意见再提交"),f.close(),!1):(t.map(d||[],function(e){var n={researchRecordId:e.researchRecordId,researchAnswerRecords:d};m.push(n)}),a.models.form.set(s.assign({},a.models.answer.getData(),{researchQuestionaryId:r.params.researchQuestionaryId,classId:o})),null!==e&&e.length>0?a.post(a.models.form).then(function(){var t=a.models.researchRecord.data;a.app.navigate("train/class-detail/research-answer/"+t.id+"/"+o,{loading:!0}),a.get(a.models.staticfaction).then(function(t){var l=t[0];if(l){if(1===l.release){if(p<l.startTime)return h="您好，该问卷时间未到,请在"+i.dateMinute(l.startTime)+"~"+i.dateMinute(l.endTime)+"进行问卷，谢谢",a.app.message.alert(h),f.close(),!1;if(p>=l.startTime&&p<=l.endTime)return n="#/train/class-detail/paper-researchs/"+e+"/"+o,f.location=n,!0;if(p>l.endTime)return a.app.message.alert("您好，该问卷已过期，无法参与，谢谢"),f.close(),!0}return a.app.message.alert("暂无四度评估问卷！"),f.close(),!1}return a.app.message.alert("暂无四度评估问卷！"),f.close(),!1})}):a.post(a.models.form).then(function(){var e=a.models.researchRecord.data;a.app.message.success(l.get("submit-success")),a.app.navigate("train/class-detail/research-answer/"+e.id+"/"+o,{loading:!0})})))})},getRecordByResearch:function(e){return this.models.rcRecord.clear(),s.assign(this.models.rcRecord.params,{researchId:e.researchId}),this.get(this.models.rcRecord)}}},a.items={main:"main"},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.tname="train.statistics.ques.research-answfg"},{"./app/util/helpers":"./app/util/helpers","./app/util/strings":"./app/util/strings","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-detail-center/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="big-title text-center strong">请您进行培训班满意度评估。</div>\n    <p class="h4 text-center">非常感谢您对学院各项工作的理解、支持和帮助。为持续提升培训质量，请留下您对培训的评价及建议。并祝您工作顺利、万事如意！</p>\n    <div class="top-area clearfix">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">'+r(s(null!=(l=null!=n?n.research:n)?l.fullName:l,n))+'，您正在评估的培训班是：</div>\n            <div class="h2 m-top">'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'</div>\n            <div class="layout-mt-small">\n                <span>项目日期：</span>\n                <span class="sub-text">'+r(s(null!=(l=null!=n?n.research:n)?l.date:l,n))+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt-small">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight text-overflow" title="第一部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content1:l,n))+'">第一部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content1:l,n))+'</div>\n            <div class="table-cell bg1 one">\n                <div class="pull-left w-20 text-center">满意</div>\n                <div class="pull-left w-20 text-center">基本满意</div>\n                <div class="pull-left w-20 text-center">一般</div>\n                <div class="pull-left w-20 text-center">不满意</div>\n                <div class="pull-left w-20 text-center">很不满意</div>\n            </div>\n        </div>\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.researchRecord:n)?l.arr1:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'        <div class="main-one main-two layout-mt">\n            <div class="table-row row-one clearfix active">\n                <div class="table-cell one big w-35 text-overflow" title="第二部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content2:l,n))+'">第二部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content2:l,n))+'</div>\n                <div class="table-cell bg1 w-30">\n                    <div class="h4">课程内容安排</div>\n                    <div class="clearfix">\n                        <div class="pull-left w-20">满意</div>\n                        <div class="pull-left w-20">基本满意</div>\n                        <div class="pull-left w-20">一般</div>\n                        <div class="pull-left w-20">不满意</div>\n                        <div class="pull-left w-20">很不满意</div>\n                    </div>\n                </div>\n                <div class="table-cell bg2 w-30">\n                    <div class="h4 color2">讲师授课水平</div>\n                    <div class="clearfix">\n                        <div class="pull-left w-20">满意</div>\n                        <div class="pull-left w-20">基本满意</div>\n                        <div class="pull-left w-20">一般</div>\n                        <div class="pull-left w-20">不满意</div>\n                        <div class="pull-left w-20">很不满意</div>\n                    </div>\n                </div>\n                <div class="table-cell bg3 w-5 color3 small">\n                    <div>\n                        <div>推荐</div>\n                        <div>课程</div>\n                    </div>\n                </div>\n            </div>\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.researchRecord:n)?l.arr2:l,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'        </div>\n        <div class="main-one mt layout-mb">\n            <div class="table-row row-one clearfix"><div class="table-cell one big normal-lheight text-overflow" title="第三部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content3:l,n))+'（选填）">第三部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content3:l,n))+'（选填）</div></div>\n            <div class="item-san layout-mt-small">\n                <div class="san-div">\n                    <span class="num m-left">1</span>\n                    <span class="num-r strong">本次培训您认为哪些方面最有价值？主要收获有哪些？</span>\n                </div>\n                <div class="m-top">\n                    <textarea class="input m-left w-full" name="value-" rows="5" maxlength="3000" placeholder="请填写意见，您的意见非常宝贵"></textarea>\n                </div>\n            </div>\n            <div class="item-san layout-mt-small">\n                <div class="san-div">\n                    <span class="num m-left">2</span>\n                    <span class="num-r strong">本次培训您认为存在哪些不足？您的建议是什么？</span>\n                </div>\n                <div class="m-top">\n                    <textarea class="input m-left w-full" name="value-" rows="5" maxlength="3000" placeholder="请填写意见，您的意见非常宝贵"></textarea>\n                </div>\n            </div>\n            <div class="item-san layout-mt-small">\n                <div class="san-div">\n                    <span class="num m-left">3</span>\n                    <span class="num-r strong">其它意见或建议？</span>\n                </div>\n                <div class="m-top">\n                    <textarea class="input m-left w-full" name="value-" rows="5" maxlength="3000" placeholder="请填写意见，您的意见非常宝贵"></textarea>\n                </div>\n            </div>\n            <div class="text-center"><div id="submit" class="btn layout-mt">提交问卷</div></div>\n        </div>\n    </div>\n'},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'            <div class="table-row clearfix">\n                <div class="table-cell one">\n                    <span class="num m-left">'+d((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,typeof l===o?l.call(s,{name:"i",hash:{},data:i}):l))+'</span>\n                    <span class="num-r" title="'+d((l=null!=(l=a.content||(null!=n?n.content:n))?l:r,typeof l===o?l.call(s,{name:"content",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.content||(null!=n?n.content:n))?l:r,typeof l===o?l.call(s,{name:"content",hash:{},data:i}):l))+'</span>\n                </div>\n                <div class="table-cell bg1 one">\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'0" value="0" checked="checked"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'0"></label>\n                    </div>\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'1" value="1"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'1"></label>\n                    </div>\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'2" value="2"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'2"></label>\n                    </div>\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'3" value="3"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'3"></label>\n                    </div>\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'4" value="4"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'4"></label>\n                    </div>\n                    <div class="write text-center hide" id="tease-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'4"><input class="input col-sm-10 small-font" id="in-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" type="text" maxlength="200" placeholder="请填写不满意的具体原因..."/></div>\n                </div>\n            </div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                <div class="table-row clearfix">\n                    <div class="table-cell one w-35" myname="row">\n                        <span class="num m-left">'+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+'</span>\n                        <span class="num-r" title="'+c((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,typeof s===d?s.call(r,{name:"content",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,typeof s===d?s.call(r,{name:"content",hash:{},data:i}):s))+'</span>\n                    </div>\n                    <div class="table-cell w-30 bg1">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'0" value="0" checked="checked"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'0"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'1" value="1"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'1"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'2" value="2"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'2"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'3" value="3"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'3"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'4" value="4"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'4"></label>\n                        </div>\n                        <div class="write hide" id="tease-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'4"><input class="input col-sm-10 small-font" id="in-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" type="text" maxlength="200" placeholder="请填写不满意的具体原因..."/></div>\n                    </div>\n                    <div class="table-cell w-30 bg2">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'0" value="0" checked="checked"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'0"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'1" value="1"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'1"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'2" value="2"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'2"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'3" value="3"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'3"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'4" value="4"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'4"></label>\n                        </div>\n                        <div class="write hide" id="tease-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'4"><input class="input col-sm-10 small-font" id="in-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" type="text" maxlength="200" placeholder="请填写不满意的具体原因..."/></div>\n                    </div>\n                    <div class="table-cell w-5 bg3">\n                        <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" name="'+c((s=null!=(s=a.idC||(null!=n?n.idC:n))?s:o,typeof s===d?s.call(r,{name:"idC",hash:{},data:i}):s))+'" id="check-'+c((s=null!=(s=a.idC||(null!=n?n.idC:n))?s:o,typeof s===d?s.call(r,{name:"idC",hash:{},data:i}):s))+'6" value="6"/>\n                        <label class="iconfont icon-dianzan" for="check-'+c((s=null!=(s=a.idC||(null!=n?n.idC:n))?s:o,typeof s===d?s.call(r,{name:"idC",hash:{},data:i}):s))+'6"></label>\n                    </div>\n                </div>\n'},7:function(e,n,a,t,i){return' checked="checked"'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-detail-center/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("lodash/array"),l=e("jquery"),s=e("./app/util/helpers");a.bindings={researchRecord:!0,researchs:!0,answer:!0,classInfo:!0},a.events={"click radio-*":"radio"},a.handlers={radio:function(e){var n=l(this.$("radio-"+e)),a=n.parent().parent();"2"===n.val()||"3"===n.val()||"4"===n.val()?(a.find(".write").removeClass("hide").addClass("show"),a.parent().addClass("active")):(a.find(".write").removeClass("show").addClass("hide"),a.parent().find(".write").hasClass("show")||a.parent().removeClass("active"))}},a.actions={"click submit":"submit","click submits":"submits"},a.dataForActions={submit:function(){var e=this,n=l('input[type="radio"]:checked'),a=l('input[type="checkbox"]:checked'),i=l('input[type="text"]'),s=l(this.$$('[name="value-"]')),r=[],o=[],d=[],c=[],u=0;return t.forEach(n,function(e){var n=e;r.push(n.name),o.push(n.name),d.push(n.value)}),t.forEach(a,function(e){var n=e;r.push(n.name),o.push(n.name),d.push(n.value)}),t.forEach(i,function(e){var n=e;c.push(n.value)}),t.forEach(s,function(e,n){var a=e;o.push(n+11),null!==a.value&&""!==a.value&&0!==a.value.trim().length||(u+=1),d.push(a.value)}),t.forEach(o,function(e,n){var a=o,t={};t.questionId=a[n],t.answer=d[n],t.idea=c[n],r.push(t)}),this.bindings.answer.data=r,0===u||this.Promise.create(function(n){var a="您还有"+u+"题未作答，确认交卷吗？";e.app.message.confirm(a,function(){n(!0)},function(){n(!1)})})},submits:function(){var e=this,n=l('input[type="radio"]:checked'),a=l('input[type="checkbox"]:checked'),i=l('input[type="text"]'),s=l(this.$$('[name="value-"]')),r=[],o=[],d=[],c=[],u=0;return t.forEach(n,function(e){var n=e;r.push(n.name),o.push(n.name),d.push(n.value)}),t.forEach(a,function(e){var n=e;r.push(n.name),o.push(n.name),d.push(n.value)}),t.forEach(i,function(e){var n=e;c.push(n.value)}),t.forEach(s,function(e,n){var a=e;o.push(n+11),null!==a.value&&""!==a.value&&0!==a.value.trim().length||(u+=1),d.push(a.value)}),t.forEach(o,function(e,n){var a=o,t={};t.questionId=a[n],t.answer=d[n],t.idea=c[n],r.push(t)}),this.bindings.answer.data=r,0===u?e.bindings.researchs.data.id?e.bindings.researchs.data.id:null:this.Promise.create(function(n){var a="您还有"+u+"题未作答，确认交卷吗？";e.app.message.confirm(a,function(){n(e.bindings.researchs.data.id?e.bindings.researchs.data.id:null)},function(){n(!1)})})}},a.dataForTemplate={researchRecord:function(e){var n=e.researchRecord.researchQuestionary||{},a=e.researchRecord.member||{},l=this.bindings.researchs.data||{},s=(new Date).getTime(),r={};return r.but=0,r.arr1=t.find(n.dimensions,["order",1]).questions,r.arr2=t.find(n.dimensions,["order",2]).questions,r.arr3=t.find(n.dimensions,["order",3]).questions,r.content1=t.find(n.dimensions,["order",1]).name,r.content2=t.find(n.dimensions,["order",2]).name,r.content3=t.find(n.dimensions,["order",3]).name,r.arr1=t.orderBy(r.arr1,["order"],["asc"]),r.arr2=t.orderBy(r.arr2,["order"],["asc"]),r.arr3=t.orderBy(r.arr3,["order"],["asc"]),t.map(r.arr1||[],function(e,n){var a=e;a.i=n+1,a.questionAttrs=t.orderBy(a.questionAttrs,["score"],["desc"]),a.A=a.questionAttrs[0].name,a.B=a.questionAttrs[1].name,a.C=a.questionAttrs[2].name,a.D=a.questionAttrs[3].name,a.E=a.questionAttrs[4].name}),r.arr2=i.chunk(r.arr2,3),t.map(r.arr2||[],function(e,n){var a=e;a.i=n+1,a[0].questionAttrs=t.orderBy(a[0].questionAttrs,["score"],["desc"]),a[1].questionAttrs=t.orderBy(a[1].questionAttrs,["score"],["desc"]),a[2].questionAttrs=t.orderBy(a[2].questionAttrs,["score"],["desc"]),a.content=a[0].content.substring(0,a[0].content.lastIndexOf(")")+1),a.idA=a[0].id,a.idB=a[1].id,a.idC=a[2].id,a.A=a[0].questionAttrs[0].name,a.B=a[0].questionAttrs[1].name,a.C=a[0].questionAttrs[2].name,a.D=a[0].questionAttrs[3].name,a.E=a[0].questionAttrs[4].name,a.A1=a[1].questionAttrs[0].name,a.B1=a[1].questionAttrs[1].name,a.C1=a[1].questionAttrs[2].name,a.D1=a[1].questionAttrs[3].name,a.E1=a[1].questionAttrs[4].name,a.A2=a[2].questionAttrs[0].name}),r.wendaA=r.arr3[0].content,r.wendaB=r.arr3[1].content,r.wendaC=r.arr3[2].content,r.wendaIDA=r.arr3[0].id,r.wendaIDB=r.arr3[1].id,r.wendaIDC=r.arr3[2].id,r.questionaryDetail=n.questionaryDetail,r.fullName=a.fullName,r.name=n.name,r.tag1=r.questionaryDetail.substring(0,6),r.temp1=r.questionaryDetail.substring(6),r.tag2=r.temp1.substring(0,59),r.temp2=r.questionaryDetail.substring(65),r.temp3=r.temp2.split("计划时间:"),r.tag3=r.temp3[0],r.tag4=r.temp3[1],l&&l.startTime<=s&&l.endTime>=s&&0===l.commitStatuss&&(r.but=1),r},research:function(e){var n=e.researchRecord.researchQuestionary||{};return n.fullName=e.researchRecord.fullName,e.classInfo&&(n.arriveDate=s.date(e.classInfo.arriveDate),n.arriveDate=n.arriveDate.replace(/-/g,"."),n.returnDate=s.date(e.classInfo.returnDate),n.returnDate=n.returnDate.replace(/-/g,"."),n.returnDate=n.returnDate.substring(5),n.date=n.arriveDate+"-"+n.returnDate,n.className=e.classInfo.className),n}}},{"./app/util/helpers":"./app/util/helpers",jquery:!1,"lodash/array":623,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-detail-party/index",function(e,n,a){a.store={models:{evaluateResult:{url:"../train/questionnaire-survey-new/class-evaluate"},viewEvaluate:{url:"../train/questionnaire-survey-new/read-member-evaluate"},saveEvaluate:{url:"../train/questionnaire-survey-new/save-class-evaluate"},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this,a=this.models.evaluateResult,t=this.models.classInfo,i=this.models.viewEvaluate;a.clear(),t.clear(),a.params={classId:e.classId,researchQuestionnaireId:e.researchQuestionaryId},t.params.id=e.classId,e.type&&"view"===e.type?(i.params={classId:e.classId,researchRecordId:e.researchQuestionaryId},this.get(i,{loading:!0}).then(function(e){e[0]&&!e[0].isModifiable&&n.app.message.error("该用户未填写满意度问卷")})):this.get(a,{loading:!0}),this.get(t)},submit:function(e){var n=this.models.saveEvaluate;return n.clear(),n.set(e),this.post(n)}}},a.items={main:"main"},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/class-detail/research-detail-party/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-satifi-new course-evaluate">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i,l,s){var r,o,d=e.escapeExpression,c=null!=n?n:{},u=a.helperMissing
;return'    <div class="big-title text-center strong">培训满意度评估表</div>\n    <div class="text-area relative layout-mt-small">\n        <div class="m-bottom clearfix">\n            <div class="pull-left strong">培训项目：</div>\n            <div class="overflow">'+d(e.lambda(null!=(r=null!=n?n.classInfo:n)?r.className:r,n))+'</div>\n        </div>\n        <div class="layout-mb-small clearfix">\n            <div class="pull-left strong">培训时间：</div>\n            <div class="overflow">'+d((o=null!=(o=a.projectDate||(null!=n?n.projectDate:n))?o:u,"function"==typeof o?o.call(c,{name:"projectDate",hash:{},data:i}):o))+'</div>\n        </div>\n        <div class="m-top m-bottom clearfix">\n            <div class="pull-left strong">填表说明</div>\n        </div>\n'+(null!=(r=(a.compare||n&&n.compare||u).call(c,null!=n?n.isEnsemble:n,"eq","1",{name:"compare",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||u).call(c,null!=n?n.isEnsemble:n,"eq","0",{name:"compare",hash:{},fn:e.program(6,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||u).call(c,null!=n?n.isEnsemble:n,"eq","1",{name:"compare",hash:{},fn:e.program(8,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"    </div>\n"+(null!=(r=(a.compare||n&&n.compare||u).call(c,null!=n?n.isEnsemble:n,"eq","1",{name:"compare",hash:{},fn:e.program(10,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||u).call(c,null!=n?n.isEnsemble:n,"eq","0",{name:"compare",hash:{},fn:e.program(35,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||u).call(c,null!=n?n.isEnsemble:n,"eq","1",{name:"compare",hash:{},fn:e.program(73,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=a.unless.call(c,null!=n?n.isModifiable:n,{name:"unless",hash:{},fn:e.program(76,i,0,l,s),inverse:e.noop,data:i}))?r:"")},4:function(e,n,a,t,i){return'            <div class="m-bottom">\n                <div class="pull-left">“第一部分：</div>\n                <div class="overflow">\n                    总体评估”：请根据对每一项指标的满意度程度，选择相应分数并标记"\n                    <i class="iconfont icon-iconfontoptionbutton scale-1"></i>\n                    "，分数越高，意味着满意程度越高，10代表非常满意，1代表非常不满意。\n                </div>\n            </div>\n'},6:function(e,n,a,t,i){return'            <div class="m-bottom">\n                <div class="pull-left">课程师资评价：</div>\n                <div class="overflow">\n                    针对每门课程，对“课程内容”和“师资表现”进行了10个维度的描述，请根据描述与实际符合程度，选择相应分数并标记"\n                    <i class="iconfont icon-iconfontoptionbutton scale-1"></i>\n                    "，分数越高，意味着符合程度越高，10代表非常符合，1代表非常不符合。如对该课程有何具体优化意见建议，请在相应位置填写。已完成评价的课程，其详细选项将被收起隐藏，可点击"展开"按钮查看或修改。\n                </div>\n            </div>\n'},8:function(e,n,a,t,i){return'            <div class="m-bottom">\n                <div class="pull-left">“第二部分：</div>\n                <div class="overflow">主观题”：请根据实际感受填写。</div>\n            </div>\n'},10:function(e,n,a,t,i,l,s){var r;return'        <div class="main-one layout-mt-small">\n            <div class="table-row row-one clearfix">\n                <div class="table-cell one w-40 big text-overflow">\n                    <span>第一部分：总体评估</span>\n                    <span class="sub-text small-font inline-block vertical-top">（必填）</span>\n                </div>\n                <div class="table-cell one w-60 bg1 text-main-color text-center s-height">\n                    <span class="inline-block">非常满意</span>\n                    <span class="arrow-line inline-block col-sm-9" style="width:74%;">\n                        <div class="line inline-block">\n                            <div class="arrow left inline-block"></div>\n                            <div class="arrow right inline-block"></div>\n                        </div>\n                    </span>\n                    <span class="inline-block">非常不满意</span>\n                </div>\n                <div class="table-cell one w-60">\n                    <div class="table-cell bg1">10</div>\n                    <div class="table-cell bg1">9</div>\n                    <div class="table-cell bg1">8</div>\n                    <div class="table-cell bg1">7</div>\n                    <div class="table-cell bg1">6</div>\n                    <div class="table-cell bg1">5</div>\n                    <div class="table-cell bg1">4</div>\n                    <div class="table-cell bg1">3</div>\n                    <div class="table-cell bg1">2</div>\n                    <div class="table-cell bg1">1</div>\n                </div>\n            </div>\n'+(null!=(r=a.each.call(null!=n?n:{},null!=n?n.evaluateAll:n,{name:"each",hash:{},fn:e.program(11,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"        </div>\n"},11:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{},d=a.helperMissing;return'                <div class="table-row clearfix border-bot" '+(null!=(r=a.if.call(o,null!=n?n.isLast:n,{name:"if",hash:{},fn:e.program(12,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'>\n                    <div class="table-cell border-bot one w-10 left title-left">\n                        '+e.escapeExpression((a.map||n&&n.map||d).call(o,"class-questionnaire-evaluate",i&&i.index,{name:"map",hash:{},data:i}))+"\n                    </div>\n"+(null!=(r=(a.compare||n&&n.compare||d).call(o,i&&i.index,"eq",1,{name:"compare",hash:{},fn:e.program(14,i,0,l,s),inverse:e.program(17,i,0,l,s),data:i}))?r:"")+"                </div>\n"},12:function(e,n,a,t,i){return' style="border-bottom: 0 none;"'},14:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.item:n,{name:"each",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:""},15:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                            <div class="table-cell border-bot one w-30">\n                                <span class="num m-left">'+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'</span>\n                                <span class="num-r">'+d((l=null!=(l=a.questionName||(null!=n?n.questionName:n))?l:r,typeof l===o?l.call(s,{name:"questionName",hash:{},data:i}):l))+'</span>\n                            </div>\n                            <div class="table-cell border-bot one w-60">\n                                \x3c!-- if(../../evaluateResult.isModifiable) --\x3e\n                                \x3c!--     .pull-left.w-full.text-left.color1(style=\'padding-left:18px;\') > echo(answer) --\x3e\n                                \x3c!-- else --\x3e\n                                <div class="pull-left w-full text-center" name="default" data-value="10" data-researchRecordId="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-courseId="'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+'" data-type="'+d((l=null!=(l=a.type||(null!=n?n.type:n))?l:r,typeof l===o?l.call(s,{name:"type",hash:{},data:i}):l))+'">评价结果取：课程师资评价</div>\n                            </div>\n'},17:function(e,n,a,t,i,l,s){var r;return null!=(r=a.each.call(null!=n?n:{},null!=n?n.item:n,{name:"each",hash:{},fn:e.program(18,i,0,l,s),inverse:e.noop,data:i}))?r:""},18:function(e,n,a,t,i,l,s){var r;return null!=(r=a.if.call(null!=n?n:{},null!=n?n.special:n,{name:"if",hash:{},fn:e.program(19,i,0,l,s),inverse:e.program(22,i,0,l,s),data:i}))?r:""},19:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                                <div class="table-cell border-bot one w-30">\n                                    <span class="num m-left">'+c((s=null!=(s=a.order||(null!=n?n.order:n))?s:o,typeof s===d?s.call(r,{name:"order",hash:{},data:i}):s))+'</span>\n                                    <span class="num-r">'+c((s=null!=(s=a.questionName||(null!=n?n.questionName:n))?s:o,typeof s===d?s.call(r,{name:"questionName",hash:{},data:i}):s))+'</span>\n                                </div>\n                                <div class="table-cell border-bot one w-60 '+(null!=(l=a.if.call(r,null!=n?n.hasBg:n,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+'">\n                                    \x3c!-- if(../../evaluateResult.isModifiable) --\x3e\n                                    \x3c!--     .pull-left.w-full.text-left.color1(style=\'padding-left:18px;\') > echo(answer) --\x3e\n                                    \x3c!-- else --\x3e\n                                    <div class="pull-left w-full text-center" name="default" data-value="10" data-researchRecordId="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-courseId="'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+'" data-type="'+c((s=null!=(s=a.type||(null!=n?n.type:n))?s:o,typeof s===d?s.call(r,{name:"type",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.specialText||(null!=n?n.specialText:n))?s:o,typeof s===d?s.call(r,{name:"specialText",hash:{},data:i}):s))+"</div>\n                                </div>\n"},20:function(e,n,a,t,i){return"bg1"},22:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.escapeExpression;return'                                <div class="table-cell border-bot one w-30" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(23,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'>\n                                    <span class="num m-left">'+u((o=null!=(o=a.order||(null!=n?n.order:n))?o:c,"function"==typeof o?o.call(d,{name:"order",hash:{},data:i}):o))+'</span>\n                                    <span class="num-r">'+u((o=null!=(o=a.questionName||(null!=n?n.questionName:n))?o:c,"function"==typeof o?o.call(d,{name:"questionName",hash:{},data:i}):o))+'</span>\n                                </div>\n                                <div class="table-cell border-bot bg1 one w-60" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(23,i,0,l,s),inverse:e.noop,data:i}))?r:"")+">\n"+(null!=(r=a.each.call(d,null!=n?n.arr:n,{name:"each",hash:{},fn:e.program(25,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(31,i,0,l,s),inverse:e.program(33,i,0,l,s),data:i}))?r:"")+"                                </div>\n"},23:function(e,n,a,t,i){return' style="height:7em;"'},25:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.lambda,m=e.escapeExpression;return'                                        <div class="pull-left w-10 text-center">\n'+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=n?n.value:n,"eq",null!=s[1]?s[1].answer:s[1],{name:"compare",hash:{},fn:e.program(26,i,0,l,s),inverse:e.program(29,i,0,l,s),data:i}))?r:"")+'                                            <label for="radio-'+m(u(null!=s[1]?s[1].id:s[1],n))+m(u(null!=s[1]?s[1].order:s[1],n))+"-"+m((o=null!=(o=a.index||i&&i.index)?o:c,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'"></label>\n                                        </div>\n'},26:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=e.lambda,u=e.escapeExpression,m=a.helperMissing;return'                                                <input class="hide" '+(null!=(r=a.if.call(d,null!=s[1]?s[1].isModifiable:s[1],{name:"if",hash:{},fn:e.program(27,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="radio" name="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-researchRecordId="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-courseId="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+'" data-type="'+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-order="'+u(c(null!=s[1]?s[1].order:s[1],n))+'" id="radio-'+u(c(null!=s[1]?s[1].id:s[1],n))+u(c(null!=s[1]?s[1].order:s[1],n))+"-"+u((o=null!=(o=a.index||i&&i.index)?o:m,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'" checked="checked"/>\n'},27:function(e,n,a,t,i){return" disabled"},29:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=e.lambda,u=e.escapeExpression,m=a.helperMissing;return'                                                <input class="hide" '+(null!=(r=a.if.call(d,null!=s[1]?s[1].isModifiable:s[1],{name:"if",hash:{},fn:e.program(27,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="radio" name="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-researchRecordId="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-courseId="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+'" data-type="'+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-order="'+u(c(null!=s[1]?s[1].order:s[1],n))+'" id="radio-'+u(c(null!=s[1]?s[1].id:s[1],n))+u(c(null!=s[1]?s[1].order:s[1],n))+"-"+u((o=null!=(o=a.index||i&&i.index)?o:m,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'"/>\n'},31:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                                        <div class="pull-left w-full" id="reason-'+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" style="padding:0 20px;" title="'+d((l=null!=(l=a.idea||(null!=n?n.idea:n))?l:r,typeof l===o?l.call(s,{name:"idea",hash:{},data:i}):l))+'">\n                                            <input class="input w-full" id="input-'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" type="text" data-order="'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" value="'+d((l=null!=(l=a.idea||(null!=n?n.idea:n))?l:r,typeof l===o?l.call(s,{name:"idea",hash:{},data:i}):l))+'" disabled/>\n                                        </div>\n'},33:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                        <div class="pull-left w-full hide" id="reason-'+o((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,"function"==typeof l?l.call(s,{name:"order",hash:{},data:i}):l))+'" style="padding:0 20px;">\n                                            <input class="input w-full" id="input-'+o((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,"function"==typeof l?l.call(s,{name:"order",hash:{},data:i}):l))+'" type="text" data-order="'+o((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,"function"==typeof l?l.call(s,{name:"order",hash:{},data:i}):l))+'" maxlength="200" placeholder="请填写具体问题和建议，必填" x-rule="required"/>\n                                        </div>\n'},35:function(e,n,a,t,i,l,s){var r;return'        <div class="main-one main-two layout-mt-small layout-mb">\n            <div class="table-cell one big text-overflow w-full pull-none">\n                <span>课程师资评价</span>\n                <span class="sub-text small-font inline-block vertical-top">\n                    (选择题必填，意见建议选填)\n                </span>\n            </div>\n'+(null!=(r=a.each.call(null!=n?n:{},null!=n?n.evaluateCourse:n,{name:"each",hash:{},fn:e.program(36,i,0,l,s),inverse:e.program(71,i,0,l,s),data:i}))?r:"")+"        </div>\n"},36:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u="function",m=e.escapeExpression;return'                <div class="toggle bg-highlight clearfix relative" '+(null!=(r=a.if.call(d,null!=n?n.mt:n,{name:"if",hash:{},fn:e.program(37,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'>\n                    <div class="inline-block w-40 text-overflow" title="'+m((o=null!=(o=a.courseName||(null!=n?n.courseName:n))?o:c,typeof o===u?o.call(d,{name:"courseName",hash:{},data:i}):o))+'">\n                        培训课程：\n                        '+m((o=null!=(o=a.courseName||(null!=n?n.courseName:n))?o:c,typeof o===u?o.call(d,{name:"courseName",hash:{},data:i}):o))+'\n                    </div>\n                    <div class="inline-block w-20 text-overflow" title="'+m((o=null!=(o=a.teacherName||(null!=n?n.teacherName:n))?o:c,typeof o===u?o.call(d,{name:"teacherName",hash:{},data:i}):o))+'" style="padding-left:8px;">\n                        讲师姓名：\n                        '+m((o=null!=(o=a.teacherName||(null!=n?n.teacherName:n))?o:c,typeof o===u?o.call(d,{name:"teacherName",hash:{},data:i}):o))+'\n                    </div>\n                    <div class="inline-block text-overflow layout-ml">\n                        课程时间：\n                        '+m((o=null!=(o=a.courseTime||(null!=n?n.courseTime:n))?o:c,typeof o===u?o.call(d,{name:"courseTime",hash:{},data:i}):o))+"\n                        "+m((o=null!=(o=a.courseStartTime||(null!=n?n.courseStartTime:n))?o:c,typeof o===u?o.call(d,{name:"courseStartTime",hash:{},data:i}):o))+"\n                        -\n                        "+m((o=null!=(o=a.courseEndTime||(null!=n?n.courseEndTime:n))?o:c,typeof o===u?o.call(d,{name:"courseEndTime",hash:{},data:i}):o))+"\n                    </div>\n"+(null!=(r=a.if.call(d,null!=n?n.isAnswer:n,{name:"if",hash:{},fn:e.program(39,i,0,l,s),inverse:e.program(41,i,0,l,s),data:i}))?r:"")+"                </div>\n                <div "+(null!=(r=a.if.call(d,null!=n?n.isAnswer:n,{name:"if",hash:{},fn:e.program(43,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' id="course-'+m((o=null!=(o=a.index||i&&i.index)?o:c,typeof o===u?o.call(d,{name:"index",hash:{},data:i}):o))+'">\n                    <div class="table-row row-one clearfix border-none border-left">\n                        <div class="table-cell one w-40 text-overflow text-center text-main-color" style="line-height:6em;">评价项目</div>\n                        <div class="table-cell one w-60 bg1 text-main-color text-center s-height">\n                            <span class="inline-block">非常符合</span>\n                            <span class="arrow-line inline-block col-sm-9" style="width:74%;">\n                                <div class="line inline-block">\n                                    <div class="arrow left inline-block"></div>\n                                    <div class="arrow right inline-block"></div>\n                                </div>\n                            </span>\n                            <span class="inline-block">非常不符合</span>\n                        </div>\n                        <div class="table-cell one w-60">\n                            <div class="table-cell bg1">10</div>\n                            <div class="table-cell bg1">9</div>\n                            <div class="table-cell bg1">8</div>\n                            <div class="table-cell bg1">7</div>\n                            <div class="table-cell bg1">6</div>\n                            <div class="table-cell bg1">5</div>\n                            <div class="table-cell bg1">4</div>\n                            <div class="table-cell bg1">3</div>\n                            <div class="table-cell bg1">2</div>\n                            <div class="table-cell bg1">1</div>\n                        </div>\n                    </div>\n                    <div class="table-row row-one border-none clearfix">\n                        <div class="table-cell one w-full text-center text-main-color item-bg" style="height:4em;line-height:4em;">\n                            课程内容\n                        </div>\n                    </div>\n                    <div class="table-row clearfix border-none">\n'+(null!=(r=a.each.call(d,null!=n?n.arr1:n,{name:"each",hash:{},fn:e.program(45,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'                    </div>\n                    <div class="table-row row-one border-none clearfix">\n                        <div class="table-cell one w-full text-center text-main-color item-bg" style="height:4em;line-height:4em;">\n                            师资表现\n                        </div>\n                    </div>\n                    <div class="table-row clearfix border-none">\n'+(null!=(r=a.each.call(d,null!=n?n.arr2:n,{name:"each",hash:{},fn:e.program(55,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'                    </div>\n                    <div class="table-row row-one border-none clearfix">\n                        <div class="table-cell one w-full item-bg" style="height:4em;line-height:4em;padding-left:13px;">\n                            对本课程有何优化意见建议\n                        </div>\n                    </div>\n                    <div class="table-row clearfix border-none">\n'+(null!=(r=a.each.call(d,null!=n?n.arr3:n,{name:"each",hash:{},fn:e.program(68,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"                    </div>\n                </div>\n"},37:function(e,n,a,t,i){return' style="margin-top:3em;"'},39:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <div class="btn small toggle-btn show" id="arrow-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">\n                            <i class="iconfont icon-arrow-double-down scale-1 icon" id="icon-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"></i>\n                            <span id="text-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">展开</span>\n                        </div>\n'},41:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <div class="btn small toggle-btn" id="arrow-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">\n                            <i class="iconfont icon-arrow-double-up scale-1 icon" id="icon-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"></i>\n                            <span id="text-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">收起</span>\n                        </div>\n'},43:function(e,n,a,t,i){return' class="hide"'},45:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing;return'                            <div class="table-cell border-bot one w-40 border-left" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(23,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'>\n                                <span class="num m-left">'+e.escapeExpression((o=null!=(o=a.type||(null!=n?n.type:n))?o:c,"function"==typeof o?o.call(d,{name:"type",hash:{},data:i}):o))+'</span>\n                                <span class="num-r">'+(null!=(o=null!=(o=a.questionName||(null!=n?n.questionName:n))?o:c,r="function"==typeof o?o.call(d,{name:"questionName",hash:{},data:i}):o)?r:"")+'</span>\n                            </div>\n                            <div class="table-cell border-bot bg1 one w-60" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(23,i,0,l,s),inverse:e.noop,data:i}))?r:"")+">\n"+(null!=(r=a.each.call(d,null!=n?n.arr:n,{name:"each",hash:{},fn:e.program(46,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(51,i,0,l,s),inverse:e.program(53,i,0,l,s),data:i}))?r:"")+"                            </div>\n"},46:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.lambda,m=e.escapeExpression;return'                                    <div class="pull-left w-10 text-center">\n'+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=n?n.value:n,"eq",null!=s[1]?s[1].answer:s[1],{name:"compare",hash:{},fn:e.program(47,i,0,l,s),inverse:e.program(49,i,0,l,s),data:i}))?r:"")+'                                        <label for="radio-'+m(u(null!=s[1]?s[1].courseId:s[1],n))+"-"+m(u(null!=s[1]?s[1].type:s[1],n))+"-"+m((o=null!=(o=a.index||i&&i.index)?o:c,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'"></label>\n                                    </div>\n'},47:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=e.lambda,u=e.escapeExpression,m=a.helperMissing;return'                                            <input class="hide" '+(null!=(r=a.if.call(d,null!=s[1]?s[1].isModifiable:s[1],{name:"if",hash:{},fn:e.program(27,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="radio" name="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-researchRecordId="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-courseId="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+'" data-type="'+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-order="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+u(c(null!=s[1]?s[1].order:s[1],n))+'" id="radio-'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+"-"+u((o=null!=(o=a.index||i&&i.index)?o:m,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'" checked="checked"/>\n'},49:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=e.lambda,u=e.escapeExpression,m=a.helperMissing;return'                                            <input class="hide" '+(null!=(r=a.if.call(d,null!=s[1]?s[1].isModifiable:s[1],{name:"if",hash:{},fn:e.program(27,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="radio" name="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-researchRecordId="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-courseId="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+'" data-type="'+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-order="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+u(c(null!=s[1]?s[1].order:s[1],n))+'" id="radio-'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+"-"+u((o=null!=(o=a.index||i&&i.index)?o:m,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'"/>\n'},51:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                                    <div class="pull-left w-full" id="reason-'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+c((s=null!=(s=a.order||(null!=n?n.order:n))?s:o,typeof s===d?s.call(r,{name:"order",hash:{},data:i}):s))+'" style="padding:0 20px;" title="'+c((s=null!=(s=a.idea||(null!=n?n.idea:n))?s:o,typeof s===d?s.call(r,{name:"idea",hash:{},data:i}):s))+'">\n                                        <input class="input w-full" '+(null!=(l=a.if.call(r,null!=n?n.isDisable:n,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")+' id="input-'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+c((s=null!=(s=a.order||(null!=n?n.order:n))?s:o,typeof s===d?s.call(r,{name:"order",hash:{},data:i}):s))+'" type="text" data-order="'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+c((s=null!=(s=a.order||(null!=n?n.order:n))?s:o,typeof s===d?s.call(r,{name:"order",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.idea||(null!=n?n.idea:n))?s:o,typeof s===d?s.call(r,{name:"idea",hash:{},data:i}):s))+'"/>\n                                    </div>\n'},53:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                                    <div class="pull-left w-full hide" id="reason-'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" style="padding:0 20px;">\n                                        <input class="input w-full" id="input-'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" type="text" data-order="'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" maxlength="200" placeholder="请填写具体问题和建议，必填" x-rule="required"/>\n                                    </div>\n'},55:function(e,n,a,t,i,l,s){var r;return null!=(r=a.if.call(null!=n?n:{},null!=n?n.special:n,{name:"if",hash:{},fn:e.program(56,i,0,l,s),inverse:e.program(58,i,0,l,s),data:i}))?r:""},56:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                                <div class="table-cell border-bot one w-40">\n                                    <span class="num m-left">'+c((s=null!=(s=a.type||(null!=n?n.type:n))?s:o,typeof s===d?s.call(r,{name:"type",hash:{},data:i}):s))+'</span>\n                                    <span class="num-r">'+(null!=(s=null!=(s=a.questionName||(null!=n?n.questionName:n))?s:o,l=typeof s===d?s.call(r,{name:"questionName",hash:{},data:i}):s)?l:"")+'</span>\n                                </div>\n                                <div class="table-cell border-bot bg1 one w-60">\n                                    <div class="pull-left w-full text-center" name="default" data-value="10" data-researchRecordId="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-courseId="'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+'" data-type="'+c((s=null!=(s=a.type||(null!=n?n.type:n))?s:o,typeof s===d?s.call(r,{name:"type",hash:{},data:i}):s))+'">本次为线上培训，无需评估此维度</div>\n                                </div>\n'},58:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing;return'                                <div class="table-cell border-bot one w-40 border-left" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(23,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'>\n                                    <span class="num m-left">'+e.escapeExpression((o=null!=(o=a.type||(null!=n?n.type:n))?o:c,"function"==typeof o?o.call(d,{name:"type",hash:{},data:i}):o))+'</span>\n                                    <span class="num-r">'+(null!=(o=null!=(o=a.questionName||(null!=n?n.questionName:n))?o:c,r="function"==typeof o?o.call(d,{name:"questionName",hash:{},data:i}):o)?r:"")+'</span>\n                                </div>\n                                <div class="table-cell border-bot bg1 one w-60" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(23,i,0,l,s),inverse:e.noop,data:i}))?r:"")+">\n"+(null!=(r=a.each.call(d,null!=n?n.arr:n,{name:"each",hash:{},fn:e.program(59,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(64,i,0,l,s),inverse:e.program(66,i,0,l,s),data:i}))?r:"")+"                                </div>\n"},59:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.lambda,m=e.escapeExpression;return'                                        <div class="pull-left w-10 text-center">\n'+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=n?n.value:n,"eq",null!=s[1]?s[1].answer:s[1],{name:"compare",hash:{},fn:e.program(60,i,0,l,s),inverse:e.program(62,i,0,l,s),data:i
}))?r:"")+'                                            <label for="radio-'+m(u(null!=s[1]?s[1].courseId:s[1],n))+"-"+m(u(null!=s[1]?s[1].type:s[1],n))+"-"+m((o=null!=(o=a.index||i&&i.index)?o:c,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'"></label>\n                                        </div>\n'},60:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=e.lambda,u=e.escapeExpression,m=a.helperMissing;return'                                                <input class="hide" '+(null!=(r=a.if.call(d,null!=s[1]?s[1].isModifiable:s[1],{name:"if",hash:{},fn:e.program(27,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="radio" name="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-researchRecordId="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-courseId="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+'" data-type="'+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-order="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+u(c(null!=s[1]?s[1].order:s[1],n))+'" id="radio-'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+"-"+u((o=null!=(o=a.index||i&&i.index)?o:m,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'" checked="checked"/>\n'},62:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=e.lambda,u=e.escapeExpression,m=a.helperMissing;return'                                                <input class="hide" '+(null!=(r=a.if.call(d,null!=s[1]?s[1].isModifiable:s[1],{name:"if",hash:{},fn:e.program(27,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="radio" name="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-researchRecordId="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-courseId="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+'" data-type="'+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-order="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+u(c(null!=s[1]?s[1].order:s[1],n))+'" id="radio-'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+"-"+u((o=null!=(o=a.index||i&&i.index)?o:m,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'"/>\n'},64:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                                        <div class="pull-left w-full" id="reason-'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+c((s=null!=(s=a.order||(null!=n?n.order:n))?s:o,typeof s===d?s.call(r,{name:"order",hash:{},data:i}):s))+'" style="padding:0 20px;" title="'+c((s=null!=(s=a.idea||(null!=n?n.idea:n))?s:o,typeof s===d?s.call(r,{name:"idea",hash:{},data:i}):s))+'">\n                                            <input class="input w-full" '+(null!=(l=a.if.call(r,null!=n?n.isDisable:n,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")+' id="input-'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+c((s=null!=(s=a.order||(null!=n?n.order:n))?s:o,typeof s===d?s.call(r,{name:"order",hash:{},data:i}):s))+'" type="text" data-order="'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+c((s=null!=(s=a.order||(null!=n?n.order:n))?s:o,typeof s===d?s.call(r,{name:"order",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.idea||(null!=n?n.idea:n))?s:o,typeof s===d?s.call(r,{name:"idea",hash:{},data:i}):s))+'"/>\n                                        </div>\n'},66:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                                        <div class="pull-left w-full hide" id="reason-'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" style="padding:0 20px;">\n                                            <input class="input w-full" id="input-'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" type="text" data-order="'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" maxlength="200" placeholder="请填写具体问题和建议，必填" x-rule="required"/>\n                                        </div>\n'},68:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                            <div class="table-cell one w-full auto">\n                                <textarea class="input w-full border-light" '+(null!=(l=a.if.call(r,null!=n?n.isModifiable:n,{name:"if",hash:{},fn:e.program(69,i,0),inverse:e.noop,data:i}))?l:"")+' type="text" rows="5" maxLength="3000" placeholder="选填" name="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-researchRecordId="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-courseId="'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+'" data-type="'+c((s=null!=(s=a.type||(null!=n?n.type:n))?s:o,typeof s===d?s.call(r,{name:"type",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.answer||(null!=n?n.answer:n))?s:o,typeof s===d?s.call(r,{name:"answer",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.answer||(null!=n?n.answer:n))?s:o,typeof s===d?s.call(r,{name:"answer",hash:{},data:i}):s))+"</textarea>\n                            </div>\n"},69:function(e,n,a,t,i){return' style="color: #999;" readonly'},71:function(e,n,a,t,i){return"                暂无内容\n"},73:function(e,n,a,t,i){var l;return'        <div class="main-one mt layout-mb">\n            <div class="table-row row-one clearfix"><div class="table-cell one big normal-lheight text-overflow">\n                <span>第二部分：主观题</span>\n                <span class="sub-text small-font inline-block vertical-top">（作为优化和改进培训工作的参考，选填）</span>\n            </div></div>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.evaluateSubjective:n,{name:"each",hash:{},fn:e.program(74,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},74:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                <div class="item-san layout-mt-small">\n                    <div class="san-div">\n                        <span class="num m-left">'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'</span>\n                        <span class="num-r title-color">'+c((s=null!=(s=a.questionName||(null!=n?n.questionName:n))?s:o,typeof s===d?s.call(r,{name:"questionName",hash:{},data:i}):s))+'</span>\n                    </div>\n                    <div class="m-top">\n                        <textarea class="input m-left w-full" '+(null!=(l=a.if.call(r,null!=n?n.isModifiable:n,{name:"if",hash:{},fn:e.program(69,i,0),inverse:e.noop,data:i}))?l:"")+' type="text" maxLength="3000" placeholder="选填" name="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-researchRecordId="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-courseId="'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+'" data-type="'+c((s=null!=(s=a.type||(null!=n?n.type:n))?s:o,typeof s===d?s.call(r,{name:"type",hash:{},data:i}):s))+'" rows="5" value="'+c((s=null!=(s=a.answer||(null!=n?n.answer:n))?s:o,typeof s===d?s.call(r,{name:"answer",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.answer||(null!=n?n.answer:n))?s:o,typeof s===d?s.call(r,{name:"answer",hash:{},data:i}):s))+"</textarea>\n                    </div>\n                </div>\n"},76:function(e,n,a,t,i){return'        <div class="text-center layout-mb">\n            <div id="submit" class="btn l-width">提交</div>\n            <div class="text-main-color">\n                <i class="iconfont icon-tanhao"></i>\n                此问卷提交后不可修改，请慎重提交\n            </div>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i,l,s){var r,o,d,c=null!=n?n:{},u=a.helperMissing,m="";return o=null!=(o=a.module||(null!=n?n.module:n))?o:u,d={name:"module",hash:{},fn:e.program(1,i,0,l,s),inverse:e.noop,data:i},r="function"==typeof o?o.call(c,d):o,a.module||(r=a.blockHelperMissing.call(n,r,d)),null!=r&&(m+=r),m+"\n"+(null!=(r=(a.view||n&&n.view||u).call(c,"main",{name:"view",hash:{},fn:e.program(3,i,0,l,s),inverse:e.noop,data:i}))?r:"")},useData:!0,useDepths:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-detail-party/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("jquery"),l=e("./app/util/helpers");a.bindings={evaluateResult:!0,classInfo:!0,viewEvaluate:!0},a.events={"click arrow-*":"toggleArrow","click radio-*":"radio","keyup input-*":"changeInput","change input-*":"changeInput","focusout input-*":"focusoutInput"},a.handlers={toggleArrow:function(e){"收起"===i(this.$("text-"+e)).text()?(i(this.$("icon-"+e)).addClass("icon-arrow-double-down").removeClass("icon-arrow-double-up"),i(this.$("text-"+e)).html("展开"),i(this.$("course-"+e)).addClass("hide").removeClass("show")):(i(this.$("icon-"+e)).addClass("icon-arrow-double-up").removeClass("icon-arrow-double-down"),i(this.$("text-"+e)).html("收起"),i(this.$("course-"+e)).addClass("show").removeClass("hide"))},radio:function(e,n,a){var t,l=window.parseInt(a.value),s=a.getAttribute("data-order"),r=this.$("reason-"+s),o=i(a).parent().parent(),d=o.parent().find(".left");l&&l<9?(o.addClass("max").removeClass("small-height "),o.prev().addClass("max").removeClass("small-height "),i(r).addClass("show").removeClass("hide"),t=window.parseInt(s)%2==0?o.height()+o.prev().prev().height():o.height()+o.next().height(),d&&d.height(t+1)):(o.removeClass("max").addClass("small-height "),o.prev().removeClass("max").addClass("small-height "),i(r).removeClass("show").addClass("hide"),i(r).val(""),t=window.parseInt(s)%2==0?o.height()+o.prev().prev().height():o.height()+o.next().height(),d&&d.height(t+1))},changeInput:function(e,n,a){i(a).val()&&i(a).val().trim().length<=0?i(a).val(""):i(a).val().trim().length>200?(i(a).val(i(a).val().trim().slice(0,201)),this.$("input-"+e).classList.remove("input-error")):this.$("input-"+e).classList.remove("input-error")},focusoutInput:function(e){this.$("input-"+e).classList.remove("input-error")}},a.actions={"click submit":"submit"},a.dataForActions={submit:function(){var e,n=this,a=this.bindings.evaluateResult.data,l=i('input[type="radio"]:checked'),s=i('input[type="text"]'),r=i('textarea[type="text"]'),o=i('div[name="default"]'),d=[],c=[],u=0;return t.map(l,function(e){var n,a=e,i=a.getAttribute("data-courseId"),l=a.getAttribute("data-researchRecordId"),r=a.getAttribute("data-type"),o=a.getAttribute("data-order");n=t.filter(s,function(e){return e.getAttribute("data-order")===o&&e}),window.parseInt(a.value)<9?c.push(n[0]):n[0]="",d.push({courseId:i,questionnaireQuestionId:l,type:r,answer:a.value,idea:n[0]&&n[0].value||""})}),t.every(c,function(e){var n=e;return null===n.value||""===n.value||0===n.value.trim().length||"请填写具体问题和建议，必填"===n.value||"请填写具体问题和建议，必填"===n.value.trim()?(n.value="",n.focus(),n.classList.add("focus"),n.classList.add("input-error"),u++,!1):n}),u>0?(u=0,n.app.message.error("请填写完必填项后再提交"),!1):(t.map(r,function(e){var n=e,a=n.getAttribute("data-courseId"),t=n.getAttribute("data-researchRecordId"),i=n.getAttribute("data-type");d.push({courseId:a,questionnaireQuestionId:t,type:i,answer:n.value})}),t.map(o,function(e){var n=e,a=n.getAttribute("data-courseId"),t=n.getAttribute("data-researchRecordId"),i=n.getAttribute("data-type"),l=n.getAttribute("data-value");d.push({courseId:a,questionnaireQuestionId:t,type:i,answer:l})}),e=JSON.stringify(d),{answers:e,researchRecordId:a.researchRecordId,classId:this.module.renderOptions.classId})}},a.actionCallbacks={submit:function(){this.app.message.success("问卷提交成功"),setTimeout(function(){window.close()},1e3)}},a.dataForTemplate={isEnsemble:function(){return this.module.renderOptions.isEnsemble},fullName:function(){return this.app.global.currentUser.fullName},evaluateAll:function(){var e,n,a=[{value:"10",checked:!0},{value:"9",checked:!1},{value:"8",checked:!1},{value:"7",checked:!1},{value:"6",checked:!1},{value:"5",checked:!1},{value:"4",checked:!1},{value:"3",checked:!1},{value:"2",checked:!1},{value:"1",checked:!1}],i=this.bindings.evaluateResult.data,l=this.bindings.viewEvaluate.data,s=[],r=[],o="";return l&&!l.isModifiable?(e=t.filter(i.item,{level:1}),n=i.classType):(e=t.filter(l.item,{level:1}),n=l.classType),t.map(e,function(e){var n=e;""===o||o===n.typeBranch?r.push(n):""!==o&&o!==n.typeBranch&&(s.push({item:r}),r=[],r.push(n)),o=n.typeBranch}),s.push({item:r}),t.map(s,function(e,s){var r=e;return t.map(r.item||[],function(e,t){var r=e,o=t;return r.special=!1,1===s&&(r.special=!0,r.specialText="评价结果取自第二部分：课程师资评价",r.hasBg=!1),2===n&&(2===s&&0===o||3===s)&&(r.special=!0,r.specialText="本次为线上培训，无需评估此维度",r.hasBg=!0),r.isModifiable=i.isModifiable||l.isModifiable,r.arr=a,r.answer&&window.parseInt(r.answer)<9&&(r.isIdea=!0,(i.isModifiable||l.isModifiable)&&(r.isDisable=!0)),r}),4===s&&(r.isLast=!0),r}),s},evaluateCourse:function(){var e,n,a=[{value:"10",checked:!0},{value:"9",checked:!1},{value:"8",checked:!1},{value:"7",checked:!1},{value:"6",checked:!1},{value:"5",checked:!1},{value:"4",checked:!1},{value:"3",checked:!1},{value:"2",checked:!1},{value:"1",checked:!1}],i=this.bindings.evaluateResult.data,s=this.bindings.viewEvaluate.data,r=[],o=[],d="";return s&&!s.isModifiable?(e=t.filter(i.item,{level:2}),n=i.classType):(e=t.filter(s.item,{level:2}),n=s.classType),!(!e||e.length<=0)&&(t.map(e,function(e){var n=e;""===d||d===n.courseId?o.push(n):""!==d&&d!==n.courseId&&(r.push({item:o}),o=[],o.push(n)),d=n.courseId}),r.push({item:o}),t.map(r,function(e,r){var o=e,d=[],c=[],u=[];return 0!==r&&(o.mt=!0),t.map(o.item||[],function(e){var t=e;return t.special=!1,t.classType=n,2===t.classType&&5===t.courseType&&(t.special=!0),t.isModifiable=i.isModifiable||s.isModifiable,o.courseName=t.courseName,o.teacherName=t.teacherName,t.courseTime&&"number"==typeof t.courseTime&&(t.courseTime=l.date(t.courseTime),o.courseTime=Number(t.courseTime.split("-")[1])+"月"+Number(t.courseTime.split("-")[2])+"日"),o.courseStartTime=t.courseStartTime,o.courseEndTime=t.courseEndTime,t.arr=a,t.answer&&window.parseInt(t.answer)<9&&(t.isIdea=!0,(i.isModifiable||s.isModifiable)&&(t.isDisable=!0)),1===t.typeBranch&&d.push(t),2===t.typeBranch&&c.push(t),3===t.typeBranch&&u.push(t),t}),o.arr1=d,o.arr2=c,o.arr3=u,o.isAnswer=t.filter(o.arr1,function(e){return!!e.isAnswer}),o}),r)},evaluateSubjective:function(){var e,n=this.bindings.evaluateResult.data,a=this.bindings.viewEvaluate.data;return e=a&&!a.isModifiable?t.filter(n.item,{level:3}):t.filter(a.item,{level:3}),e=t.map(e,function(e,t){var i=e;return i.isModifiable=n.isModifiable||a.isModifiable,i.index=t+1,i})},isModifiable:function(){var e=this.bindings.evaluateResult.data,n=this.bindings.viewEvaluate.data;return e.isModifiable||n.isModifiable},projectDate:function(e){var n={};return e.classInfo&&(n.arriveDate=l.date(e.classInfo.arriveDate),n.returnDate=l.date(e.classInfo.returnDate),n.returnDate=n.returnDate.substring(5),n.date=Number(n.arriveDate.split("-")[0])+"年"+Number(n.arriveDate.split("-")[1])+"月"+Number(n.arriveDate.split("-")[2])+"日至"+Number(n.returnDate.split("-")[0])+"月"+Number(n.returnDate.split("-")[1])+"日"),n.date}},a.afterRender=function(){var e=i(".title-left");t.map(e,function(e){var n=e,a=i(n).next(),t=a.next().next();i(n).height(a.height()+t.height()+1)})}},{"./app/util/helpers":"./app/util/helpers",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-detail-service/index",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/helpers"),l=e("./app/util/strings"),s=e("drizzle-zxy");a.store={models:{researchRecord:{url:"../train/questionnaire-survey/front/research-detail"},answer:{data:[],mixin:{getData:function(){var e=this;return{researchAnswerRecords:JSON.stringify(t.map(this.data,function(n){return{questionId:n.questionId,answer:n.answer,idea:n.idea,researchRecordId:e.store.models.researchRecord.data.id,score:1}}))}}}},rcRecord:{url:"../train/questionnaire-survey/get-by-research"},form:{url:"../train/questionnaire-survey/submit"},researchs:{url:"../train/questionnaire-survey/research-details"},staticfaction:{url:"../train/class-evaluate/front-class-detail"},classId:{data:{}},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.classInfo,t=this.models.researchs;if(t.params={classId:e.classId},this.models.classId.data=e.classId,a.clear(),a.params.id=e.classId,this.get(t),e.researchRecord)n.set(e.researchRecord),this.get(a);else if(e.researchQuestionaryId)return n.params={researchQuestionaryId:e.researchQuestionaryId,classId:e.classId},this.get(a),this.get(n,{loading:!0});return""},submit:function(){var e=this,n=this.models.researchRecord,a=this.models.classId.data,i=this.models.answer.getData().researchAnswerRecords||[],r=0,o=0,d=[];return this.models.staticfaction.clear(),this.models.staticfaction.params={classId:this.module.renderOptions.classId,type:5},e.module.dispatch("getRecordByResearch",{researchId:n.data.researchQuestionary.id}).then(function(c){var u=c[0].status;return 1===Number(u)&&(o=1),0!==o?(e.app.message.error("请勿重复提交"),!1):("string"==typeof i&&(i=JSON.parse(i)),t.map(i||[],function(e){var n=e;return 11!==Number(n.questionId)&&12!==Number(n.questionId)&&13!==Number(n.questionId)&&("2"!==e.answer&&"3"!==e.answer&&"4"!==e.answer||null!==e.idea&&""!==e.idea&&0!==e.idea.trim().length||(r=1)),n}),1===r?(e.app.message.alert("选择一般或者不满意或者很不满意时，请输入意见再提交"),!1):(t.map(i||[],function(e){var n={researchRecordId:e.researchRecordId,researchAnswerRecords:i};d.push(n)}),e.models.form.set(s.assign({},e.models.answer.getData(),{researchQuestionaryId:n.params.researchQuestionaryId,classId:a})),e.post(e.models.form).then(function(){var n=e.models.researchRecord.data;e.app.message.success(l.get("submit-success")),e.app.navigate("train/class-detail/research-answer/"+n.id+"/"+a,{loading:!0})})))})},submits:function(e){var n,a=this,r=this.models.researchRecord,o=this.models.classId.data,d=this.models.answer.getData().researchAnswerRecords||[],c=0,u=0,m=[],p=(new Date).getTime(),h={},f=window.open();return this.models.staticfaction.clear(),this.models.staticfaction.params={classId:this.module.renderOptions.classId,type:5},a.module.dispatch("getRecordByResearch",{researchId:r.data.researchQuestionary.id}).then(function(v){var g=v[0].status;return 1===Number(g)&&(u=1),0!==u?(a.app.message.error("请勿重复提交"),f.close(),!1):("string"==typeof d&&(d=JSON.parse(d)),t.map(d||[],function(e){var n=e;return 11!==Number(n.questionId)&&12!==Number(n.questionId)&&13!==Number(n.questionId)&&("2"!==e.answer&&"3"!==e.answer&&"4"!==e.answer||null!==e.idea&&""!==e.idea&&0!==e.idea.trim().length||(c=1)),n}),1===c?(a.app.message.alert("选择一般或者不满意或者很不满意时，请输入意见再提交"),f.close(),!1):(t.map(d||[],function(e){var n={researchRecordId:e.researchRecordId,researchAnswerRecords:d};m.push(n)}),a.models.form.set(s.assign({},a.models.answer.getData(),{researchQuestionaryId:r.params.researchQuestionaryId,classId:o})),null!==e&&e.length>0?a.post(a.models.form).then(function(){var t=a.models.researchRecord.data;a.app.navigate("train/class-detail/research-answer/"+t.id+"/"+o,{loading:!0}),a.get(a.models.staticfaction).then(function(t){var l=t[0];if(l){if(1===l.release){if(p<l.startTime)return h="您好，该问卷时间未到,请在"+i.dateMinute(l.startTime)+"~"+i.dateMinute(l.endTime)+"进行问卷，谢谢",a.app.message.alert(h),f.close(),!1;if(p>=l.startTime&&p<=l.endTime)return n="#/train/class-detail/paper-researchs/"+e+"/"+o,f.location=n,!0;if(p>l.endTime)return a.app.message.alert("您好，该问卷已过期，无法参与，谢谢"),f.close(),!0}return a.app.message.alert("暂无四度评估问卷！"),f.close(),!1}return a.app.message.alert("暂无四度评估问卷！"),f.close(),!1})}):a.post(a.models.form).then(function(){var e=a.models.researchRecord.data;a.app.message.success(l.get("submit-success")),a.app.navigate("train/class-detail/research-answer/"+e.id+"/"+o,{loading:!0})})))})},getRecordByResearch:function(e){return this.models.rcRecord.clear(),s.assign(this.models.rcRecord.params,{researchId:e.researchId}),this.get(this.models.rcRecord)}}},a.items={main:"main"},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.tname="train.statistics.ques.research-answf"},{"./app/util/helpers":"./app/util/helpers","./app/util/strings":"./app/util/strings","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-detail-service/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="research-progress w-half layout-mt clearfix">\n        <div class="pro-item doing">\n            <span class="layout-mr-small">1</span>\n            <span>进行满意度评估</span>\n        </div>\n        <div class="pro-item wait">\n            <span class="layout-mr-small">2</span>\n            <span>进行四度评估</span>\n        </div>\n    </div>\n    <div class="big-title text-center strong">请您进行培训班满意度评估。</div>\n    <p class="h4 text-center">非常感谢您对学院各项工作的理解、支持和帮助。为持续提升培训质量，请留下您对培训的评价及建议。并祝您工作顺利、万事如意！</p>\n    <div class="top-area clearfix">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">'+r(s(null!=(l=null!=n?n.research:n)?l.fullName:l,n))+'，您正在评估的培训班是：</div>\n            <div class="h2 m-top">'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'</div>\n            <div class="layout-mt-small">\n                <span>项目日期：</span>\n                <span class="sub-text">'+r(s(null!=(l=null!=n?n.research:n)?l.date:l,n))+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt-small">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight text-overflow" title="第一部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content1:l,n))+'">第一部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content1:l,n))+'</div>\n            <div class="table-cell bg1 one">\n                <div class="pull-left w-20 text-center">满意</div>\n                <div class="pull-left w-20 text-center">基本满意</div>\n                <div class="pull-left w-20 text-center">一般</div>\n                <div class="pull-left w-20 text-center">不满意</div>\n                <div class="pull-left w-20 text-center">很不满意</div>\n            </div>\n        </div>\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.researchRecord:n)?l.arr1:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'        <div class="main-one main-two layout-mt">\n            <div class="table-row row-one clearfix active">\n                <div class="table-cell one big w-35 text-overflow" title="第二部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content2:l,n))+'">第二部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content2:l,n))+'</div>\n                <div class="table-cell bg1 w-30">\n                    <div class="h4">课程内容安排</div>\n                    <div class="clearfix">\n                        <div class="pull-left w-20">满意</div>\n                        <div class="pull-left w-20">基本满意</div>\n                        <div class="pull-left w-20">一般</div>\n                        <div class="pull-left w-20">不满意</div>\n                        <div class="pull-left w-20">很不满意</div>\n                    </div>\n                </div>\n                <div class="table-cell bg2 w-30">\n                    <div class="h4 color2">讲师授课水平</div>\n                    <div class="clearfix">\n                        <div class="pull-left w-20">满意</div>\n                        <div class="pull-left w-20">基本满意</div>\n                        <div class="pull-left w-20">一般</div>\n                        <div class="pull-left w-20">不满意</div>\n                        <div class="pull-left w-20">很不满意</div>\n                    </div>\n                </div>\n                <div class="table-cell bg3 w-5 color3 small">\n                    <div>\n                        <div>推荐</div>\n                        <div>课程</div>\n                    </div>\n                </div>\n            </div>\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.researchRecord:n)?l.arr2:l,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'        </div>\n        <div class="main-one mt layout-mb">\n            <div class="table-row row-one clearfix"><div class="table-cell one big normal-lheight text-overflow" title="第三部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content3:l,n))+'（选填）">第三部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content3:l,n))+'（选填）</div></div>\n            <div class="item-san layout-mt-small">\n                <div class="san-div">\n                    <span class="num m-left">1</span>\n                    <span class="num-r strong">本次培训您认为哪些方面最有价值？主要收获有哪些？</span>\n                </div>\n                <div class="m-top">\n                    <textarea class="input m-left w-full" name="value-" rows="5" maxlength="3000" placeholder="请填写意见，您的意见非常宝贵"></textarea>\n                </div>\n            </div>\n            <div class="item-san layout-mt-small">\n                <div class="san-div">\n                    <span class="num m-left">2</span>\n                    <span class="num-r strong">本次培训您认为存在哪些不足？您的建议是什么？</span>\n                </div>\n                <div class="m-top">\n                    <textarea class="input m-left w-full" name="value-" rows="5" maxlength="3000" placeholder="请填写意见，您的意见非常宝贵"></textarea>\n                </div>\n            </div>\n            <div class="item-san layout-mt-small">\n                <div class="san-div">\n                    <span class="num m-left">3</span>\n                    <span class="num-r strong">其它意见或建议？</span>\n                </div>\n                <div class="m-top">\n                    <textarea class="input m-left w-full" name="value-" rows="5" maxlength="3000" placeholder="请填写意见，您的意见非常宝贵"></textarea>\n                </div>\n            </div>\n        </div>\n    </div>\n'},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'            <div class="table-row clearfix">\n                <div class="table-cell one">\n                    <span class="num m-left">'+d((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,typeof l===o?l.call(s,{name:"i",hash:{},data:i}):l))+'</span>\n                    <span class="num-r" title="'+d((l=null!=(l=a.content||(null!=n?n.content:n))?l:r,typeof l===o?l.call(s,{name:"content",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.content||(null!=n?n.content:n))?l:r,typeof l===o?l.call(s,{name:"content",hash:{},data:i}):l))+'</span>\n                </div>\n                <div class="table-cell bg1 one">\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'0" value="0" checked="checked"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'0"></label>\n                    </div>\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'1" value="1"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'1"></label>\n                    </div>\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'2" value="2"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'2"></label>\n                    </div>\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'3" value="3"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'3"></label>\n                    </div>\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'4" value="4"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'4"></label>\n                    </div>\n                    <div class="write text-center hide" id="tease-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'4"><input class="input col-sm-10 small-font" id="in-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" type="text" maxlength="200" placeholder="请填写不满意的具体原因..."/></div>\n                </div>\n            </div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                <div class="table-row clearfix">\n                    <div class="table-cell one w-35" myname="row">\n                        <span class="num m-left">'+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+'</span>\n                        <span class="num-r" title="'+c((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,typeof s===d?s.call(r,{name:"content",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,typeof s===d?s.call(r,{name:"content",hash:{},data:i}):s))+'</span>\n                    </div>\n                    <div class="table-cell w-30 bg1">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",
hash:{},data:i}):s))+'0" value="0" checked="checked"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'0"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'1" value="1"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'1"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'2" value="2"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'2"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'3" value="3"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'3"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'4" value="4"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'4"></label>\n                        </div>\n                        <div class="write hide" id="tease-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'4"><input class="input col-sm-10 small-font" id="in-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" type="text" maxlength="200" placeholder="请填写不满意的具体原因..."/></div>\n                    </div>\n                    <div class="table-cell w-30 bg2">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'0" value="0" checked="checked"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'0"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'1" value="1"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'1"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'2" value="2"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'2"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'3" value="3"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'3"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'4" value="4"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'4"></label>\n                        </div>\n                        <div class="write hide" id="tease-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'4"><input class="input col-sm-10 small-font" id="in-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" type="text" maxlength="200" placeholder="请填写不满意的具体原因..."/></div>\n                    </div>\n                    <div class="table-cell w-5 bg3">\n                        <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" name="'+c((s=null!=(s=a.idC||(null!=n?n.idC:n))?s:o,typeof s===d?s.call(r,{name:"idC",hash:{},data:i}):s))+'" id="check-'+c((s=null!=(s=a.idC||(null!=n?n.idC:n))?s:o,typeof s===d?s.call(r,{name:"idC",hash:{},data:i}):s))+'6" value="6"/>\n                        <label class="iconfont icon-dianzan" for="check-'+c((s=null!=(s=a.idC||(null!=n?n.idC:n))?s:o,typeof s===d?s.call(r,{name:"idC",hash:{},data:i}):s))+'6"></label>\n                    </div>\n                </div>\n'},7:function(e,n,a,t,i){return' checked="checked"'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-detail/index",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/helpers"),l=e("./app/util/strings"),s=e("drizzle-zxy");a.store={models:{researchRecord:{url:"../train/questionnaire-survey/front/research-detail"},answer:{data:[],mixin:{getData:function(){var e=this;return{researchAnswerRecords:JSON.stringify(t.map(this.data,function(n){return{questionId:n.questionId,answer:n.answer,idea:n.idea,researchRecordId:e.store.models.researchRecord.data.id,score:1}}))}}}},rcRecord:{url:"../train/questionnaire-survey/get-by-research"},form:{url:"../train/questionnaire-survey/submit"},researchs:{url:"../train/questionnaire-survey/research-details"},staticfaction:{url:"../train/class-evaluate/front-class-detail"},classId:{data:{}},classInfo:{url:"../train/class-info/get"},researchRecordStatus:{url:"../train/questionnaire-survey/get-researchRecord"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.classInfo,t=this.models.researchRecordStatus,i=this.models.researchs;if(t.clear(),i.params={classId:e.classId},t.params={classId:e.classId,type:5},this.models.classId.data=e.classId,a.clear(),a.params.id=e.classId,this.get(i),this.get(t),e.researchRecord)n.set(e.researchRecord),this.get(a);else if(e.researchQuestionaryId)return n.params={researchQuestionaryId:e.researchQuestionaryId,classId:e.classId},this.get(a),this.get(n,{loading:!0});return""},submit:function(){var e=this,n=this.models.researchRecord,a=this.models.classId.data,i=this.models.answer.getData().researchAnswerRecords||[],r=0,o=0,d=[];return this.models.staticfaction.clear(),this.models.staticfaction.params={classId:this.module.renderOptions.classId,type:5},e.module.dispatch("getRecordByResearch",{researchId:n.data.researchQuestionary.id}).then(function(c){var u=c[0].status;return 1===Number(u)&&(o=1),0!==o?(e.app.message.error("请勿重复提交"),!1):("string"==typeof i&&(i=JSON.parse(i)),t.map(i||[],function(e){var n=e;return 11!==Number(n.questionId)&&12!==Number(n.questionId)&&13!==Number(n.questionId)&&("2"!==e.answer&&"3"!==e.answer&&"4"!==e.answer||null!==e.idea&&""!==e.idea&&0!==e.idea.trim().length||(r=1)),n}),1===r?(e.app.message.alert("选择一般或者不满意或者很不满意时，请输入意见再提交"),!1):(t.map(i||[],function(e){var n={researchRecordId:e.researchRecordId,researchAnswerRecords:i};d.push(n)}),e.models.form.set(s.assign({},e.models.answer.getData(),{researchQuestionaryId:n.params.researchQuestionaryId,classId:a})),e.post(e.models.form).then(function(){var n=e.models.researchRecord.data;e.app.message.success(l.get("submit-success")),e.app.navigate("train/class-detail/research-answer/"+n.id+"/"+a,{loading:!0})})))})},submits:function(e){var n,a=this,r=this.models.researchRecord,o=this.models.classId.data,d=this.models.answer.getData().researchAnswerRecords||[],c=0,u=0,m=[],p=(new Date).getTime(),h={},f=window.open();return this.models.staticfaction.clear(),this.models.staticfaction.params={classId:this.module.renderOptions.classId,type:5},a.module.dispatch("getRecordByResearch",{researchId:r.data.researchQuestionary.id}).then(function(v){var g=v[0].status;return 1===Number(g)&&(u=1),0!==u?(a.app.message.error("请勿重复提交"),f.close(),!1):("string"==typeof d&&(d=JSON.parse(d)),t.map(d||[],function(e){var n=e;return 11!==Number(n.questionId)&&12!==Number(n.questionId)&&13!==Number(n.questionId)&&("2"!==e.answer&&"3"!==e.answer&&"4"!==e.answer||null!==e.idea&&""!==e.idea&&0!==e.idea.trim().length||(c=1)),n}),1===c?(a.app.message.alert("选择一般或者不满意或者很不满意时，请输入意见再提交"),f.close(),!1):(t.map(d||[],function(e){var n={researchRecordId:e.researchRecordId,researchAnswerRecords:d};m.push(n)}),a.models.form.set(s.assign({},a.models.answer.getData(),{researchQuestionaryId:r.params.researchQuestionaryId,classId:o})),null!==e&&e.length>0?a.post(a.models.form).then(function(){var t=a.models.researchRecord.data;a.app.navigate("train/class-detail/research-answer/"+t.id+"/"+o,{loading:!0}),a.get(a.models.staticfaction).then(function(t){var l=t[0];if(l){if(1===l.release){if(p<l.startTime)return h="您好，该问卷时间未到,请在"+i.dateMinute(l.startTime)+"~"+i.dateMinute(l.endTime)+"进行问卷，谢谢",a.app.message.alert(h),f.close(),!1;if(p>=l.startTime&&p<=l.endTime)return n="#/train/class-detail/paper-researchs/"+e+"/"+o,f.location=n,!0;if(p>l.endTime)return a.app.message.alert("您好，该问卷已过期，无法参与，谢谢"),f.close(),!0}return a.app.message.alert("暂无四度评估问卷！"),f.close(),!1}return a.app.message.alert("暂无四度评估问卷！"),f.close(),!1})}):a.post(a.models.form).then(function(){var e=a.models.researchRecord.data;a.app.message.success(l.get("submit-success")),a.app.navigate("train/class-detail/research-answer/"+e.id+"/"+o,{loading:!0})})))})},getRecordByResearch:function(e){return this.models.rcRecord.clear(),s.assign(this.models.rcRecord.params,{researchId:e.researchId}),this.get(this.models.rcRecord)}}},a.items={main:"main"},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/helpers":"./app/util/helpers","./app/util/strings":"./app/util/strings","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-detail/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-satifi-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.lambda,d=e.escapeExpression;return'    <div class="research-progress w-half layout-mt clearfix">\n        <div class="pro-item doing">\n            <span class="layout-mr-small">1</span>\n            <span>进行满意度评估</span>\n        </div>\n'+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.researchRecordStatus:n)?l.status:l,"eq",1,{name:"compare",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'    </div>\n    <div class="big-title text-center strong">请您进行培训班满意度评估。</div>\n    <p class="h4 text-left m-left">非常感谢您对学院各项工作的理解、支持和帮助。为持续提升培训质量，请留下您对培训的评价及建议。并祝您工作顺利、万事如意！</p>\n    <div class="top-area clearfix layout-ml">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">'+d(o(null!=(l=null!=n?n.research:n)?l.fullName:l,n))+'，您正在评估的培训班是：</div>\n            <div class="h2 m-top text-overflow" style="height:4.2em;" title="'+d(o(null!=(l=null!=n?n.research:n)?l.className:l,n))+'">'+d(o(null!=(l=null!=n?n.research:n)?l.className:l,n))+'</div>\n            <div class="m-top">\n                <span>项目日期：</span>\n                <span class="sub-text">'+d(o(null!=(l=null!=n?n.research:n)?l.date:l,n))+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight text-overflow" title="第一部分：'+d(o(null!=(l=null!=n?n.researchRecord:n)?l.content1:l,n))+'">第一部分：'+d(o(null!=(l=null!=n?n.researchRecord:n)?l.content1:l,n))+'</div>\n            <div class="table-cell bg1">满意</div>\n            <div class="table-cell bg1">基本满意</div>\n            <div class="table-cell bg1">一般</div>\n            <div class="table-cell bg1">不满意</div>\n            <div class="table-cell bg1">很不满意</div>\n        </div>\n'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.researchRecord:n)?l.arr1:l,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'        <div class="main-one main-two layout-mt">\n            <div class="table-row row-one clearfix active">\n                <div class="table-cell one big w-35 text-overflow" title="第二部分：'+d(o(null!=(l=null!=n?n.researchRecord:n)?l.content2:l,n))+'">第二部分：'+d(o(null!=(l=null!=n?n.researchRecord:n)?l.content2:l,n))+'</div>\n                <div class="table-cell bg1 w-30">\n                    <div class="h4">课程内容安排</div>\n                    <div class="clearfix">\n                        <div class="pull-left w-20">满意</div>\n                        <div class="pull-left w-20">基本满意</div>\n                        <div class="pull-left w-20">一般</div>\n                        <div class="pull-left w-20">不满意</div>\n                        <div class="pull-left w-20">很不满意</div>\n                    </div>\n                </div>\n                <div class="table-cell bg2 w-30">\n                    <div class="h4 color2">讲师授课水平</div>\n                    <div class="clearfix">\n                        <div class="pull-left w-20">满意</div>\n                        <div class="pull-left w-20">基本满意</div>\n                        <div class="pull-left w-20">一般</div>\n                        <div class="pull-left w-20">不满意</div>\n                        <div class="pull-left w-20">很不满意</div>\n                    </div>\n                </div>\n                <div class="table-cell bg3 w-5 color3 small">\n                    <div>\n                        <div>推荐</div>\n                        <div>课程</div>\n                    </div>\n                </div>\n            </div>\n'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.researchRecord:n)?l.arr2:l,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+'        </div>\n        <div class="main-one mt layout-mb">\n            <div class="table-row row-one clearfix"><div class="table-cell one big normal-lheight text-overflow" title="第三部分：'+d(o(null!=(l=null!=n?n.researchRecord:n)?l.content3:l,n))+'（选填）">第三部分：'+d(o(null!=(l=null!=n?n.researchRecord:n)?l.content3:l,n))+'（选填）</div></div>\n            <div class="item-san layout-mt-small">\n                <div class="san-div">\n                    <span class="num m-left">1</span>\n                    <span class="num-r title-color">本次培训您认为哪些方面最有价值？主要收获有哪些？</span>\n                </div>\n                <div class="m-top">\n                    <textarea class="input m-left w-full" name="value-" rows="5" maxlength="3000" placeholder="请填写意见，您的意见非常宝贵"></textarea>\n                </div>\n            </div>\n            <div class="item-san layout-mt-small">\n                <div class="san-div">\n                    <span class="num m-left">2</span>\n                    <span class="num-r title-color">本次培训您认为存在哪些不足？您的建议是什么？</span>\n                </div>\n                <div class="m-top">\n                    <textarea class="input m-left w-full" name="value-" rows="5" maxlength="3000" placeholder="请填写意见，您的意见非常宝贵"></textarea>\n                </div>\n            </div>\n            <div class="item-san layout-mt-small">\n                <div class="san-div">\n                    <span class="num m-left">3</span>\n                    <span class="num-r title-color">其它意见或建议？</span>\n                </div>\n                <div class="m-top">\n                    <textarea class="input m-left w-full" name="value-" rows="5" maxlength="3000" placeholder="请填写意见，您的意见非常宝贵"></textarea>\n                </div>\n            </div>\n'+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.researchRecord:n)?l.but:l,"eq",1,{name:"compare",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+"        </div>\n    </div>\n"},4:function(e,n,a,t,i){return'            <div class="pro-item done">\n                <span class="iconfont icon-tick layout-mr-small"></span>\n                <span>进行四度评估</span>\n            </div>\n'},6:function(e,n,a,t,i){return'            <div class="pro-item wait">\n                <span class="layout-mr-small">2</span>\n                <span>进行四度评估</span>\n            </div>\n'},8:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'            <div class="table-row clearfix">\n                <div class="table-cell one">\n                    <span class="num m-left">'+d((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,typeof l===o?l.call(s,{name:"i",hash:{},data:i}):l))+'</span>\n                    <span class="num-r" title="'+d((l=null!=(l=a.content||(null!=n?n.content:n))?l:r,typeof l===o?l.call(s,{name:"content",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.content||(null!=n?n.content:n))?l:r,typeof l===o?l.call(s,{name:"content",hash:{},data:i}):l))+'</span>\n                </div>\n                <div class="table-cell bg1 one">\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'0" value="0" checked="checked"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'0"></label>\n                    </div>\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'1" value="1"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'1"></label>\n                    </div>\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'2" value="2"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'2"></label>\n                    </div>\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'3" value="3"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'3"></label>\n                    </div>\n                    <div class="pull-left w-20 text-center">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'4" value="4"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'4"></label>\n                    </div>\n                    <div class="write text-center hide" id="tease-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'4"><input class="input col-sm-10 small-font" id="in-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" type="text" maxlength="200" placeholder="请填写不满意的具体原因..."/></div>\n                </div>\n            </div>\n'},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                <div class="table-row clearfix">\n                    <div class="table-cell one w-35" myname="row">\n                        <span class="num m-left">'+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+'</span>\n                        <span class="num-r" title="'+c((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,typeof s===d?s.call(r,{name:"content",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,typeof s===d?s.call(r,{name:"content",hash:{},data:i}):s))+'</span>\n                    </div>\n                    <div class="table-cell w-30 bg1">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'0" value="0" checked="checked"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'0"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'1" value="1"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'1"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'2" value="2"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'2"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'3" value="3"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'3"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'4" value="4"/>\n                            <label for="radio-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'4"></label>\n                        </div>\n                        <div class="write hide" id="tease-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'4"><input class="input col-sm-10 small-font" id="in-'+c((s=null!=(s=a.idA||(null!=n?n.idA:n))?s:o,typeof s===d?s.call(r,{name:"idA",hash:{},data:i}):s))+'" type="text" maxlength="200" placeholder="请填写不满意的具体原因..."/></div>\n                    </div>\n                    <div class="table-cell w-30 bg2">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'0" value="0" checked="checked"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'0"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'1" value="1"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'1"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'2" value="2"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'2"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'3" value="3"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'3"></label>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'4" value="4"/>\n                            <label for="radio-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'4"></label>\n                        </div>\n                        <div class="write hide" id="tease-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'4"><input class="input col-sm-10 small-font" id="in-'+c((s=null!=(s=a.idB||(null!=n?n.idB:n))?s:o,typeof s===d?s.call(r,{name:"idB",hash:{},data:i}):s))+'" type="text" maxlength="200" placeholder="请填写不满意的具体原因..."/></div>\n                    </div>\n                    <div class="table-cell w-5 bg3">\n                        <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" name="'+c((s=null!=(s=a.idC||(null!=n?n.idC:n))?s:o,typeof s===d?s.call(r,{name:"idC",hash:{},data:i}):s))+'" id="check-'+c((s=null!=(s=a.idC||(null!=n?n.idC:n))?s:o,typeof s===d?s.call(r,{name:"idC",hash:{},data:i}):s))+'6" value="6"/>\n                        <label class="iconfont icon-dianzan" for="check-'+c((s=null!=(s=a.idC||(null!=n?n.idC:n))?s:o,typeof s===d?s.call(r,{name:"idC",hash:{},data:i}):s))+'6"></label>\n                    </div>\n                </div>\n'},11:function(e,n,a,t,i){return' checked="checked"'},13:function(e,n,a,t,i){return'                <div class="text-center"><div id="submits" class="btn satifi">提交并进入四度评估</div></div>\n'},15:function(e,n,a,t,i){return'                <div class="text-center"><div id="submit" class="btn big">提交问卷</div></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-detail/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("lodash/array"),l=e("jquery"),s=e("./app/util/helpers");a.bindings={researchRecord:!0,researchs:!0,answer:!0,classInfo:!0,researchRecordStatus:!0},a.events={"click radio-*":"radio"},a.handlers={radio:function(e){var n=l(this.$("radio-"+e)),a=n.parent().parent();"2"===n.val()||"3"===n.val()||"4"===n.val()?(a.find(".write").removeClass("hide").addClass("show"),a.parent().addClass("active")):(a.find(".write").removeClass("show").addClass("hide"),a.parent().find(".write").hasClass("show")||a.parent().removeClass("active"))}},a.actions={"click submit":"submit","click submits":"submits"},
a.dataForActions={submit:function(){var e=this,n=l('input[type="radio"]:checked'),a=l('input[type="checkbox"]:checked'),i=l('input[type="text"]'),s=l(this.$$('[name="value-"]')),r=[],o=[],d=[],c=[],u=0;return t.forEach(n,function(e){var n=e;r.push(n.name),o.push(n.name),d.push(n.value)}),t.forEach(a,function(e){var n=e;r.push(n.name),o.push(n.name),d.push(n.value)}),t.forEach(i,function(e){var n=e;c.push(n.value)}),t.forEach(s,function(e,n){var a=e;o.push(n+11),null!==a.value&&""!==a.value&&0!==a.value.trim().length||(u+=1),d.push(a.value)}),t.forEach(o,function(e,n){var a=o,t={};t.questionId=a[n],t.answer=d[n],t.idea=c[n],r.push(t)}),this.bindings.answer.data=r,0===u||this.Promise.create(function(n){var a="您还有"+u+"题未作答，确认交卷吗？";e.app.message.confirm(a,function(){n(!0)},function(){n(!1)})})},submits:function(){var e=this,n=l('input[type="radio"]:checked'),a=l('input[type="checkbox"]:checked'),i=l('input[type="text"]'),s=l(this.$$('[name="value-"]')),r=[],o=[],d=[],c=[],u=0;return t.forEach(n,function(e){var n=e;r.push(n.name),o.push(n.name),d.push(n.value)}),t.forEach(a,function(e){var n=e;r.push(n.name),o.push(n.name),d.push(n.value)}),t.forEach(i,function(e){var n=e;c.push(n.value)}),t.forEach(s,function(e,n){var a=e;o.push(n+11),null!==a.value&&""!==a.value&&0!==a.value.trim().length||(u+=1),d.push(a.value)}),t.forEach(o,function(e,n){var a=o,t={};t.questionId=a[n],t.answer=d[n],t.idea=c[n],r.push(t)}),this.bindings.answer.data=r,0===u?e.bindings.researchs.data.id?e.bindings.researchs.data.id:null:this.Promise.create(function(n){var a="您还有"+u+"题未作答，确认交卷吗？";e.app.message.confirm(a,function(){n(e.bindings.researchs.data.id?e.bindings.researchs.data.id:null)},function(){n(!1)})})}},a.dataForTemplate={researchRecord:function(e){var n=e.researchRecord.researchQuestionary||{},a=e.researchRecord.member||{},l=this.bindings.researchs.data||{},s=(new Date).getTime(),r={};return r.but=0,r.arr1=t.find(n.dimensions,["order",1]).questions,r.arr2=t.find(n.dimensions,["order",2]).questions,r.arr3=t.find(n.dimensions,["order",3]).questions,r.content1=t.find(n.dimensions,["order",1]).name,r.content2=t.find(n.dimensions,["order",2]).name,r.content3=t.find(n.dimensions,["order",3]).name,r.arr1=t.orderBy(r.arr1,["order"],["asc"]),r.arr2=t.orderBy(r.arr2,["order"],["asc"]),r.arr3=t.orderBy(r.arr3,["order"],["asc"]),t.map(r.arr1||[],function(e,n){var a=e;a.i=n+1,a.questionAttrs=t.orderBy(a.questionAttrs,["score"],["desc"]),a.A=a.questionAttrs[0].name,a.B=a.questionAttrs[1].name,a.C=a.questionAttrs[2].name,a.D=a.questionAttrs[3].name,a.E=a.questionAttrs[4].name}),r.arr2=i.chunk(r.arr2,3),t.map(r.arr2||[],function(e,n){var a=e;a.i=n+1,a[0].questionAttrs=t.orderBy(a[0].questionAttrs,["score"],["desc"]),a[1].questionAttrs=t.orderBy(a[1].questionAttrs,["score"],["desc"]),a[2].questionAttrs=t.orderBy(a[2].questionAttrs,["score"],["desc"]),a.content=a[0].content.substring(0,a[0].content.lastIndexOf(")")+1),a.idA=a[0].id,a.idB=a[1].id,a.idC=a[2].id,a.A=a[0].questionAttrs[0].name,a.B=a[0].questionAttrs[1].name,a.C=a[0].questionAttrs[2].name,a.D=a[0].questionAttrs[3].name,a.E=a[0].questionAttrs[4].name,a.A1=a[1].questionAttrs[0].name,a.B1=a[1].questionAttrs[1].name,a.C1=a[1].questionAttrs[2].name,a.D1=a[1].questionAttrs[3].name,a.E1=a[1].questionAttrs[4].name,a.A2=a[2].questionAttrs[0].name}),r.wendaA=r.arr3[0].content,r.wendaB=r.arr3[1].content,r.wendaC=r.arr3[2].content,r.wendaIDA=r.arr3[0].id,r.wendaIDB=r.arr3[1].id,r.wendaIDC=r.arr3[2].id,r.questionaryDetail=n.questionaryDetail,r.fullName=a.fullName,r.name=n.name,r.tag1=r.questionaryDetail.substring(0,6),r.temp1=r.questionaryDetail.substring(6),r.tag2=r.temp1.substring(0,59),r.temp2=r.questionaryDetail.substring(65),r.temp3=r.temp2.split("计划时间:"),r.tag3=r.temp3[0],r.tag4=r.temp3[1],l&&l.startTime<=s&&l.endTime>=s&&0===l.commitStatuss&&(r.but=1),r},research:function(e){var n=e.researchRecord.researchQuestionary||{};return n.fullName=e.researchRecord.fullName,e.classInfo&&(n.arriveDate=s.date(e.classInfo.arriveDate),n.arriveDate=n.arriveDate.replace(/-/g,"."),n.returnDate=s.date(e.classInfo.returnDate),n.returnDate=n.returnDate.replace(/-/g,"."),n.returnDate=n.returnDate.substring(5),n.date=n.arriveDate+"-"+n.returnDate,n.className=e.classInfo.className),n},researchRecordStatus:function(e){return e.researchRecordStatus||{}}}},{"./app/util/helpers":"./app/util/helpers",jquery:!1,"lodash/array":623,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-detaill/index",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/strings"),l=e("drizzle-zxy");a.store={models:{researchRecord:{url:"../train/questionnaire-survey/front/research-detail"},answer:{data:[],mixin:{getData:function(){var e=this;return{researchAnswerRecords:JSON.stringify(t.map(this.data,function(n){return{questionId:n.questionId,answer:n.answer,idea:"",researchRecordId:e.store.models.researchRecord.data.id,score:1}}))}}}},rcRecord:{url:"../train/questionnaire-survey/get-by-researchl"},form:{url:"../train/questionnaire-survey/submitl"},classId:{data:{}},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.classInfo;if(a.clear(),a.params.id=e.classId,this.models.classId.data=e.classId,e.researchRecord)n.set(e.researchRecord),this.get(a);else if(e.researchQuestionaryId)return n.params={researchQuestionaryId:e.researchQuestionaryId,classId:e.classId},this.get(a),this.get(n,{loading:!0});return""},submit:function(){var e=this,n=this.models.researchRecord,a=this.models.classId.data,s=this.models.answer.getData().researchAnswerRecords||[],r=0,o=[];return e.module.dispatch("getRecordByResearch",{researchId:n.data.researchQuestionary.id}).then(function(d){var c=d[0].status;return 1===Number(c)&&(r=1),0!==r?(e.app.message.error("请勿重复提交"),!1):("string"==typeof s&&(s=JSON.parse(s)),t.map(s||[],function(e){var n={researchRecordId:e.researchRecordId,researchAnswerRecords:s};o.push(n)}),e.models.form.set(l.assign({},e.models.answer.getData(),{researchQuestionaryId:n.params.researchQuestionaryId,classId:a})),e.post(e.models.form).then(function(){var n=e.models.researchRecord.data;e.app.message.success(i.get("submit-success")),e.app.navigate("train/class-detail/research-answerl/"+n.id+"/"+a,{loading:!0})}))})},getRecordByResearch:function(e){return this.models.rcRecord.clear(),l.assign(this.models.rcRecord.params,{researchId:e.researchId}),this.get(this.models.rcRecord)}}},a.items={main:"main"},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/strings":"./app/util/strings","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-detaill/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-four-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression
;return'    <div class="big-title text-center strong">尊敬的领导，您好。</div>\n    <p class="h4 text-left m-left">为了评估学员（'+r(s(null!=(l=null!=n?n.research:n)?l.traineeName:l,n))+'）在培训后回到工作中的能力提升情况，为了解您对本次培训效果的反馈和建议，我们非常希望能得到您的宝贵意见，为培训工作的持续改进提供支持，请您完整而如实地回答，感谢您的支持与合作。</p>\n    <div class="top-area clearfix layout-ml">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">'+r(s(null!=(l=null!=n?n.research:n)?l.traineeName:l,n))+'参加的培训班是：</div>\n            <div class="h2 m-top text-overflow" style="height:4.2em;" title="'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'">'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'</div>\n            <div class="m-top">\n                <span>项目日期：</span>\n                <span class="sub-text">'+r(s(null!=(l=null!=n?n.research:n)?l.date:l,n))+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">总体满意度</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">员工参加集团培训项目后，您对培训效果整体是否满意？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'0" value="0"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'0"></label>\n                            <div class="inline-block">非常满意</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'1" value="1"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'1"></label>\n                            <div class="inline-block">满意</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'2" value="2" checked="checked"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'2"></label>\n                            <div class="inline-block">一般</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'3" value="3"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'3"></label>\n                            <div class="inline-block">不满意</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'4" value="4"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'4"></label>\n                            <div class="inline-block">非常不满意</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">战略相关度</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">员工参加集团培训项目后，对集团相关业务发展方向和工作思路的理解是否有所提升？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'0" value="0"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'0"></label>\n                            <div class="inline-block">有很大帮助</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'1" value="1"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'1"></label>\n                            <div class="inline-block">有一些帮助</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'2" value="2" checked="checked"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'2"></label>\n                            <div class="inline-block">一般</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'3" value="3"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'3"></label>\n                            <div class="inline-block">帮助不明显</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'4" value="4"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'4"></label>\n                            <div class="inline-block">无帮助</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">业务紧迫度</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">员工参加集团培训项目后，您认为是否能帮助你们解决相关领域或工作中遇到的问题？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'0" value="0"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'0"></label>\n                            <div class="inline-block">有很大帮助</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'1" value="1"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'1"></label>\n                            <div class="inline-block">有一些帮助</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'2" value="2" checked="checked"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'2"></label>\n                            <div class="inline-block">一般</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'3" value="3"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'3"></label>\n                            <div class="inline-block">帮助不明显</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'4" value="4"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'4"></label>\n                            <div class="inline-block">无帮助</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">工作指导度</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">员工参加集团培训项目后，您认为该员工在所参与培训领域的专业技能或工作水平是否得到提升？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'0" value="0"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'0"></label>\n                            <div class="inline-block">有很大提升</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'1" value="1"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'1"></label>\n                            <div class="inline-block">有一些提升</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'2" value="2" checked="checked"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'2"></label>\n                            <div class="inline-block">一般</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'3" value="3"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'3"></label>\n                            <div class="inline-block">提升不明显</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'4" value="4"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id4:l,n))+'4"></label>\n                            <div class="inline-block">无提升</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">知识前瞻度</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">员工参加集团培训后，对行业最新的发展动态及公司的心技术新业务知识的了解是否提升？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'0" value="0"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'0"></label>\n                            <div class="inline-block">有很大提升</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'1" value="1"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'1"></label>\n                            <div class="inline-block">有一些提升</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'2" value="2" checked="checked"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'2"></label>\n                            <div class="inline-block">一般</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'3" value="3"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'3"></label>\n                            <div class="inline-block">提升不明显</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'4" value="4"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id5:l,n))+'4"></label>\n                            <div class="inline-block">无提升</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">绩效改进度</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">员工参加集团培训项目后，对其工作绩效的改善程度</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'0" value="0"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'0"></label>\n                            <div class="inline-block">有明显改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'1" value="1"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'1"></label>\n                            <div class="inline-block">有改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'2" value="2" checked="checked"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'2"></label>\n                            <div class="inline-block">不能确定</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'3" value="3"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'3"></label>\n                            <div class="inline-block">没有明显改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'4" value="4"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id6:l,n))+'4"></label>\n                            <div class="inline-block">完全没有改善</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">培训频次</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">您感觉集团所组织的培训频次如何？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'0" value="0"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'0"></label>\n                            <div class="inline-block">频次过多</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'1" value="1"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'1"></label>\n                            <div class="inline-block">频次偏多</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'2" value="2" checked="checked"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'2"></label>\n                            <div class="inline-block">频次适中</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'3" value="3"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'3"></label>\n                            <div class="inline-block">频次偏少</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'4" value="4"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id7:l,n))+'4"></label>\n                            <div class="inline-block">频次过少</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">培训时间</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">您感觉集团所组织的培训时长怎么样</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'0" value="0"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'0"></label>\n                            <div class="inline-block">时间过长</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'1" value="1"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'1"></label>\n                            <div class="inline-block">时间偏长</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'2" value="2" checked="checked"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'2"></label>\n                            <div class="inline-block">时间合适</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'3" value="3"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'3"></label>\n                            <div class="inline-block">时间偏短</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'4" value="4"/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id8:l,n))+'4"></label>\n                            <div class="inline-block">时间过短</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt layout-mb">\n        <div class="table-row row-one clearfix"><div class="table-cell one big normal-lheight">开放问题</div></div>\n        <div class="item-san layout-mt-small">\n            <div class="san-div">\n                <span class="num m-left">1</span>\n                <span class="num-r">结合您的部门职责和重点工作，您希望您的团队在2019年参加哪些方面的培训项目？</span>\n            </div>\n            <div class="m-top">\n                <textarea class="input m-left w-full" name="value-" rows="5" maxlength="3000" placeholder="请填写意见，您的意见非常宝贵"></textarea>\n            </div>\n        </div>\n        <div class="item-san layout-mt-small">\n            <div class="san-div">\n                <span class="num m-left">2</span>\n                <span class="num-r">您对于集团组织的培训项目还有哪些建议？</span>\n            </div>\n            <div class="m-top">\n                <textarea class="input m-left w-full" name="value-" rows="5" maxlength="3000" placeholder="请填写意见，您的意见非常宝贵"></textarea>\n            </div>\n        </div>\n    </div>\n    <div class="text-center"><div id="submit" class="btn big">提交问卷</div></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-detaill/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("jquery"),l=e("./app/util/helpers");a.bindings={researchRecord:!0,answer:!0,classInfo:!0},a.actions={"click submit":"submit"},a.dataForActions={submit:function(){var e=i('input[type="radio"]:checked'),n=i(this.$$('[name="value-"]')),a=[],l=[],s=[];t.forEach(e,function(e){var n=e;l.push(n.name),s.push(n.value)}),t.forEach(n,function(e,n){var a=e;l.push(n+40),s.push(a.value)}),t.forEach(l,function(e,n){var t=l,i={};i.questionId=t[n],i.answer=s[n],a.push(i)}),this.bindings.answer.data=a}},a.actionCallbacks={},a.dataForTemplate={dimensions:function(e){var n=e.researchRecord.researchQuestionary||{},a={};return a.arr1=t.find(n.dimensions,["order",1]).questions,a.arr2=t.find(n.dimensions,["order",2]).questions,a.arr3=t.find(n.dimensions,["order",3]).questions,a.arr4=t.find(n.dimensions,["order",4]).questions,a.arr5=t.find(n.dimensions,["order",5]).questions,a.arr6=t.find(n.dimensions,["order",6]).questions,a.arr7=t.find(n.dimensions,["order",7]).questions,a.arr8=t.find(n.dimensions,["order",8]).questions,a.arr9=t.find(n.dimensions,["order",9]).questions,a.id1=a.arr1[0].id,a.id2=a.arr2[0].id,a.id3=a.arr3[0].id,a.id4=a.arr4[0].id,a.id5=a.arr5[0].id,a.id6=a.arr6[0].id,a.id7=a.arr7[0].id,a.id8=a.arr8[0].id,a.id9=a.arr9[0].id,a.id10=a.arr9[1].id,a},research:function(e){var n=e.researchRecord.researchQuestionary||{};return n.traineeName=n.name.substring(n.name.indexOf("（")+1,n.name.indexOf("）")),e.classInfo&&(n.arriveDate=l.date(e.classInfo.arriveDate),n.arriveDate=n.arriveDate.replace(/-/g,"."),n.returnDate=l.date(e.classInfo.returnDate),n.returnDate=n.returnDate.replace(/-/g,"."),n.returnDate=n.returnDate.substring(5),n.date=n.arriveDate+"-"+n.returnDate,n.className=e.classInfo.className),n}}},{"./app/util/helpers":"./app/util/helpers",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-detailn/index",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/strings"),l=e("drizzle-zxy");a.items={main:"main","train/class-detail/research-detailn/select-member-radio":{isModule:!0}},a.store={models:{researchRecord:{url:"../train/questionnaire-survey/front/research-detail"},answer:{data:[],mixin:{getData:function(){var e=this;return{researchAnswerRecords:JSON.stringify(t.map(this.data,function(n){return{questionId:n.questionId,answer:n.answer,idea:"",researchRecordId:e.store.models.researchRecord.data.id,score:1}}))}}}},rcRecord:{url:"../train/questionnaire-survey/get-by-researchn"},form:{url:"../train/questionnaire-survey/submitn"},makel:{url:"../train/questionnaire-survey/makel"},classId:{data:{}},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.classInfo;if(this.models.classId.data=e.classId,a.clear(),a.params.id=e.classId,e.researchRecord)n.set(e.researchRecord),this.get(a);else if(e.researchQuestionaryId)return n.params={researchQuestionaryId:e.researchQuestionaryId,classId:e.classId},this.get(a),this.get(n,{loading:!0});return""},submit:function(){var e=this,n=this.models.researchRecord,a=this.models.classId.data,s=this.models.answer.getData().researchAnswerRecords||[],r=0,o=[];return e.module.dispatch("getRecordByResearch",{researchId:n.data.researchQuestionary.id}).then(function(d){var c=d[0].status;return 1===Number(c)&&(r=1),0!==r?(e.app.message.error("请勿重复提交"),!1):("string"==typeof s&&(s=JSON.parse(s)),t.map(s||[],function(e){var n={researchRecordId:e.researchRecordId,researchAnswerRecords:s};o.push(n)}),e.models.form.set(l.assign({},e.models.answer.getData(),{researchQuestionaryId:n.params.researchQuestionaryId,classId:a})),e.post(e.models.form).then(function(){var n=e.models.researchRecord.data;e.app.message.success(i.get("submit-success")),e.app.navigate("train/class-detail/research-answern/"+n.id+"/"+a,{loading:!0})}))})},makeLeader:function(e){var n=this,a=n.app.global.currentUser.id,t=this.models.makel,i=this.models.classId.data;return e&&e.length>0&&(t.set({memberId:e,classId:i,userId:a}),n.post(t),n.app.message.success("转发成功")),!1},getRecordByResearch:function(e){return this.models.rcRecord.clear(),l.assign(this.models.rcRecord.params,{researchId:e.researchId}),
this.get(this.models.rcRecord)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/strings":"./app/util/strings","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-detailn/select-member-radio/index",function(e,n,a){var t=e("drizzle-zxy");a.title="请选择您的上级领导转发《学员上级领导问卷》",a.items={content:"content",toolbox:"toolbox"},a.large=!0,a.store={models:{members:{url:"../human/member/picker-for-train",type:"pageable",root:"items"},state:{data:{}},search:{data:{},mixin:{getQueryParams:function(){return{organizationId:"1"}}}}},callbacks:{refreshList:function(e){var n=t.assign({},this.models.search.getQueryParams(),e),a=this.models.members;a.clear(),a.params=n,""===n.name&&""===n.fullName||this.get(a)},searchKey:function(e){var n=t.assign({status:1},this.models.search.getQueryParams(),e),a=this.models.members;a.clear(),a.params=n,""===n.name&&""===n.fullName||this.get(a)}}},a.buttons=[{text:"确认转发",fn:function(){var e=this.store.models.state.data;return e.id?(this.renderOptions.callback(e),this.store.models.state.data={},!0):(this.app.message.error("请选择领导"),!1)}}]},{"drizzle-zxy":!1}),loadjs.d("./app/train/class-detail/research-detailn/select-member-radio/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="toolbox" data-region="toolbox"></div>\n    <div data-region="content"></div>\n'},3:function(e,n,a,t,i){return'<form id="searchKey" class="vertical">\n    员工编号\n    <input name="name"/>\n    姓名\n    <input name="fullName"/>\n    <btn id="searchMember" class="btn">查询</btn>\n</form>'},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'    <div class="list">\n        <table class="table">\n            <thead><tr>\n                <th>选择</th>\n                <th>'+o((a.setting||n&&n.setting||r).call(s,"human.member.full-name",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.name",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.sex",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.position-alias",{name:"setting",hash:{},data:i}))+"</th>\n                \x3c!--  th > setting('human.member.direct-supervisor') --\x3e\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"system.all.organization",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"system.all.company",{name:"setting",hash:{},data:i}))+"</th>\n            </tr></thead>\n            <tbody>"+(null!=(l=a.each.call(s,null!=n?n.members:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination" style="float:none"></div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return"<tr>\n                <td>\n                    <input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" id="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" name="memberId" value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                    <label for="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"></label>\n                </td>\n                <td>'+c((s=null!=(s=a.fullName||(null!=n?n.fullName:n))?s:o,typeof s===d?s.call(r,{name:"fullName",hash:{},data:i}):s))+"</td>\n                <td>"+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                <td>"+c((a.map||n&&n.map||o).call(r,"trainee-sex",null!=n?n.sex:n,{name:"map",hash:{},data:i}))+"</td>\n                <td>"+c(u(null!=(l=null!=n?n.majoyPosition:n)?l.name:l,n))+"</td>\n                \x3c!--  td > echo(memberDetail.directSupervisor.fullName) --\x3e\n                <td>"+c(u(null!=(l=null!=n?n.organization:n)?l.name:l,n))+"</td>\n                <td>"+c(u(null!=(l=null!=n?n.organization:n)?l.companyName:l,n))+"\n"},7:function(e,n,a,t,i){return' checked="checked"'},9:function(e,n,a,t,i){return'                    <tr><td colspan="7"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr></td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"toolbox",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-detailn/select-member-radio/view-content",function(e,n,a){a.components=[{id:"pager",name:"pager",options:{model:"members"}}],a.bindings={members:!0,state:!0},a.events={"click select_*":"checkMember"},a.handlers={checkMember:function(e){var n,a=this.bindings.members.data;n=a.findIndex(function(n){return n.id===e}),this.bindings.state.data=a[n]}},a.dataForTemplate={members:function(e){return e.members}},a.searchChange=function(){this.module.dispatch("refreshList",this.bindings.search.getQueryParams())}},{}),loadjs.d("./app/train/class-detail/research-detailn/select-member-radio/view-toolbox",function(e,n,a){a.bindings={search:!0},a.actions={"click searchMember":"refreshList","keypress searchKey":"searchKey"},a.dataForActions={searchKey:function(e,n){return 13===(n.keyCode||n.which||n.charCode)&&e}}},{}),loadjs.d("./app/train/class-detail/research-detailn/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-ability-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="big-title text-center strong">感谢您参加培训班能力习得评估。</div>\n    <p class="h4 text-center">您在如下培训班完成了课程学习已有一个月，相信您在工作中也运用了所学知识和经验，为了评估培训在实际工作中对您的相关能力帮助和提升的情况，我们非常希望能得到您的宝贵意见，为培训工作的持续改进提供支持，请您在下列问题中，对相关能力培训前和培训后的掌握程度，分别予以评价，感谢您的支持与配合。</p>\n    <div class="top-area clearfix layout-ml">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">'+r(s(null!=(l=null!=n?n.research:n)?l.fullName:l,n))+'，您一个月前参加的培训班是：</div>\n            <div class="h2 m-top text-overflow" style="height:4.2em;" title="'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'">'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'</div>\n            <div class="m-top">\n                <span>项目日期：</span>\n                <span class="sub-text">'+r(s(null!=(l=null!=n?n.research:n)?l.date:l,n))+"</span>\n            </div>\n        </div>\n    </div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'    <div class="text-center"><div id="submit" class="btn big">提交问卷</div></div>\n'},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'        <div class="main-one layout-mt-small">\n            <div class="table-row row-one clearfix">\n                <div class="table-cell one big normal-lheight text-overflow" title="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                <div class="table-cell bg1">非常同意</div>\n                <div class="table-cell bg1">比较同意</div>\n                <div class="table-cell bg1">一般同意</div>\n                <div class="table-cell bg1">比较不同意</div>\n                <div class="table-cell bg1">很不同意</div>\n            </div>\n'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                <div class="table-row clearfix">\n                    <div class="table-cell one">\n                        <span class="num m-left">'+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+'</span>\n                        <span class="num-r" title="'+c((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,typeof s===d?s.call(r,{name:"content",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,typeof s===d?s.call(r,{name:"content",hash:{},data:i}):s))+'</span>\n                    </div>\n                    <div class="table-cell bg1">\n                        <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'0" value="0"/>\n                        <label for="radio-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'0"></label>\n                    </div>\n                    <div class="table-cell bg1">\n                        <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'1" value="1"/>\n                        <label for="radio-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'1"></label>\n                    </div>\n                    <div class="table-cell bg1">\n                        <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'2" value="2"/>\n                        <label for="radio-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'2"></label>\n                    </div>\n                    <div class="table-cell bg1">\n                        <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'3" value="3"/>\n                        <label for="radio-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'3"></label>\n                    </div>\n                    <div class="table-cell bg1">\n                        <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" id="radio-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'4" value="4"/>\n                        <label for="radio-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'4"></label>\n                    </div>\n                </div>\n'},6:function(e,n,a,t,i){return' checked="checked"'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-detailn/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("jquery"),l=e("./app/util/helpers");a.bindings={researchRecord:!0,answer:!0,classInfo:!0},a.actions={"click submit":"submit"},a.dataForActions={submit:function(){var e=i('input[type="radio"]:checked'),n=i('input[type="radio"]'),a=[],l=[],s=[],r=this,o=r.module.items["train/class-detail/research-detailn/select-member-radio"];return t.forEach(e,function(e){var n=e;l.push(n.name),s.push(n.value)}),n.length>0&&n.length/5>l.length?(r.app.message.alert("请您回答所有客观题后再提交！"),!1):(t.forEach(l,function(e,n){var t=l,i={};i.questionId=t[n],i.answer=s[n],a.push(i)}),this.bindings.answer.data=a,r.app.viewport.modal(o,{callback:function(e){e&&r.module.dispatch("makeLeader",e.id)}}),r.module.dispatch("submit"),!0)}},a.dataForTemplate={dimensions:function(e){var n=e.researchRecord.researchQuestionary||{},a={};return a.arr1=t.orderBy(n.dimensions,["order"],["asc"]),t.map(a.arr1||[],function(e){var n=e;n.questions=t.orderBy(n.questions,["order"],["asc"]),t.map(n.questions||[],function(e,n){var a=e;a.i=n+1,a.questionAttrs=t.orderBy(a.questionAttrs,["score"],["desc"])})}),a.arr1},research:function(e){var n=e.researchRecord.researchQuestionary||{},a=e.researchRecord.member||{};return n.questionaryDetail1=n.questionaryDetail.substring(0,n.questionaryDetail.lastIndexOf("班")),n.fullName=a.fullName,e.classInfo&&(n.arriveDate=l.date(e.classInfo.arriveDate),n.arriveDate=n.arriveDate.replace(/-/g,"."),n.returnDate=l.date(e.classInfo.returnDate),n.returnDate=n.returnDate.replace(/-/g,"."),n.returnDate=n.returnDate.substring(5),n.date=n.arriveDate+"-"+n.returnDate,n.className=e.classInfo.className),n}}},{"./app/util/helpers":"./app/util/helpers",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-detailnewer/index",function(e,n,a){a.store={models:{evaluateResult:{url:"../train/questionnaire-survey-new/class-evaluate"},viewEvaluate:{url:"../train/questionnaire-survey-new/read-member-evaluate"},saveEvaluate:{url:"../train/questionnaire-survey-new/save-class-evaluate"},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this,a=this.models.evaluateResult,t=this.models.classInfo,i=this.models.viewEvaluate;a.clear(),t.clear(),a.params={classId:e.classId,researchQuestionnaireId:e.researchQuestionaryId},t.params.id=e.classId,e.type&&"view"===e.type?(e.resourse&&"admin"===e.resourse?i.params={classId:e.classId,researchRecordId:e.researchQuestionaryId,type:1}:i.params={classId:e.classId,researchRecordId:e.researchQuestionaryId},this.get(i,{loading:!0}).then(function(e){e[0]&&!e[0].isModifiable&&n.app.message.error("该用户未填写满意度问卷")})):this.get(a,{loading:!0}),this.get(t)},submit:function(e){var n=this.models.saveEvaluate;return n.clear(),n.set(e),this.post(n)}}},a.items={main:"main"},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/class-detail/research-detailnewer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-satifi-new course-evaluate">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i,l,s){var r,o,d=e.escapeExpression,c=null!=n?n:{};return'    <div class="big-title text-center strong">培训满意度评估表</div>\n    <div class="text-area relative layout-mt-small">\n        <div class="m-bottom clearfix">\n            <div class="pull-left strong">培训项目：</div>\n            <div class="overflow">'+d(e.lambda(null!=(r=null!=n?n.classInfo:n)?r.className:r,n))+'</div>\n        </div>\n        <div class="layout-mb-small clearfix">\n            <div class="pull-left strong">培训时间：</div>\n            <div class="overflow">'+d((o=null!=(o=a.projectDate||(null!=n?n.projectDate:n))?o:a.helperMissing,"function"==typeof o?o.call(c,{name:"projectDate",hash:{},data:i}):o))+'</div>\n        </div>\n        <div class="m-top m-bottom clearfix">\n            <div class="pull-left strong">填表说明</div>\n        </div>\n        <div class="m-bottom">\n            <div class="pull-left">“第一部分：</div>\n            <div class="overflow">\n                总体评估”：请根据对每一项指标的满意度程度，选择相应分数并标记"\n                <i class="iconfont icon-iconfontoptionbutton scale-1"></i>\n                "，分数越高，意味着满意程度越高，10代表非常满意，1代表非常不满意。\n            </div>\n        </div>\n        <div class="m-bottom">\n            <div class="pull-left">“第二部分：</div>\n            <div class="overflow">\n                课程师资评价”：针对每门课程，对“课程内容”和“师资表现”进行了10个维度的描述，请根据描述与实际符合程度，选择相应分数并标记"\n                <i class="iconfont icon-iconfontoptionbutton scale-1"></i>\n                "，分数越高，意味着符合程度越高，10代表非常符合，1代表非常不符合。如对该课程有何具体优化意见建议，请在相应位置填写。已完成评价的课程，其详细选项将被收起隐藏，可点击"展开"按钮查看或修改。\n            </div>\n        </div>\n        <div class="m-bottom">\n            <div class="pull-left">“第三部分：</div>\n            <div class="overflow">主观题”：请根据实际感受填写。</div>\n        </div>\n    </div>\n    <div class="main-one layout-mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one w-40 big text-overflow">\n                <span>第一部分：总体评估</span>\n                <span class="sub-text small-font inline-block vertical-top">（必填）</span>\n            </div>\n            <div class="table-cell one w-60 bg1 text-main-color text-center s-height">\n                <span class="inline-block">非常满意</span>\n                <span class="arrow-line inline-block col-sm-9" style="width:74%;">\n                    <div class="line inline-block">\n                        <div class="arrow left inline-block"></div>\n                        <div class="arrow right inline-block"></div>\n                    </div>\n                </span>\n                <span class="inline-block">非常不满意</span>\n            </div>\n            <div class="table-cell one w-60">\n                <div class="table-cell bg1">10</div>\n                <div class="table-cell bg1">9</div>\n                <div class="table-cell bg1">8</div>\n                <div class="table-cell bg1">7</div>\n                <div class="table-cell bg1">6</div>\n                <div class="table-cell bg1">5</div>\n                <div class="table-cell bg1">4</div>\n                <div class="table-cell bg1">3</div>\n                <div class="table-cell bg1">2</div>\n                <div class="table-cell bg1">1</div>\n            </div>\n        </div>\n'+(null!=(r=a.each.call(c,null!=n?n.evaluateAll:n,{name:"each",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'        <div class="main-one main-two layout-mt">\n            <div class="table-cell one big text-overflow w-full pull-none">\n                <span>第二部分：课程师资评价</span>\n                <span class="sub-text small-font inline-block vertical-top">\n                    (选择题必填，意见建议选填)\n                </span>\n            </div>\n'+(null!=(r=a.each.call(c,null!=n?n.evaluateCourse:n,{name:"each",hash:{},fn:e.program(24,i,0,l,s),inverse:e.program(59,i,0,l,s),data:i}))?r:"")+'        </div>\n        <div class="main-one mt layout-mb">\n            <div class="table-row row-one clearfix"><div class="table-cell one big normal-lheight text-overflow">\n                <span>第三部分：主观题</span>\n                <span class="sub-text small-font inline-block vertical-top">（作为优化和改进培训工作的参考，选填）</span>\n            </div></div>\n'+(null!=(r=a.each.call(c,null!=n?n.evaluateSubjective:n,{name:"each",hash:{},fn:e.program(61,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=a.unless.call(c,null!=n?n.isModifiable:n,{name:"unless",hash:{},fn:e.program(63,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"        </div>\n    </div>\n"},4:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{};return'            <div class="table-row clearfix border-bot" '+(null!=(r=a.if.call(o,null!=n?n.isLast:n,{name:"if",hash:{},fn:e.program(5,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'>\n                <div class="table-cell border-bot one w-10 left title-left">\n                    '+e.escapeExpression((a.map||n&&n.map||a.helperMissing).call(o,"class-questionnaire-evaluate",i&&i.index,{name:"map",hash:{},data:i}))+"\n                </div>\n"+(null!=(r=a.each.call(o,null!=n?n.item:n,{name:"each",hash:{},fn:e.program(7,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"            </div>\n"},5:function(e,n,a,t,i){return' style="border-bottom: 0 none;"'},7:function(e,n,a,t,i,l,s){var r;return null!=(r=a.if.call(null!=n?n:{},null!=n?n.special:n,{name:"if",hash:{},fn:e.program(8,i,0,l,s),inverse:e.program(11,i,0,l,s),data:i}))?r:""},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                        <div class="table-cell border-bot one w-30">\n                            <span class="num m-left">'+c((s=null!=(s=a.order||(null!=n?n.order:n))?s:o,typeof s===d?s.call(r,{name:"order",hash:{},data:i}):s))+'</span>\n                            <span class="num-r">'+c((s=null!=(s=a.questionName||(null!=n?n.questionName:n))?s:o,typeof s===d?s.call(r,{name:"questionName",hash:{},data:i}):s))+'</span>\n                        </div>\n                        <div class="table-cell border-bot one w-60 '+(null!=(l=a.if.call(r,null!=n?n.hasBg:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+'">\n                            \x3c!-- if(../../evaluateResult.isModifiable) --\x3e\n                            \x3c!--     .pull-left.w-full.text-left.color1(style=\'padding-left:18px;\') > echo(answer) --\x3e\n                            \x3c!-- else --\x3e\n                            <div class="pull-left w-full text-center" name="default" data-value="10" data-researchRecordId="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-courseId="'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+'" data-type="'+c((s=null!=(s=a.type||(null!=n?n.type:n))?s:o,typeof s===d?s.call(r,{name:"type",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.specialText||(null!=n?n.specialText:n))?s:o,typeof s===d?s.call(r,{name:"specialText",hash:{},data:i}):s))+"</div>\n                        </div>\n"},9:function(e,n,a,t,i){return"bg1"},11:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.escapeExpression;return'                        <div class="table-cell border-bot one w-30" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(12,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'>\n                            <span class="num m-left">'+u((o=null!=(o=a.order||(null!=n?n.order:n))?o:c,"function"==typeof o?o.call(d,{name:"order",hash:{},data:i}):o))+'</span>\n                            <span class="num-r">'+u((o=null!=(o=a.questionName||(null!=n?n.questionName:n))?o:c,"function"==typeof o?o.call(d,{name:"questionName",hash:{},data:i}):o))+'</span>\n                        </div>\n                        <div class="table-cell border-bot bg1 one w-60" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(12,i,0,l,s),inverse:e.noop,data:i}))?r:"")+">\n"+(null!=(r=a.each.call(d,null!=n?n.arr:n,{name:"each",hash:{},fn:e.program(14,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(20,i,0,l,s),inverse:e.program(22,i,0,l,s),data:i}))?r:"")+"                        </div>\n"},12:function(e,n,a,t,i){return' style="height:7em;"'},14:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.lambda,m=e.escapeExpression;return'                                <div class="pull-left w-10 text-center">\n'+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=n?n.value:n,"eq",null!=s[1]?s[1].answer:s[1],{name:"compare",hash:{},fn:e.program(15,i,0,l,s),inverse:e.program(18,i,0,l,s),data:i}))?r:"")+'                                    <label for="radio-'+m(u(null!=s[1]?s[1].id:s[1],n))+m(u(null!=s[1]?s[1].order:s[1],n))+"-"+m((o=null!=(o=a.index||i&&i.index)?o:c,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'"></label>\n                                </div>\n'},15:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=e.lambda,u=e.escapeExpression,m=a.helperMissing;return'                                        <input class="hide" '+(null!=(r=a.if.call(d,null!=s[1]?s[1].isModifiable:s[1],{name:"if",hash:{},fn:e.program(16,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="radio" name="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-researchRecordId="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-courseId="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+'" data-type="'+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-order="'+u(c(null!=s[1]?s[1].order:s[1],n))+'" id="radio-'+u(c(null!=s[1]?s[1].id:s[1],n))+u(c(null!=s[1]?s[1].order:s[1],n))+"-"+u((o=null!=(o=a.index||i&&i.index)?o:m,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'" checked="checked"/>\n'},16:function(e,n,a,t,i){return" disabled"},18:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=e.lambda,u=e.escapeExpression,m=a.helperMissing;return'                                        <input class="hide" '+(null!=(r=a.if.call(d,null!=s[1]?s[1].isModifiable:s[1],{name:"if",hash:{},fn:e.program(16,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="radio" name="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-researchRecordId="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-courseId="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+'" data-type="'+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-order="'+u(c(null!=s[1]?s[1].order:s[1],n))+'" id="radio-'+u(c(null!=s[1]?s[1].id:s[1],n))+u(c(null!=s[1]?s[1].order:s[1],n))+"-"+u((o=null!=(o=a.index||i&&i.index)?o:m,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'"/>\n'},20:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                                <div class="pull-left w-full" id="reason-'+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" style="padding:0 20px;" title="'+d((l=null!=(l=a.idea||(null!=n?n.idea:n))?l:r,typeof l===o?l.call(s,{name:"idea",hash:{},data:i}):l))+'">\n                                    <input class="input w-full" id="input-'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" type="text" data-order="'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" value="'+d((l=null!=(l=a.idea||(null!=n?n.idea:n))?l:r,typeof l===o?l.call(s,{name:"idea",hash:{},data:i}):l))+'" disabled/>\n                                </div>\n'},22:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <div class="pull-left w-full hide" id="reason-'+o((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,"function"==typeof l?l.call(s,{name:"order",hash:{},data:i}):l))+'" style="padding:0 20px;">\n                                    <input class="input w-full" id="input-'+o((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,"function"==typeof l?l.call(s,{name:"order",hash:{},data:i}):l))+'" type="text" data-order="'+o((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,"function"==typeof l?l.call(s,{name:"order",hash:{},data:i}):l))+'" maxlength="200" placeholder="请填写具体问题和建议，必填" x-rule="required"/>\n                                </div>\n'},24:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u="function",m=e.escapeExpression;return'                <div class="toggle bg-highlight clearfix relative" '+(null!=(r=a.if.call(d,null!=n?n.mt:n,{name:"if",hash:{},fn:e.program(25,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'>\n                    <div class="inline-block w-40 text-overflow" title="'+m((o=null!=(o=a.courseName||(null!=n?n.courseName:n))?o:c,typeof o===u?o.call(d,{name:"courseName",hash:{},data:i}):o))+'">\n                        培训课程：\n                        '+m((o=null!=(o=a.courseName||(null!=n?n.courseName:n))?o:c,typeof o===u?o.call(d,{name:"courseName",hash:{},data:i}):o))+'\n                    </div>\n                    <div class="inline-block w-20 text-overflow" title="'+m((o=null!=(o=a.teacherName||(null!=n?n.teacherName:n))?o:c,typeof o===u?o.call(d,{name:"teacherName",hash:{},data:i}):o))+'" style="padding-left:8px;">\n                        讲师姓名：\n                        '+m((o=null!=(o=a.teacherName||(null!=n?n.teacherName:n))?o:c,typeof o===u?o.call(d,{name:"teacherName",hash:{},data:i}):o))+'\n                    </div>\n                    <div class="inline-block text-overflow layout-ml">\n                        课程时间：\n                        '+m((o=null!=(o=a.courseTime||(null!=n?n.courseTime:n))?o:c,typeof o===u?o.call(d,{name:"courseTime",hash:{},data:i}):o))+"\n                        "+m((o=null!=(o=a.courseStartTime||(null!=n?n.courseStartTime:n))?o:c,typeof o===u?o.call(d,{name:"courseStartTime",hash:{},data:i}):o))+"\n                        -\n                        "+m((o=null!=(o=a.courseEndTime||(null!=n?n.courseEndTime:n))?o:c,typeof o===u?o.call(d,{name:"courseEndTime",hash:{},data:i}):o))+"\n                    </div>\n"+(null!=(r=a.if.call(d,null!=n?n.isAnswer:n,{name:"if",hash:{},fn:e.program(27,i,0,l,s),inverse:e.program(29,i,0,l,s),data:i}))?r:"")+"                </div>\n                <div "+(null!=(r=a.if.call(d,null!=n?n.isAnswer:n,{name:"if",hash:{},fn:e.program(31,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' id="course-'+m((o=null!=(o=a.index||i&&i.index)?o:c,typeof o===u?o.call(d,{name:"index",hash:{},data:i
}):o))+'">\n                    <div class="table-row row-one clearfix border-none border-left">\n                        <div class="table-cell one w-40 text-overflow text-center text-main-color" style="line-height:6em;">评价项目</div>\n                        <div class="table-cell one w-60 bg1 text-main-color text-center s-height">\n                            <span class="inline-block">非常符合</span>\n                            <span class="arrow-line inline-block col-sm-9" style="width:74%;">\n                                <div class="line inline-block">\n                                    <div class="arrow left inline-block"></div>\n                                    <div class="arrow right inline-block"></div>\n                                </div>\n                            </span>\n                            <span class="inline-block">非常不符合</span>\n                        </div>\n                        <div class="table-cell one w-60">\n                            <div class="table-cell bg1">10</div>\n                            <div class="table-cell bg1">9</div>\n                            <div class="table-cell bg1">8</div>\n                            <div class="table-cell bg1">7</div>\n                            <div class="table-cell bg1">6</div>\n                            <div class="table-cell bg1">5</div>\n                            <div class="table-cell bg1">4</div>\n                            <div class="table-cell bg1">3</div>\n                            <div class="table-cell bg1">2</div>\n                            <div class="table-cell bg1">1</div>\n                        </div>\n                    </div>\n                    <div class="table-row row-one border-none clearfix">\n                        <div class="table-cell one w-full text-center text-main-color item-bg" style="height:4em;line-height:4em;">\n                            课程内容\n                        </div>\n                    </div>\n                    <div class="table-row clearfix border-none">\n'+(null!=(r=a.each.call(d,null!=n?n.arr1:n,{name:"each",hash:{},fn:e.program(33,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'                    </div>\n                    <div class="table-row row-one border-none clearfix">\n                        <div class="table-cell one w-full text-center text-main-color item-bg" style="height:4em;line-height:4em;">\n                            师资表现\n                        </div>\n                    </div>\n                    <div class="table-row clearfix border-none">\n                        \x3c!-- .table-cell.border-bot.one.w-10.left(style=\'height:21em;line-height:21em;\') --\x3e\n                        \x3c!--     | 师资表现 --\x3e\n'+(null!=(r=a.each.call(d,null!=n?n.arr2:n,{name:"each",hash:{},fn:e.program(43,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'                    </div>\n                    <div class="table-row row-one border-none clearfix">\n                        <div class="table-cell one w-full item-bg" style="height:4em;line-height:4em;padding-left:13px;">\n                            对本课程有何优化意见建议\n                        </div>\n                    </div>\n                    <div class="table-row clearfix border-none">\n                        \x3c!-- .table-cell.border-bot.one.w-10.left(style=\'height:12.5em;line-height:12.5em;\') --\x3e\n                        \x3c!--     | 意见建议 --\x3e\n'+(null!=(r=a.each.call(d,null!=n?n.arr3:n,{name:"each",hash:{},fn:e.program(56,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"                    </div>\n                </div>\n"},25:function(e,n,a,t,i){return' style="margin-top:3em;"'},27:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <div class="btn small toggle-btn show" id="arrow-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">\n                            <i class="iconfont icon-arrow-double-down scale-1 icon" id="icon-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"></i>\n                            <span id="text-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">展开</span>\n                        </div>\n'},29:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <div class="btn small toggle-btn" id="arrow-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">\n                            <i class="iconfont icon-arrow-double-up scale-1 icon" id="icon-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"></i>\n                            <span id="text-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">收起</span>\n                        </div>\n'},31:function(e,n,a,t,i){return' class="hide"'},33:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing;return'                            <div class="table-cell border-bot one w-40 border-left" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(12,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'>\n                                <span class="num m-left">'+e.escapeExpression((o=null!=(o=a.type||(null!=n?n.type:n))?o:c,"function"==typeof o?o.call(d,{name:"type",hash:{},data:i}):o))+'</span>\n                                <span class="num-r">'+(null!=(o=null!=(o=a.questionName||(null!=n?n.questionName:n))?o:c,r="function"==typeof o?o.call(d,{name:"questionName",hash:{},data:i}):o)?r:"")+'</span>\n                            </div>\n                            <div class="table-cell border-bot bg1 one w-60" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(12,i,0,l,s),inverse:e.noop,data:i}))?r:"")+">\n"+(null!=(r=a.each.call(d,null!=n?n.arr:n,{name:"each",hash:{},fn:e.program(34,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(39,i,0,l,s),inverse:e.program(41,i,0,l,s),data:i}))?r:"")+"                            </div>\n"},34:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.lambda,m=e.escapeExpression;return'                                    <div class="pull-left w-10 text-center">\n'+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=n?n.value:n,"eq",null!=s[1]?s[1].answer:s[1],{name:"compare",hash:{},fn:e.program(35,i,0,l,s),inverse:e.program(37,i,0,l,s),data:i}))?r:"")+'                                        <label for="radio-'+m(u(null!=s[1]?s[1].courseId:s[1],n))+"-"+m(u(null!=s[1]?s[1].type:s[1],n))+"-"+m((o=null!=(o=a.index||i&&i.index)?o:c,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'"></label>\n                                    </div>\n'},35:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=e.lambda,u=e.escapeExpression,m=a.helperMissing;return'                                            <input class="hide" '+(null!=(r=a.if.call(d,null!=s[1]?s[1].isModifiable:s[1],{name:"if",hash:{},fn:e.program(16,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="radio" name="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-researchRecordId="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-courseId="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+'" data-type="'+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-order="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+u(c(null!=s[1]?s[1].order:s[1],n))+'" id="radio-'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+"-"+u((o=null!=(o=a.index||i&&i.index)?o:m,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'" checked="checked"/>\n'},37:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=e.lambda,u=e.escapeExpression,m=a.helperMissing;return'                                            <input class="hide" '+(null!=(r=a.if.call(d,null!=s[1]?s[1].isModifiable:s[1],{name:"if",hash:{},fn:e.program(16,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="radio" name="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-researchRecordId="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-courseId="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+'" data-type="'+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-order="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+u(c(null!=s[1]?s[1].order:s[1],n))+'" id="radio-'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+"-"+u((o=null!=(o=a.index||i&&i.index)?o:m,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'"/>\n'},39:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                                    <div class="pull-left w-full" id="reason-'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+c((s=null!=(s=a.order||(null!=n?n.order:n))?s:o,typeof s===d?s.call(r,{name:"order",hash:{},data:i}):s))+'" style="padding:0 20px;" title="'+c((s=null!=(s=a.idea||(null!=n?n.idea:n))?s:o,typeof s===d?s.call(r,{name:"idea",hash:{},data:i}):s))+'">\n                                        <input class="input w-full" '+(null!=(l=a.if.call(r,null!=n?n.isDisable:n,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+' id="input-'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+c((s=null!=(s=a.order||(null!=n?n.order:n))?s:o,typeof s===d?s.call(r,{name:"order",hash:{},data:i}):s))+'" type="text" data-order="'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+c((s=null!=(s=a.order||(null!=n?n.order:n))?s:o,typeof s===d?s.call(r,{name:"order",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.idea||(null!=n?n.idea:n))?s:o,typeof s===d?s.call(r,{name:"idea",hash:{},data:i}):s))+'"/>\n                                    </div>\n'},41:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                                    <div class="pull-left w-full hide" id="reason-'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" style="padding:0 20px;">\n                                        <input class="input w-full" id="input-'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" type="text" data-order="'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" maxlength="200" placeholder="请填写具体问题和建议，必填" x-rule="required"/>\n                                    </div>\n'},43:function(e,n,a,t,i,l,s){var r;return null!=(r=a.if.call(null!=n?n:{},null!=n?n.special:n,{name:"if",hash:{},fn:e.program(44,i,0,l,s),inverse:e.program(46,i,0,l,s),data:i}))?r:""},44:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                                <div class="table-cell border-bot one w-40">\n                                    <span class="num m-left">'+c((s=null!=(s=a.type||(null!=n?n.type:n))?s:o,typeof s===d?s.call(r,{name:"type",hash:{},data:i}):s))+'</span>\n                                    <span class="num-r">'+(null!=(s=null!=(s=a.questionName||(null!=n?n.questionName:n))?s:o,l=typeof s===d?s.call(r,{name:"questionName",hash:{},data:i}):s)?l:"")+'</span>\n                                </div>\n                                <div class="table-cell border-bot bg1 one w-60">\n                                    <div class="pull-left w-full text-center" name="default" data-value="10" data-researchRecordId="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-courseId="'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+'" data-type="'+c((s=null!=(s=a.type||(null!=n?n.type:n))?s:o,typeof s===d?s.call(r,{name:"type",hash:{},data:i}):s))+'">本次为线上培训，无需评估此维度</div>\n                                </div>\n'},46:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing;return'                                <div class="table-cell border-bot one w-40 border-left" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(12,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'>\n                                    <span class="num m-left">'+e.escapeExpression((o=null!=(o=a.type||(null!=n?n.type:n))?o:c,"function"==typeof o?o.call(d,{name:"type",hash:{},data:i}):o))+'</span>\n                                    <span class="num-r">'+(null!=(o=null!=(o=a.questionName||(null!=n?n.questionName:n))?o:c,r="function"==typeof o?o.call(d,{name:"questionName",hash:{},data:i}):o)?r:"")+'</span>\n                                </div>\n                                <div class="table-cell border-bot bg1 one w-60" '+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(12,i,0,l,s),inverse:e.noop,data:i}))?r:"")+">\n"+(null!=(r=a.each.call(d,null!=n?n.arr:n,{name:"each",hash:{},fn:e.program(47,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=a.if.call(d,null!=n?n.isIdea:n,{name:"if",hash:{},fn:e.program(52,i,0,l,s),inverse:e.program(54,i,0,l,s),data:i}))?r:"")+"                                </div>\n"},47:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.lambda,m=e.escapeExpression;return'                                        <div class="pull-left w-10 text-center">\n'+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=n?n.value:n,"eq",null!=s[1]?s[1].answer:s[1],{name:"compare",hash:{},fn:e.program(48,i,0,l,s),inverse:e.program(50,i,0,l,s),data:i}))?r:"")+'                                            <label for="radio-'+m(u(null!=s[1]?s[1].courseId:s[1],n))+"-"+m(u(null!=s[1]?s[1].type:s[1],n))+"-"+m((o=null!=(o=a.index||i&&i.index)?o:c,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'"></label>\n                                        </div>\n'},48:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=e.lambda,u=e.escapeExpression,m=a.helperMissing;return'                                                <input class="hide" '+(null!=(r=a.if.call(d,null!=s[1]?s[1].isModifiable:s[1],{name:"if",hash:{},fn:e.program(16,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="radio" name="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-researchRecordId="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-courseId="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+'" data-type="'+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-order="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+u(c(null!=s[1]?s[1].order:s[1],n))+'" id="radio-'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+"-"+u((o=null!=(o=a.index||i&&i.index)?o:m,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'" checked="checked"/>\n'},50:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=e.lambda,u=e.escapeExpression,m=a.helperMissing;return'                                                <input class="hide" '+(null!=(r=a.if.call(d,null!=s[1]?s[1].isModifiable:s[1],{name:"if",hash:{},fn:e.program(16,i,0,l,s),inverse:e.noop,data:i}))?r:"")+' type="radio" name="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-researchRecordId="'+u(c(null!=s[1]?s[1].id:s[1],n))+'" data-courseId="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+'" data-type="'+u(c(null!=s[1]?s[1].type:s[1],n))+'" data-order="'+u(c(null!=s[1]?s[1].courseId:s[1],n))+u(c(null!=s[1]?s[1].order:s[1],n))+'" id="radio-'+u(c(null!=s[1]?s[1].courseId:s[1],n))+"-"+u(c(null!=s[1]?s[1].type:s[1],n))+"-"+u((o=null!=(o=a.index||i&&i.index)?o:m,"function"==typeof o?o.call(d,{name:"index",hash:{},data:i}):o))+'" value="'+u((o=null!=(o=a.value||(null!=n?n.value:n))?o:m,"function"==typeof o?o.call(d,{name:"value",hash:{},data:i}):o))+'"/>\n'},52:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                                        <div class="pull-left w-full" id="reason-'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+c((s=null!=(s=a.order||(null!=n?n.order:n))?s:o,typeof s===d?s.call(r,{name:"order",hash:{},data:i}):s))+'" style="padding:0 20px;" title="'+c((s=null!=(s=a.idea||(null!=n?n.idea:n))?s:o,typeof s===d?s.call(r,{name:"idea",hash:{},data:i}):s))+'">\n                                            <input class="input w-full" '+(null!=(l=a.if.call(r,null!=n?n.isDisable:n,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+' id="input-'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+c((s=null!=(s=a.order||(null!=n?n.order:n))?s:o,typeof s===d?s.call(r,{name:"order",hash:{},data:i}):s))+'" type="text" data-order="'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+c((s=null!=(s=a.order||(null!=n?n.order:n))?s:o,typeof s===d?s.call(r,{name:"order",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.idea||(null!=n?n.idea:n))?s:o,typeof s===d?s.call(r,{name:"idea",hash:{},data:i}):s))+'"/>\n                                        </div>\n'},54:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                                        <div class="pull-left w-full hide" id="reason-'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" style="padding:0 20px;">\n                                            <input class="input w-full" id="input-'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" type="text" data-order="'+d((l=null!=(l=a.courseId||(null!=n?n.courseId:n))?l:r,typeof l===o?l.call(s,{name:"courseId",hash:{},data:i}):l))+d((l=null!=(l=a.order||(null!=n?n.order:n))?l:r,typeof l===o?l.call(s,{name:"order",hash:{},data:i}):l))+'" maxlength="200" placeholder="请填写具体问题和建议，必填" x-rule="required"/>\n                                        </div>\n'},56:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                            \x3c!-- .table-cell.one.w-90 --\x3e\n                            \x3c!--     span.num.m-left > echo(type) --\x3e\n                            \x3c!--     span.num-r(title=questionName) > @echo(questionName) --\x3e\n                            <div class="table-cell one w-full auto">\n                                <textarea class="input w-full border-light" '+(null!=(l=a.if.call(r,null!=n?n.isModifiable:n,{name:"if",hash:{},fn:e.program(57,i,0),inverse:e.noop,data:i}))?l:"")+' type="text" rows="5" maxLength="3000" placeholder="选填" name="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-researchRecordId="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-courseId="'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+'" data-type="'+c((s=null!=(s=a.type||(null!=n?n.type:n))?s:o,typeof s===d?s.call(r,{name:"type",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.answer||(null!=n?n.answer:n))?s:o,typeof s===d?s.call(r,{name:"answer",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.answer||(null!=n?n.answer:n))?s:o,typeof s===d?s.call(r,{name:"answer",hash:{},data:i}):s))+"</textarea>\n                            </div>\n"},57:function(e,n,a,t,i){return' style="color: #999;" readonly'},59:function(e,n,a,t,i){return"                暂无内容\n"},61:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                <div class="item-san layout-mt-small">\n                    <div class="san-div">\n                        <span class="num m-left">'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'</span>\n                        <span class="num-r title-color">'+c((s=null!=(s=a.questionName||(null!=n?n.questionName:n))?s:o,typeof s===d?s.call(r,{name:"questionName",hash:{},data:i}):s))+'</span>\n                    </div>\n                    <div class="m-top">\n                        <textarea class="input m-left w-full" '+(null!=(l=a.if.call(r,null!=n?n.isModifiable:n,{name:"if",hash:{},fn:e.program(57,i,0),inverse:e.noop,data:i}))?l:"")+' type="text" maxLength="3000" placeholder="选填" name="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-researchRecordId="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-courseId="'+c((s=null!=(s=a.courseId||(null!=n?n.courseId:n))?s:o,typeof s===d?s.call(r,{name:"courseId",hash:{},data:i}):s))+'" data-type="'+c((s=null!=(s=a.type||(null!=n?n.type:n))?s:o,typeof s===d?s.call(r,{name:"type",hash:{},data:i}):s))+'" rows="5" value="'+c((s=null!=(s=a.answer||(null!=n?n.answer:n))?s:o,typeof s===d?s.call(r,{name:"answer",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.answer||(null!=n?n.answer:n))?s:o,typeof s===d?s.call(r,{name:"answer",hash:{},data:i}):s))+"</textarea>\n                    </div>\n                </div>\n"},63:function(e,n,a,t,i){return'                <div class="text-center">\n                    <div id="submit" class="btn l-width">提交</div>\n                    <div class="text-main-color">\n                        <i class="iconfont icon-tanhao"></i>\n                        此问卷提交后不可修改，请慎重提交\n                    </div>\n                </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i,l,s){var r,o,d,c=null!=n?n:{},u=a.helperMissing,m="";return o=null!=(o=a.module||(null!=n?n.module:n))?o:u,d={name:"module",hash:{},fn:e.program(1,i,0,l,s),inverse:e.noop,data:i},r="function"==typeof o?o.call(c,d):o,a.module||(r=a.blockHelperMissing.call(n,r,d)),null!=r&&(m+=r),m+"\n"+(null!=(r=(a.view||n&&n.view||u).call(c,"main",{name:"view",hash:{},fn:e.program(3,i,0,l,s),inverse:e.noop,data:i}))?r:"")},useData:!0,useDepths:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-detailnewer/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("jquery"),l=e("./app/util/helpers");a.bindings={evaluateResult:!0,classInfo:!0,viewEvaluate:!0},a.events={"click arrow-*":"toggleArrow","click radio-*":"radio","keyup input-*":"changeInput","change input-*":"changeInput","focusout input-*":"focusoutInput"},a.handlers={toggleArrow:function(e){"收起"===i(this.$("text-"+e)).text()?(i(this.$("icon-"+e)).addClass("icon-arrow-double-down").removeClass("icon-arrow-double-up"),i(this.$("text-"+e)).html("展开"),i(this.$("course-"+e)).addClass("hide").removeClass("show")):(i(this.$("icon-"+e)).addClass("icon-arrow-double-up").removeClass("icon-arrow-double-down"),i(this.$("text-"+e)).html("收起"),i(this.$("course-"+e)).addClass("show").removeClass("hide"))},radio:function(e,n,a){var t,l=window.parseInt(a.value),s=a.getAttribute("data-order"),r=this.$("reason-"+s),o=i(a).parent().parent(),d=o.parent().find(".left");l&&l<9?(o.addClass("max").removeClass("small-height "),o.prev().addClass("max").removeClass("small-height "),i(r).addClass("show").removeClass("hide"),t=window.parseInt(s)%2==0?o.height()+o.prev().prev().height():o.height()+o.next().height(),d&&d.height(t+1)):(o.removeClass("max").addClass("small-height "),o.prev().removeClass("max").addClass("small-height "),i(r).removeClass("show").addClass("hide"),i(r).val(""),t=window.parseInt(s)%2==0?o.height()+o.prev().prev().height():o.height()+o.next().height(),d&&d.height(t+1))},changeInput:function(e,n,a){i(a).val()&&i(a).val().trim().length<=0?i(a).val(""):i(a).val().trim().length>200?(i(a).val(i(a).val().trim().slice(0,201)),this.$("input-"+e).classList.remove("input-error")):this.$("input-"+e).classList.remove("input-error")},focusoutInput:function(e){this.$("input-"+e).classList.remove("input-error")}},a.actions={"click submit":"submit"},a.dataForActions={submit:function(){var e,n=this,a=this.bindings.evaluateResult.data,l=i('input[type="radio"]:checked'),s=i('input[type="text"]'),r=i('textarea[type="text"]'),o=i('div[name="default"]'),d=[],c=[],u=0;return t.map(l,function(e){var n,a=e,i=a.getAttribute("data-courseId"),l=a.getAttribute("data-researchRecordId"),r=a.getAttribute("data-type"),o=a.getAttribute("data-order");n=t.filter(s,function(e){return e.getAttribute("data-order")===o&&e}),window.parseInt(a.value)<9?c.push(n[0]):n[0]="",d.push({courseId:i,questionnaireQuestionId:l,type:r,answer:a.value,idea:n[0]&&n[0].value||""})}),t.every(c,function(e){var n=e;return null===n.value||""===n.value||0===n.value.trim().length||"请填写具体问题和建议，必填"===n.value||"请填写具体问题和建议，必填"===n.value.trim()?(n.value="",n.focus(),n.classList.add("focus"),n.classList.add("input-error"),u++,!1):n}),u>0?(u=0,n.app.message.error("请填写完必填项后再提交"),!1):(t.map(r,function(e){var n=e,a=n.getAttribute("data-courseId"),t=n.getAttribute("data-researchRecordId"),i=n.getAttribute("data-type");d.push({courseId:a,questionnaireQuestionId:t,type:i,answer:n.value})}),t.map(o,function(e){var n=e,a=n.getAttribute("data-courseId"),t=n.getAttribute("data-researchRecordId"),i=n.getAttribute("data-type"),l=n.getAttribute("data-value");d.push({courseId:a,questionnaireQuestionId:t,type:i,answer:l})}),e=JSON.stringify(d),{answers:e,researchRecordId:a.researchRecordId,classId:this.module.renderOptions.classId})}},a.actionCallbacks={submit:function(){this.app.message.success("问卷提交成功"),setTimeout(function(){window.close()},1e3)}},a.dataForTemplate={fullName:function(){return this.app.global.currentUser.fullName},evaluateAll:function(){var e,n,a=[{value:"10",checked:!0},{value:"9",checked:!1},{value:"8",checked:!1},{value:"7",checked:!1},{value:"6",checked:!1},{value:"5",checked:!1},{value:"4",checked:!1},{value:"3",checked:!1},{value:"2",checked:!1},{value:"1",checked:!1}],i=this.bindings.evaluateResult.data,l=this.bindings.viewEvaluate.data,s=[],r=[],o="";return l&&!l.isModifiable?(e=t.filter(i.item,{level:1}),n=i.classType):(e=t.filter(l.item,{level:1}),n=l.classType),t.map(e,function(e){var n=e;""===o||o===n.typeBranch?r.push(n):""!==o&&o!==n.typeBranch&&(s.push({item:r}),r=[],r.push(n)),o=n.typeBranch}),s.push({item:r}),t.map(s,function(e,s){var r=e;return t.map(r.item||[],function(e,t){var r=e,o=t;return r.special=!1,1===s&&(r.special=!0,r.specialText="评价结果取自第二部分：课程师资评价",r.hasBg=!1),2===n&&(2===s&&0===o||3===s)&&(r.special=!0,r.specialText="本次为线上培训，无需评估此维度",r.hasBg=!0),r.isModifiable=i.isModifiable||l.isModifiable,r.arr=a,r.answer&&window.parseInt(r.answer)<9&&(r.isIdea=!0,(i.isModifiable||l.isModifiable)&&(r.isDisable=!0)),r}),4===s&&(r.isLast=!0),r}),s},evaluateCourse:function(){var e,n,a=[{value:"10",checked:!0},{value:"9",checked:!1},{value:"8",checked:!1},{value:"7",checked:!1},{value:"6",checked:!1},{value:"5",checked:!1},{value:"4",checked:!1},{value:"3",checked:!1},{value:"2",checked:!1},{value:"1",checked:!1}],i=this.bindings.evaluateResult.data,s=this.bindings.viewEvaluate.data,r=[],o=[],d="";return s&&!s.isModifiable?(e=t.filter(i.item,{level:2}),n=i.classType):(e=t.filter(s.item,{level:2}),n=s.classType),!(!e||e.length<=0)&&(t.map(e,function(e){var n=e;""===d||d===n.courseId?o.push(n):""!==d&&d!==n.courseId&&(r.push({item:o}),o=[],o.push(n)),d=n.courseId}),r.push({item:o}),t.map(r,function(e,r){var o=e,d=[],c=[],u=[];return 0!==r&&(o.mt=!0),t.map(o.item||[],function(e){var t=e;return t.special=!1,t.classType=n,2===t.classType&&5===t.courseType&&(t.special=!0),t.isModifiable=i.isModifiable||s.isModifiable,o.courseName=t.courseName,o.teacherName=t.teacherName,t.courseTime&&"number"==typeof t.courseTime&&(t.courseTime=l.date(t.courseTime),o.courseTime=Number(t.courseTime.split("-")[1])+"月"+Number(t.courseTime.split("-")[2])+"日"),o.courseStartTime=t.courseStartTime,o.courseEndTime=t.courseEndTime,t.arr=a,t.answer&&window.parseInt(t.answer)<9&&(t.isIdea=!0,(i.isModifiable||s.isModifiable)&&(t.isDisable=!0)),1===t.typeBranch&&d.push(t),2===t.typeBranch&&c.push(t),3===t.typeBranch&&u.push(t),t}),o.arr1=d,o.arr2=c,o.arr3=u,o.isAnswer=t.filter(o.arr1,function(e){return!!e.isAnswer}),o}),r)},evaluateSubjective:function(){var e,n=this.bindings.evaluateResult.data,a=this.bindings.viewEvaluate.data;return e=a&&!a.isModifiable?t.filter(n.item,{level:3}):t.filter(a.item,{level:3}),e=t.map(e,function(e,t){var i=e;return i.isModifiable=n.isModifiable||a.isModifiable,i.index=t+1,i})},isModifiable:function(){var e=this.bindings.evaluateResult.data,n=this.bindings.viewEvaluate.data;return e.isModifiable||n.isModifiable},projectDate:function(e){var n={};return e.classInfo&&(n.arriveDate=l.date(e.classInfo.arriveDate),n.returnDate=l.date(e.classInfo.returnDate),n.returnDate=n.returnDate.substring(5),n.date=Number(n.arriveDate.split("-")[0])+"年"+Number(n.arriveDate.split("-")[1])+"月"+Number(n.arriveDate.split("-")[2])+"日至"+Number(n.returnDate.split("-")[0])+"月"+Number(n.returnDate.split("-")[1])+"日"),n.date}},a.afterRender=function(){var e=i(".title-left");t.map(e,function(e){var n=e,a=i(n).next(),t=a.next().next();i(n).height(a.height()+t.height()+1)})}},{"./app/util/helpers":"./app/util/helpers",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-details/index",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/strings"),l=e("drizzle-zxy");a.store={models:{researchRecord:{url:"../train/questionnaire-survey/front/research-detail"},answer:{data:[],mixin:{getData:function(){var e=this;return{researchAnswerRecords:JSON.stringify(t.map(this.data,function(n){return{questionId:n.questionId,answer:n.answer,idea:n.idea||"",researchRecordId:e.store.models.researchRecord.data.id,score:1}}))}}}},rcRecord:{url:"../train/questionnaire-survey/get-by-researchs"},form:{url:"../train/questionnaire-survey/submits"},classId:{data:{}},classInfo:{url:"../train/class-info/get"},researchRecordStatus:{url:"../train/questionnaire-survey/get-researchRecord"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.classInfo,t=this.models.researchRecordStatus;if(t.clear(),t.params={classId:e.classId,type:4},this.models.classId.data=e.classId,a.clear(),a.params.id=e.classId,this.get(t),e.researchRecord)n.set(e.researchRecord),this.get(a);else if(e.researchQuestionaryId)return n.params={researchQuestionaryId:e.researchQuestionaryId,classId:e.classId},this.get(a),this.get(n,{loading:!0});return""},submit:function(){var e=this,n=this.models.researchRecord,a=this.models.classId.data,s=this.models.answer.getData().researchAnswerRecords||[],r=0,o=0,d=[];return e.module.dispatch("getRecordByResearch",{researchId:n.data.researchQuestionary.id}).then(function(c){var u=c[0].status;return 1===Number(u)&&(r=1),
0!==r?(e.app.message.error("请勿重复提交"),!1):("string"==typeof s&&(s=JSON.parse(s)),t.map(s||[],function(e){var n=e;return 18===Number(n.questionId)&&-1!==e.answer.indexOf("6")&&(null!==e.idea&&""!==e.idea&&0!==e.idea.trim().length||(o=1)),n}),1===o?(e.app.message.alert("培训形式选择其他时，请填写其他培训形式再提交"),!1):(t.map(s||[],function(e){var n={researchRecordId:e.researchRecordId,researchAnswerRecords:s};d.push(n)}),e.models.form.set(l.assign({},e.models.answer.getData(),{researchQuestionaryId:n.params.researchQuestionaryId,classId:a})),e.post(e.models.form).then(function(){var n=e.models.researchRecord.data;e.app.message.success(i.get("submit-success")),e.app.navigate("train/class-detail/research-answers/"+n.id+"/"+a,{loading:!0})})))})},getRecordByResearch:function(e){return this.models.rcRecord.clear(),l.assign(this.models.rcRecord.params,{researchId:e.researchId}),this.get(this.models.rcRecord)}}},a.items={main:"main"},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/strings":"./app/util/strings","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-details/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-four-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'    <div class="research-progress w-half layout-mt clearfix">\n'+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=(l=null!=n?n.researchRecordStatus:n)?l.status:l,"eq",1,{name:"compare",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'        <div class="pro-item doing">\n            <span class="layout-mr-small">2</span>\n            <span>进行四度评估</span>\n        </div>\n    </div>\n    <div class="big-title text-center strong">还差一步，就能完成评估。</div>\n    <p class="h4 text-center">感谢您已经完成满意度评估调查表，为了进一步了解此次培训的战略相关度、业务紧迫度、工作指导度、知识前瞻度，以提高培训方案设计的针对性，为培训工作的持续改进提供支持，请完整而如实地回答下列问题。</p>\n    <div class="top-area clearfix layout-ml">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">'+o(r(null!=(l=null!=n?n.research:n)?l.fullName:l,n))+'，您正在评估的培训班是：</div>\n            <div class="h2 m-top text-overflow" style="height:4.2em;" title="'+o(r(null!=(l=null!=n?n.research:n)?l.className:l,n))+'">'+o(r(null!=(l=null!=n?n.research:n)?l.className:l,n))+'</div>\n            <div class="m-top">\n                <span>项目日期：</span>\n                <span class="sub-text">'+o(r(null!=(l=null!=n?n.research:n)?l.date:l,n))+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">培训时间和形式</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">在培训时间方面，您感觉集团组织的具体培训项目的时间长度安排是否合适？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'0" value="0"/>\n                            <label class="m-right" for="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'0"></label>\n                            <div class="inline-block">时间过长</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'1" value="1"/>\n                            <label class="m-right" for="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'1"></label>\n                            <div class="inline-block">时间偏长</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'2" value="2" checked="checked"/>\n                            <label class="m-right" for="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'2"></label>\n                            <div class="inline-block">时间合适</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'3" value="3"/>\n                            <label class="m-right" for="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'3"></label>\n                            <div class="inline-block">时间偏短</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'4" value="4"/>\n                            <label class="m-right" for="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'4"></label>\n                            <div class="inline-block">时间过短</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="table-cell one w-full border-bottom mt-1">\n                <div>\n                    <span class="num m-left">2</span>\n                    <div class="inline-block">2019年您更倾向于哪种培训形式？（可多选）</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-14">\n                            <input class="hide" type="radio" data-check="false" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'0" id="radioA-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'0" value="0"/>\n                            <label class="m-right" for="radioA-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'0"></label>\n                            <div class="inline-block">面授培训</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" type="radio" data-check="false" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'1" id="radioA-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'1" value="1"/>\n                            <label class="m-right" for="radioA-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'1"></label>\n                            <div class="inline-block">相互交流</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" type="radio" data-check="false" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'2" id="radioA-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'2" value="2" checked="checked"/>\n                            <label class="m-right" for="radioA-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'2"></label>\n                            <div class="inline-block">案例教学</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" type="radio" data-check="false" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'3" id="radioA-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'3" value="3"/>\n                            <label class="m-right" for="radioA-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'3"></label>\n                            <div class="inline-block">在线学习</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" type="radio" data-check="false" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'4" id="radioA-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'4" value="4"/>\n                            <label class="m-right" for="radioA-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'4"></label>\n                            <div class="inline-block">引导技术</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" type="radio" data-check="false" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'5" id="radioA-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'5" value="5"/>\n                            <label class="m-right" for="radioA-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'5"></label>\n                            <div class="inline-block">实操演练</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" type="radio" data-check="false" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'6" id="radioA-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'6" value="6"/>\n                            <label class="m-right" for="radioA-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'6"></label>\n                            <div class="inline-block">其他</div>\n                        </div>\n                        <div id="more" class="hide col-sm-12"><input class="input w-full m-top" id="18" type="text" maxlength="100" placeholder="请填写其他培训形式"/></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.dimensions:n)?l.arr7:l,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'    <div class="main-one layout-mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">绩效改进度</div>\n        </div>\n        <div class="table-row auto clearfix border-none">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">参加本次培训集团项目是否对您的工作能力有所提升，后续进一步改善工作绩效</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'0" value="0"/>\n                            <label class="m-right" for="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'0"></label>\n                            <div class="inline-block">有明显改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'1" value="1"/>\n                            <label class="m-right" for="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'1"></label>\n                            <div class="inline-block">有改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'2" value="2" checked="checked"/>\n                            <label class="m-right" for="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'2"></label>\n                            <div class="inline-block">不能确定</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'3" value="3"/>\n                            <label class="m-right" for="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'3"></label>\n                            <div class="inline-block">没有明显改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" name="'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'4" value="4"/>\n                            <label class="m-right" for="radio-'+o(r(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'4"></label>\n                            <div class="inline-block">完全没有改善</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="text-center"><div id="submit" class="btn big">提交问卷</div></div>\n    </div>\n'},4:function(e,n,a,t,i){return'            <div class="pro-item done">\n                <span class="iconfont icon-tick layout-mr-small"></span>\n                <span>进行满意度评估</span>\n            </div>\n'},6:function(e,n,a,t,i){return'            <div class="pro-item wait">\n                <span class="layout-mr-small">1</span>\n                <span>进行满意度评估</span>\n            </div>\n'},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'        <div class="main-one layout-mt">\n            <div class="table-row row-one clearfix">\n                <div class="table-cell one big normal-lheight text-overflow" title="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                <div class="table-cell bg1">非常同意</div>\n                <div class="table-cell bg1">比较同意</div>\n                <div class="table-cell bg1">一般同意</div>\n                <div class="table-cell bg1">比较不同意</div>\n                <div class="table-cell bg1">很不同意</div>\n            </div>\n'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                <div class="table-row clearfix border-bottom">\n                    <div class="table-cell one">\n                        <span class="num m-left">'+d((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,typeof l===o?l.call(s,{name:"i",hash:{},data:i}):l))+'</span>\n                        <span class="num-r" title="'+d((l=null!=(l=a.content||(null!=n?n.content:n))?l:r,typeof l===o?l.call(s,{name:"content",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.content||(null!=n?n.content:n))?l:r,typeof l===o?l.call(s,{name:"content",hash:{},data:i}):l))+'</span>\n                    </div>\n                    <div class="table-cell bg1">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'0" value="0" checked="checked"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'0"></label>\n                    </div>\n                    <div class="table-cell bg1">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'1" value="1"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'1"></label>\n                    </div>\n                    <div class="table-cell bg1">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'2" value="2"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'2"></label>\n                    </div>\n                    <div class="table-cell bg1">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'3" value="3"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'3"></label>\n                    </div>\n                    <div class="table-cell bg1">\n                        <input class="hide" type="radio" name="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'4" value="4"/>\n                        <label for="radio-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'4"></label>\n                    </div>\n                </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-details/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("jquery"),l=e("./app/util/helpers");a.events={"click radioA-*":"toggleChecked"},a.handlers={toggleChecked:function(e){"186"===e&&(i(this.$("radioA-"+e)).hasClass("have")?i(this.$("more")).addClass("hide").removeClass("show"):i(this.$("more")).addClass("show").removeClass("hide")),i(this.$("radioA-"+e)).hasClass("have")?(i(this.$("radioA-"+e)).prop("checked",!1),i(this.$("radioA-"+e)).removeClass("have")):(i(this.$("radioA-"+e)).prop("checked",!0),i(this.$("radioA-"+e)).addClass("have"))}},a.bindings={researchRecord:!0,answer:!0,classInfo:!0,researchRecordStatus:!0},a.actions={"click submit":"submit"},a.dataForActions={submit:function(){var e,n=i('input[type="radio"]:checked'),a=i('input[type="text"]'),l="",s=[],r=[],o=[],d=[],c=[],u=[];for(t.forEach(n,function(e){var n=e;n.name1=n.name.substr(0,n.name.length-1),"18"===n.name1?(o.push("18"),c.push(n.value)):(r.push(n.name),d.push(n.value))}),t.forEach(a,function(e){var n=e;u.push(n.value)}),e=0;e<c.length;e++)l+=c[e]+",";l.length>0&&(l=l.substr(0,l.length-1)),t.forEach(r,function(e,n){var a=r,t={};t.questionId=a[n],t.answer=d[n],t.idea="",s.push(t)}),s.push({questionId:"18",answer:l,idea:u[0]}),this.bindings.answer.data=s}},a.actionCallbacks={},a.dataForTemplate={dimensions:function(e){var n=e.researchRecord.researchQuestionary||{},a=[],i={};return i.arr1=t.find(n.dimensions,["order",1]).questions,i.arr1=t.orderBy(i.arr1,["order"],["asc"]),i.arr2=t.find(n.dimensions,["order",2]),a.push(i.arr2),i.arr3=t.find(n.dimensions,["order",3]),a.push(i.arr3),i.arr4=t.find(n.dimensions,["order",4]),a.push(i.arr4),i.arr5=t.find(n.dimensions,["order",5]),a.push(i.arr5),i.arr7=a,i.arr6=t.find(n.dimensions,["order",6]).questions,i.id1=i.arr1[0].id,i.id2=i.arr1[1].id,i.id3=i.arr6[0].id,t.map(i.arr7||[],function(e){var n=e;n.questions=t.orderBy(n.questions,["order"],["asc"]),t.map(n.questions||[],function(e,n){var a=e;a.i=n+1,a.questionAttrs=t.orderBy(a.questionAttrs,["score"],["desc"])})}),i},research:function(e){var n=e.researchRecord.researchQuestionary||{},a=e.researchRecord.member||{};return n.fullName=a.fullName,e.classInfo&&(n.arriveDate=l.date(e.classInfo.arriveDate),n.arriveDate=n.arriveDate.replace(/-/g,"."),n.returnDate=l.date(e.classInfo.returnDate),n.returnDate=n.returnDate.replace(/-/g,"."),n.returnDate=n.returnDate.substring(5),n.date=n.arriveDate+"-"+n.returnDate,n.className=e.classInfo.className),n},researchRecordStatus:function(e){return e.researchRecordStatus||{}}}},{"./app/util/helpers":"./app/util/helpers",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/research-four-new/index",function(e,n,a){a.items={main:"main"},a.tname="train.statistics.ques.research-answer-lead"},{}),loadjs.d("./app/train/class-detail/research-four-new/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){
return'    <div class="research-progress w-half layout-mt clearfix">\n        <div class="pro-item done">\n            <span class="iconfont icon-tick layout-mr-small"></span>\n            <span>进行满意度评估</span>\n        </div>\n        <div class="pro-item doing">\n            <span class="layout-mr-small">2</span>\n            <span>进行四度评估</span>\n        </div>\n    </div>\n    <div class="big-title text-center strong">还差一步，就能完成评估。</div>\n    <p class="h4 text-center">感谢您已经完成满意度评估调查表，为了进一步了解此次培训的战略相关度、业务紧迫度、工作指导度、知识前瞻度，以提高培训方案设计的针对性，为培训工作的持续改进提供支持，请完整而如实地回答下列问题。</p>\n    <div class="top-area clearfix">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">孔文昊，您正在评估的培训班是：</div>\n            <div class="h2 m-top">“学习贯彻习近平新时代中国特色社会主义思想和党的十九大 精神深入推进‘大连接’战略实施落地”——2018年度总部处室 经理研讨班（第三期）</div>\n            <div class="layout-mt-small">\n                <span>项目日期：</span>\n                <span class="sub-text">2018.3.10-3.14</span>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">培训时间和形式</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">在培训时间方面，您感觉集团组织的具体培训项目的时间长度安排是否合适？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio8-1" name="8"/>\n                            <label class="m-right" for="radio8-1"></label>\n                            <div class="inline-block">时间过长</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio8-2" name="8"/>\n                            <label class="m-right" for="radio8-2"></label>\n                            <div class="inline-block">时间偏长</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio8-3" name="8"/>\n                            <label class="m-right" for="radio8-3"></label>\n                            <div class="inline-block">时间合适</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio8-4" name="8"/>\n                            <label class="m-right" for="radio8-4"></label>\n                            <div class="inline-block">时间偏短</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio8-5" name="8"/>\n                            <label class="m-right" for="radio8-5"></label>\n                            <div class="inline-block">时间过短</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="table-cell one w-full border-bottom mt-1">\n                <div>\n                    <span class="num m-left">2</span>\n                    <div class="inline-block">2019年您更倾向于哪种培训形式？（可多选）</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-14">\n                            <input class="hide" type="radio" id="radio9-1"/>\n                            <label class="m-right" for="radio9-1"></label>\n                            <div class="inline-block">面授培训</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" type="radio" id="radio9-2"/>\n                            <label class="m-right" for="radio9-2"></label>\n                            <div class="inline-block">相互交流</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" type="radio" id="radio9-3"/>\n                            <label class="m-right" for="radio9-3"></label>\n                            <div class="inline-block">案例教学</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" type="radio" id="radio9-4"/>\n                            <label class="m-right" for="radio9-4"></label>\n                            <div class="inline-block">在线学习</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" type="radio" id="radio9-5"/>\n                            <label class="m-right" for="radio9-5"></label>\n                            <div class="inline-block">引导技术</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" type="radio" id="radio9-6"/>\n                            <label class="m-right" for="radio9-6"></label>\n                            <div class="inline-block">实操演练</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" type="radio" id="radio9-7"/>\n                            <label class="m-right" for="radio9-7"></label>\n                            <div class="inline-block">其他</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">战略相关度</div>\n            <div class="table-cell bg1">非常同意</div>\n            <div class="table-cell bg1">比较同意</div>\n            <div class="table-cell bg1">一般同意</div>\n            <div class="table-cell bg1">比较不同意</div>\n            <div class="table-cell bg1">很不同意</div>\n        </div>\n        <div class="table-row clearfix">\n            <div class="table-cell one">\n                <span class="num m-left">1</span>\n                <span class="num-r">加深了对集团战略思想的理解及未来工作的发展方向</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-1" checked name="1"/>\n                <label for="radio-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-2" name="1"/>\n                <label for="radio-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-3" name="1"/>\n                <label for="radio-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-4" name="1"/>\n                <label for="radio-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-5" name="1"/>\n                <label for="radio-5"></label>\n            </div>\n        </div>\n        <div class="table-row clearfix">\n            <div class="table-cell one">\n                <span class="num m-left">2</span>\n                <span class="num-r">明晰了集团战略目标的实施策略，为工作提供了行动指南</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-1" checked name="2"/>\n                <label for="radio2-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-2" name="2"/>\n                <label for="radio2-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-3" name="2"/>\n                <label for="radio2-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-4" name="2"/>\n                <label for="radio2-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-5" name="2"/>\n                <label for="radio2-5"></label>\n            </div>\n        </div>\n        <div class="table-row clearfix border-bottom">\n            <div class="table-cell one">\n                <span class="num m-left">3</span>\n                <span class="num-r">提升了执行公司战略的能力和执行力</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio3-1" checked name="3"/>\n                <label for="radio3-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio3-2" name="3"/>\n                <label for="radio3-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio3-3" name="3"/>\n                <label for="radio3-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio3-4" name="3"/>\n                <label for="radio3-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio3-5" name="3"/>\n                <label for="radio3-5"></label>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">工作指导度</div>\n            <div class="table-cell bg1">非常同意</div>\n            <div class="table-cell bg1">比较同意</div>\n            <div class="table-cell bg1">一般同意</div>\n            <div class="table-cell bg1">比较不同意</div>\n            <div class="table-cell bg1">很不同意</div>\n        </div>\n        <div class="table-row clearfix">\n            <div class="table-cell one">\n                <span class="num m-left">1</span>\n                <span class="num-r">与工作实践联系紧密，有利于未来工作开展，掌握了新的工作技巧和方法</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio1-1" checked name="11"/>\n                <label for="radio1-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio1-2" name="11"/>\n                <label for="radio1-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio1-3" name="11"/>\n                <label for="radio1-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio1-4" name="11"/>\n                <label for="radio1-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio1-5" name="11"/>\n                <label for="radio1-5"></label>\n            </div>\n        </div>\n        <div class="table-row clearfix">\n            <div class="table-cell one">\n                <span class="num m-left">2</span>\n                <span class="num-r">分享了同行的先进经验，促进了相互学习和帮助</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio22-1" checked name="22"/>\n                <label for="radio22-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio22-2" name="22"/>\n                <label for="radio22-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio22-3" name="22"/>\n                <label for="radio22-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio22-4" name="22"/>\n                <label for="radio2-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio22-5" name="22"/>\n                <label for="radio22-5"></label>\n            </div>\n        </div>\n        <div class="table-row clearfix border-bottom">\n            <div class="table-cell one">\n                <span class="num m-left">3</span>\n                <span class="num-r">加深了对工作流程、规范和要求的理解</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio33-1" checked name="33"/>\n                <label for="radio33-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio33-2" name="33"/>\n                <label for="radio33-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio33-3" name="33"/>\n                <label for="radio33-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio33-4" name="33"/>\n                <label for="radio33-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio33-5" name="33"/>\n                <label for="radio33-5"></label>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">知识前瞻度</div>\n            <div class="table-cell bg1">非常同意</div>\n            <div class="table-cell bg1">比较同意</div>\n            <div class="table-cell bg1">一般同意</div>\n            <div class="table-cell bg1">比较不同意</div>\n            <div class="table-cell bg1">很不同意</div>\n        </div>\n        <div class="table-row clearfix">\n            <div class="table-cell one">\n                <span class="num m-left">1</span>\n                <span class="num-r">学习了行业前沿技术和理念，了解了新趋势、新动态和新知识</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio11-1" checked name="111"/>\n                <label for="radio11-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio11-2" name="111"/>\n                <label for="radio11-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio11-3" name="111"/>\n                <label for="radio11-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio11-4" name="111"/>\n                <label for="radio11-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio11-5" name="111"/>\n                <label for="radio11-5"></label>\n            </div>\n        </div>\n        <div class="table-row clearfix">\n            <div class="table-cell one">\n                <span class="num m-left">2</span>\n                <span class="num-r">明晰了集团战略目标的实施策略，为工作提供了行动指南</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio222-1" checked name="222"/>\n                <label for="radio222-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio222-2" name="222"/>\n                <label for="radio222-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio222-3" name="222"/>\n                <label for="radio222-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio222-4" name="222"/>\n                <label for="radio22-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio222-5" name="222"/>\n                <label for="radio222-5"></label>\n            </div>\n        </div>\n        <div class="table-row clearfix border-bottom">\n            <div class="table-cell one">\n                <span class="num m-left">3</span>\n                <span class="num-r">提升了执行公司战略的能力和执行力</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio333-1" checked name="333"/>\n                <label for="radio333-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio333-2" name="333"/>\n                <label for="radio333-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio333-3" name="333"/>\n                <label for="radio333-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio333-4" name="333"/>\n                <label for="radio333-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio333-5" name="333"/>\n                <label for="radio333-5"></label>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">业务紧迫度</div>\n            <div class="table-cell bg1">非常同意</div>\n            <div class="table-cell bg1">比较同意</div>\n            <div class="table-cell bg1">一般同意</div>\n            <div class="table-cell bg1">比较不同意</div>\n            <div class="table-cell bg1">很不同意</div>\n        </div>\n        <div class="table-row clearfix">\n            <div class="table-cell one">\n                <span class="num m-left">1</span>\n                <span class="num-r">加深了对集团战略思想的理解及未来工作的发展方向</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio4-1" checked name="14"/>\n                <label for="radio4-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio4-2" name="14"/>\n                <label for="radio4-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio4-3" name="14"/>\n                <label for="radio4-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio4-4" name="14"/>\n                <label for="radio4-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio4-5" name="14"/>\n                <label for="radio4-5"></label>\n            </div>\n        </div>\n        <div class="table-row clearfix">\n            <div class="table-cell one">\n                <span class="num m-left">2</span>\n                <span class="num-r">解决了完成工作目标过程中的关键问题，对目标顺利达成有重要作用</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio5-1" checked name="5"/>\n                <label for="radio5-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio5-2" name="5"/>\n                <label for="radio5-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio5-3" name="5"/>\n                <label for="radio5-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio5-4" name="5"/>\n                <label for="radi5-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio5-5" name="5"/>\n                <label for="radio5-5"></label>\n            </div>\n        </div>\n        <div class="table-row clearfix border-bottom">\n            <div class="table-cell one">\n                <span class="num m-left">3</span>\n                <span class="num-r">提升了执行公司战略的能力和执行力</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio6-1" checked name="6"/>\n                <label for="radio6-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio6-2" name="6"/>\n                <label for="radio6-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio6-3" name="6"/>\n                <label for="radio6-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio6-4" name="6"/>\n                <label for="radio6-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio6-5" name="6"/>\n                <label for="radio6-5"></label>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">绩效改进度</div>\n        </div>\n        <div class="table-row auto clearfix border-none">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">加深了对集团战略思想的理解及未来工作的发展方向</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio7-1" name="7"/>\n                            <label class="m-right" for="radio7-1"></label>\n                            <div class="inline-block">有明显改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio7-2" name="7"/>\n                            <label class="m-right" for="radio7-2"></label>\n                            <div class="inline-block">有改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio7-3" name="7"/>\n                            <label class="m-right" for="radio7-3"></label>\n                            <div class="inline-block">不能确定</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio7-4" name="7"/>\n                            <label class="m-right" for="radio7-4"></label>\n                            <div class="inline-block">没有明显改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio7-5" name="7"/>\n                            <label class="m-right" for="radio7-5"></label>\n                            <div class="inline-block">完全没有改善</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="text-center"><div class="btn big layout-mt">提交问卷</div></div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-leader-new/index",function(e,n,a){a.items={main:"main"},a.tname="train.statistics.ques.research-answer-leade"},{}),loadjs.d("./app/train/class-detail/research-leader-new/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-four-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){
return'    <div class="big-title text-center strong">尊敬的领导，您好。</div>\n    <p class="h4 text-center">为了评估学员（孔文昊）在培训后回到工作中的能力提升情况，为了解您对本次培训效果的反馈和建议，我们非常希望能得到您的宝贵意见，为培训工作的持续改进提供支持，请您完整而如实地回答，感谢您的支持与合作。</p>\n    <div class="top-area clearfix">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">孔文昊参加的培训班是：</div>\n            <div class="h2 m-top">“学习贯彻习近平新时代中国特色社会主义思想和党的十九大 精神深入推进‘大连接’战略实施落地”——2018年度总部处室 经理研讨班（第三期）</div>\n            <div class="layout-mt-small">\n                <span>项目日期：</span>\n                <span class="sub-text">2018.3.10-3.14</span>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">总体满意度</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">员工参加集团培训项目后，您对培训效果整体是否满意？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio8-1" name="8"/>\n                            <label class="m-right" for="radio8-1"></label>\n                            <div class="inline-block">非常满意</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio8-2" name="8"/>\n                            <label class="m-right" for="radio8-2"></label>\n                            <div class="inline-block">满意</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio8-3" name="8"/>\n                            <label class="m-right" for="radio8-3"></label>\n                            <div class="inline-block">一般</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio8-4" name="8"/>\n                            <label class="m-right" for="radio8-4"></label>\n                            <div class="inline-block">不满意</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio8-5" name="8"/>\n                            <label class="m-right" for="radio8-5"></label>\n                            <div class="inline-block">非常不满意</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">战略相关度</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">员工参加集团培训项目后，对集团相关业务发展方向和工作思路的理解是否有所提升？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio1-1" name="1"/>\n                            <label class="m-right" for="radio1-1"></label>\n                            <div class="inline-block">有很大帮助</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio1-2" name="1"/>\n                            <label class="m-right" for="radio1-2"></label>\n                            <div class="inline-block">有一些帮助</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio1-3" name="1"/>\n                            <label class="m-right" for="radio1-3"></label>\n                            <div class="inline-block">一般</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio1-4" name="1"/>\n                            <label class="m-right" for="radio1-4"></label>\n                            <div class="inline-block">帮助不明显</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio1-5" name="1"/>\n                            <label class="m-right" for="radio1-5"></label>\n                            <div class="inline-block">无帮助</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">业务紧迫度</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">员工参加集团培训项目后，您认为是否能帮助你们解决相关领域或工作中遇到的问题？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio2-1" name="2"/>\n                            <label class="m-right" for="radio2-1"></label>\n                            <div class="inline-block">有很大帮助</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio2-2" name="2"/>\n                            <label class="m-right" for="radio2-2"></label>\n                            <div class="inline-block">有一些帮助</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio2-3" name="2"/>\n                            <label class="m-right" for="radio2-3"></label>\n                            <div class="inline-block">一般</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio2-4" name="2"/>\n                            <label class="m-right" for="radio2-4"></label>\n                            <div class="inline-block">帮助不明显</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio2-5" name="2"/>\n                            <label class="m-right" for="radio2-5"></label>\n                            <div class="inline-block">无帮助</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">工作指导度</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">员工参加集团培训项目后，您认为该员工在所参与培训领域的专业技能或工作水平是否得到提升？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio3-1" name="3"/>\n                            <label class="m-right" for="radio3-1"></label>\n                            <div class="inline-block">有很大提升</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio3-2" name="3"/>\n                            <label class="m-right" for="radio3-2"></label>\n                            <div class="inline-block">有一些提升</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio3-3" name="3"/>\n                            <label class="m-right" for="radio3-3"></label>\n                            <div class="inline-block">一般</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio3-4" name="3"/>\n                            <label class="m-right" for="radio3-4"></label>\n                            <div class="inline-block">提升不明显</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio3-5" name="3"/>\n                            <label class="m-right" for="radio3-5"></label>\n                            <div class="inline-block">无提升</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">知识前瞻度</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">员工参加集团培训后，对行业最新的发展动态及公司的心技术新业务知识的了解是否提升？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio4-1" name="4"/>\n                            <label class="m-right" for="radio4-1"></label>\n                            <div class="inline-block">有很大提升</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio4-2" name="4"/>\n                            <label class="m-right" for="radio4-2"></label>\n                            <div class="inline-block">有一些提升</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio4-3" name="4"/>\n                            <label class="m-right" for="radio4-3"></label>\n                            <div class="inline-block">一般</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio4-4" name="4"/>\n                            <label class="m-right" for="radio4-4"></label>\n                            <div class="inline-block">提升不明显</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio4-5" name="4"/>\n                            <label class="m-right" for="radio4-5"></label>\n                            <div class="inline-block">无提升</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">绩效改进度</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">员工参加集团培训项目后，对其工作绩效的改善程度</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio5-1" name="5"/>\n                            <label class="m-right" for="radio5-1"></label>\n                            <div class="inline-block">有明显改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio5-2" name="5"/>\n                            <label class="m-right" for="radio5-2"></label>\n                            <div class="inline-block">有改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio5-3" name="5"/>\n                            <label class="m-right" for="radio5-3"></label>\n                            <div class="inline-block">不能确定</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio5-4" name="5"/>\n                            <label class="m-right" for="radio5-4"></label>\n                            <div class="inline-block">没有明显改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio5-5" name="5"/>\n                            <label class="m-right" for="radio5-5"></label>\n                            <div class="inline-block">完全没有改善</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">培训频次</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">您感觉集团所组织的培训频次如何？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio6-1" name="6"/>\n                            <label class="m-right" for="radio6-1"></label>\n                            <div class="inline-block">频次过多</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio6-2" name="6"/>\n                            <label class="m-right" for="radio6-2"></label>\n                            <div class="inline-block">频次偏多</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio6-3" name="6"/>\n                            <label class="m-right" for="radio6-3"></label>\n                            <div class="inline-block">频次适中</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio6-4" name="6"/>\n                            <label class="m-right" for="radio6-4"></label>\n                            <div class="inline-block">频次偏少</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio6-5" name="6"/>\n                            <label class="m-right" for="radio6-5"></label>\n                            <div class="inline-block">频次过少</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">培训时间</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">您感觉集团所组织的培训时长怎么样</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio7-1" name="7"/>\n                            <label class="m-right" for="radio7-1"></label>\n                            <div class="inline-block">时间过长</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio7-2" name="7"/>\n                            <label class="m-right" for="radio7-2"></label>\n                            <div class="inline-block">时间偏长</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio7-3" name="7"/>\n                            <label class="m-right" for="radio6-3"></label>\n                            <div class="inline-block">时间合适</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio7-4" name="7"/>\n                            <label class="m-right" for="radio7-4"></label>\n                            <div class="inline-block">时间偏短</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" type="radio" id="radio7-5" name="7"/>\n                            <label class="m-right" for="radio7-5"></label>\n                            <div class="inline-block">时间过短</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt layout-mb">\n        <div class="table-row row-one clearfix"><div class="table-cell one big normal-lheight">开放问题</div></div>\n        <div class="item-san layout-mt-small">\n            <div class="san-div">\n                <span class="num m-left">1</span>\n                <span class="num-r">结合您的部门职责和重点工作，您希望您的团队在2019年参加哪些方面的培训项目？</span>\n            </div>\n            <div class="m-top">\n                <textarea class="input m-left w-full" rows="5"></textarea>\n            </div>\n        </div>\n        <div class="item-san layout-mt-small">\n            <div class="san-div">\n                <span class="num m-left">2</span>\n                <span class="num-r">您对于集团组织的培训项目还有哪些建议？</span>\n            </div>\n            <div class="m-top">\n                <textarea class="input m-left w-full" rows="5"></textarea>\n            </div>\n        </div>\n        <div class="text-center"><div class="btn big layout-mt">提交问卷</div></div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/research-question-types",function(e,n,a){var t={1:"choise",2:"choise-yes",3:"judgement",4:"sentence-completion",5:"question-answer",6:"reading-comprehension",7:"line",8:"sorting"},i={1:"summary-detail",2:"answer-detail",3:"answer",4:"preview"},l=function(e,n){return"train/class-detail/question/types/"+i[n]+"/"+t[e]};a.get=function(e,n){return l(e,n)},a.map=t},{}),loadjs.d("./app/train/class-detail/research-satification-new/index",function(e,n,a){a.items={main:"main"},a.tname="train.statistics.ques.research-answer-lea"},{}),loadjs.d("./app/train/class-detail/research-satification-new/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){
return'    <div class="research-progress w-half layout-mt clearfix">\n        <div class="pro-item doing">\n            <span class="layout-mr-small">1</span>\n            <span>进行满意度评估</span>\n        </div>\n        <div class="pro-item wait">\n            <span class="layout-mr-small">2</span>\n            <span>进行四度评估</span>\n        </div>\n    </div>\n    <div class="big-title text-center strong">请您进行培训班满意度评估。</div>\n    <p class="h4 text-center">非常感谢您对学院各项工作的理解、支持和帮助。为持续提升培训质量，请留下您对培训的评价及建议。并祝您工作顺利、万事如意！</p>\n    <div class="top-area">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">孔文昊，您正在评估的培训班是：</div>\n            <div class="h2 m-top">“学习贯彻习近平新时代中国特色社会主义思想和党的十九大 精神深入推进‘大连接’战略实施落地”——2018年度总部处室 经理研讨班（第三期）</div>\n            <div class="layout-mt-small">\n                <span>项目日期：</span>\n                <span class="sub-text">2018.3.10-3.14</span>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt-small">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">第一部分：总体评估</div>\n            <div class="table-cell bg1">满意</div>\n            <div class="table-cell bg1">基本满意</div>\n            <div class="table-cell bg1">一般</div>\n            <div class="table-cell bg1">不满意</div>\n            <div class="table-cell bg1">很不满意</div>\n        </div>\n        <div class="table-row clearfix">\n            <div class="table-cell one">\n                <span class="num m-left">1</span>\n                <span class="num-r">您对本次培训项目的整体感知</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-1" checked name="1"/>\n                <label for="radio-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-2" name="1"/>\n                <label for="radio-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-3" name="1"/>\n                <label for="radio-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-4" name="1"/>\n                <label for="radio-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio-5" name="1"/>\n                <label for="radio-5"></label>\n            </div>\n        </div>\n        <div class="table-row clearfix">\n            <div class="table-cell one">\n                <span class="num m-left">2</span>\n                <span class="num-r">您对本次培训项目的整体感知</span>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-1" checked name="2"/>\n                <label for="radio2-1"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-2" name="2"/>\n                <label for="radio2-2"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-3" name="2"/>\n                <label for="radio2-3"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-4" name="2"/>\n                <label for="radio2-4"></label>\n            </div>\n            <div class="table-cell bg1">\n                <input class="hide" type="radio" id="radio2-5" name="2"/>\n                <label for="radio2-5"></label>\n            </div>\n        </div>\n    </div>\n    <div class="main-one main-two layout-mt">\n        <div class="table-row row-one clearfix active">\n            <div class="table-cell one big w-35">第二部分：课程师资评估</div>\n            <div class="table-cell bg1 w-30">\n                <div class="h4">课程内容安排</div>\n                <div class="clearfix">\n                    <div class="pull-left w-20">满意</div>\n                    <div class="pull-left w-20">基本满意</div>\n                    <div class="pull-left w-20">一般</div>\n                    <div class="pull-left w-20">不满意</div>\n                    <div class="pull-left w-20">很不满意</div>\n                </div>\n            </div>\n            <div class="table-cell bg2 w-30">\n                <div class="h4 color2">讲师授课水平</div>\n                <div class="clearfix">\n                    <div class="pull-left w-20">满意</div>\n                    <div class="pull-left w-20">基本满意</div>\n                    <div class="pull-left w-20">一般</div>\n                    <div class="pull-left w-20">不满意</div>\n                    <div class="pull-left w-20">很不满意</div>\n                </div>\n            </div>\n            <div class="table-cell bg3 w-5 color3 small">\n                <div>\n                    <div>推荐</div>\n                    <div>课程</div>\n                </div>\n            </div>\n        </div>\n        <div class="table-row clearfix">\n            <div class="table-cell one w-35">\n                <span class="num m-left">1</span>\n                <span class="num-r">开班讲话</span>\n            </div>\n            <div class="table-cell w-30 bg1">\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio3-1" name="3"/>\n                    <label for="radio3-1"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio3-2" name="3"/>\n                    <label for="radio3-2"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio3-3" name="3"/>\n                    <label for="radio3-3"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio3-4" name="3"/>\n                    <label for="radio3-4"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio3-5" name="3"/>\n                    <label for="radio3-5"></label>\n                </div>\n            </div>\n            <div class="table-cell w-30 bg2">\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio4-1" name="4"/>\n                    <label for="radio4-1"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio4-2" name="4"/>\n                    <label for="radio4-2"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio4-3" name="4"/>\n                    <label for="radio4-3"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio4-4" name="4"/>\n                    <label for="radio4-4"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio4-5" name="4"/>\n                    <label for="radio4-5"></label>\n                </div>\n            </div>\n            <div class="table-cell w-5 bg3">\n                <input class="hide" type="checkbox" id="zan-1" name="zan1"/>\n                <label class="iconfont icon-dianzan" for="zan-1"></label>\n            </div>\n        </div>\n        <div class="table-row clearfix active">\n            <div class="table-cell one w-35">\n                <span class="num m-left">2</span>\n                <span class="num-r">十九大党章解读（赵绪生）</span>\n            </div>\n            <div class="table-cell w-30 bg1">\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio5-1" name="5"/>\n                    <label for="radio5-1"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio5-2" name="5"/>\n                    <label for="radio5-2"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio5-3" name="5"/>\n                    <label for="radio5-3"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio5-4" name="5"/>\n                    <label for="radio5-4"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio5-5" name="5"/>\n                    <label for="radio5-5"></label>\n                </div>\n                <div><input class="input col-sm-10 small-font" type="text" placeholder="请填写不满意的具体原因（至少30字）..."/></div>\n            </div>\n            <div class="table-cell w-30 bg2">\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio6-1" name="6"/>\n                    <label for="radio6-1"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio6-2" name="6"/>\n                    <label for="radio6-2"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio6-3" name="6"/>\n                    <label for="radio6-3"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio6-4" name="6"/>\n                    <label for="radio6-4"></label>\n                </div>\n                <div class="pull-left w-20">\n                    <input class="hide" type="radio" id="radio6-5" name="6"/>\n                    <label for="radio6-5"></label>\n                </div>\n            </div>\n            <div class="table-cell w-5 bg3">\n                <input class="hide" type="checkbox" id="zan-2" name="zan2" checked/>\n                <label class="iconfont icon-dianzan" for="zan-2"></label>\n            </div>\n        </div>\n    </div>\n    <div class="main-one mt layout-mb">\n        <div class="table-row row-one clearfix"><div class="table-cell one big normal-lheight">第三部分：开放性问卷（选填）</div></div>\n        <div class="item-san layout-mt-small">\n            <div class="san-div">\n                <span class="num m-left">1</span>\n                <span class="num-r strong">本次培训您认为哪些方面最有价值？主要收获有哪些？</span>\n            </div>\n            <div class="m-top">\n                <textarea class="input m-left w-full" rows="5"></textarea>\n            </div>\n        </div>\n        <div class="item-san layout-mt-small">\n            <div class="san-div">\n                <span class="num m-left">2</span>\n                <span class="num-r strong">本次培训您认为存在哪些不足？您的建议是什么？</span>\n            </div>\n            <div class="m-top">\n                <textarea class="input m-left w-full" rows="5"></textarea>\n            </div>\n        </div>\n        <div class="item-san layout-mt-small">\n            <div class="san-div">\n                <span class="num m-left">3</span>\n                <span class="num-r strong">其它意见或建议？</span>\n            </div>\n            <div class="m-top">\n                <textarea class="input m-left w-full" rows="5"></textarea>\n            </div>\n        </div>\n        <div class="text-center"><div class="btn layout-mt">提交并进入四度评估</div></div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/summary/index",function(e,n,a){var t,i=e("lodash/collection"),l=e("drizzle-zxy"),s=e("./app/util/maps"),r={INIT:"init",CHECK:"check",ACTIVE:"active",CURRENT:"current"};a.items={title:"title",main:"main",side:"side"},a.large=!0,a.title="汇总统计",a.store={models:{state:{mixin:{init:function(){var e=this.module.store.models.dimensions,n=e.getFirstDimension();this.data={currentDimension:n,currentQuestion:n.questions[0]}},selectQuestion:function(e){var n=this.module.store.models.dimensions;l.assign(this.data,{currentQuestion:e,currentDimension:n.getDimension(e.id)})},resetCurrentQuestion:function(){var e=this.module.store.models.dimensions;l.assign(this.data,{currentQuestion:e.getCurrentQuestion()})}}},researchRecord:{url:"../exam/research-activity/summary-detail",mixin:{getAnswerRecordsByQuestionId:function(e){var n=this.data.researchQuestionary.researchAnswerRecordMaps;return i.filter(i.map(n,function(n){return i.find(n.researchAnswerRecords,["questionId",e])}),function(e){return e})},getQuestionIndex:function(e,n){var a=this.data.researchQuestionary.dimensions;return a[a.findIndex(function(e){return e.id===n})].questions.findIndex(function(n){return n.id===e})+1}}},questions:{mixin:{init:function(e){var n=this;this.data=[],i.forEach(e,function(e){e.questions&&i.forEach(e.questions,function(e){n.data.push(e)})})},getQuestionById:function(e){var n=i.find(this.data,["id",e]),a=this.module.store.models.researchRecord;return l.assign(n,{answerRecords:a.getAnswerRecordsByQuestionId(n.id),index:a.getQuestionIndex(n.id,n.dimensionId),researchRecordId:a.data.id})}}},dimensions:{mixin:{init:function(e){var n=s.get("research-question-types"),a=s.get("chineseNumber"),t=e.findIndex(function(e){return 1===e.isEmpty});return this.data=i.map(e,function(e,s){var o=i.find(a,["key",(s+1).toString()]).value;return-1!==t&&t<s&&(o=i.find(a,["key",s.toString()]).value),t===s&&(o=""),l.assign(e,{isCurrent:!0,dimensionIndex:o,questions:i.map(e.questions,function(e,a){return l.assign(e,{questionIndex:a+1,typeDesc:i.find(n,["key",e.type.toString()]).value+"题",status:0===s&&0===a?r.CURRENT:r.INIT})}),questionSize:e.questions.length})}),this.data},getDimension:function(e){return i.find(this.data,function(n){return i.some(n.questions,function(n){return n.id===e})})},getQuestionById:function(e){var n;return i.forEach(this.data,function(a){i.forEach(a.questions,function(a){a.id===e&&(n=a)})}),n},getFirstDimension:function(){return this.data[0]},getCurrentQuestion:function(){var e;return i.forEach(this.data,function(n){i.forEach(n.questions,function(n){n.status===r.CURRENT&&(e=n)})}),e},selectDimension:function(e){this.module.store.models.state.data.selectQuestion||(this.data[e].isCurrent=!this.data[e].isCurrent),this.module.store.models.state.data.selectQuestion=!1},selectQuestion:function(e){var n=this.getDimension(e),a=n.questions.findIndex(function(e){return e.status===r.CURRENT}),s=this;a>-1&&(n.questions[a].status=t.call(this,n.questions[a].id)),l.assign(this.getQuestionById(e),{status:r.CURRENT}),i.forEach(i.filter(this.data,function(n){return i.every(n.questions,function(n){return n.id!==e})}),function(e){var n=e.questions.findIndex(function(e){return e.status===r.CURRENT});-1!==n&&l.assign(e.questions[n],{status:t.call(s,e.questions[n].id)})}),this.module.store.models.state.data.selectQuestion=!0},move:function(e){var n=this.data[e.id],a=n.questions.findIndex(function(e){return e.status===r.CURRENT}),i=n.questions[a+e.offset];i&&(i.status=r.CURRENT,n.questions[a].status=t.call(this,n.questions[a].id))}}}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.questions,t=this.models.dimensions,i=this.models.state;if(n.clear(),e.researchRecord)n.set(e.researchRecord),a.init(e.researchRecord.researchQuestionary.dimensions),n.changed();else if(e.researchRecordId)return n.params={researchRecordId:e.researchRecordId},this.get(n).then(function(){a.init(t.init(n.data.researchQuestionary.dimensions)),t.changed(),i.init()});return""},selectDimension:function(e){this.models.dimensions.selectDimension(e.id),this.models.dimensions.changed()},selectQuestion:function(e){this.models.dimensions.selectQuestion(e.id),this.models.dimensions.changed(),this.models.state.selectQuestion(this.models.dimensions.getQuestionById(e.id))},move:function(e){this.models.dimensions.move(e),this.models.dimensions.changed(),this.models.state.resetCurrentQuestion(),this.models.state.changed()}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)},t=function(){return r.INIT}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/summary/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="achievement-content main-side">\n        <div class="achievement-side bg-color">\n            <div data-region="side"></div>\n        </div>\n        <div class="achievement-head" data-region="title"></div>\n        <div class="achievement-main" data-region="main"></div>\n    </div>\n'},3:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression;return'    <div class="pull-left title" title="'+o(r(null!=(l=null!=(l=null!=n?n.researchRecord:n)?l.researchQuestionary:l)?l.name:l,n))+'">'+o(r(null!=(l=null!=(l=null!=n?n.researchRecord:n)?l.researchQuestionary:l)?l.name:l,n))+'</div>\n    <div class="text-right">\n        <ul class="head-info inline-block">\n            <li class="border right">'+o((s=null!=(s=a.memberTitle||(null!=n?n.memberTitle:n))?s:a.helperMissing,"function"==typeof s?s.call(null!=n?n:{},{name:"memberTitle",hash:{},data:i}):s))+": "+o(r(null!=(l=null!=(l=null!=n?n.researchRecord:n)?l.member:l)?l.name:l,n))+"</li>\n        </ul>\n    </div>\n"},5:function(e,n,a,t,i){var l;return'    <div class="preview-content" oncontextmenu1="window.event.returnValue=false;" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isMutiple:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(12,i,0),data:i}))?l:"")+"    </div>\n"},6:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:""},7:function(e,n,a,t,i){var l,s=null!=n?n:{};return(null!=(l=a.if.call(s,null!=n?n.dimensionIndex:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.each.call(s,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},8:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <div class="h3 m-bottom">'+o((l=null!=(l=a.dimensionIndex||(null!=n?n.dimensionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"dimensionIndex",hash:{},data:i}):l))+"、"+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'</div>\n                    <div class="description-con">\n                        <p class="des-con">'+o((l=null!=(l=a.description||(null!=n?n.description:n))?l:r,"function"==typeof l?l.call(s,{name:"description",hash:{},data:i}):l))+'</p>\n                        <span class="btn-des-more" id="desMore'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">\n                            <span class="text">展开</span>\n                            <i class="iconfont icon-arrow-down"></i>\n                        </span>\n                    </div>\n'},10:function(e,n,a,t,i){var l;return'                    <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},12:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'            <div class="h3">'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentDimension:l)?l.name:l,n))+"("+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.questionIndex:l,n))+"/"+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentDimension:l)?l.questionSize:l,n))+')</div>\n            <div data-dynamic-key="'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n'},14:function(e,n,a,t,i){var l;return'    <ul class="list">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},15:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li id="list-item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n            <div class="list-title"><i class="iconfont icon-type m-right"></i>'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n            <div class="min-btn-groups  '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.program(18,i,0),data:i}))?l:"")+'">\n'+(null!=(l=a.if.call(r,null!=n?n.singleMode:n,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n        </li>\n    "},16:function(e,n,a,t,i){return""},18:function(e,n,a,t,i){return"hidden"},20:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <div class="items-pagination sub-text">\n                        <div class="up-arrow text-hover-main-color" id="prev-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"><i class="iconfont icon-arrow-up-circle-full"></i></div>\n                        <div class="down-arrow text-hover-main-color" id="next-'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"><i class="iconfont icon-arrow-down-circle-full"></i></div>\n                    </div>\n'},22:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","active",{name:"compare",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","current",{name:"compare",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","init",{name:"compare",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")},23:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item active" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"questionIndex",hash:{},data:i}):l))+"</a>\n"},25:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item current" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"questionIndex",hash:{},data:i}):l))+"</a>\n"},27:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"questionIndex",hash:{},data:i}):l))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"title",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/summary/view-main",function(e,n,a){var t=e("./app/util/business/research-question-types"),i=e("drizzle-zxy"),l=e("lodash/collection"),s=e("jquery");a.bindings={researchRecord:!0,dimensions:!0,state:!0,questions:!1},a.type="dynamic",a.getEntity=function(e){var n=this.bindings.questions.getQuestionById(e);return i.assign({},n,{questionAttrs:l.orderBy(n.questionAttrs,["name"],["asc"]),score:n.score/100})},a.getEntityModuleName=function(e,n){var a=this.bindings.researchRecord.data.researchQuestionary;return a&&3!==a.type&&1===a.permitViewCount?t.get(n.type,1):t.get(n.type,2)},a.dataForEntityModule=function(e){return{type:e.type,question:e}},a.dataForTemplate={isMutiple:function(e){return!e.researchRecord.researchQuestionary||1===e.researchRecord.researchQuestionary.answerPaperRule}},a.afterRender=function(){s(".description-con").each(function(e,n){var a=s(n).children(".des-con"),t=a.height(),i=s(n);t>30?a.addClass("text-overflow"):a.hasClass("text-overflow")||i.addClass("overflow-hidden")})},a.events={"click desMore*":"handleDesMore"},a.handlers={handleDesMore:function(e,n,a){var t=s(a);t.hasClass("active")?(t.removeClass("active"),t.siblings(".des-con").addClass("text-overflow"),t.children(".text").text("展开")):(t.addClass("active"),t.siblings(".des-con").removeClass("text-overflow"),t.children(".text").text("收起"))}}},{"./app/util/business/research-question-types":"./app/util/business/research-question-types","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/summary/view-title",function(e,n,a){a.bindings={researchRecord:!0},a.dataForTemplate={memberTitle:function(e){return 3===(e.researchRecord.researchQuestionary||{}).type?"评估人":"调研人"}}},{}),loadjs.d("./app/train/class-detail/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="class-details-page">\n    <div class="class-details-box" data-region="banner"></div>\n    <div class="container">\n        <div class="page-main-wrapper">\n            <div class="side">\n                <div class="page-side no-left">\n                    <section class="section domain" data-region="main"></section>\n                    <section class="section class-info" data-region="class-information"></section>\n                    <section class="section class-notice" data-region="class-notice"></section>\n                    <section class="layout-mt-5 class-clerk" data-region="class-member"></section>\n                    <section class="layout-mt-5 class-clerk" data-region="two-brings"></section>\n                    <section class="section charts" data-region="ranking-list"></section>\n                </div>\n            </div>\n            <div class="main layout-mt-small">\n                <div class="class-details-page page-main">\n                    <section data-region="offline"></section>\n                    <div data-region="curriculum-schedule"></div>\n                    <section class="section" data-region="online-resources"></section>\n                    <section class="section" data-region="discussion-area"></section>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="evaluate" data-region="evaluate"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="banner classdetail-banner banner-change-height" style="background-image:url('+e.escapeExpression(e.lambda(null!=(l=null!=n?n.classInfo:n)?l.path:l,n))+')">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.classInfo:n)?l.show:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'        <div class="notice text-right"><div class="container"><div class="relative">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.classDetail:n)?l.notice:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'            <a class="c-item transparent">占位符</a>\n'+(null!=(l=a.if.call(s,null!=n?n.arr:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(13,i,0),data:i}))?l:"")+"        </div>\n        </div></div>\n    </div>\n"},4:function(e,n,a,t,i){var l;return'            <div class="classname"><div class="container">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.classInfo:n)?l.className:l,n))+"</div></div>\n"},6:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                <div class="notice-content text-overflow text-left clearfix">\n                    <i class="iconfont icon-notice pull-left"></i>\n                    <div class="text-overflow inline-block w-full vertical-top" style="width: 96%;margin-left: 5px;" title="'+r(s(null!=(l=null!=n?n.classDetail:n)?l.noticeText:l,n))+'">'+r(s(null!=(l=null!=n?n.classDetail:n)?l.noticeText:l,n))+"</div>\n                </div>\n"},8:function(e,n,a,t,i){var l,s=null!=n?n:{};return(null!=(l=a.each.call(s,null!=n?n.arr:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+'                <div id="classes-more" class="classes-more relative">\n                    <span id="moretext">展示更多</span>\n                    <i id="showmoreico" class="iconfont icon-triangle-down"></i>\n                    <div id="dropdown-more" class="dropdown-more w-full hide">\n                        <ul>\n'+(null!=(l=a.each.call(s,null!=n?n.groups:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"                        </ul>\n                    </div>\n                </div>\n"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <a class="layout-mr-small c-item" href="'+o((l=null!=(l=a.classUrl||(null!=n?n.classUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"classUrl",hash:{},data:i}):l))+'" target="_blank" title="'+o((l=null!=(l=a.shortNames||(null!=n?n.shortNames:n))?l:r,"function"==typeof l?l.call(s,{name:"shortNames",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.shortName||(null!=n?n.shortName:n))?l:r,"function"==typeof l?l.call(s,{name:"shortName",hash:{},data:i}):l))+"</a>\n"},11:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <li><a class="normal text-main-color" href="'+o((l=null!=(l=a.classUrl||(null!=n?n.classUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"classUrl",hash:{},data:i}):l))+'" target="_blank" title="'+o((l=null!=(l=a.shortNames||(null!=n?n.shortNames:n))?l:r,"function"==typeof l?l.call(s,{name:"shortNames",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.shortName||(null!=n?n.shortName:n))?l:r,"function"==typeof l?l.call(s,{name:"shortName",hash:{},data:i}):l))+"</a></li>\n"},13:function(e,n,a,t,i){var l
;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.groups:n,{name:"each",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:""},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <a class="m-right c-item" href="'+o((l=null!=(l=a.classUrl||(null!=n?n.classUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"classUrl",hash:{},data:i}):l))+'" target="_blank" title="'+o((l=null!=(l=a.shortNames||(null!=n?n.shortNames:n))?l:r,"function"==typeof l?l.call(s,{name:"shortNames",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.shortName||(null!=n?n.shortName:n))?l:r,"function"==typeof l?l.call(s,{name:"shortName",hash:{},data:i}):l))+"</a>\n"},16:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'    \x3c!-- 学员满意度 --\x3e\n    <div class="strong text-left" style="font-size:26px;">你好，'+d((s=null!=(s=a.fullName||(null!=n?n.fullName:n))?s:o,"function"==typeof s?s.call(r,{name:"fullName",hash:{},data:i}):s))+"。</div>\n"+(null!=(l=a.if.call(r,null!=n?n.isStatus:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.program(19,i,0),data:i}))?l:"")+'    <div class="side-contents">\n        <div class="tips clearfix layout-mt-small">\n            <div class="pointer tip1 tipone pull-left border around layout-mb-small" id="research">\n                <span class="strong layout-ml-small">满意度评估</span>\n                <i class="iconfont icon-arrow-right"></i>\n                <div class="icon-tip"><img src="images/class-detail/evaluate-new.png"/></div>\n            </div>\n            <div class="pointer tip1 pull-left border around" id="questionnaire">\n                <img src="images/class-detail/exam.png"/>\n                <div class="strong">参加考试</div>\n            </div>\n            <div class="pointer tip1 pull-left border around" id="shuttleBusInformation">\n                <img src="images/class-detail/bus.png"/>\n                <div class="strong">预订班车</div>\n            </div>\n            <div class="pointer tip1 pull-left border around" id="commitTask">\n                <img src="images/class-detail/submit.png"/>\n                <div class="strong">提交作业</div>\n            </div>\n'+(null!=(l=a.if.call(r,null!=(l=null!=n?n.grade:n)?l.length:l,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+'            <div class="pointer tip1 pull-left border around" id="wisdomSchool">\n                <img src="images/class-detail/wisdomSchool.png" style="height: 27px;"/>\n                <div class="strong">智慧校园</div>\n            </div>\n        </div>\n        <div class="tips2 clearfix layout-mt-small">\n            <div id="class-photo" class="pointer tip2 pull-left border right bottom">\n                <img src="images/class-detail/photo.png"/>\n                <div class="inline-block">班级相册</div>\n            </div>\n            <div class="pointer tip2 pull-left border right bottom" id="classMembers">\n                <img src="images/class-detail/phone.png"/>\n                <div class="inline-block">班级通讯录</div>\n            </div>\n            <div class="pointer tip2 pull-left border bottom" id="more-'+d((s=null!=(s=a.classId||(null!=n?n.classId:n))?s:o,"function"==typeof s?s.call(r,{name:"classId",hash:{},data:i}):s))+'">\n                <img src="images/class-detail/rank.png"/>\n                <div class="inline-block">班级排行榜</div>\n            </div>\n        </div>\n    </div>\n'},17:function(e,n,a,t,i){return'        <div class="h3 text-left layout-mt-small title-color">欢迎你来参加本次培训班。</div>\n'},19:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'        <div class="h4 text-left layout-mt-small title-color" title="'+r(s(null!=(l=null!=n?n.list:n)?l.themes:l,n))+'">'+r(s(null!=(l=null!=n?n.list:n)?l.theme:l,n))+"</div>\n"},21:function(e,n,a,t,i){return'                <div class="pointer tip1 pull-left border around" id="grade">\n                    <img src="images/class-detail/grade.png"/>\n                    <div class="strong">查看成绩</div>\n                </div>\n'},23:function(e,n,a,t,i){var l;return'    <div class="questionnaire-all">\n        <div class="clearfix">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.weekList:n,{name:"each",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n    </div>\n"},24:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n            <div class="item-box pull-left">\n                <div class="item pointer" id="toResearch-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.commitStatus:n,"eq",1,{name:"compare",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+"                    <div>"+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</div>\n                </div>\n            </div>\n        "},25:function(e,n,a,t,i){return'                        <div class="tag">√</div>\n'},27:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="hide class-info">\n        <div class="h3 clearfix">\n            <span class="strong">班级信息</span>\n        </div>\n        <ul class="m-top">\n            <li>\n                <div class="class-info-left">\n                班级名称</div>\n                <div class="class-info-right">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.className:l,n))+'</div>\n            </li>\n            <li>\n                <div class="class-info-left">\n                主办单位</div>\n                <div class="class-info-right">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.organization:l,n))+'</div>\n            </li>\n            <li>\n                <div class="class-info-left">\n                起止时间</div>\n                <div class="class-info-right">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.classInfo:n)?l.date:l,{name:"if",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?l:"")+'                </div>\n            </li>\n            <li>\n                <div class="class-info-left">\n                培训地点</div>\n                <div class="class-info-right">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.address:l,n))+'</div>\n            </li>\n            <li>\n                <div class="class-info-left">\n                教室</div>\n                <div class="class-info-right">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.classRoomName:l,n))+'</div>\n            </li>\n            <li>\n                <div class="class-info-left">\n                餐厅</div>\n                <div class="class-info-right">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.diningRoomText:l,n))+"</div>\n            </li>\n        </ul>\n    </div>\n"},28:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression(e.lambda(null!=(l=null!=n?n.classInfo:n)?l.date:l,n))+"\n"},30:function(e,n,a,t,i){var l;return'    \x3c!-- 班务人员 --\x3e\n    <div class="class-members">\n        <div class="m-title strong margin">班务人员</div>\n        <ul>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.staff:n,{name:"each",hash:{},fn:e.program(31,i,0),inverse:e.program(34,i,0),data:i}))?l:"")+"</ul>\n    </div>\n"},31:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression,d=null!=n?n:{};return'\n            <li>\n                <div class="memeber-item clearfix">\n                    <div class="pull-left col-sm-3 h4 text-overflow color" title="'+o(r(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+'">'+o(r(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+'</div>\n                    <div class="pull-left col-sm-3">\n                        <div class="inline-block text-overflow">\n                            <span>'+o((s=null!=(s=a.callName||(null!=n?n.callName:n))?s:a.helperMissing,"function"==typeof s?s.call(d,{name:"callName",hash:{},data:i}):s))+'</span>\n                        </div>\n                    </div>\n                    <div class="pull-right col-sm-6 text-right h4">\n'+(null!=(l=a.if.call(d,null!=(l=null!=n?n.member:n)?l.phoneNumber:l,{name:"if",hash:{},fn:e.program(32,i,0),inverse:e.noop,data:i}))?l:"")+"                    </div>\n                </div>\n"},32:function(e,n,a,t,i){var l;return'                            <img class="vertical-middle" src="images/class-detail/icon-phone.png" width="15" height="15"/>\n                            <div class="inline-block vertical-middle color">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.member:n)?l.phoneNumber:l,n))+"</div>\n"},34:function(e,n,a,t,i){return'                <tr><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="100" height="100"/>\n                    <div>暂无班务人员</div>\n                </div></tr>\n            </li>\n        '},36:function(e,n,a,t,i){var l;return'<form class="vertical">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isOpen:n,{name:"if",hash:{},fn:e.program(37,i,0),inverse:e.noop,data:i}))?l:"")+"</form>"},37:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'        <div class="twobrings layout-mt-5">\n            <div class="m-title strong">两个“带来”\n                <div class="tip">\n                    <i class="iconfont icon-info"></i>\n                    为让培训更能解决您的问题\n                </div>\n            </div>\n            <div class="bring-item first">\n                <p>1.'+r(s(null!=(l=null!=n?n.signUpInfo:n)?l.question1:l,n))+'</p>\n                <div class="bring-content">\n                    \x3c!--  div 经验/案例主题 --\x3e\n                    <textarea class="w-full" '+(null!=(l=a.if.call(o,null!=n?n.submitOrNotGrant:n,{name:"if",hash:{},fn:e.program(38,i,0),inverse:e.noop,data:i}))?l:"")+' placeholder="经验/案例主题" name="title1" value="'+r(s(null!=(l=null!=n?n.twoBringsResult:n)?l.title1:l,n))+'" x-rule="required;maxLength:20">'+r(s(null!=(l=null!=n?n.twoBringsResult:n)?l.title1:l,n))+'</textarea>\n                    <textarea id="content1" class="w-full text-2" '+(null!=(l=a.if.call(o,null!=n?n.submitOrNotGrant:n,{name:"if",hash:{},fn:e.program(38,i,0),inverse:e.noop,data:i}))?l:"")+' placeholder="经验/案例内容" name="content1" rows="5" x-rule="required;maxLength:300">'+r(s(null!=(l=null!=n?n.twoBringsResult:n)?l.content1:l,n))+'</textarea>\n                </div>\n            </div>\n            <div class="bring-item">\n                <p>2.'+r(s(null!=(l=null!=n?n.signUpInfo:n)?l.question2:l,n))+'</p>\n                <div class="bring-content">\n                    \x3c!--  div 问题/困难主题 --\x3e\n                    <textarea class="w-full" '+(null!=(l=a.if.call(o,null!=n?n.submitOrNotGrant:n,{name:"if",hash:{},fn:e.program(38,i,0),inverse:e.noop,data:i}))?l:"")+' placeholder="问题/困难主题" name="title2" value="'+r(s(null!=(l=null!=n?n.twoBringsResult:n)?l.title2:l,n))+'" x-rule="required;maxLength:20">'+r(s(null!=(l=null!=n?n.twoBringsResult:n)?l.title2:l,n))+"</textarea>\n                    \x3c!--  textarea.w-full(rows='4' placeholder='问题/困难内容') --\x3e\n                    <textarea id=\"content2\" class=\"w-full text-2\" "+(null!=(l=a.if.call(o,null!=n?n.submitOrNotGrant:n,{name:"if",hash:{},fn:e.program(38,i,0),inverse:e.noop,data:i}))?l:"")+' placeholder="问题/困难内容" name="content2" rows="5" x-rule="required;maxLength:300">'+r(s(null!=(l=null!=n?n.twoBringsResult:n)?l.content2:l,n))+"</textarea>\n                </div>\n            </div>\n"+(null!=(l=a.if.call(o,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(40,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},38:function(e,n,a,t,i){return" disabled"},40:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.twoBringsResult:n)?l.id:l,"eq",null,{name:"compare",hash:{},fn:e.program(41,i,0),inverse:e.noop,data:i}))?l:""},41:function(e,n,a,t,i){return'                    <div class="btn m-top" id="save">提交</div>\n'},43:function(e,n,a,t,i){return"    \x3c!-- 排行榜 --\x3e\n    \x3c!--  compare(classDetail.showRanking 'eq' 1) --\x3e\n    \x3c!--      .ranking.layout-mt-5 --\x3e\n    \x3c!--          .clearfix.layout-mb-small --\x3e\n    \x3c!--              compare(classDetail.rankingRule 'eq' 0) --\x3e\n    \x3c!--                  .pull-right.more(id='more-'+classId.classId) More --\x3e\n    \x3c!--              .m-title.strong 排行榜 --\x3e\n    \x3c!--          each(study.arr) --\x3e\n    \x3c!--              if(flag) --\x3e\n    \x3c!--                  .rank-contents --\x3e\n    \x3c!--                      .rank-item.m-top.clearfix --\x3e\n    \x3c!--                          .col-sm-5.pull-left.rank-left --\x3e\n    \x3c!--                              compare(i 'eq' 1) --\x3e\n    \x3c!--                                  img(src='images/class-detail/jinpai.png' class='vertical-middle' width='20') --\x3e\n    \x3c!--                              compare(i 'eq' 2) --\x3e\n    \x3c!--                                  img(src='images/class-detail/yinpai.png' class='vertical-middle' width='20') --\x3e\n    \x3c!--                              compare(i 'eq' 3) --\x3e\n    \x3c!--                                  img(src='images/class-detail/tongpai.png' class='vertical-middle' width='20') --\x3e\n    \x3c!--                              compare(i 'gt' 3) --\x3e\n    \x3c!--                                  span.sub-text.inline-block.vertical-top.text-center(style='min-width:20px;') > echo(i + '.') --\x3e\n    \x3c!--                              span.text-overflow.rank-title(title=member.fullName) > echo(member.fullName) --\x3e\n    \x3c!--                          .col-sm-3.pull-left.sub-text.small-font.text-overflow(style='margin-top:3px;' title=member.organizationName) > echo(member.organizationName) --\x3e\n    \x3c!--                          .col-sm-4.pull-right.sub-text.text-right.text-overflow(title=t) > echo(t) --\x3e\n    \x3c!--          else --\x3e\n    \x3c!--              .class-notice > p.small-font > echo('暂无学习排行榜数据') --\x3e\n    \x3c!--          each(study.arr1) --\x3e\n    \x3c!--              if(flag) --\x3e\n    \x3c!--                  .rank-contents --\x3e\n    \x3c!--                      .rank-item.m-top.clearfix --\x3e\n    \x3c!--                          .col-sm-5.pull-left.rank-left --\x3e\n    \x3c!--                              compare(i 'eq' 1) --\x3e\n    \x3c!--                                  img(src='images/class-detail/jinpai.png' class='vertical-middle' width='20') --\x3e\n    \x3c!--                              compare(i 'eq' 2) --\x3e\n    \x3c!--                                  img(src='images/class-detail/yinpai.png' class='vertical-middle' width='20') --\x3e\n    \x3c!--                              compare(i 'eq' 3) --\x3e\n    \x3c!--                                  img(src='images/class-detail/tongpai.png' class='vertical-middle' width='20') --\x3e\n    \x3c!--                              compare(i 'gt' 3) --\x3e\n    \x3c!--                                  span.sub-text.inline-block.vertical-top.text-center(style='min-width:20px;') > echo(i + '.') --\x3e\n    \x3c!--                              span.text-overflow.rank-title(title=member.fullName) > echo(member.fullName) --\x3e\n    \x3c!--                          .col-sm-3.pull-left.sub-text.small-font.text-overflow(title=member.organizationName) > echo(member.organizationName) --\x3e\n    \x3c!--                          .col-sm-4.pull-right.sub-text.text-right.text-overflow(title=t) > echo(t) --\x3e\n"},45:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{},d=a.helperMissing;return'    \x3c!-- 日程安排 --\x3e\n    <div class="m-top clearfix">\n'+(null!=(r=a.if.call(o,null!=(r=null!=n?n.classInfo:n)?r.stepYear:r,{name:"if",hash:{},fn:e.program(46,i,0,l,s),inverse:e.program(48,i,0,l,s),data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=(r=null!=n?n.classInfo:n)?r.isOutside:r,"eq",2,{name:"compare",hash:{},fn:e.program(50,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=(r=null!=n?n.classInfo:n)?r.isOutside:r,"ne",2,{name:"compare",hash:{},fn:e.program(55,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'    </div>\n    <div class="layout-mt">\n        <div class="clearfix layout-mb-small">\n            <div class="pull-left m-title strong">日程安排</div>\n            <div class="pull-right" style="margin-top:4px;">\n'+(null!=(r=a.if.call(o,null!=n?n.isShowButton:n,{name:"if",hash:{},fn:e.program(63,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=a.if.call(o,null!=n?n.isShowWeeks:n,{name:"if",hash:{},fn:e.program(65,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"            </div>\n        </div>\n"+(null!=(r=a.each.call(o,null!=n?n.content:n,{name:"each",hash:{},fn:e.program(69,i,0,l,s),inverse:e.program(132,i,0,l,s),data:i}))?r:"")+"    </div>\n"},46:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'            <div class="intro-item col-sm-1 pull-left strong">\n                <div class="small">主办单位</div>\n                <div class="text-overflow m-top" title="'+r(s(null!=(l=null!=n?n.classInfo:n)?l.organization:l,n))+'">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.organization:l,n))+"</div>\n            </div>\n"},48:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'            <div class="intro-item col-sm-2 pull-left strong">\n                <div class="small">主办单位</div>\n                <div class="text-overflow m-top" title="'+r(s(null!=(l=null!=n?n.classInfo:n)?l.organization:l,n))+'">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.organization:l,n))+"</div>\n            </div>\n"},50:function(e,n,a,t,i){var l;return'            <div class="intro-item col-sm-10 pull-left strong">\n                <div class="small">起止时间</div>\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.classInfo:n)?l.date:l,{name:"if",hash:{},fn:e.program(51,i,0),inverse:e.program(53,i,0),data:i}))?l:"")+"            </div>\n"},51:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                    <div class="text-overflow m-top" title="'+r(s(null!=(l=null!=n?n.classInfo:n)?l.date:l,n))+'">\n                        '+r(s(null!=(l=null!=n?n.classInfo:n)?l.date:l,n))+"\n                    </div>\n"},53:function(e,n,a,t,i){return'                    <div class="text-overflow m-top"></div>\n'},55:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'            <div class="intro-item col-sm-2 pull-left strong">\n                <div class="small">培训地点</div>\n                <div class="text-overflow m-top" title="'+r(s(null!=(l=null!=n?n.classInfo:n)?l.address:l,n))+'">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.address:l,n))+"</div>\n            </div>\n"+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.classInfo:n)?l.stepYear:l,{name:"if",hash:{},fn:e.program(56,i,0),inverse:e.program(61,i,0),data:i}))?l:"")+'            <div class="intro-item col-sm-2 pull-left strong">\n                <div class="small">教室</div>\n                <div class="text-overflow m-top" title="'+r(s(null!=(l=null!=n?n.classInfo:n)?l.classRoomName:l,n))+'">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.classRoomName:l,n))+'</div>\n            </div>\n            <div class="intro-item col-sm-3 pull-left strong">\n                <div class="small">餐厅</div>\n                <div class="text-overflow m-top" title="'+r(s(null!=(l=null!=n?n.classInfo:n)?l.diningRoomText:l,n))+'">'+r(s(null!=(l=null!=n?n.classInfo:n)?l.diningRoomText:l,n))+"</div>\n            </div>\n"},56:function(e,n,a,t,i){var l;return'                <div class="intro-item col-sm-4 pull-left strong">\n                    <div class="small">起止时间</div>\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.classInfo:n)?l.date:l,{name:"if",hash:{},fn:e.program(57,i,0),inverse:e.program(59,i,0),data:i}))?l:"")+"                </div>\n"},57:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                        <div class="text-overflow m-top" title="'+r(s(null!=(l=null!=n?n.classInfo:n)?l.date:l,n))+'">\n                            '+r(s(null!=(l=null!=n?n.classInfo:n)?l.date:l,n))+"\n                        </div>\n"},59:function(e,n,a,t,i){return'                        <div class="text-overflow m-top"></div>\n'},61:function(e,n,a,t,i){var l;return'                <div class="intro-item col-sm-3 pull-left strong">\n                    <div class="small">起止时间</div>\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.classInfo:n)?l.date:l,{name:"if",hash:{},fn:e.program(57,i,0),inverse:e.program(59,i,0),data:i}))?l:"")+"                </div>\n"},63:function(e,n,a,t,i){var l;return'                    <a class="tag-btn radius heavyborder pointer active" href="'+e.escapeExpression((l=null!=(l=a.downloadAttachmentUrl||(null!=n?n.downloadAttachmentUrl:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"downloadAttachmentUrl",hash:{},data:i}):l))+'" download="">下载全部课件</a>\n'},65:function(e,n,a,t,i){var l;return'                    <select id="selectOffline" class="select-border input tag-height inline-block" name="selectOffline">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.weeks:n,{name:"each",hash:{},fn:e.program(66,i,0),inverse:e.noop,data:i}))?l:"")+"                    </select>\n"},66:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                            <option "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(67,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.weekly||(null!=n?n.weekly:n))?s:o,"function"==typeof s?s.call(r,{name:"weekly",hash:{},data:i}):s))+"</option>\n"},67:function(e,n,a,t,i){return' selected="selected"'},69:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.escapeExpression;return'            <div class="arrange-item clearfix">\n                <div class="arrange-left pull-left layout-mt-small">\n                    <div class="h4 color1">'+u((o=null!=(o=a.week||(null!=n?n.week:n))?o:c,"function"==typeof o?o.call(d,{name:"week",hash:{},data:i}):o))+'</div>\n                    <div class="main-color-2 m-top">'+u((o=null!=(o=a.month||(null!=n?n.month:n))?o:c,"function"==typeof o?o.call(d,{name:"month",hash:{},data:i}):o))+'</div>\n                </div>\n                <div class="overflow">'+(null!=(r=a.each.call(d,null!=n?n.courses:n,{name:"each",hash:{},fn:e.program(70,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"</div>\n            </div>\n"},70:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.escapeExpression;return'\n                    <div class="item clearfix layout-mb-small">\n                        <div class="arrange-center inline-block col-sm-2">\n                            <div class="h4 color1">'+u((o=null!=(o=a.startTime||(null!=n?n.startTime:n))?o:c,"function"==typeof o?o.call(d,{name:"startTime",hash:{},data:i}):o))+"-"+u((o=null!=(o=a.endTime||(null!=n?n.endTime:n))?o:c,"function"==typeof o?o.call(d,{name:"endTime",hash:{},data:i}):o))+'</div>\n                        </div>\n                        <div class="arrange-right inline-block">\n                            \x3c!--  type课程类型（1面授  2观看录像 3直播 4其他 5在线课程） --\x3e\n                            \x3c!--  注意，这个compare因为onlineCourseStatus没出现等于1的情况根本不会执行，一旦执行了会造成出现多条数据问题，因为涉及历史数据问题，这里没有删除 --\x3e\n'+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=n?n.type:n,"eq",1,{name:"compare",hash:{},fn:e.program(71,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"                            \x3c!--  注意，这里不要创建和type3平级的compare，一旦创建就会出现多条数据，因为compare和else只能一对一，去compare3对应的else里边去加判断 --\x3e\n"+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=n?n.type:n,"eq",3,{name:"compare",hash:{},fn:e.program(81,i,0,l,s),inverse:e.program(95,i,0,l,s),data:i}))?r:"")+"                        </div>\n                    </div>\n                "},71:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.onlineCourseStatus:n,"eq",1,{name:"compare",hash:{},fn:e.program(72,i,0),inverse:e.noop,data:i}))?l:""},72:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                    <div class="inline-block col-sm-8"><div class="col-sm-10">\n                                        <div class="pointer color2" id="course-view-'+d((s=null!=(s=a.onlineCourseId||(null!=n?n.onlineCourseId:n))?s:o,"function"==typeof s?s.call(r,{name:"onlineCourseId",hash:{},data:i}):s))+'">['+d((a.map||n&&n.map||o).call(r,"class-offline-type",null!=n?n.type:n,{name:"map",hash:{},data:i}))+"] "+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                                        <div class="color3 top">'+d((s=null!=(s=a.classroomName||(null!=n?n.classroomName:n))?s:o,"function"==typeof s?s.call(r,{name:"classroomName",hash:{},data:i}):s))+'</div>\n                                    </div></div>\n                                    <div class="inline-block col-sm-4">\n'+(null!=(l=a.if.call(r,null!=n?n.teacherOrganization:n,{name:"if",hash:{},fn:e.program(73,i,0),inverse:e.program(75,i,0),data:i}))?l:"")+'                                        <div class="color2 top">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.attachStatus:n,"eq",0,{name:"compare",hash:{},fn:e.program(77,i,0),inverse:e.program(79,i,0),data:i}))?l:"")+"                                        </div>\n                                    </div>\n"},73:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                            <div class="color1 text-overflow" title="'+o((l=null!=(l=a.teacherName||(null!=n?n.teacherName:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherName",hash:{},data:i}):l))+"("+o((l=null!=(l=a.teacherOrganization||(null!=n?n.teacherOrganization:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherOrganization",hash:{},data:i}):l))+')">\n                                                '+o((l=null!=(l=a.teacherName||(null!=n?n.teacherName:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherName",hash:{},data:i}):l))+"("+o((l=null!=(l=a.teacherOrganization||(null!=n?n.teacherOrganization:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherOrganization",hash:{},data:i}):l))+")\n                                            </div>\n"},75:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                            <div class="color1 text-overflow" title="'+o((l=null!=(l=a.teacherName||(null!=n?n.teacherName:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherName",hash:{},data:i}):l))+'">\n                                                '+o((l=null!=(l=a.teacherName||(null!=n?n.teacherName:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherName",hash:{},data:i}):l))+"\n                                            </div>\n"},77:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                                <span class="pointer color2 inline-block vertical-middle" id="courseware-view-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">课件</span>\n                                                <i class="small-font color2 iconfont icon-xiazai1 inline-block vertical-middle"></i>\n'},79:function(e,n,a,t,i){return'                                                <span class="color3 inline-block vertical-middle">课件</span>\n                                                <i class="small-font color1 iconfont icon-xiazai1 inline-block vertical-middle"></i>\n'},81:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.escapeExpression;return'                                <div class="inline-block col-sm-8"><div class="col-sm-10">\n                                    <div class="pointer color2" id="course-view-'+u((o=null!=(o=a.id||(null!=n?n.id:n))?o:c,"function"==typeof o?o.call(d,{name:"id",hash:{},data:i}):o))+'">['+u((a.map||n&&n.map||c).call(d,"class-offline-type",null!=n?n.type:n,{name:"map",hash:{},data:i}))+"] "+u((o=null!=(o=a.name||(null!=n?n.name:n))?o:c,"function"==typeof o?o.call(d,{name:"name",hash:{},data:i}):o))+'</div>\n                                    <div class="color3 top"><div class="tag-btn radius heavyborder pointer active" id="toGeense-'+u((o=null!=(o=a.id||(null!=n?n.id:n))?o:c,"function"==typeof o?o.call(d,{name:"id",hash:{},data:i}):o))+'">进入直播</div></div>\n                                </div></div>\n                                <div class="inline-block col-sm-4">\n'+(null!=(r=a.if.call(d,null!=n?n.teacherOrganization:n,{name:"if",hash:{},fn:e.program(82,i,0,l,s),inverse:e.program(84,i,0,l,s),data:i}))?r:"")+'                                    <div class="color2 top clearfix">\n                                        <div class="pull-left">\n'+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=n?n.attachStatus:n,"eq",0,{name:"compare",hash:{},fn:e.program(86,i,0,l,s),inverse:e.program(88,i,0,l,s),data:i}))?r:"")+'                                        </div>\n                                        <div class="pull-right">\n'+(null!=(r=a.if.call(d,null!=s[1]?s[1].hasQuestionaire:s[1],{name:"if",hash:{},fn:e.program(90,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"                                        </div>\n                                    </div>\n                                </div>\n"},82:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                        <div class="color1 text-overflow" title="'+o((l=null!=(l=a.teacherName||(null!=n?n.teacherName:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherName",hash:{},data:i}):l))+"("+o((l=null!=(l=a.teacherOrganization||(null!=n?n.teacherOrganization:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherOrganization",hash:{},data:i}):l))+')">\n                                            '+o((l=null!=(l=a.teacherName||(null!=n?n.teacherName:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherName",hash:{},data:i}):l))+"("+o((l=null!=(l=a.teacherOrganization||(null!=n?n.teacherOrganization:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherOrganization",hash:{},data:i}):l))+")\n                                        </div>\n"},84:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                        <div class="color1 text-overflow" title="'+o((l=null!=(l=a.teacherName||(null!=n?n.teacherName:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherName",hash:{},data:i}):l))+'">\n                                            '+o((l=null!=(l=a.teacherName||(null!=n?n.teacherName:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherName",hash:{},data:i}):l))+"\n                                        </div>\n"},86:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                                <span class="pointer inline-block vertical-middle color2" id="courseware-view-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">课件</span>\n                                                <i class="small-font inline-block vertical-middle color2 iconfont icon-xiazai1"></i>\n'},88:function(e,n,a,t,i){return'                                                <span class="inline-block vertical-middle color3">课件</span>\n                                                <i class="small-font inline-block vertical-middle color3 iconfont icon-xiazai1"></i>\n'
},90:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.haveEvaluate:n,{name:"if",hash:{},fn:e.program(91,i,0),inverse:e.program(93,i,0),data:i}))?l:""},91:function(e,n,a,t,i){var l;return'                                                    <div class="inline-block color2 pointer" id="course-evaluate-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">已完成评价</div>\n'},93:function(e,n,a,t,i){var l;return'                                                    <div class="inline-block color2 pointer" id="course-evaluate-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">课程师资评价</div>\n'},95:function(e,n,a,t,i,l,s){var r;return null!=(r=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.type:n,"eq",5,{name:"compare",hash:{},fn:e.program(96,i,0,l,s),inverse:e.program(110,i,0,l,s),data:i}))?r:""},96:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{};return'                                    <div class="inline-block col-sm-8"><div class="col-sm-10">\n'+(null!=(r=a.if.call(o,null!=n?n.genseeUrl:n,{name:"if",hash:{},fn:e.program(97,i,0,l,s),inverse:e.program(99,i,0,l,s),data:i}))?r:"")+'                                    </div></div>\n                                    <div class="inline-block col-sm-4">\n'+(null!=(r=a.if.call(o,null!=n?n.teacherOrganization:n,{name:"if",hash:{},fn:e.program(73,i,0,l,s),inverse:e.program(75,i,0,l,s),data:i}))?r:"")+'                                        <div class="color2 top clearfix">\n                                            <div class="pull-left">\n'+(null!=(r=(a.compare||n&&n.compare||a.helperMissing).call(o,null!=n?n.attachStatus:n,"eq",0,{name:"compare",hash:{},fn:e.program(101,i,0,l,s),inverse:e.program(103,i,0,l,s),data:i}))?r:"")+'                                            </div>\n                                            <div class="pull-right">\n'+(null!=(r=a.if.call(o,null!=s[1]?s[1].hasQuestionaire:s[1],{name:"if",hash:{},fn:e.program(105,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"                                            </div>\n                                        </div>\n                                    </div>\n"},97:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                            <div class="pointer color2" id="toOnlineCourse-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">['+o((a.map||n&&n.map||r).call(s,"class-offline-type",null!=n?n.type:n,{name:"map",hash:{},data:i}))+"] "+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'</div>\n                                            <div class="color3 top"><div class="tag-btn radius heavyborder pointer active" id="toGeense-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((a.map||n&&n.map||r).call(s,"train-course-study-status",null!=n?n.finishStatus:n,{name:"map",hash:{},data:i}))+"</div></div>\n"},99:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                            <div class="color1">['+o((a.map||n&&n.map||r).call(s,"class-offline-type",null!=n?n.type:n,{name:"map",hash:{},data:i}))+"] "+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'</div>\n                                            <div class="color3 top">'+o((l=null!=(l=a.classroomName||(null!=n?n.classroomName:n))?l:r,"function"==typeof l?l.call(s,{name:"classroomName",hash:{},data:i}):l))+"</div>\n"},101:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                                    <span class="pointer inline-block vertical-middle color2" id="courseware-view-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">课件</span>\n                                                    <i class="small-font inline-block vertical-middle color2 iconfont icon-xiazai1"></i>\n'},103:function(e,n,a,t,i){return'                                                    <span class="inline-block vertical-middle color3">课件</span>\n                                                    <i class="small-font inline-block vertical-middle color3 iconfont icon-xiazai1"></i>\n'},105:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.haveEvaluate:n,{name:"if",hash:{},fn:e.program(106,i,0),inverse:e.program(108,i,0),data:i}))?l:""},106:function(e,n,a,t,i){var l;return'                                                        <div class="inline-block color2 pointer" id="course-evaluate-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">已完成评价</div>\n'},108:function(e,n,a,t,i){var l;return'                                                        <div class="inline-block color2 pointer" id="course-evaluate-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">课程师资评价</div>\n'},110:function(e,n,a,t,i,l,s){var r;return null!=(r=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.type:n,"eq",6,{name:"compare",hash:{},fn:e.program(111,i,0,l,s),inverse:e.program(125,i,0,l,s),data:i}))?r:""},111:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.escapeExpression;return'                                        <div class="inline-block col-sm-8"><div class="col-sm-10">\n                                            <div class="pointer color2" id="course-view-'+u((o=null!=(o=a.id||(null!=n?n.id:n))?o:c,"function"==typeof o?o.call(d,{name:"id",hash:{},data:i}):o))+'">['+u((a.map||n&&n.map||c).call(d,"class-offline-type",null!=n?n.type:n,{name:"map",hash:{},data:i}))+"] "+u((o=null!=(o=a.name||(null!=n?n.name:n))?o:c,"function"==typeof o?o.call(d,{name:"name",hash:{},data:i}):o))+'</div>\n                                            <div class="color3 top"><div class="tag-btn radius heavyborder pointer active" id="toGeense-'+u((o=null!=(o=a.id||(null!=n?n.id:n))?o:c,"function"==typeof o?o.call(d,{name:"id",hash:{},data:i}):o))+'">进入直播</div></div>\n                                        </div></div>\n                                        <div class="inline-block col-sm-4">\n'+(null!=(r=a.if.call(d,null!=n?n.teacherOrganization:n,{name:"if",hash:{},fn:e.program(112,i,0,l,s),inverse:e.program(114,i,0,l,s),data:i}))?r:"")+'                                            <div class="color2 top clearfix">\n                                                <div class="pull-left">\n'+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=n?n.attachStatus:n,"eq",0,{name:"compare",hash:{},fn:e.program(116,i,0,l,s),inverse:e.program(118,i,0,l,s),data:i}))?r:"")+'                                                </div>\n                                                <div class="pull-right">\n'+(null!=(r=a.if.call(d,null!=s[1]?s[1].hasQuestionaire:s[1],{name:"if",hash:{},fn:e.program(120,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"                                                </div>\n                                            </div>\n                                        </div>\n"},112:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                                <div class="color1 text-overflow" title="'+o((l=null!=(l=a.teacherName||(null!=n?n.teacherName:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherName",hash:{},data:i}):l))+"("+o((l=null!=(l=a.teacherOrganization||(null!=n?n.teacherOrganization:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherOrganization",hash:{},data:i}):l))+')">\n                                                    '+o((l=null!=(l=a.teacherName||(null!=n?n.teacherName:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherName",hash:{},data:i}):l))+"("+o((l=null!=(l=a.teacherOrganization||(null!=n?n.teacherOrganization:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherOrganization",hash:{},data:i}):l))+")\n                                                </div>\n"},114:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                                <div class="color1 text-overflow" title="'+o((l=null!=(l=a.teacherName||(null!=n?n.teacherName:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherName",hash:{},data:i}):l))+'">\n                                                    '+o((l=null!=(l=a.teacherName||(null!=n?n.teacherName:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherName",hash:{},data:i}):l))+"\n                                                </div>\n"},116:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                                        <span class="pointer inline-block vertical-middle color2" id="courseware-view-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">课件</span>\n                                                        <i class="small-font inline-block vertical-middle color2 iconfont icon-xiazai1"></i>\n'},118:function(e,n,a,t,i){return'                                                        <span class="inline-block vertical-middle color3">课件</span>\n                                                        <i class="small-font inline-block vertical-middle color3 iconfont icon-xiazai1"></i>\n'},120:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.haveEvaluate:n,{name:"if",hash:{},fn:e.program(121,i,0),inverse:e.program(123,i,0),data:i}))?l:""},121:function(e,n,a,t,i){var l;return'                                                            <div class="inline-block color2 pointer" id="course-evaluate-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">已完成评价</div>\n'},123:function(e,n,a,t,i){var l;return'                                                            <div class="inline-block color2 pointer" id="course-evaluate-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">课程师资评价</div>\n'},125:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.escapeExpression;return'                                        <div class="inline-block col-sm-8"><div class="col-sm-10">\n                                            <div class="color1">['+u((a.map||n&&n.map||c).call(d,"class-offline-type",null!=n?n.type:n,{name:"map",hash:{},data:i}))+"] "+u((o=null!=(o=a.name||(null!=n?n.name:n))?o:c,"function"==typeof o?o.call(d,{name:"name",hash:{},data:i}):o))+'</div>\n                                            <div class="color3 top">'+u((o=null!=(o=a.classroomName||(null!=n?n.classroomName:n))?o:c,"function"==typeof o?o.call(d,{name:"classroomName",hash:{},data:i}):o))+'</div>\n                                        </div></div>\n                                        <div class="inline-block col-sm-4">\n'+(null!=(r=a.if.call(d,null!=n?n.teacherOrganization:n,{name:"if",hash:{},fn:e.program(112,i,0,l,s),inverse:e.program(114,i,0,l,s),data:i}))?r:"")+'                                            <div class="color2 top clearfix">\n                                                <div class="pull-left">\n'+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=n?n.attachStatus:n,"eq",0,{name:"compare",hash:{},fn:e.program(116,i,0,l,s),inverse:e.program(118,i,0,l,s),data:i}))?r:"")+"                                                </div>\n"+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=n?n.type:n,"eq",1,{name:"compare",hash:{},fn:e.program(126,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"                                            </div>\n                                        </div>\n"},126:function(e,n,a,t,i,l,s){var r;return'                                                    <div class="pull-right">\n'+(null!=(r=a.if.call(null!=n?n:{},null!=s[1]?s[1].hasQuestionaire:s[1],{name:"if",hash:{},fn:e.program(127,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"                                                    </div>\n"},127:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.haveEvaluate:n,{name:"if",hash:{},fn:e.program(128,i,0),inverse:e.program(130,i,0),data:i}))?l:""},128:function(e,n,a,t,i){var l;return'                                                                <div class="inline-block color2 pointer" id="course-evaluate-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">已完成评价</div>\n'},130:function(e,n,a,t,i){var l;return'                                                                <div class="inline-block color2 pointer" id="course-evaluate-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">课程师资评价</div>\n'},132:function(e,n,a,t,i){return'            <div class="text-center">\n                <img src="../images/sys-tip/empty.png" width="100"/>\n                <div>暂无课程</div>\n            </div>\n'},134:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.contentOnline:n,{name:"if",hash:{},fn:e.program(135,i,0),inverse:e.noop,data:i}))?l:""},135:function(e,n,a,t,i){var l;return'        <div class="online-courses layout-mt layout-mb-small">\n            <div class="m-title strong layout-mb-small">在线课程</div>\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.group:n,{name:"if",hash:{},fn:e.program(136,i,0),inverse:e.program(152,i,0),data:i}))?l:"")+"        </div>\n"},136:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.contentOnline:n,{name:"each",hash:{},fn:e.program(137,i,0),inverse:e.noop,data:i}))?l:""},137:function(e,n,a,t,i){var l;return'                    <div class="course-group clearfix">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.courses:n,{name:"each",hash:{},fn:e.program(138,i,0),inverse:e.noop,data:i}))?l:"")+"                    </div>\n"},138:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return(null!=(l=(a.compare||n&&n.compare||o).call(r,i&&i.index,"eq",0,{name:"compare",hash:{},fn:e.program(139,i,0),inverse:e.noop,data:i}))?l:"")+'                            <div class="course-item son clearfix">\n                                <div class="pull-left">\n                                    <div class="yinyue video inline-block m-right l-distance">\n                                        <i class="iconfont spe icon-shipin"></i>\n                                    </div>\n                                    <div class="line-title" title="'+d((s=null!=(s=a.resourceName||(null!=n?n.resourceName:n))?s:o,"function"==typeof s?s.call(r,{name:"resourceName",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.resourceName||(null!=n?n.resourceName:n))?s:o,"function"==typeof s?s.call(r,{name:"resourceName",hash:{},data:i}):s))+'</div>\n                                </div>\n                                <div class="pull-left two">\n'+(null!=(l=a.if.call(r,null!=n?n.required:n,{name:"if",hash:{},fn:e.program(142,i,0),inverse:e.program(144,i,0),data:i}))?l:"")+"                                </div>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",0,{name:"compare",hash:{},fn:e.program(146,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",1,{name:"compare",hash:{},fn:e.program(148,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",2,{name:"compare",hash:{},fn:e.program(150,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",3,{name:"compare",hash:{},fn:e.program(146,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",4,{name:"compare",hash:{},fn:e.program(150,i,0),inverse:e.noop,data:i}))?l:"")+"                            </div>\n"},139:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.themeName:n,{name:"if",hash:{},fn:e.program(140,i,0),inverse:e.noop,data:i}))?l:""},140:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <div class="course-item-title text-overflow" title="'+o((l=null!=(l=a.themeName||(null!=n?n.themeName:n))?l:r,"function"==typeof l?l.call(s,{name:"themeName",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.themeName||(null!=n?n.themeName:n))?l:r,"function"==typeof l?l.call(s,{name:"themeName",hash:{},data:i}):l))+"</div>\n"},142:function(e,n,a,t,i){return'                                        <div class="s-tip required"></div>\n                                        必修\n'},144:function(e,n,a,t,i){return'                                        <div class="s-tip"></div>\n                                        选修\n'},146:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <div class="pointer pull-right three" id="course-view-'+o((l=null!=(l=a.themeId||(null!=n?n.themeId:n))?l:r,"function"==typeof l?l.call(s,{name:"themeId",hash:{},data:i}):l))+"_"+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'"><div class="r-distance">\n                                        <i class="iconfont spe icon-wode_bofang"></i>\n                                        开始学习\n                                    </div></div>\n'},148:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <div class="pointer pull-right three" id="course-view-'+o((l=null!=(l=a.themeId||(null!=n?n.themeId:n))?l:r,"function"==typeof l?l.call(s,{name:"themeId",hash:{},data:i}):l))+"_"+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'"><div class="r-distance">\n                                        <i class="iconfont spe icon-crm17"></i>\n                                        继续学习\n                                    </div></div>\n'},150:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <div class="pointer pull-right three" id="course-view-'+o((l=null!=(l=a.themeId||(null!=n?n.themeId:n))?l:r,"function"==typeof l?l.call(s,{name:"themeId",hash:{},data:i}):l))+"_"+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'"><div class="r-distance done">\n                                        <i class="iconfont icon-tick"></i>\n                                        已完成学习\n                                    </div></div>\n'},152:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.contentOnline:n,{name:"each",hash:{},fn:e.program(153,i,0),inverse:e.noop,data:i}))?l:""},153:function(e,n,a,t,i){var l;return'                    <div class="course-group clearfix">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.courses:n,{name:"each",hash:{},fn:e.program(154,i,0),inverse:e.noop,data:i}))?l:"")+"                    </div>\n"},154:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                            <div class="course-item clearfix">\n                                <div class="pull-left one">\n                                    <div class="yinyue video m-right l-distance">\n                                        <i class="iconfont spe icon-shipin"></i>\n                                    </div>\n                                    <div class="line-title" title="'+d((s=null!=(s=a.resourceName||(null!=n?n.resourceName:n))?s:o,"function"==typeof s?s.call(r,{name:"resourceName",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.resourceName||(null!=n?n.resourceName:n))?s:o,"function"==typeof s?s.call(r,{name:"resourceName",hash:{},data:i}):s))+'</div>\n                                </div>\n                                <div class="pull-left two">\n'+(null!=(l=a.if.call(r,null!=n?n.required:n,{name:"if",hash:{},fn:e.program(142,i,0),inverse:e.program(144,i,0),data:i}))?l:"")+"                                </div>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",0,{name:"compare",hash:{},fn:e.program(155,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",1,{name:"compare",hash:{},fn:e.program(157,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",2,{name:"compare",hash:{},fn:e.program(159,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",3,{name:"compare",hash:{},fn:e.program(155,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",4,{name:"compare",hash:{},fn:e.program(159,i,0),inverse:e.noop,data:i}))?l:"")+"                            </div>\n"},155:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <div class="pointer pull-right text-right three" id="course-view-'+o((l=null!=(l=a.themeId||(null!=n?n.themeId:n))?l:r,"function"==typeof l?l.call(s,{name:"themeId",hash:{},data:i}):l))+"_"+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'"><div class="r-distance">\n                                        <i class="iconfont spe icon-wode_bofang"></i>\n                                        开始学习\n                                    </div></div>\n'},157:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <div class="pointer pull-right text-right three" id="course-view-'+o((l=null!=(l=a.themeId||(null!=n?n.themeId:n))?l:r,"function"==typeof l?l.call(s,{name:"themeId",hash:{},data:i}):l))+"_"+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'"><div class="r-distance">\n                                        <i class="iconfont spe icon-crm17"></i>\n                                        继续学习\n                                    </div></div>\n'},159:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <div class="pointer pull-right text-right three" id="course-view-'+o((l=null!=(l=a.themeId||(null!=n?n.themeId:n))?l:r,"function"==typeof l?l.call(s,{name:"themeId",hash:{},data:i}):l))+"_"+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'"><div class="r-distance done">\n                                        <i class="iconfont icon-tick"></i>\n                                        已完成学习\n                                    </div></div>\n'},161:function(e,n,a,t,i){return'    <div class="layout-mt"><div id="comment-area"></div></div>\n'},163:function(e,n,a,t,i){var l;return'<div class="surveyexam-page"><div class="surveyexam layout-mb-small layout-mr m-left">\n    <div class="train-model-title strong">调研与考试</div>\n    <div class="none-bot large layout-mt-small">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.questionnaire:n,{name:"each",hash:{},fn:e.program(164,i,0),inverse:e.program(190,i,0),data:i}))?l:"")+"    </div>\n</div>\n</div>"},164:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'            <div class="surveyexam-item border bottom m-right">\n                <div class="surveyexam-title text-main-color inline-block vertical-top">['+d((a.map||n&&n.map||o).call(r,"questionnaire-type",null!=n?n.type:n,{name:"map",hash:{},data:i}))+']</div>\n                <div class="surveyexam-content clearfix inline-block col-sm-6">\n                    <div class="inline-block survey-name m-left w-full">\n                        <div class="w-full" title="'+d((s=null!=(s=a.resourceName||(null!=n?n.resourceName:n))?s:o,"function"==typeof s?s.call(r,{name:"resourceName",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.resourceName||(null!=n?n.resourceName:n))?s:o,"function"==typeof s?s.call(r,{name:"resourceName",hash:{},data:i}):s))+'</div>\n                        <div class="time m-top">'+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+"~"+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+'</div>\n                    </div>\n                </div>\n                <div class="inline-block m-left">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.evaluateStatus:n,"eq",3,{name:"compare",hash:{},fn:e.program(165,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.evaluateStatus:n,"eq",1,{name:"compare",hash:{},fn:e.program(167,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.evaluateStatus:n,"eq",2,{name:"compare",hash:{},fn:e.program(169,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.evaluateStatus:n,"eq",0,{name:"compare",hash:{},fn:e.program(171,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.researchStatus:n,"eq",0,{name:"compare",hash:{},fn:e.program(173,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.researchStatus:n,"eq",1,{name:"compare",hash:{},fn:e.program(181,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.researchStatus:n,"eq",2,{name:"compare",hash:{},fn:e.program(186,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.researchStatus:n,"eq",3,{name:"compare",hash:{},fn:e.program(188,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},165:function(e,n,a,t,i){return'                        <div class="cir"></div>\n                        <div class="inline-block vertical-middle">未及格</div>\n'},167:function(e,n,a,t,i){return'                        <div class="cir"></div>\n                        <div class="inline-block vertical-middle">已完成</div>\n'},169:function(e,n,a,t,i){return'                        <div class="cir"></div>\n                        <div class="inline-block vertical-middle">待评卷</div>\n'},171:function(e,n,a,t,i){return'                        <div class="cir"></div>\n                        <div class="inline-block vertical-middle">未完成</div>\n'},173:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(174,i,0),inverse:e.noop,data:i}))?l:""},174:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.type:n,"eq",1,{name:"compare",hash:{},fn:e.program(175,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.type:n,"eq",2,{name:"compare",hash:{},fn:e.program(177,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.type:n,"eq",3,{name:"compare",hash:{},fn:e.program(179,i,0),inverse:e.noop,data:i}))?l:"")},175:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <a class="surveyexam-btn inline-block btn" id="edit-exams'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'" data-name="resourceId" data-value="'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'">开始考试</a>\n'},177:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <a class="surveyexam-btn inline-block btn" id="edit-questionary'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'" data-name="resourceId" data-value="'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'">开始调研</a>\n'},179:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <a class="surveyexam-btn inline-block btn" id="edit-questionary'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'" data-name="resourceId" data-value="'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'">开始评估</a>\n'},181:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.type:n,"eq",1,{name:"compare",hash:{},fn:e.program(182,i,0),inverse:e.program(184,i,0),data:i}))?l:""},182:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="surveyexam-btn inline-block btn" id="see-exams'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'" data-name="resourceId" data-value="'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'">查看</a>\n'},184:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="surveyexam-btn inline-block btn" id="see-questionary'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'" data-name="resourceId" data-value="'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'">查看</a>\n'},186:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <a class="surveyexam-btn inline-block btn" id="edit-exams'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'" data-name="resourceId" data-value="'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'">重新考试</a>\n'},188:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <a class="surveyexam-btn inline-block btn" id="see-exams'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'" data-name="resourceId" data-value="'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'">查看</a>\n'},190:function(e,n,a,t,i){return'            <div class="border-color h3 text-center none-top none-bot">该班级暂无调研与考试。</div>\n'},
192:function(e,n,a,t,i){var l;return'<div class="surveyexam-page"><div class="surveyexam layout-mb-small layout-mr m-left">\n    <div class="train-model-title strong">满意度评估</div>\n    <div class="none-bot large layout-mt-small">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.classquestionnaire:n,{name:"each",hash:{},fn:e.program(193,i,0),inverse:e.program(203,i,0),data:i}))?l:"")+"    </div>\n</div>\n</div>"},193:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'            <div class="surveyexam-item border bottom m-right">\n                <div class="surveyexam-content clearfix inline-block w-full display-table">\n                    <i class="iconfont icon-note inline-block time display-table-cell" style="font-size:2em;"></i>\n                    <div class="m-left title-color display-table-cell col-sm-4 text-overflow sur-title" title="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'" style="padding-left:3px;">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                    <div class="display-table-cell" align="right" style="padding-right:10px;">\n                        <div class="sub-text layout-mr time display-table-cell">'+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+"~"+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+"</div>\n                    </div>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(194,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n            </div>\n"},194:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.type:n,"eq",4,{name:"compare",hash:{},fn:e.program(195,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.type:n,"eq",8,{name:"compare",hash:{},fn:e.program(197,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.type:n,"eq",5,{name:"compare",hash:{},fn:e.program(199,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.type:n,"eq",6,{name:"compare",hash:{},fn:e.program(201,i,0),inverse:e.noop,data:i}))?l:"")},195:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <div class="display-table-cell" align="right">\n                                <a class="btn satificate display-table-cell" id="edit-m'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-type="4" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">\n                                    <div id="son-m">进入满意度问卷</div>\n                                </a>\n                            </div>\n'},197:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <div class="display-table-cell" align="right">\n                                <a class="btn satificate display-table-cell" id="edit-m'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-type="8" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">\n                                    <div id="son-m">进入满意度问卷</div>\n                                </a>\n                            </div>\n'},199:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <div class="display-table-cell" align="right">\n                                <a class="btn satificate display-table-cell" id="edit-s'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">进入四度评估问卷</a>\n                            </div>\n'},201:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <div class="display-table-cell" align="right">\n                                <a class="btn satificate display-table-cell" id="edit-n'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">进入能力习得问卷</a>\n                            </div>\n'},203:function(e,n,a,t,i){return'            <div class="border-color h3 text-center none-top none-bot">该班级暂无满意度问卷及评估问卷。</div>\n'},205:function(e,n,a,t,i){var l;return'    <section class="section businfo-page"><div class="businfo">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.bus:n,{name:"each",hash:{},fn:e.program(206,i,0),inverse:e.noop,data:i}))?l:"")+"    </div></section>\n"},206:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'            <div class="businfo-title clearfix layout-mt-small">\n                <div class="h4 pull-left">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                <div class="pull-right">\n                    <span class="sub-text layout-mr">'+d((a.dateTime||n&&n.dateTime||o).call(r,null!=n?n.startTime:n,{name:"dateTime",hash:{},data:i}))+"-"+d((a.dateTime||n&&n.dateTime||o).call(r,null!=n?n.endTime:n,{name:"dateTime",hash:{},data:i}))+'</span>\n                    <a class="normal layout-mr sub-text" id="sectionDisplay-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" href="javascript:;">\n                        <label id="label-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"></label>\n                        <i class="iconfont icon-triangle-up" id="icon-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"></i>\n                    </a>\n                </div>\n            </div>\n'+(null!=(l=a.if.call(r,null!=n?n.show:n,{name:"if",hash:{},fn:e.program(207,i,0),inverse:e.noop,data:i}))?l:"")},207:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div id="sectionDiv-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" display="'+d((s=null!=(s=a.none||(null!=n?n.none:n))?s:o,"function"==typeof s?s.call(r,{name:"none",hash:{},data:i}):s))+'"></div>\n'+(null!=(l=a.if.call(r,null!=n?n.falg:n,{name:"if",hash:{},fn:e.program(208,i,0),inverse:e.program(211,i,0),data:i}))?l:"")},208:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.busDetails:n,{name:"each",hash:{},fn:e.program(209,i,0),inverse:e.noop,data:i}))?l:""},209:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <div class="bg-businfo m-top">\n                            <div class="businfo-main inline-block">\n                                <div class="small-font">'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'</div>\n                                <div class="sub-text m-top small-font">'+o((l=null!=(l=a.explain||(null!=n?n.explain:n))?l:r,"function"==typeof l?l.call(s,{name:"explain",hash:{},data:i}):l))+"</div>\n                            </div>\n                        </div>\n"},211:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.optionList:n,{name:"each",hash:{},fn:e.program(212,i,0),inverse:e.noop,data:i}))?l:""},212:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                        <div class="bg-businfo m-top">\n                            <div class="businfo-main inline-block">\n                                <div class="small-font">'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                                <div class="sub-text m-top small-font">'+c((s=null!=(s=a.explain||(null!=n?n.explain:n))?s:o,typeof s===d?s.call(r,{name:"explain",hash:{},data:i}):s))+'</div>\n                            </div>\n                            <div class="businfo-side inline-block layout-mr-small">\n                                <input '+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(213,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="check-item'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" name="selected" value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                                <label for="check-item'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">选择</label>\n                            </div>\n                        </div>\n'},213:function(e,n,a,t,i){return' checked="checked"'},215:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="layout-mb">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.research:n)?l.content:l,{name:"if",hash:{},fn:e.program(216,i,0),inverse:e.program(218,i,0),data:i}))?l:"")+'    </div>\n    <div class="clearfix"><div class="pull-right">\n'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.research:n)?l.buttons:l,{name:"each",hash:{},fn:e.program(220,i,0),inverse:e.noop,data:i}))?l:"")+"    </div></div>\n"},216:function(e,n,a,t,i){var l;return"            <span>"+e.escapeExpression(e.lambda(null!=(l=null!=n?n.research:n)?l.content:l,n))+"</span>\n"},218:function(e,n,a,t,i){return"            <span></span>\n"},220:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.target:n,{name:"if",hash:{},fn:e.program(221,i,0),inverse:e.program(223,i,0),data:i}))?l:""},221:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                <a id="button-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="'+o((l=null!=(l=a.url||(null!=n?n.url:n))?l:r,"function"==typeof l?l.call(s,{name:"url",hash:{},data:i}):l))+'" target="'+o((l=null!=(l=a.target||(null!=n?n.target:n))?l:r,"function"==typeof l?l.call(s,{name:"target",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.text||(null!=n?n.text:n))?l:r,"function"==typeof l?l.call(s,{name:"text",hash:{},data:i}):l))+"</a>\n"},223:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                <a id="button-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.text||(null!=n?n.text:n))?l:r,"function"==typeof l?l.call(s,{name:"text",hash:{},data:i}):l))+"</a>\n"},225:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.classDetail:n)?l.notice:l,{name:"if",hash:{},fn:e.program(226,i,0),inverse:e.program(228,i,0),data:i}))?l:""},226:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'        <div class="train-modalheight half"><textarea id="notice" class="m-top input" name="notice" x-rule="required,maxLength:3000" value="'+r(s(null!=(l=null!=n?n.detail:n)?l.notice:l,n))+'" x-marker="rich-text" x-target="content">'+r(s(null!=(l=null!=n?n.classDetail:n)?l.notice:l,n))+"</textarea></div>\n"},228:function(e,n,a,t,i){return'        <div class="train-modalheight half sub-text">暂无班级公告...</div>\n'},230:function(e,n,a,t,i){var l;return'    <div class="layout-mb text-center">\n        <span>'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.research:n)?l.content:l,n))+'</span>\n    </div>\n    <div class="clearfix"><div class="text-center">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.research:n)?l.buttons:l,{name:"each",hash:{},fn:e.program(231,i,0),inverse:e.noop,data:i}))?l:"")+"    </div></div>\n"},231:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'            <div class="btn" id="button-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-url="'+o((l=null!=(l=a.url||(null!=n?n.url:n))?l:r,"function"==typeof l?l.call(s,{name:"url",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.text||(null!=n?n.text:n))?l:r,"function"==typeof l?l.call(s,{name:"text",hash:{},data:i}):l))+"</div>\n"},233:function(e,n,a,t,i){var l;return'    <table class="table text-center train border around margin-none">\n        <thead><tr>\n            <th width="40%">项目名称</th>\n            <th width="20%">成绩</th>\n            <th width="40%">备注</th>\n        </tr></thead>\n        <tbody>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.grade:n,{name:"each",hash:{},fn:e.program(234,i,0),inverse:e.noop,data:i}))?l:"")+"        </tbody>\n    </table>\n"},234:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                <tr>\n                    <td class="nowrap" title="'+d((l=null!=(l=a.projectName||(null!=n?n.projectName:n))?l:r,typeof l===o?l.call(s,{name:"projectName",hash:{},data:i}):l))+'"><div class="text-overflow">'+d((l=null!=(l=a.projectName||(null!=n?n.projectName:n))?l:r,typeof l===o?l.call(s,{name:"projectName",hash:{},data:i}):l))+"</div></td>\n                    <td>"+d((l=null!=(l=a.grades||(null!=n?n.grades:n))?l:r,typeof l===o?l.call(s,{name:"grades",hash:{},data:i}):l))+'</td>\n                    <td class="nowrap" title="'+d((l=null!=(l=a.desc||(null!=n?n.desc:n))?l:r,typeof l===o?l.call(s,{name:"desc",hash:{},data:i}):l))+'"><div class="text-overflow">'+d((l=null!=(l=a.desc||(null!=n?n.desc:n))?l:r,typeof l===o?l.call(s,{name:"desc",hash:{},data:i}):l))+"</div></td>\n                </tr>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i,l,s){var r,o,d,c=null!=n?n:{},u=a.helperMissing,m="";return o=null!=(o=a.module||(null!=n?n.module:n))?o:u,d={name:"module",hash:{},fn:e.program(1,i,0,l,s),inverse:e.noop,data:i},r="function"==typeof o?o.call(c,d):o,a.module||(r=a.blockHelperMissing.call(n,r,d)),null!=r&&(m+=r),m+"\n"+(null!=(r=(a.view||n&&n.view||u).call(c,"banner",{name:"view",hash:{},fn:e.program(3,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"main",{name:"view",hash:{},fn:e.program(16,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"questionnaire-all",{name:"view",hash:{},fn:e.program(23,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"class-information",{name:"view",hash:{},fn:e.program(27,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"class-member",{name:"view",hash:{},fn:e.program(30,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"two-brings",{name:"view",hash:{},fn:e.program(36,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"\n"+(null!=(r=(a.view||n&&n.view||u).call(c,"ranking-list",{name:"view",hash:{},fn:e.program(43,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"offline",{name:"view",hash:{},fn:e.program(45,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"online-resources",{name:"view",hash:{},fn:e.program(134,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"discussion-area",{name:"view",hash:{},fn:e.program(161,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"questionnaire",{name:"view",hash:{},fn:e.program(163,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"\n"+(null!=(r=(a.view||n&&n.view||u).call(c,"research",{name:"view",hash:{},fn:e.program(192,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"\n"+(null!=(r=(a.view||n&&n.view||u).call(c,"bus",{name:"view",hash:{},fn:e.program(205,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"research-tips",{name:"view",hash:{},fn:e.program(215,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"show-more-class-notice",{name:"view",hash:{},fn:e.program(225,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"research-detail",{name:"view",hash:{},fn:e.program(230,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.view||n&&n.view||u).call(c,"show-grade",{name:"view",hash:{},fn:e.program(233,i,0,l,s),inverse:e.noop,data:i}))?r:"")},useData:!0,useDepths:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/class-detail/view-banner",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.bindings={classInfo:!0,groups:!0,download:!1,classDetail:!0},a.events={"click classes-more":"toggleClassesmore"},a.dataForTemplate={classDetail:function(){var e=this.bindings.classDetail.data;return e&&0===e.isGrant&&this.app.navigate("home/error-page/30120"),e},classInfo:function(){var e=this.bindings.classDetail.data,n=this.bindings.classInfo.data;return e.path?(n.path=e.path,n.show=!1):(n.path="images/class-detail/class-detail.jpg",n.show=!0),n},groups:function(e){var n=e.groups,a=window.location.protocol+"//"+window.location.host+"/";return t.map(n||[],function(e){var n=e;n.shortNames=n.shortName,n.classUrl=a+"#/train/class-detail/"+n.id,n.shortName.length>5&&(n.shortName=n.shortName.substring(0,5)+"...")}),n},arr:function(e){var n=e.groups,a=[];return n.length>3&&(a=n.slice(0,3),t.map(a||[],function(e){var n=e;n.shortName.length>5&&(n.shortName=n.shortName.substring(0,5)+"...")})),a}},a.handlers={toggleClassesmore:function(){"展示更多"===i(this.$("moretext")).text()?(i(this.$("moretext")).text("收起更多"),i(this.$("showmoreico")).addClass("icon-triangle-up").removeClass("icon-triangle-down"),i(this.$("dropdown-more")).addClass("show").removeClass("hide")):(i(this.$("moretext")).text("展示更多"),i(this.$("showmoreico")).addClass("icon-triangle-down").removeClass("icon-triangle-up"),i(this.$("dropdown-more")).addClass("hide").removeClass("show"))}}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/view-class-information",function(e,n,a){var t=e("lodash/collection");a.bindings={classInfo:!0},a.dataForTemplate={classInfo:function(e){var n=e.classInfo;return n.guestroomsConfig&&n.guestroomsConfig.length>0?(n.rommText=t.map(n.guestroomsConfig,"name").join(","),n.rommText=n.rommText.replace(/,/g,"，")):n.rommText="暂未分配",n.restaurantsConfig&&n.restaurantsConfig.length>0?(n.diningRoomText=t.map(n.restaurantsConfig,"name").join(","),n.diningRoomText=n.diningRoomText.replace(/,/g,"，")):n.diningRoomText="暂未分配",n.classroomConfig&&n.classroomConfig.length>0?(n.classRoomName=t.map(n.classroomConfig,"classroom").join(","),n.classRoomName=n.classRoomName.replace(/,/g,"，")):n.classRoomName="暂未分配",n}}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/view-class-member",function(e,n,a){var t=e("lodash/collection");a.bindings={staff:!0,download:!1},a.dataForTemplate={staff:function(){var e=this.bindings.download,n=this.bindings.staff.data;return t.map(n||[],function(n){var a=n;a.member&&a.member.headPortrait?a.headCover=e.getFullUrl()+"?id="+a.member.headPortrait:a.headCover="images/default-userpic.png"}),n}}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/view-class-notice",function(e,n,a){a.bindings={classDetail:!0},a.dataForTemplate={classDetail:function(e){var n=e.classDetail;return n.notice&&n.notice.length>100?(n.length=!0,n.notice=n.notice.substring(0,101)):n.length=!1,n}},a.events={"click showMore":"more"},a.handlers={more:function(){var e=this.module.items["show-more-class-notice"];this.app.viewport.modal(e)}}},{}),loadjs.d("./app/train/class-detail/view-curriculum-schedule",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/helpers");a.bindings={offlineThemeList:!0,offlineCourseList:!0,content:!0,bridge:!0},a.dataForTemplate={content:function(){var e,n,a=this.bindings.offlineCourseList,l=this.bindings.content,s=this.bindings.bridge.data,r=new Date,o=[],d=window.location.protocol+"//"+window.location.host+"/";return 1===s.init&&(this.bindings.content.clear(),e=new Date(i.date(r)+" 00:00:00"),t.map(a.data||[],function(n){var a=n;a.courseUrl=d+"#/study/course/detail/"+a.onlineCourseId,a.courseDate>=e.getTime()&&o.length<8&&o.push(a),1!==a.onlineCourseStatus&&3!==a.onlineCourseStatus||(a.onlineCourseStatus=1),a.teacherOrganization&&a.teacherOrganization.length>15&&(a.newTeacherOrganization=a.teacherOrganization.substring(0,14)+"...",a.length=!0),a.teacherOrganization||(a.teacherOrganization="暂无分配"),a.teacherNames=a.teacherName,a.teacherTitles=a.teacherTitle,a.teacherName?a.teacherName&&a.teacherName.length>4?a.teacherName=a.teacherName.substring(0,4)+"...":a.teacherName=a.teacherName:a.teacherName="暂无分配",a.teacherTitle?a.teacherTitle&&a.teacherTitle.length>4?a.teacherTitle=a.teacherTitle.substring(0,4)+"...":a.teacherTitle=a.teacherTitle:a.teacherTitle="暂无分配"}),a.data.length>0&&0===o.length&&(o=a.data.slice(0,8)),o.length>0&&(s.start=o[0],s.end=o[o.length-1],s.list=o),n=t.groupBy(o,"courseDate"),t.map(n,function(e,n){var a=i.date(Number(n)),t={};t.date=a,t.day=a.split("-")[2],t.month=a.split("-")[0]+"-"+a.split("-")[1],t.courses=e,l.data.push(t)}),l.data.length>0&&(s.init=0)),l.data},courseUrl:function(){var e=window.location.protocol+"//"+window.location.host+"/";return e+="#/study/course/detail/"},isShowTheme:function(){return this.bindings.offlineThemeList.data.length>1},offlineThemeList:function(){var e=this.bindings.offlineThemeList.data,n=this.bindings.bridge.data;return t.map(e,function(e,a){var t=e;t.checked=n.themeIndex===a,t.i=a+1,t.weekly="第"+t.i+"周"}),e},isShowPrevious:function(){var e=this.bindings.offlineCourseList.data,n=this.bindings.bridge.data,a=-1;return 0===n.init&&(a=e.findIndex(function(e){return e.id===n.start.id})),a>0},isShowMore:function(){var e=this.bindings.offlineCourseList.data,n=this.bindings.bridge.data,a=-1;return 0===n.init&&(a=e.findIndex(function(e){return e.id===n.end.id})),a!==e.length-1}},a.events={"click courseware-view-*":"showCourseware","change theme-list":"changeTheme","click previous":"showPrevious","click next":"showMore","click course-view-*":"showOnlineCourse"},a.handlers={showCourseware:function(e){var n=this.module.items["train/class-detail/courseware"],a=this;this.module.dispatch("attachList",e).then(function(t){t[0].length>0?a.app.viewport.modal(n,{id:e}):a.app.message.alert("暂无资源")})},changeTheme:function(){var e,n,a,l,s,r,o,d=this.$("theme-list").value,c=this.bindings.offlineThemeList.data,u=this.bindings.offlineCourseList,m=this.bindings.content,p=this.bindings.bridge.data,h=[];e=c.findIndex(function(e){return e.id===d}),p.themeIndex=e,n=c[e],s=n.startDate.split(" "),r=s[0].split("-"),o=new Date(r[0],r[1]-1,r[2]).getTime(),this.bindings.content.clear(),a=new Date(o),t.map(u.data||[],function(e){var n=e;n.courseDate>=a.getTime()&&h.length<8&&h.push(n)}),h.length>0&&(p.start=h[0],p.end=h[h.length-1],p.list=h),l=t.groupBy(h,"courseDate"),t.map(l,function(e,n){var a=i.date(Number(n)),t={};t.date=a,t.day=a.split("-")[2],t.month=a.split("-")[0]+"-"+a.split("-")[1],t.courses=e,m.data.push(t)}),this.bindings.content.changed()},showPrevious:function(){var e,n,a,l=this.bindings.bridge.data,s=this.bindings.offlineCourseList.data,r=this.bindings.content,o=[];e=s.findIndex(function(e){return e.id===l.start.id}),n=s.slice(0,e),n.reverse(),t.map(n||[],function(e,n){var a=e;n<8&&(o.push(a),l.start=a)}),o.reverse(),l.list=o.concat(l.list),this.bindings.content.clear(),a=t.groupBy(l.list,"courseDate"),t.forEach(a,function(e,n){var a=i.date(Number(n)),t={};t.date=a,t.day=a.split("-")[2],t.month=a.split("-")[0]+"-"+a.split("-")[1],t.courses=e,r.data.push(t)}),this.bindings.content.changed()},showMore:function(){var e,n,a,l=this.bindings.bridge.data,s=this.bindings.offlineCourseList.data,r=this.bindings.content,o=[];e=s.findIndex(function(e){return e.id===l.end.id}),n=s.slice(e+1),t.map(n||[],function(e,n){var a=e;n<8&&(o.push(a),l.end=a)}),l.list=l.list.concat(o),this.bindings.content.clear(),a=t.groupBy(l.list,"courseDate"),t.forEach(a,function(e,n){var a=i.date(Number(n)),t={};t.date=a,t.day=a.split("-")[2],t.month=a.split("-")[0]+"-"+a.split("-")[1],t.courses=e,r.data.push(t)}),this.bindings.content.changed()},showOnlineCourse:function(e){var n=window.location.protocol+"//"+window.location.host+"/",a=t.find(this.bindings.offlineCourseList.data,["id",e]);a&&3===a.type?window.open(a.genseeUrl,"_blank"):(n+="#/study/course/detail/"+e,window.open(n,"_blank"))}}},{"./app/util/helpers":"./app/util/helpers","lodash/collection":!1}),loadjs.d("./app/train/class-detail/view-discussion-area",function(e,n,a){a.bindings={classInfo:!0},a.components=[function(){var e=this.bindings.classInfo.data.id,n=this.bindings.classInfo.data.className;return!!e&&{id:"comment-area",name:"picker",options:{picker:"comment-area",componentId:"comment-area",businessType:10,businessId:e,title:n,size:!0}}}]},{}),loadjs.d("./app/train/class-detail/view-main",function(e,n,a){var t=e("./app/util/helpers");a.bindings={classId:!0,courseThemeStatus:!0,bus:!0,checkMember:!0,state:!1,signUpInfo:!1,staticfaction:!1,classInfo:!1,researchRecord:!0,classquestionnairenew:!0,grade:!0},a.events={"click more-*":"more","click commitTask":"showTaskList","click classMembers":"classMembers","click addCourse1":"addCourse1","click shuttleBusInformation":"shuttleBusInformation","click picture":"showPicture","click notice":"showNotice","click class-photo":"showClassPhoto","click research":"classquestionnaire","click grade":"grade","click wisdomSchool":"goSchool"},a.handlers={more:function(){var e=this.module.items["train/class-detail/more-rank-study-time"];this.app.viewport.modal(e,{classId:this.module.renderOptions.classId,nofootborder:!0,down:!0})},showTaskList:function(){var e=this.module.items["train/class-detail/commit-task"],n=this.bindings.classId.data.classId,a=this.bindings.checkMember.data||{},t=this;this.module.dispatch("getCommitTask").then(function(){return t.app.viewport.modal(e,{classId:n,trainee:a,nofooter:!0,down:!0})})},shuttleBusInformation:function(){var e=this.module.items["train/class-detail/class-bus"],n=this.bindings.classId.data.classId,a=this.bindings.checkMember.data||{},t=this.bindings.classInfo,i=t.data.arriveDate,l=t.data.returnDate,s=this;this.module.dispatch("getBusMessage").then(function(){return s.app.viewport.modal(e,{classId:n,trainee:a,arriveDate:i,returnDate:l,nofooter:!0,down:!0})})},classMembers:function(){var e=this.bindings.classId.data.classId,n=this.module.items["train/class-detail/class-address"],a=this;this.module.dispatch("countTrainee").then(function(){return a.app.viewport.modal(n,{classId:e,nofootborder:!0})})},showClassPhoto:function(){var e=this.module.items["train/class-detail/class-photo"],n=this.bindings.classId.data.classId;this.app.viewport.modal(e,{classId:n,nofootborder:!0})},addCourse1:function(){var e,n,a=this.bindings.researchRecord.data||{},i=a.researchQuestionary||{},l=this.bindings.classId.data.classId,s=(new Date).getTime(),r={},o=this.bindings.checkMember.data,d=this;return e=window.open(),o&&1===o.auditStatus?d.module.dispatch("getStaticfaction").then(function(o){var c=o[0];if(c){if(1===c.release){if(s<c.startTime)return r="您好，该问卷时间未到,请在"+t.dateMinute(c.startTime)+"~"+t.dateMinute(c.endTime)+"进行问卷，谢谢",d.app.message.alert(r),e.close(),!1;if(s>=c.startTime&&s<=c.endTime)return n="#/train/class-detail/paper-research/"+i.id+"/"+l,e.location=n,!0;if(s>c.endTime)return 1===a.status?(n="#/train/class-detail/paper-research/"+i.id+"/"+l,e.location=n,!0):(d.app.message.alert("您好，该问卷已过期，无法参与，谢谢"),e.close(),!0)}return d.app.message.alert("暂无学员满意度问卷！"),e.close(),!1}return d.app.message.alert("暂无学员满意度问卷！"),e.close(),!1}):(d.app.message.alert("非正式成员不能参与学员满意度问卷"),e.close(),!1)},showPicture:function(){var e=this.bindings.classId.data.classId;this.app.show("content","train/picture",{classId:e})},showNotice:function(){var e=this.module.items["show-more-class-notice"];this.app.viewport.modal(e)},classquestionnaire:function(){var e,n=this,a=this.bindings.classquestionnairenew.data,i=this.bindings.classInfo.data,l=this.bindings.classId.data.classId,s=this.bindings.checkMember.data;1!==i.classLevel?s&&1===s.auditStatus?i.isPartyCadre&&1===i.isPartyCadre?n.module.dispatch("getWeekList",{classId:l}).then(function(i){return 1===i[0].code?void n.app.message.alert("暂未生成满意度问卷"):2===i[0].code?(e="您好，该问卷时间未到,请在"+t.dateMinute(a.startTime)+"~"+t.dateMinute(a.endTime)+"进行问卷，谢谢",void n.app.message.alert(e)):3===i[0].code?void n.app.message.alert("您好，该问卷已过期，无法参与，谢谢"):void n.app.viewport.modal(n.module.items["train/class-detail/questionnaire-all"],{classId:l,weekClassquestionnaireList:i})}):i.arriveDate-15575904e5>=0?a&&a.release&&!a.deleteFlag?(new Date).getTime()<a.startTime?(e="您好，该问卷时间未到,请在"+t.dateMinute(a.startTime)+"~"+t.dateMinute(a.endTime)+"进行问卷，谢谢",n.app.message.alert(e)):(new Date).getTime()>a.endTime&&!a.modifiable?n.app.message.alert("您好，该问卷已过期，无法参与，谢谢"):window.open("#/train/class-detail/research-detailnew/"+a.resourceId+"/"+l):n.app.message.alert("暂未生成满意度问卷"):n.module.dispatch("classquestionnaire").then(function(){return n.app.viewport.modal(n.module.items.research,{nofooter:!0,down:!0})}):n.app.message.alert("非正式成员不能参与学员满意度问卷"):n.app.message.alert("暂无满意度问卷")},grade:function(){var e=this.module.items["show-grade"];this.app.viewport.modal(e)},goSchool:function(){this.module.dispatch("goSchool")}},a.actions={"click twoBring":"twoBring","click questionnaire":"questionnaire"},a.dataForActions={twoBring:function(){return 1===this.bindings.signUpInfo.data.usingTwoBrings||(this.app.message.alert("该班级没有启用两个带来"),!1)}},a.actionCallbacks={twoBring:function(){this.app.viewport.modal(this.module.items["two-brings"])},questionnaire:function(){var e=this;this.module.dispatch("questionnaire").then(function(){return e.app.viewport.modal(e.module.items.questionnaire,{nofooter:!0,down:!0})})}},a.dataForTemplate={fullName:function(){return this.app.global.currentUser.fullName},isStatus:function(){var e=!0,n=this.bindings.courseThemeStatus;return n&&n.data&&n.data.themeStatus&&"学员您好"!==n.data.themeStatus&&(e=!1),e},list:function(){var e=this.bindings.courseThemeStatus,n=[],a=e&&e.data&&e.data.themeStatus&&"学员您好"!==e.data.themeStatus?e.data.themeStatus:"";return n.themes=a,n.theme=a,a&&a.length>51&&(a=a.substring(0,50)+"...",n.theme=a),n},classId:function(){return this.bindings.classId.data.classId},grade:function(e){return e.grade}}},{"./app/util/helpers":"./app/util/helpers"}),loadjs.d("./app/train/class-detail/view-offline",function(e,n,a){var t=e("jquery"),i=e("lodash/collection"),l=e("./app/util/helpers"),s=e("drizzle-zxy");a.bindings={offlineCourseList:!0,state:!1,offlineThemeList:!0,content:!0,bridge:!0,classInfo:!1,downloadAttachment:!1,offlineCourseListAll:!0,classquestionnairenew:!0,checkMember:!0,offlineCourseStatus:!0},a.events={"click courseware-view-*":"showCourseware","click minimize-*":"showMinimize","click course-view-*":"showOnlineCourse","click toGeense-*":"showOnlineCourse","click toOnlineCourse-*":"showOnlineCourse","click importOffline":"importOffline","click course-evaluate-*":"showEvaluate"},a.handlers={showCourseware:function(e){var n=this.module.items["train/class-detail/courseware"],a=this;this.module.dispatch("attachList",e).then(function(t){t[0].length>0?a.app.viewport.modal(n,{id:e}):a.app.message.alert("暂无资源")})},showMinimize:function(e){t(this.$("minitable-"+e)).toggle(),"收起"===t(this.$("min-"+e)).text()?(t(this.$("min-"+e)).text("展开"),t(this.$("minimize-"+e)).addClass("icon-add-full").removeClass("icon-minus-full"),
t(this.$("train-title-"+e)).addClass("bottom"),t(this.$("train-title-"+e)).css("margin-bottom","0")):(t(this.$("min-"+e)).text("收起"),t(this.$("minimize-"+e)).addClass("icon-minus-full").removeClass("icon-add-full"),t(this.$("train-title-"+e)).removeClass("bottom"),t(this.$("train-title-"+e)).css("margin-bottom","-.7em"))},showOnlineCourse:function(e){var n=window.location.protocol+"//"+window.location.host+"/",a=i.find(this.bindings.offlineCourseList.data,["id",e]);!a||3!==a.type&&6!==a.type?a&&5===a.type?a.genseeUrl&&window.open(a.genseeUrl,"_blank"):(n+="#/study/course/detail/"+e,window.open(n,"_blank")):a.genseeUrl?window.open(a.genseeUrl,"_blank"):this.app.message.alert("目前暂无直播信息！")},showEvaluate:function(e){var n=this,a=this.bindings.offlineCourseList,t=this.module.items["train/class-detail/course-evaluate"],l=i.filter(a.data,{id:e}),s=this.bindings.checkMember.data,r=this.bindings.classquestionnairenew.data,o=this.bindings.classInfo.data;if(s&&1===s.auditStatus){if(r&&(new Date).getTime()>r.endTime&&!r.modifiable)return n.app.message.alert("您好，该问卷已过期，无法参与，谢谢"),!1;document.body.setAttribute("style","overflow:hidden;"),this.module.regions.evaluate.show(t,{id:e,classType:o.isOutside,item:l,nofooter:!0,callback:function(){a.data=i.map(a.data,function(n){var a=n;return a.id===e&&(a.haveEvaluate=!0),a}),a.changed(),document.body.setAttribute("style","overflow:auto;"),n.module.regions.evaluate.close()}})}else n.app.message.error("非正式成员不能参与课程师资评价");return!0}},a.actions={"change selectOffline":"searchOffline"},a.dataForActions={searchOffline:function(){return{id:t(this.$("selectOffline")).val()}}},a.dataForTemplate={weeks:function(){var e=this.bindings.offlineThemeList,n=e.data,a=(new Date).getTime(),t=this.bindings.offlineCourseList,l=t.params;return i.map(n||[],function(e,t){var i=e;i.checked=!1,l.startDate?l.startDate===i.startTime&&l.endDate===i.endTime&&(i.checked=!0):a>=i.startTime&&t===n.length-1?i.checked=!0:a<i.startTime&&0===t?i.checked=!0:a>=i.startTime&&a<i.endTime&&(i.checked=!0),i.i=t+1,i.weekly=i.name}),e.data},offlineCourseList:function(){var e,n=this.bindings.offlineCourseList.data,a=this.bindings.state.data,t=0;return e=i.groupBy(n,"courseDate"),i.map(n||[],function(n){var i=n;i.isGrant=4!==a.role,t!==i.courseDate&&(t=i.courseDate,i.isRowspan=!0,i.rowspan=e[i.courseDate].length)}),n},isShowWeeks:function(){return this.bindings.offlineThemeList.data.length>0},downloadAttachmentUrl:function(){var e=this.bindings.downloadAttachment,n=this.module.renderOptions.classId,a=e.getFullUrl()+"?";return a+="classId="+n},isShowButton:function(){var e=this.bindings.offlineCourseListAll.data||[],n=!1;return i.map(e||[],function(e){0===e.attachStatus&&(n=!0)}),n},isGrant:function(){return 4!==this.bindings.state.data.role},classInfo:function(e){var n=e.classInfo;return n.guestroomsConfig&&n.guestroomsConfig.length>0?(n.rommText=i.map(n.guestroomsConfig,"name").join(","),n.rommText=n.rommText.replace(/,/g,"，")):n.rommText="暂未分配",n.restaurantsConfig&&n.restaurantsConfig.length>0?(n.diningRoomText=i.map(n.restaurantsConfig,"name").join(","),n.diningRoomText=n.diningRoomText.replace(/,/g,"，")):n.diningRoomText="暂未分配",n.classroomConfig&&n.classroomConfig.length>0?(n.classRoomName=i.map(n.classroomConfig,"classroom").join(","),n.classRoomName=n.classRoomName.replace(/,/g,"，")):n.classRoomName="暂未分配",n.arriveDate&&(n.arriveDate=l.date(n.arriveDate),n.returnDate=l.date(n.returnDate),n.arriveDate.slice(0,4)===n.returnDate.slice(0,4)?(n.stepYear=!1,n.returnDate=n.returnDate.substring(5),n.date=Number(n.arriveDate.split("-")[0])+"年"+Number(n.arriveDate.split("-")[1])+"月"+Number(n.arriveDate.split("-")[2])+"日 - "+Number(n.returnDate.split("-")[0])+"月"+Number(n.returnDate.split("-")[1])+"日"):(n.stepYear=!0,n.date=Number(n.arriveDate.split("-")[0])+"年"+Number(n.arriveDate.split("-")[1])+"月"+Number(n.arriveDate.split("-")[2])+"日 - "+Number(n.returnDate.split("-")[0])+"年"+Number(n.returnDate.split("-")[1])+"月"+Number(n.returnDate.split("-")[2])+"日")),n},content:function(){var e,n,a,t=this.bindings.offlineCourseList,r=this.bindings.classInfo.data,o=this.bindings.content,d=this.bindings.offlineCourseStatus.data,c=[],u=window.location.protocol+"//"+window.location.host+"/",m=["周日","周一","周二","周三","周四","周五","周六"],p=this.bindings.classquestionnairenew.data;return r.arriveDate&&(n=r.arriveDate-15575904e5>=0),r&&1!==r.classLevel&&n&&(a=!p||1!==p.deleteFlag),this.bindings.content.clear(),i.map(t.data||[],function(e){var n,a=e;a.courseUrl=u+"#/study/course/detail/"+a.onlineCourseId,5===a.type&&a.genseeUrl&&(a.splitId=a.genseeUrl.split("study/course/detail/")[1],n=i.filter(d,{courseId:a.splitId})[0],s.assign(a,{finishStatus:n&&n.finishStatus||0})),c.push(a),1!==a.onlineCourseStatus&&3!==a.onlineCourseStatus||(a.onlineCourseStatus=1)}),t.data.length>0&&0===c.length&&(c=t.data),e=i.groupBy(c,"courseDate"),i.map(e,function(e,n){var t=l.date(Number(n)),i={};i.date=t,i.week=m[new Date(Date.parse(t.replace(/-/g,"/"))).getDay()],i.day=t.split("-")[2],i.month=Number(t.split("-")[1])+"月"+Number(t.split("-")[2])+"日",i.courses=e,i.hasQuestionaire=a,o.data.push(i)}),o.data}}},{"./app/util/helpers":"./app/util/helpers","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/view-online-resources",function(e,n,a){var t=e("jquery"),i=e("lodash/collection");a.bindings={onlineCourseList:!0,onlineStatus:!0},a.dataForTemplate={contentOnline:function(){var e,n=this.bindings.onlineCourseList,a=this.bindings.onlineStatus.data,t=window.location.protocol+"//"+window.location.host+"/",l=[];return e=n.data,i.map(e||[],function(e){var n=e;n.isRequired1=1===n.isRequired,n.isRequired0=0===n.isRequired,n.themeName&&null!==n.themeName||(n.themeName=""),n.resourceName&&n.resourceName.length>20?(n.length=!0,n.newName=n.resourceName.substring(0,19)+"..."):n.length=!1,n.themeName&&n.themeName.length>20?(n.theme=!0,n.newThemeName=n.themeName.substring(0,19)+"..."):n.theme=!1,null!==n&&(1===n.isRequired?n.required=!0:n.required=!1,n.courseUrl=t+"#/study/course/detail/"+n.resourceId),n.status=0,i.map(a||{},function(e){var a=e;a&&n.resourceId===a.courseId&&(n.status=a.finishStatus)})}),e=i.groupBy(n.data,"themeId"),i.map(e,function(e,n){var a={};a.themeName=n,a.courses=e,l.push(a)}),l},group:function(){for(var e=this.bindings.onlineCourseList.data||[],n=0,a=!1;n<e.length;n++)if(e[n].themeName){a=!0;break}return a}},a.events={"click online-attach-*":"showAttach","click course-view-*":"showOnlineCourse","click minimize-*":"showMinimize"},a.handlers={showAttach:function(e){var n=this.module.items["train/class-detail/online-attach"];return this.app.viewport.modal(n,{id:e}),!1},showOnlineCourse:function(e){var n=window.location.protocol+"//"+window.location.host+"/";n+="#/study/course/detail/"+e.split("_")[1]+"/5",window.open(n,"_blank")},showMinimize:function(e){t(this.$("minitable-"+e)).toggle(),"收起"===t(this.$("min-"+e)).text()?(t(this.$("min-"+e)).text("展开"),t(this.$("minimize-"+e)).addClass("icon-add-full").removeClass("icon-minus-full"),t(this.$("train-title-"+e)).addClass("bottom"),t(this.$("train-title-"+e)).css("margin-bottom","0")):(t(this.$("min-"+e)).text("收起"),t(this.$("minimize-"+e)).addClass("icon-minus-full").removeClass("icon-add-full"),t(this.$("train-title-"+e)).removeClass("bottom"),t(this.$("train-title-"+e)).css("margin-bottom","-.7em"))}}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/class-detail/view-questionnaire",function(e,n,a){var t=e("lodash/collection");a.bindings={questionnaire:!0,state:!0,checkMember:!1,classId:!1},a.dataForTemplate={questionnaire:function(){var e=this.bindings.questionnaire.data,n=this.bindings.checkMember.data||{};return t.map(e||{},function(e){var a=e;a.isGrant=!(!n||1!==n.auditStatus),a.evaluateStatus&&0!==a.evaluateStatus&&4!==a.evaluateStatus?1===a.type&&(!a.examCreateTime||a.examCreateTime<=15410016e5)&&3===a.evaluateStatus?a.researchStatus=2:1===a.type&&a.examCreateTime&&a.examCreateTime>15410016e5&&null!==a.examAllowExamTimes&&void 0!==a.examAllowExamTimes&&(a.examedTimes<a.examAllowExamTimes||0===a.examAllowExamTimes)?a.researchStatus=2:1===a.type&&null===a.examAllowExamTimes&&1===a.isOverByPassExam&&3===a.evaluateStatus?a.researchStatus=2:1===a.evaluateStatus||2===a.evaluateStatus?a.researchStatus=1:a.researchStatus=3:a.researchStatus=0,a.evaluateStatus&&0!==a.evaluateStatus||(a.evaluateStatus=0)}),e=t.filter(e,function(e){return 8!==e.type})}},a.events={"click edit-exams*":"editExam","click edit-questionary*":"editQuestionary","click see-exams*":"seeExam","click see-questionary*":"seeQuestionary"},a.handlers={editExam:function(e){var n=e,a="#/exam/exam/paper/"+n,i=(new Date).getTime(),l=this.bindings.questionnaire.data,s=t.find(l,["resourceId",n]);s.startTime&&s.endTime?s.startTime>i?this.app.message.alert("该考试未开始，敬请期待!"):s.endTime<i?this.app.message.alert("该考试已结束"):window.open(a,"_blank"):window.open(a,"_blank"),this.module.dispatch("changeStatus")},editQuestionary:function(e){var n=e,a="#/exam/research-activity/paper/"+n+"/"+this.module.renderOptions.classId,i=(new Date).getTime(),l=this.bindings.questionnaire.data,s=t.find(l,["resourceId",n]),r=this.module.items["research-detail"],o=this;s.startTime&&s.endTime?s.startTime>i?this.app.message.alert("该调研问卷未开始，敬请期待!"):s.endTime<i?this.app.message.alert("该调研问卷已结束"):this.module.dispatch("researcDetail",n).then(function(e){var n=e[0];n.questionaryDetail?(s.questionaryDetail=n.questionaryDetail,o.app.viewport.modal(r,{questionary:s})):window.open(a,"_blank")}):this.module.dispatch("researcDetail",n).then(function(e){var n=e[0];n.questionaryDetail?(s.questionaryDetail=n.questionaryDetail,o.app.viewport.modal(r,{questionary:s})):window.open(a,"_blank")}),this.module.dispatch("changeStatus")},seeExam:function(e){var n=this.module.items["exam-common/exam-records"];this.app.viewport.modal(n,{examId:e,otherModule:!0})},seeQuestionary:function(e){var n="#/exam/research-activity/paper/"+e+"/"+this.module.renderOptions.classId,a=t.find(this.bindings.questionnaire.data,["resourceId",e]),i=a.endTime,l=this,s=this.module.items["research-detail"];(new Date).getTime()>i&&0===a.evaluateStatus?this.app.message.alert("您好，该调研已结束，您未参与，无法查看详情"):this.module.dispatch("researcDetail",e).then(function(e){var t=e[0];t.questionaryDetail?(a.questionaryDetail=t.questionaryDetail,l.app.viewport.modal(s,{questionary:a})):window.open(n,"_blank")})}}},{"lodash/collection":!1}),loadjs.d("./app/train/class-detail/view-ranking-list",function(e,n,a){a.bindings={down:!0,classDetail:!0,classId:!0},a.dataForTemplate={classId:function(){return this.module.renderOptions.classId}},a.events={"click more-*":"more"},a.handlers={more:function(){var e=this.module.items["train/class-detail/more-rank-study-time"];this.app.viewport.modal(e,{classId:this.module.renderOptions.classId})}}},{}),loadjs.d("./app/train/class-detail/view-research-detail",function(e,n,a){a.title="问卷须知",a.bindings={classId:!1},a.small=!0,a.dataForTemplate={research:function(){var e,n=this.bindings.classId.data.classId,a=[],t=this.renderOptions.questionary;return 0===t.evaluateStatus?a.push({id:"research-detail",text:"参与答题",url:"#/exam/research-activity/paper/"+t.resourceId+"/"+n,target:!0}):(a=[],a.push({id:"research-answer",text:"查看详情",url:"#/exam/research-activity/paper/"+t.resourceId+"/"+n})),e=t.questionaryDetail,{content:e,buttons:a}}},a.events={"click button-*":"show"},a.handlers={show:function(e,n,a){var t=a.getAttribute("data-url");window.open(t,"_blank")}}},{}),loadjs.d("./app/train/class-detail/view-research-tips",function(e,n,a){a.title="问卷须知",a.bindings={researchRecord:!0,classId:!1},a.dataForTemplate={research:function(e){var n,a=e.researchRecord||{},t=a.researchQuestionary||{},i=(new Date).getTime(),l=this.bindings.classId.data.classId,s=[],r=this,o="SATIFACTION_ANSWER"+l+this.module.app.global.currentUser.id;return i>=t.startTime&&i<=t.endTime?(n=t.questionaryDetail,0===a.status||null===a.status?s.push({id:"research-detail",text:"开始答题",url:"#/train/class-detail/research-detail/"+t.id+"/"+l,target:!0}):(s=[],s.push({id:"research-answer",text:"查看详情",url:"#/train/class-detail/research-answer/"+a.id+"/"+l,target:!0}),localStorage.removeItem(o))):i>t.endTime&&(1===a.status?(n=t.questionaryDetail,s=[],s.push({id:"research-answer",text:"查看详情",url:"#/train/class-detail/research-answer/"+a.id+"/"+l,target:!0})):(n=t.questionaryDetail,r.app.message.alert("您好，该问卷已过期，无法参与，谢谢"))),{content:n,buttons:s}}},a.events={"click button-*":"doSome"},a.handlers={doSome:function(e){e&&this.app.viewport.closeModal()}},a.beforeRender=function(){}},{}),loadjs.d("./app/train/class-detail/view-research",function(e,n,a){var t=e("./app/util/helpers"),i=e("lodash");a.bindings={checkMember:!0,classId:!1,state:!1,classquestionnaire:!0,classquestionnairenew:!0,researchRecord:!0,researchRecordn:!0,researchRecords:!0,researchRecordl:!0,selectOfflineCourseNum:!0,sysTime:!0,hasQuestionaire:!0},a.events={"click edit-m*":"addm","click edit-s*":"adds","click edit-n*":"addn"},a.handlers={addm:function(e,n,a){var i,l,s=a.getAttribute("data-type"),r=this.bindings.classquestionnairenew.data,o=this.bindings.researchRecord.data||{},d=o.researchQuestionary||{},c=this.bindings.classId.data.classId,u={},m=this.bindings.checkMember.data,p=this.bindings.selectOfflineCourseNum.data,h=this;return i=window.open(),m&&1===m.auditStatus?h.module.dispatch("getStaticfaction",{type:s}).then(function(e){var n=e[0];return n&&1===n.release?(h.module.dispatch("sysTime").then(function(e){return l="#/train/class-detail/paper-research/"+d.id+"/"+c,"8"===s&&(l="#/train/class-detail/research-detailnew/"+r.resourceId+"/"+c),e&&e[0]<n.startTime?(u="您好，该问卷时间未到,请在"+t.dateMinute(n.startTime)+"~"+t.dateMinute(n.endTime)+"进行问卷，谢谢",h.app.message.alert(u),i.close(),!1):e&&e[0]>=n.startTime&&e&&e[0]<=n.endTime?0===p?(h.app.message.alert("班级还没有课程，请联系班主任添加课程"),i.close(),!1):(i.location=l,!0):!!(e&&e[0]>n.endTime)&&(1===o.status?0===p?(h.app.message.alert("班级还没有课程，请联系班主任添加课程"),i.close(),!1):(i.location=l,!0):(h.app.message.alert("您好，该问卷已过期，无法参与，谢谢"),i.close(),!0))}),!0):(h.app.message.alert("暂无学员满意度问卷！"),i.close(),!1)}):(h.app.message.alert("非正式成员不能参与学员满意度问卷"),i.close(),!1)},addn:function(){var e,n,a=this.bindings.researchRecordn.data||{},i=a.researchQuestionary||{},l=this.bindings.classId.data.classId,s={},r=this.bindings.selectOfflineCourseNum.data,o=this.bindings.checkMember.data,d=this;return e=window.open(),o&&1===o.auditStatus?d.module.dispatch("getStaticfactionn").then(function(o){var c=o[0];return c&&1===c.release?(d.module.dispatch("sysTime").then(function(o){return o&&o[0]<c.startTime?(s="您好，该问卷时间未到,请在"+t.dateMinute(c.startTime)+"~"+t.dateMinute(c.endTime)+"进行问卷，谢谢",d.app.message.alert(s),e.close(),!1):o&&o[0]>=c.startTime&&o&&o[0]<=c.endTime?0===r?(d.app.message.alert("班级还没有课程，请联系班主任添加课程"),e.close(),!1):(n="#/train/class-detail/paper-researchn/"+i.id+"/"+l,e.location=n,!0):!!(o&&o[0]>c.endTime)&&(1===a.status?0===r?(d.app.message.alert("班级还没有课程，请联系班主任添加课程"),e.close(),!1):(n="#/train/class-detail/paper-researchn/"+i.id+"/"+l,e.location=n,!0):(d.app.message.alert("您好，该问卷已过期，无法参与，谢谢"),e.close(),!0))}),!0):(d.app.message.alert("暂无能力习得问卷！"),e.close(),!1)}):(d.app.message.alert("非正式成员不能参与暂无能力习得问卷"),e.close(),!1)},adds:function(){var e,n,a=this.bindings.researchRecords.data||{},i=a.researchQuestionary||{},l=this.bindings.classId.data.classId,s={},r=this.bindings.checkMember.data,o=this.bindings.selectOfflineCourseNum.data,d=this;return e=window.open(),r&&1===r.auditStatus?d.module.dispatch("getStaticfactions").then(function(r){var c=r[0];return c&&1===c.release?(d.module.dispatch("sysTime").then(function(r){return r&&r[0]<c.startTime?(s="您好，该问卷时间未到,请在"+t.dateMinute(c.startTime)+"~"+t.dateMinute(c.endTime)+"进行问卷，谢谢",d.app.message.alert(s),e.close(),!1):r&&r[0]>=c.startTime&&r&&r[0]<=c.endTime?0===o?(d.app.message.alert("班级还没有课程，请联系班主任添加课程"),e.close(),!1):(n="#/train/class-detail/paper-researchs/"+i.id+"/"+l,e.location=n,!0):!!(r&&r[0]>c.endTime)&&(1===a.status?0===o?(d.app.message.alert("班级还没有课程，请联系班主任添加课程"),e.close(),!1):(n="#/train/class-detail/paper-researchs/"+i.id+"/"+l,e.location=n,!0):(d.app.message.alert("您好，该问卷已过期，无法参与，谢谢"),e.close(),!0))}),!0):(d.app.message.alert("暂无四度评估问卷！"),e.close(),!1)}):(d.app.message.alert("非正式成员不能参与四度评估问卷"),e.close(),!1)}},a.dataForTemplate={classquestionnaire:function(){var e=this.bindings.classquestionnaire.data,n=this.bindings.checkMember.data||{};return i.map(e||{},function(e){var a=e;a.isGrant=!(!n||1!==n.auditStatus)}),e}}},{"./app/util/helpers":"./app/util/helpers",lodash:696}),loadjs.d("./app/train/class-detail/view-show-grade",function(e,n,a){var t=e("lodash");a.title="查看成绩",a.bindings={grade:!0},a.dataForTemplate={grade:function(e){return t.map(e.grade||[],function(e){var n=e;n.desc=n.desc||"无"}),e.grade}}},{lodash:696}),loadjs.d("./app/train/class-detail/view-show-more-class-notice",function(e,n,a){a.title="班级公告",a.components=[{id:"notice",name:"rich-text",options:{model:"img",items:[],readonly:!0}}],a.bindings={img:!0,classDetail:!0}},{}),loadjs.d("./app/train/class-detail/view-two-brings",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/validators");a.bindings={twoBrings:!0,twoBringsResult:!0,classId:!0,signUpInfo:!0,checkMember:!0,classInfo:!1},a.actions={"click save":"commitTwoBrings"},a.dataForActions={commitTwoBrings:function(){var e=this.bindings.classId.data.classId,n=t(this.$$('[name="title1"]')).val(),a=t(this.$$('[name="content1"]')).val(),l=t(this.$$('[name="title2"]')).val(),s=t(this.$$('[name="content2"]')).val();return i.required.fn(n)?i.maxLength.fn(n,20)?(t(this.$$('[name="title1"]')).removeClass("error"),i.required.fn(a)?i.maxLength.fn(a,300)?(t(this.$$('[name="content1"]')).removeClass("error"),i.required.fn(l)?i.maxLength.fn(l,20)?(t(this.$$('[name="title2"]')).removeClass("error"),i.required.fn(s)?i.maxLength.fn(s,300)?(t(this.$$('[name="content2"]')).removeClass("error"),{classId:e,title1:n,content1:a,title2:l,content2:s}):(this.app.message.error("问题/困难主题内容的最大长度为300"),t(this.$$('[name="content2"]')).addClass("error"),!1):(this.app.message.error("问题/困难主题内容不能为空"),t(this.$$('[name="content2"]')).addClass("error"),!1)):(this.app.message.error("问题/困难主题的最大长度为20"),t(this.$$('[name="title2"]')).addClass("error"),!1):(this.app.message.error("问题/困难主题不能为空"),t(this.$$('[name="title2"]')).addClass("error"),!1)):(this.app.message.error("经典/案例主题内容的最大长度为300"),t(this.$$('[name="content1"]')).addClass("error"),!1):(this.app.message.error("经典/案例主题内容不能为空"),t(this.$$('[name="content1"]')).addClass("error"),!1)):(this.app.message.error("经典/案例主题的最大长度为20"),t(this.$$('[name="title1"]')).addClass("error"),!1):(this.app.message.error("经典/案例主题不能为空"),t(this.$$('[name="title1"]')).addClass("error"),!1)}},a.actionCallbacks={commitTwoBrings:function(){this.app.message.success("提交成功！"),this.module.dispatch("init",{classId:this.bindings.classId.data.classId})}},a.dataForTemplate={isOpen:function(e){return 1===e.signUpInfo.usingTwoBrings},twoBrings:function(e){return e.twoBrings},isGrant:function(){var e=this.bindings.checkMember.data||{},n=this.bindings.classInfo.data;return!(!e||1!==e.auditStatus||1!==n.notice)},submitOrNotGrant:function(){var e=this.bindings.checkMember.data||{},n=this.bindings.classInfo.data,a=this.bindings.twoBringsResult.data;return!(e&&1===e.auditStatus&&1===n.notice&&!a)},twoBringsResult:function(e){return e.twoBringsResult}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/classinfos/class-manage/index",function(e,n,a){a.items={search:"search",main:"main"},a.large=!0,a.store={models:{state:{},classinfos:{url:"../train/class-info/frontend",type:"pageable",root:"items"}},callbacks:{init:function(){var e=this.models.classinfos;return this.get(e,{loading:!0})},search:function(e){var n=this.models.classinfos;return n.clear(),n.params=e,this.get(n)},searchKey:function(e){var n=this.models.classinfos;return n.clear(),n.params=e,this.get(n)}}},a.beforeRender=function(){return this.dispatch("init")}},{}),loadjs.d("./app/train/classinfos/class-manage/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="demand-title" data-region="search"></div>\n    <div class="demand-table" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'<form>\n    <div id="searchKey" class="filter-row container filter-block">\n        <div class="filter-item train">\n            <span>MIS编号</span>\n            <input class="input" name="MIScode" value="'+r(s(null!=(l=null!=n?n.state:n)?l.MIScode:l,n))+'"/>\n        </div>\n        <div class="filter-item train">\n            <span>班级名称</span>\n            <input class="input" name="className" value="'+r(s(null!=(l=null!=n?n.state:n)?l.className:l,n))+'"/>\n        </div>\n        <div class="filter-item train">\n            <span>需求方</span>\n            <div id="class-organization" class="inline-block" style="width:201px"></div>\n        </div>\n        <div class="filter-item train">\n            <span>实施年月</span>\n            <input id="month" class="input" name="startTime" value="'+r(s(null!=(l=null!=n?n.state:n)?l.startTime:l,n))+'"/>\n        </div>\n        <div class="filter-item">\n            <div id="search" class="btn">查询</div>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l;return'    <div class="container layout-mt-small">\n        <table class="table train border around text-center">\n            <thead><tr>\n                <th>MIS编号</th>\n                <th>培训班名称</th>\n                <th>需求方</th>\n                <th>需求方联系人</th>\n                <th>联系电话</th>\n                <th>报到日</th>\n                <th>返程日</th>\n                <th>班级状态</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>\n                '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.classinfos:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+'\n            </tbody>\n        </table>\n        <div id="pager" class="pagination"></div>\n    </div>\n'},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'<tr>\n                    <td><span title="'+d((l=null!=(l=a.codes||(null!=n?n.codes:n))?l:r,typeof l===o?l.call(s,{name:"codes",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.code||(null!=n?n.code:n))?l:r,typeof l===o?l.call(s,{name:"code",hash:{},data:i}):l))+'</span></td>\n                    <td><span title="'+d((l=null!=(l=a.classNames||(null!=n?n.classNames:n))?l:r,typeof l===o?l.call(s,{name:"classNames",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.className||(null!=n?n.className:n))?l:r,typeof l===o?l.call(s,{name:"className",hash:{},data:i}):l))+'</span></td>\n                    <td><span title="'+d((l=null!=(l=a.organizations||(null!=n?n.organizations:n))?l:r,typeof l===o?l.call(s,{name:"organizations",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.organization||(null!=n?n.organization:n))?l:r,typeof l===o?l.call(s,{name:"organization",hash:{},data:i}):l))+'</span></td>\n                    <td><span title="'+d((l=null!=(l=a.contactPeoples||(null!=n?n.contactPeoples:n))?l:r,typeof l===o?l.call(s,{name:"contactPeoples",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.contactPeople||(null!=n?n.contactPeople:n))?l:r,typeof l===o?l.call(s,{name:"contactPeople",hash:{},data:i}):l))+"</span></td>\n                    <td>"+d((l=null!=(l=a.contactPhone||(null!=n?n.contactPhone:n))?l:r,typeof l===o?l.call(s,{name:"contactPhone",hash:{},data:i}):l))+"</td>\n                    <td>"+d((a.date||n&&n.date||r).call(s,null!=n?n.arriveDate:n,{name:"date",hash:{},data:i}))+"</td>\n                    <td>"+d((a.date||n&&n.date||r).call(s,null!=n?n.returnDate:n,{name:"date",hash:{},data:i}))+"</td>\n                    <td>"+d((a.map||n&&n.map||r).call(s,"classinfo-status",null!=n?n.status:n,{name:"map",hash:{},data:i}))+'</td>\n                    <td>\n                        <a class="decoration-none" href="#/train/service/'+d((l=null!=(l=a.projectId||(null!=n?n.projectId:n))?l:r,typeof l===o?l.call(s,{name:"projectId",hash:{},data:i}):l))+'">进入管理</a>\n                    </td>\n                </tr>\n'},8:function(e,n,a,t,i){return'                    <tr><td colspan="9"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/classinfos/class-manage/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={classinfos:!0},a.components=[{id:"pager",name:"pager",options:{model:"classinfos"}}],a.dataForTemplate={classinfos:function(e){var n=e.classinfos;return t.map(n,function(e){var n=e;n.codes=n.code,n.classNames=n.className,n.organizations=n.organization,n.contactPeoples=n.contactPeople,n.code&&n.code.length>10&&(n.code=n.code.substring(0,9)+"..."),n.className.length>10&&(n.className=n.className.substring(0,9)+"..."),n.organization&&n.organization.length>10&&(n.organization=n.organization.substring(0,9)+"..."),n.contactPeople&&n.contactPeople.length>10&&(n.contactPeople=n.contactPeople.substring(0,9)+"...")}),n}}},{"lodash/collection":!1}),loadjs.d("./app/train/classinfos/class-manage/view-search",function(e,n,a){a.actions={"click search":"search","keypress searchKey":"searchKey"},a.components=[{id:"month",name:"monthpicker"},{id:"class-organization",name:"picker",options:{module:"train/class-info",picker:"owner",inputName:"organizationId"}}],a.dataForActions={search:function(e){return{MIScode:e.MIScode.trim(),className:e.className.trim(),organizationId:e.organizationId.trim(),startTime:e.startTime.trim()}},searchKey:function(e,n){return 13===(n.keyCode||n.which||n.charCode)&&{MIScode:e.MIScode.trim(),className:e.className.trim(),organizationId:e.organizationId.trim(),startTime:e.startTime.trim()}}}},{}),loadjs.d("./app/train/classinfos/index",function(e,n,a){a.items={menu:"menu",main:"main"},a.large=!0,a.store={models:{authority:{url:"../train/train-plan/class-affairs/button"},member:{url:"../train/classstaff/find-classstaff"},menu:{},state:{data:{id:""}}},callbacks:{init:function(){var e=this.models.authority,n=this.models.member,a=this.models.menu,t=this.models.state,i=0,l=this;e.clear(),a.clear(),l.get(n).then(function(n){n[0]&&1===n[0]&&(i=1,a.set([{id:"class-manage",title:"班务管理",selected:!0}]),t.set({id:"class-manage"},!0)),l.get(e).then(function(e){e[0]&&(i>0?a.set([{id:"class-manage",title:"班务管理",selected:!0},{id:"plan-manage",title:"策划实施管理",selected:!1}]):(a.set([{id:"plan-manage",title:"策划实施管理",selected:!0}]),t.set({id:"plan-manage"},!0))),a.changed()})})}}},a.beforeRender=function(){this.dispatch("init")}},{}),loadjs.d("./app/train/classinfos/plan-edit/index",function(e,n,a){a.title="策划实施信息",a.items={form:"form"},a.store={models:{detail:{url:"../train/train-plan/plan-implementation/detail",data:{}},implementInfo:{},save:{url:"../train/train-plan/plan-implementation"},actMethods:{url:"../train/solution-configuration/find-all",params:{type:1},data:[]},planStatusGroup:{url:"../train/solution-configuration/find-all",params:{type:0},data:[]}},callbacks:{init:function(e){var n=this.models.implementInfo,a=this.models.detail,t=this.models.actMethods,i=this.models.planStatusGroup;a.clear(),n.set(e.data||{}),this.get(t),this.get(i),e.data.planningImplementation&&e.data.planningImplementation.id&&(a.options.url="../train/train-plan/plan-implementation/detail/"+e.data.planningImplementation.id,this.get(a))},saveData:function(e){var n,a=e,t=this.models.implementInfo.data,i=this.models.detail.data,l=this.models.save;return l.clear(),a.initiationDate&&(n=a.initiationDate.split("-"),a.initiationDate=new Date(n[0],Number(n[1])-1,n[2]).getTime()),a.finishDate&&(n=a.finishDate.split("-"),a.finishDate=new Date(n[0],Number(n[1])-1,n[2]).getTime()),l.set({businessId:t.id,projectId:i.projectId,planImplementationId:t.planningImplementation.id,progressDetails:e.progressDetails?e.progressDetails.replace(/^\s+|\s+$/g,""):e.progressDetails,initiationDate:e.initiationDate,finishDate:e.finishDate,embodimentId:e.embodimentId?e.embodimentId.replace(/^\s+|\s+$/g,""):e.embodimentId,embodimentAddress:e.embodimentAddress,planPlanningId:e.planPlanningId?e.planPlanningId.replace(/^\s+|\s+$/g,""):e.planPlanningId,teacherNum:e.teacherNum,courseNum:e.courseNum,content:e.content}),l._idKey="",this.post(l)}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)},a.buttons=[{text:"确定",fn:function(){var e=this.renderOptions.callbacks,n=this.items.form,a=this.items.form.getData();return a.teacherNum&&Number(a.teacherNum)>9999||a.courseNum&&Number(a.courseNum)>9999?(this.app.message.error("实施师资数量/电子课程采纳量格式错误，最多填写4位数字"),!1):!!n.check()&&this.dispatch("saveData",a).then(function(){e&&e.call(this)})}}]},{});loadjs.d("./app/train/classinfos/plan-edit/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="form"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'<form class="form" style="padding: 0 10%;">\n    <input style="display: none;"/>\n'+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.formState:n)?l.type:l,"eq","1",{name:"compare",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.formState:n)?l.type:l,"eq","2",{name:"compare",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+"</form>"},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'        \x3c!-- 该项目为垂直条线且用户仅为策划负责人（可编辑前三项）、仅为实施负责人（可编辑后六项）或者二者都是（都可以编辑），表单布局如下 --\x3e\n        <div class="form-row">\n            <label class="wd-10">方案策划情况</label>\n            <div class="content ml-11">\n                <select id="planStatus" class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.planStatus:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' name="planPlanningId" x-marker="selectize">\n                    <option value=" ">无</option>\n'+(null!=(l=a.each.call(s,null!=n?n.planStatusGroup:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+'                </select>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">采纳师资数量（人课）</label>\n            <div class="content ml-11">\n                <input class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.teacherNum:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' x-rule="number,keepDecimal:0" name="teacherNum" value="'+o(r(null!=(l=null!=n?n.detail:n)?l.teacherNum:l,n))+'"/>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">电子课程采纳量（门）</label>\n            <div class="content ml-11">\n                <input class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.classNum:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i
}))?l:"")+' x-rule="number,keepDecimal:0" name="courseNum" value="'+o(r(null!=(l=null!=n?n.detail:n)?l.courseNum:l,n))+'"/>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">进度详情</label>\n            <div class="content ml-11">\n                <select id="progress" class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.progress:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' name="progressDetails" x-marker="selectize">\n                    <option value=" ">无</option>\n'+(null!=(l=a.each.call(s,null!=n?n.progress:n,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+'                </select>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">开始实施日期</label>\n            <div class="content ml-11">\n                <input id="implementDate" class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.implementDate:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(s,null!=(l=null!=n?n.detail:n)?l.initiationDate:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+' name="initiationDate"/>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">完成日期</label>\n            <div class="content ml-11">\n                <input id="finishDate" class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.finishDate:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(s,null!=(l=null!=n?n.detail:n)?l.finishDate:l,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+' name="finishDate"/>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">实施方式</label>\n            <div class="content ml-11">\n                <select id="actMethod" class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.actMethod:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' name="embodimentId" x-marker="selectize">\n                    <option value=" ">无</option>\n'+(null!=(l=a.each.call(s,null!=n?n.actMethods:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+'                </select>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">实施地点</label>\n            <div class="content ml-11">\n                <input class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.address:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' x-rule="maxLength:30" maxLength="30" name="embodimentAddress" value="'+o(r(null!=(l=null!=n?n.detail:n)?l.embodimentAddress:l,n))+'"/>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">备注</label>\n            <div class="content ml-11">\n                <textarea class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.note:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' name="content" rows="5" x-rule="maxLength:500" maxLength="500">'+o(r(null!=(l=null!=n?n.detail:n)?l.content:l,n))+"</textarea>\n            </div>\n        </div>\n"},5:function(e,n,a,t,i){return' disabled="disabled"'},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                        <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</option>\n"},8:function(e,n,a,t,i){return' selected="selected"'},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                        <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n"},12:function(e,n,a,t,i){var l;return' value="'+e.escapeExpression((a.date||n&&n.date||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.detail:n)?l.initiationDate:l,{name:"date",hash:{},data:i}))+'"'},14:function(e,n,a,t,i){var l;return' value="'+e.escapeExpression((a.date||n&&n.date||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.detail:n)?l.finishDate:l,{name:"date",hash:{},data:i}))+'"'},16:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'        \x3c!-- 该项目为非垂直条线且用户仅为策划负责人（都可以编辑）、仅为实施负责人（都不可以编辑），布局如下 --\x3e\n        <div class="form-row">\n            <label class="wd-10">进度详情</label>\n            <div class="content ml-11">\n                <select id="progress" class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.progress:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' name="progressDetails" x-marker="selectize">\n                    <option value=" ">无</option>\n'+(null!=(l=a.each.call(s,null!=n?n.progress:n,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+'                </select>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">开始实施日期</label>\n            <div class="content ml-11">\n                <input id="implementDate" class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.implementDate:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(s,null!=(l=null!=n?n.detail:n)?l.initiationDate:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+' name="initiationDate"/>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">完成日期</label>\n            <div class="content ml-11">\n                <input id="finishDate" class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.finishDate:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+" "+(null!=(l=a.if.call(s,null!=(l=null!=n?n.detail:n)?l.finishDate:l,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+' name="finishDate"/>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">实施方式</label>\n            <div class="content ml-11">\n                <select id="actMethod" class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.actMethod:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' name="embodimentId" x-marker="selectize">\n                    <option value=" ">无</option>\n'+(null!=(l=a.each.call(s,null!=n?n.actMethods:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+'                </select>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">实施地点</label>\n            <div class="content ml-11">\n                <input class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.address:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' x-rule="maxLength:30" maxLength="30" name="embodimentAddress" value="'+o(r(null!=(l=null!=n?n.detail:n)?l.embodimentAddress:l,n))+'"/>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">方案策划情况</label>\n            <div class="content ml-11">\n                <select id="planStatus" class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.planStatus:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' name="planPlanningId" x-marker="selectize">\n                    <option value=" ">无</option>\n'+(null!=(l=a.each.call(s,null!=n?n.planStatusGroup:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+'                </select>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">采纳师资数量（人课）</label>\n            <div class="content ml-11">\n                <input class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.teacherNum:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' x-rule="number,keepDecimal:0" name="teacherNum" value="'+o(r(null!=(l=null!=n?n.detail:n)?l.teacherNum:l,n))+'"/>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="wd-10">电子课程采纳量（门）</label>\n            <div class="content ml-11">\n                <input class="input" '+(null!=(l=a.unless.call(s,null!=(l=null!=(l=null!=n?n.formState:n)?l.editInfo:l)?l.classNum:l,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' x-rule="number,keepDecimal:0" name="courseNum" value="'+o(r(null!=(l=null!=n?n.detail:n)?l.courseNum:l,n))+'"/>\n            </div>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"form",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/classinfos/plan-edit/view-form",function(e,n,a){var t=e("lodash/collection"),i=e("jquery"),l=e("drizzle-zxy"),s=e("./app/util/maps");a.type="form",a.bindings={implementInfo:!1,detail:!0,actMethods:!0,planStatusGroup:!0},a.dataForTemplate={detail:function(e){return e.detail},progress:function(){var e=this.bindings.detail.data;return t.map(s.get("plan-implement-progress"),function(n){var a=n;return null!==e.progressDetails&&Number(a.key)===Number(e.progressDetails)&&(a.selected=!0),a})||[]},actMethods:function(e){var n=this.bindings.detail.data;return t.map(e.actMethods||[],function(e){var a=e;return a.id===n.embodimentId&&(a.selected=!0),a})||[]},planStatusGroup:function(e){var n=this.bindings.detail.data;return t.map(e.planStatusGroup||[],function(e){var a=e;return a.id===n.planPlanningId&&(a.selected=!0),a})||[]},formState:function(){var e=this.bindings.implementInfo.data,n={type:"",editInfo:{planStatus:!1,teacherNum:!1,classNum:!1,progress:!1,implementDate:!1,finishDate:!1,actMethod:!1,address:!1,note:!1}};if(e){if(3===e.type)return{type:"1",editInfo:{planStatus:!0,teacherNum:!0,classNum:!0,progress:!0,implementDate:!0,finishDate:!0,actMethod:!0,address:!0,note:!0}};n.type=e.projectNature?"2":"1",1===e.type&&"1"===n.type&&(n.editInfo=l.assign(n.editInfo,{progress:!0,implementDate:!0,finishDate:!0,actMethod:!0,address:!0,note:!0})),2===e.type&&(n.editInfo=l.assign(n.editInfo,{planStatus:!0,teacherNum:!0,classNum:!0}),"2"===n.type&&(n.editInfo=l.assign(n.editInfo,{progress:!0,implementDate:!0,finishDate:!0,actMethod:!0,address:!0})))}return n}},a.mixin={check:function(){var e=this.validate(i(this.$$('[name="teacherNum"]'))[0]),n=this.validate(i(this.$$('[name="courseNum"]'))[0]);return e&&n},getData:function(){return l.assign(t.reduce(i(this.$$("form")[0]).serializeArray(),function(e,n){return(e||{})[n.name]=n.value,e},{}))}},a.components=[function(){return{id:"implementDate",name:"flatpickr",options:{}}},function(){return{id:"finishDate",name:"flatpickr",options:{}}}]},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/classinfos/plan-manage/index",function(e,n,a){a.items={search:"search",main:"main","train/classinfos/plan-edit":{isModule:!0}},a.large=!0,a.store={models:{state:{},planInfos:{url:"../train/train-plan/plan-implement",type:"pageable",root:"items"}},callbacks:{init:function(){var e=this.models.planInfos;return e.clear(),this.get(e,{loading:!0})},search:function(e){var n=this.models.planInfos;return n.clear(),n.params=e,this.get(n)},searchKey:function(e){var n=this.models.planInfos;return n.clear(),n.params=e,this.get(n)}}},a.beforeRender=function(){return this.dispatch("init")}},{}),loadjs.d("./app/train/classinfos/plan-manage/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="demand-title" data-region="search"></div>\n    <div class="demand-table" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'<form>\n    <div id="searchKey" class="filter-row container filter-block">\n        <div class="filter-item train">\n            <span>MIS编号</span>\n            <input class="input" name="code" value="'+r(s(null!=(l=null!=n?n.state:n)?l.MIScode:l,n))+'"/>\n        </div>\n        <div class="filter-item train">\n            <span>项目名称</span>\n            <input class="input" name="name" value="'+r(s(null!=(l=null!=n?n.state:n)?l.className:l,n))+'"/>\n        </div>\n        <div class="filter-item train">\n            <span>主办单位</span>\n            <div id="class-organization" class="inline-block" style="width:201px"></div>\n        </div>\n        <div class="filter-item">\n            <div id="search" class="btn">查询</div>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l;return'    <div class="container layout-mt-small">\n        <table class="table train border around text-center">\n            <thead><tr>\n                <th>MIS编号</th>\n                <th>项目名称</th>\n                <th>主办单位</th>\n                <th>培训地点</th>\n                <th>培训年份</th>\n                <th>是否重点项目</th>\n                <th>项目性质</th>\n                <th>进度详情</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>\n                '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.planInfos:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'\n            </tbody>\n        </table>\n        <div id="pager" class="pagination"></div>\n    </div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'<tr>\n                    <td><span title="'+c((s=null!=(s=a.codes||(null!=n?n.codes:n))?s:o,typeof s===d?s.call(r,{name:"codes",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,typeof s===d?s.call(r,{name:"code",hash:{},data:i}):s))+'</span></td>\n                    <td><span title="'+c((s=null!=(s=a.names||(null!=n?n.names:n))?s:o,typeof s===d?s.call(r,{name:"names",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'</span></td>\n                    <td><span title="'+c((s=null!=(s=a.orgNames||(null!=n?n.orgNames:n))?s:o,typeof s===d?s.call(r,{name:"orgNames",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.orgName||(null!=n?n.orgName:n))?s:o,typeof s===d?s.call(r,{name:"orgName",hash:{},data:i}):s))+'</span></td>\n                    <td><span title="'+c((s=null!=(s=a.trainAddress||(null!=n?n.trainAddress:n))?s:o,typeof s===d?s.call(r,{name:"trainAddress",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.trainAddress||(null!=n?n.trainAddress:n))?s:o,typeof s===d?s.call(r,{name:"trainAddress",hash:{},data:i}):s))+"</span></td>\n                    <td>"+c((s=null!=(s=a.trainYear||(null!=n?n.trainYear:n))?s:o,typeof s===d?s.call(r,{name:"trainYear",hash:{},data:i}):s))+"</td>\n                    <td>"+c((s=null!=(s=a.keyProjectText||(null!=n?n.keyProjectText:n))?s:o,typeof s===d?s.call(r,{name:"keyProjectText",hash:{},data:i}):s))+"</td>\n                    <td>"+c((a.map||n&&n.map||o).call(r,"project-nature",null!=n?n.projectNature:n,{name:"map",hash:{},data:i}))+"</td>\n                    <td>"+c((a.map||n&&n.map||o).call(r,"plan-implement-progress",null!=(l=null!=n?n.planningImplementation:n)?l.progressDetails:l,{name:"map",hash:{},data:i}))+"</td>\n                    <td>\n"+(null!=(l=a.if.call(r,null!=n?n.showEditPlanBtn:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"                    </td>\n                </tr>\n"},7:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <a id="edit-plan-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">策划实施信息</a>\n'},9:function(e,n,a,t,i){return'                    <tr><td colspan="9"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/classinfos/plan-manage/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={planInfos:!0},a.components=[{id:"pager",name:"pager",options:{model:"planInfos"}}],a.dataForTemplate={planInfos:function(e){var n=e.planInfos;return t.map(n,function(e){var n=e;n.codes=n.code,n.names=n.name,n.orgNames=n.orgName,n.trainAddresss=n.trainAddress,n.code&&n.code.length>10&&(n.code=n.code.substring(0,9)+"..."),n.name&&n.name.length>10&&(n.name=n.name.substring(0,9)+"..."),n.orgName&&n.orgName.length>10&&(n.orgName=n.orgName.substring(0,9)+"..."),n.trainAddress&&n.trainAddress.length>10&&(n.trainAddress=n.trainAddress.substring(0,9)+"..."),0===n.keyProject||n.keyProject?n.keyProjectText=n.keyProject?"是":"否":n.keyProjectText="",n.showEditPlanBtn=!0}),n}},a.events={"click edit-plan-*":"showEditPlanForm"},a.handlers={showEditPlanForm:function(e){var n=this.module.items["train/classinfos/plan-edit"],a=this.bindings.planInfos.data,i=t.find(a,function(n){return n.id===e}),l=this;this.app.viewport.modal(n,{id:e,data:i,callbacks:function(){l.module.dispatch("init")}})}}},{"lodash/collection":!1}),loadjs.d("./app/train/classinfos/plan-manage/view-search",function(e,n,a){a.actions={"click search":"search","keypress searchKey":"searchKey"},a.components=[function(){return{id:"class-organization",name:"picker",options:{picker:"owner",inputName:"organizationId",params:{rootId:10000001,depthLimit:4}}}}],a.dataForActions={search:function(e){return{code:e.code.trim(),name:e.name.trim(),organizationId:e.organizationId.trim()}},searchKey:function(e,n){return 13===(n.keyCode||n.which||n.charCode)&&{code:e.code.trim(),name:e.name.trim(),organizationId:e.organizationId.trim()}}}},{}),loadjs.d("./app/train/classinfos/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="demand-page">\n    <div class="demand-tab" data-region="menu"></div>\n    <div class="demand-table" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <ul class="container layout-mt-small">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.menu:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </ul>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{};return(null!=(l=a.if.call(s,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.unless.call(s,null!=n?n.selected:n,{name:"unless",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                <li id="item-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" class="btn line active big">'+o((l=null!=(l=a.title||(null!=n?n.title:n))?l:r,"function"==typeof l?l.call(s,{name:"title",hash:{},data:i}):l))+"</li>\n"},7:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                <li id="item-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" class="btn white line big">'+o((l=null!=(l=a.title||(null!=n?n.title:n))?l:r,"function"==typeof l?l.call(s,{name:"title",hash:{},data:i}):l))+"</li>\n"},9:function(e,n,a,t,i){var l;return'    <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.id:l,n))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"menu",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/classinfos/view-main",function(e,n,a){a.type="dynamic",a.bindings={state:!0},a.getEntityModuleName=function(e){return e?"train/classinfos/"+e:""},a.dataForEntityModule=function(e){return e}},{}),loadjs.d("./app/train/classinfos/view-menu",function(e,n,a){a.bindings={menu:!0,state:!1},a.dataForTemplate={menu:function(e){return e.menu}},a.events={"click item-*":"selectMenu"},a.handlers={selectMenu:function(e){this.bindings.state.data={id:e},this.bindings.menu.data.forEach(function(n){var a=n;a.id===e?a.selected=!0:a.selected=!1}),this.bindings.menu.changed(),this.bindings.state.changed()}}},{}),loadjs.d("./app/train/classmate-book/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.title="班级详情页",a.items={banner:"banner",classmate:"classmate"},a.store={models:{photos:{url:"../train/album/photo"},download:{url:"../file-deal/file/download"},classInfo:{url:"../train/class-info/get"},groups:{url:"../train/class-group/find-by-class"},classDetail:{url:"../train/class-detail/find"},classId:{data:{}},checkMember:{url:"../train/trainee/current-trainee"},list:{url:"../train/trainee/trainees",type:"pageable",root:"items"},menu:{url:"../train/trainee-group"},state:{data:{}}},callbacks:{list:function(e){var n=this.models.list;return this.models.state.data.groupId=e,i.assign(n.params,{classId:this.models.classId.data.classId,auditStatus:1,groupId:e}),this.get(n)},init:function(e){var n=this.models.download,a=this.models.menu,l=this.models.photos,s=e.classId,r=this.models.classInfo,o=this.models.groups,d=this.models.classDetail,c=this.models.checkMember,u=this,m=this.models.state,p=e.see,h=this.models.list;return this.models.classId.data.classId=s,a.params={classId:e.classId},l.params={classId:s},m.data.see=p,m.data.qita=1,m.changed(),this.get(l).then(function(e){t.map(e[0],function(e){var a=e,t=new Image;return a.imageUrl=n.getFullUrl()+"?id="+a.attachmentId,t.src=a.imageUrl,a.image=t,a})}),r.params.id=s,this.get(r).then(function(e){var n=e[0];n.groupId&&(o.params.id=n.groupId,u.get(o)),c.params={type:0,classId:s},u.get(c).then(function(e){var n=e[0];n&&1===n.auditStatus&&(r.data.isFormal=!0)})}),d.params.classId=s,this.get(d),i.assign(h.params,{classId:this.models.classId.data.classId,auditStatus:1}),this.get(h).then(function(e){e[0]&&t.find(e[0].items,["traineeGroupId","0"])&&(m.data.qita+=1,m.changed())}),this.get(a)}}},a.beforeRender=function(){var e=this;e.dispatch("init",this.renderOptions).then(function(n){var a=0;n[0].length<1&&e.dispatch("list",a),(null!=n[0]||[])&&(a=n[0][0].id),e.dispatch("list",a)})}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/classmate-book/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="classmate-book-page">\n    <div class="class-details-box" data-region="banner"></div>\n    <div class="container">\n        <div class="main">\n            <div class="classmate-content" data-region="classmate"></div>\n        </div>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="banner small">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.classDetail:n)?l.bannerUrl:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.arr:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(13,i,0),data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){var l;return'            <img class="w-full" src="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.classDetail:n)?l.bannerUrl:l,n))+'" style="max-height:100%;"/>\n'},6:function(e,n,a,t,i){return'            <img class="w-full" src="images/class_detail.png" style="height:100%;"/>\n'},8:function(e,n,a,t,i){var l,s=null!=n?n:{};return'            <div class="classes">\n'+(null!=(l=a.each.call(s,null!=n?n.arr:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+'            </div>\n            <div id="classes-more" class="classes-more">\n                <span id="moretext">展示更多</span>\n                <i id="showmoreico" class="iconfont icon-triangle-down"></i>\n                <div id="dropdown-more" class="dropdown-more border around hide">\n                    <ul>\n'+(null!=(l=a.each.call(s,null!=n?n.groups:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"                    </ul>\n                </div>\n            </div>\n"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <a class="m-right" href="'+o((l=null!=(l=a.classUrl||(null!=n?n.classUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"classUrl",hash:{},data:i}):l))+'" target="_blank" title="'+o((l=null!=(l=a.shortNames||(null!=n?n.shortNames:n))?l:r,"function"==typeof l?l.call(s,{name:"shortNames",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.shortName||(null!=n?n.shortName:n))?l:r,"function"==typeof l?l.call(s,{name:"shortName",hash:{},data:i}):l))+"</a>\n"},11:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <li><a class="normal text-main-color" href="'+o((l=null!=(l=a.classUrl||(null!=n?n.classUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"classUrl",hash:{},data:i}):l))+'" target="_blank" title="'+o((l=null!=(l=a.shortNames||(null!=n?n.shortNames:n))?l:r,"function"==typeof l?l.call(s,{name:"shortNames",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.shortName||(null!=n?n.shortName:n))?l:r,"function"==typeof l?l.call(s,{name:"shortName",hash:{},data:i}):l))+"</a></li>\n"},13:function(e,n,a,t,i){var l;return'            <div class="classes">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.groups:n,{name:"each",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n"},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'\n                <a class="m-right" href="'+o((l=null!=(l=a.classUrl||(null!=n?n.classUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"classUrl",hash:{},data:i}):l))+'" target="_blank" title="'+o((l=null!=(l=a.shortNames||(null!=n?n.shortNames:n))?l:r,"function"==typeof l?l.call(s,{name:"shortNames",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.shortName||(null!=n?n.shortName:n))?l:r,"function"==typeof l?l.call(s,{name:"shortName",hash:{},data:i}):l))+"</a>\n            "},16:function(e,n,a,t,i){var l;return'    <div class="clearfix">\n        <div id="return" class="pull-right m-right pointer">\n            <i class="iconfont icon-return1"></i>\n            <div class="inline-block">返回</div>\n        </div>\n    </div>\n    <div class="m-top clearfix">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.menu:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.program(28,i,0),data:i}))?l:"")+"    </div>\n"},17:function(e,n,a,t,i){var l,s=null!=n?n:{};return'            <div class="classmate-table">\n                <table class="table text-center border around train">\n                    <thead><tr>\n                        <th>序号</th>\n                        <th>姓名</th>\n                        <th>单位</th>\n                        <th>部门</th>\n                        <th>职务</th>\n                        <th>手机</th>\n                        <th>邮箱</th>\n                    </tr></thead>\n                    <tbody>'+(null!=(l=a.each.call(s,null!=n?n.list:n,{name:"each",hash:{},fn:e.program(18,i,0),inverse:e.program(20,i,0),data:i}))?l:"")+'</tbody>\n                </table>\n                <div id="pager" class="pagination" style="float:none"></div>\n            </div>\n            <div class="classmate-side border around m-right">\n                <ul>\n'+(null!=(l=a.if.call(s,null!=n?n.menu:n,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+"                </ul>\n            </div>\n"},18:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return"<tr>\n                        <td>"+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                        <td>"+c(u(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                        <td>"+c((s=null!=(s=a.companyName||(null!=n?n.companyName:n))?s:o,typeof s===d?s.call(r,{name:"companyName",hash:{},data:i}):s))+"</td>\n                        <td>"+c((s=null!=(s=a.organizationName||(null!=n?n.organizationName:n))?s:o,typeof s===d?s.call(r,{name:"organizationName",hash:{},data:i}):s))+"</td>\n                        <td>"+c(u(null!=(l=null!=n?n.member:n)?l.jobName:l,n))+"</td>\n                        <td>"+c((s=null!=(s=a.phoneNumber||(null!=n?n.phoneNumber:n))?s:o,typeof s===d?s.call(r,{name:"phoneNumber",hash:{},data:i}):s))+"</td>\n                        <td>"+c((s=null!=(s=a.email||(null!=n?n.email:n))?s:o,typeof s===d?s.call(r,{name:"email",hash:{},data:i}):s))+"\n                        "},20:function(e,n,a,t,i){return'</td>\n                        <tr><td colspan="10"><div class="text-center">\n                            <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                            <p>暂无内容</p>\n                        </div>\n                        </td></tr>\n                    </tr>\n                    '},22:function(e,n,a,t,i){var l,s=null!=n?n:{};return(null!=(l=a.each.call(s,null!=n?n.menu:n,{name:"each",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.qita:n,{name:"if",hash:{},fn:e.program(26,i,0),inverse:e.noop,data:i}))?l:"")},23:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                            <li class="h4 strong border bottom '+(null!=(l=a.if.call(r,null!=n?n.active:n,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")+'" id="menu-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",
hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</li>\n"},24:function(e,n,a,t,i){return"active"},26:function(e,n,a,t,i){var l;return'                            <li class="h4 strong '+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.rest:n,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")+'" id="menu-0">其他</li>\n'},28:function(e,n,a,t,i){var l;return'            <div class="classmate-table" style="width:100%;">\n                <table class="table text-center border around train">\n                    <thead><tr>\n                        <th>序号</th>\n                        <th>姓名</th>\n                        <th>单位</th>\n                        <th>部门</th>\n                        <th>职务</th>\n                        <th>手机</th>\n                        <th>邮箱</th>\n                    </tr></thead>\n                    <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.list:n,{name:"each",hash:{},fn:e.program(18,i,0),inverse:e.program(20,i,0),data:i}))?l:"")+'</tbody>\n                </table>\n                <div id="pager" class="pagination" style="float:none"></div>\n            </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"banner",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"classmate",{name:"view",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/classmate-book/view-banner",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.bindings={classInfo:!0,groups:!0,download:!1,classDetail:!0},a.events={"click classes-more":"toggleClassesmore"},a.dataForTemplate={classDetail:function(){var e,n=this.bindings.download,a=this.bindings.classDetail.data;return a&&a.bannerId&&(e=n.getFullUrl()+"?id="+a.bannerId,a.bannerUrl=e),a},groups:function(e){var n=e.groups,a=window.location.protocol+"//"+window.location.host+"/";return t.map(n||[],function(e){var n=e;n.shortNames=n.shortName,n.classUrl=a+"#/train/class-detail/"+n.id,n.shortName.length>5&&(n.shortName=n.shortName.substring(0,5)+"...")}),n},arr:function(e){var n=e.groups,a=[];return n.length>3&&(a=n.slice(0,3),t.map(a||[],function(e){var n=e;n.shortName.length>5&&(n.shortName=n.shortName.substring(0,5)+"...")})),a}},a.handlers={toggleClassesmore:function(){"展示更多"===i(this.$("moretext")).text()?(i(this.$("moretext")).text("收起更多"),i(this.$("showmoreico")).addClass("icon-triangle-up").removeClass("icon-triangle-down"),i(this.$("dropdown-more")).addClass("show").removeClass("hide")):(i(this.$("moretext")).text("展示更多"),i(this.$("showmoreico")).addClass("icon-triangle-down").removeClass("icon-triangle-up"),i(this.$("dropdown-more")).addClass("hide").removeClass("show"))}}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/classmate-book/view-classmate",function(e,n,a){var t=e("lodash/collection");a.bindings={classId:!0,list:!0,menu:!0,state:!0},a.events={"click return":"toggleActive","click menu-*":"menuBySelect"},a.handlers={toggleActive:function(){var e=this.bindings.classId.data.classId;this.app.show("content","train/class-detail",{classId:e})},menuBySelect:function(e){this.module.dispatch("list",e)}},a.components=[{id:"pager",name:"pager",options:{model:"list"}}],a.dataForTemplate={list:function(e){var n=this.bindings.list.getPageInfo().page;return t.map(e.list||[],function(e,a){var t=e;t.i=a+1+10*(n-1),t.newCompany&&(t.companyName=t.newCompany),t.newOrganization&&(t.organizationName=t.newOrganization)}),e.list},menu:function(e){var n=e.menu||[],a=this.bindings.state.data.groupId||{};return n&&t.map(n,function(e){var n=e;n.id===a&&(n.active=!0)}),n},rest:function(){return"0"===(this.bindings.state.data||{}).groupId},qita:function(){return(this.bindings.state.data||{}).qita>1}}},{"lodash/collection":!1}),loadjs.d("./app/train/evaluate/index",function(e,n,a){var t=e("drizzle-zxy");a.items={main:"main",upload:""},a.store={models:{Evaluate:{url:"../train/evaluate"},download:{url:"../file-deal/file/download"},file:{url:"../file-deal/file-upload/upload-parse-file"},files:{data:[]},state:{data:{}}},callbacks:{init:function(e){var n=this.models.Evaluate,a=this.models.files,t=this.models.state;return n.params.id=e.id.classId,t.data.classId=e.id.classId,a.clear(),this.get(n,{loading:!0}).then(function(e){var n=e,t={};null!==n[0].id&&""!==n[0].id&&(t.id=n[0].id,t.attachId=n[0].attachmentId,t.attachName=n[0].attachmentName,a.data.push(t),a.changed())}),n},submit:function(e){var n=this.models.Evaluate,a={attachmentId:this.models.files.data[0].attachId,attachmentName:this.models.files.data[0].attachName},i=e;return i.id=this.models.state.data.classId,t.assign(i,a),n.set(i),this.save(n)},uploadFile:function(e){var n=this.models.files.data||[],a=e[0],t={};t.attachId=a.attachmentId,t.attachName=a.name,n.length>0?(n[0].attachId=a.attachmentId,n[0].attachName=a.name):n.push(t),this.models.files.changed()},delAttach:function(e){var n,a=this.models.files.data,t=this.models.state.data,i=this.models.courseAttach;n=a.findIndex(function(n){return n.id===e.id}),a.splice(n,1),this.models.files.changed(),t.delType&&(i.set(e),this.del(i))}}},a.beforeRender=function(){var e=this.store.models.state;return e.data.role=this.renderOptions.state.role,e.changed(),this.dispatch("init",{id:this.renderOptions.state})}},{"drizzle-zxy":!1}),loadjs.d("./app/train/evaluate/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-class-page layout-mt-small">\n    <div class="page-main-wrapper">\n        <div class="main" data-region="main"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="learneffect container border around">\n        <div class="container layout-mb-small">\n            <div class="layout-mt-small border bottom dashed">\n                <div class="col-sm-12">\n                    <div class="color-error layout-mb-small h4">开展学习效果考核是今年集团公司对培训项目管理的统一要求（必须环节），有利于提高学员参训重视程度，促进学员交流分享并结合实际工作进行思考，产生良好的学习效果，请结合培训目标和教学类容选择相应的考试方式，如考试、学习汇报、小组作业，撰写学习心得、工作模拟、职位考试认证等。中移网大系统可支持在线考试和在线提交作业。</div>\n                </div>\n            </div>\n            <div class="layout-mt layout-ml">\n                <div class="form layout-ml">\n                    <div class="form-row">\n                        <label class="label required">本次培训采用的考核方式：</label>\n                        <div class="content">\n                            <div class="text-width">\n                                <input type="hidden" name="id" value="'+r(s(null!=(l=null!=n?n.Evaluate:n)?l.id:l,n))+'"/>\n                                <input id="method" class="input" name="method" value="'+r(s(null!=(l=null!=n?n.Evaluate:n)?l.method:l,n))+'" x-rule="required" placeholder="考试方式"/>\n                            </div>\n                            <p>如：考试、学习汇报、小组作业、撰写学习心得、工作模拟、职位考试认证</p>\n                        </div>\n                    </div>\n                    <div class="form-row">\n                        <label class="label required text">附件上传：</label>\n                        <div class="content">\n                            <div class="accessory col-sm-9">\n'+(null!=(l=a.each.call(o,null!=n?n.files:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(o,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+'                                <p class="layout-mt-small">注：请上传相关证明材料，如考试结果、小组汇报ppt、学员学习心得作业汇总等</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="form-row">\n                        <label class="label required">考核结果：</label>\n                        <div class="content">\n                            <div class="text-width">\n                                <textarea id="result" class="w-full" name="result" value="" rows="5" x-rule="maxLength:1000required" placeholder="几句话介绍本次培训的考核结果，如考核情况、对培训学习产生的促进作用，掌握情况">'+r(s(null!=(l=null!=n?n.Evaluate:n)?l.result:l,n))+'</textarea>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="text-center">\n                <div class="row">\n                    <div class="text-center">\n'+(null!=(l=a.if.call(o,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                                    <div class="input-height">\n                                        <div class="inline-block">'+e.escapeExpression((s=null!=(s=a.attachName||(null!=n?n.attachName:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"attachName",hash:{},data:i}):s))+"</div>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"                                    </div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                            <div class="inline-block">\n                                                <a href="'+o((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"downUrl",hash:{},data:i}):l))+'" download="'+o((l=null!=(l=a.attachName||(null!=n?n.attachName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachName",hash:{},data:i}):l))+'">下载</a>\n                                                <a id="del-attach-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">删除</a>\n                                            </div>\n'},7:function(e,n,a,t,i){return'                                    <div id="chooseFile" class="tag-btn active pointer no-radius">上传</div>\n'},9:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.show:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))?l:""},10:function(e,n,a,t,i){return'                                <a id="submit" class="btn">保存</a>\n'},12:function(e,n,a,t,i){return'                                <a id="submit" class="btn">提交</a>\n'},14:function(e,n,a,t,i){return'    <div class="row">\n        <div id="uploader"></div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"upload",{name:"view",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/evaluate/view-main",function(e,n,a){var t=e("./app/ext/views/form/markers"),i=e("./app/ext/views/form/validators"),l=e("lodash/collection"),s=e("jquery");a.bindings={Evaluate:!0,state:!0,files:!0,download:!1,file:"changeFile"},a.events={},a.actions={"click submit":"submit","click del-attach-*":"delAttach"},a.dataForActions={submit:function(){var e={};return this.bindings.files.data.length<1&&this.app.message.alert("请上传附件"),e.id=s(this.$("id")).val(),e.method=s(this.$("method")).val(),e.result=s(this.$("result")).val(),!!this.validate()&&e},delAttach:function(e){var n=this;return this.Promise.create(function(a){n.app.message.confirm("附件删除后将无法恢复，是否确定删除该附件？",function(){a(e)},function(){a(!1)})})}},a.handlers={uploadFile:function(){var e=this.module.items.upload,n=this.bindings.files.data,a=this.bindings.Evaluate.data;n.length>=1?this.app.message.alert("附件只能存在1个，请删除后在上传"):(a.id=s(this.$("id")).val(),a.method=s(this.$("method")).val(),a.result=s(this.$("result")).val(),this.app.viewport.modal(e))}},a.actionCallbacks={submit:function(){var e=this.bindings.state.data.classId;this.app.message.success("保存成功！"),this.module.dispatch("init",{id:{classId:e}})}},a.dataForTemplate={files:function(e){var n=this,a=this.bindings.state.data;return l.map(e.files||[],function(e,t){var i=e;return i.downUrl=n.bindings.download.getFullUrl()+"?id="+i.attachId,i.i=t+1,3!==a.role&&4!==a.role?i.isGrant=!0:i.isGrant=!1,i}),e.files},isGrant:function(){var e=this.bindings.state.data;return 3!==e.role&&4!==e.role},show:function(e){return!!(e.Evaluate||{}).id}},a.components=function(){return[{id:"chooseFile",name:"superUpload",options:{model:"file",maxSize:"100M",accept:"xls,xlsx,doc,docx,ppt,pptx,zip,txt,rar,pdf,epub",isProgress:!0,filter:function(e,n){var a=n.name.split(".").pop(),t=new RegExp('[/\\\\|<>\\*:\\?\\"]+'),i=new RegExp("[~!@#$%\\^\\&]+");t.test(n.name)||i.test(n.name)?(e.removeFile(),this.app.message.error("文件名称不能包含特殊符号")):-1!==["mp3","mp4"].indexOf(a)?n.size>1073741824&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G")):n.size>104857600&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G"),this.app.message.error(a+"文件不能超过100M"))}}}]},a.mixin={validate:function(){var e=s(this.$("result")),n=s(this.$("method")),a=!0,l=new RegExp("\\{0\\}","g");return t.text.valid(e),t.text.valid(n),""===n.val()&&(t.text.invalid(n,i.required.message),a=!1),""===e.val()&&(t.text.invalid(e,i.required.message),a=!1),""===n.val()||i.maxLength.fn(n.val(),100)||(t.text.invalid(n,i.maxLength.message.replace(l,100)),a=!1),""===e.val()||i.maxLength.fn(e.val(),2e3)||(t.text.invalid(e,i.maxLength.message.replace(l,2e3)),a=!1),a}},a.changeFile=function(){var e=this.bindings.file.data.imgs,n=l.map(e,function(e){return{contentType:e.contentType,attachmentId:e.id,name:e.filename}}),a=this.bindings.Evaluate.data;a.id=s(this.$("id")).val(),a.method=s(this.$("method")).val(),a.result=s(this.$("result")).val(),this.module.dispatch("uploadFile",n)}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/evaluate/view-upload",function(e,n,a){var t=e("lodash/collection");a.title="文件上传",a.bindings={file:"changeFile"},a.components=function(){return[{id:"uploader",name:"uploader",options:{model:"file",chunk_size:"100mb",multi_selection:!1,filters:{max_file_size:"100mb",mime_types:[{title:"files",extensions:"xls,xlsx,doc,docx,ppt,pptx,zip,txt,rar,pdf,epub,mp3,mp4,rar"}]},filter:function(e,n){var a=n.name.split(".").pop(),t=new RegExp('[/\\\\|<>\\*:\\?\\"]+'),i=new RegExp("[~!@#$%\\^\\&]+");t.test(n.name)||i.test(n.name)?(e.removeFile(),this.app.message.error("文件名称不能包含特殊符号")):-1!==["mp3","mp4"].indexOf(a)?n.size>1073741824&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G")):n.size>104857600&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G"),this.app.message.error(a+"文件不能超过100M"))}}}]},a.changeFile=function(){var e=this.bindings.file.data.imgs,n=t.map(e,function(e){return{contentType:e.contentType,attachmentId:e.id,name:e.filename}});this.module.dispatch("uploadFile",n),this.app.viewport.closeModal()}},{"lodash/collection":!1}),loadjs.d("./app/train/index/index",function(e,n,a){a.items={top:"top",main:"main"},a.store={models:{projectInfo:{url:"../train/project"},classInfo:{url:"../train/class-info/single"},state:{}},callbacks:{init:function(e){var n=this.models.state,a=this.models.projectInfo;a.set(e),n.data.menu="book",n.data.book=!0,n.data.id=e.id,n.data.role=e.role,this.get(a,{loading:!0}).then(function(e){3===Number(e[0].status)&&null!==e[0].classInfo&&null!==e[0].classInfo.surveyType&&null!==e[0].classInfo.target&&(n.data.menu="base",n.data.base=!0),n.changed()})},changeMenu:function(){var e=this.models.classInfo,n=this.module.renderOptions.id;return e.set({id:n}),this.get(e)},getProjectInfo:function(e){var n=this.models.projectInfo;return n.clear(),n.set(e),this.get(n)}}},a.beforeRender=function(){return this.dispatch("init",{id:this.renderOptions.id,role:this.renderOptions.role})}},{}),loadjs.d("./app/train/index/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div class="container">\n        <div class="managements-main-title layout-mt clearfix">\n            <div class="h3 pull-left strong layout-mr-small text-center">\n                <div class="inline-block" title="'+r(s(null!=(l=null!=n?n.projectInfo:n)?l.names:l,n))+'">'+r(s(null!=(l=null!=n?n.projectInfo:n)?l.name:l,n))+'</div>\n                <div class="inline-block sub-title small-font">'+r((a.map||n&&n.map||d).call(o,"train-project-status",null!=(l=null!=n?n.projectInfo:n)?l.classStatus:l,{name:"map",hash:{},data:i}))+"</div>\n            </div>\n"+(null!=(l=a.if.call(o,null!=(l=null!=n?n.projectInfo:n)?l.showDetailButton:l,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?l:"")+'        </div>\n        <div class="managements-tabs">\n            <ul class="clearfix layout-mt-small">\n'+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.state:n)?l.role:l,"ne",2,{name:"compare",hash:{},fn:e.program(4,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+"            </ul>\n        </div>\n    </div>\n"},2:function(e,n,a,t,i){var l;return'                <a class="normal" href="'+e.escapeExpression((l=null!=(l=a.classUrl||(null!=n?n.classUrl:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"classUrl",hash:{},data:i}):l))+'" target="_blank">\n                    <div class="btn small">进入班级</div>\n                </a>\n'},4:function(e,n,a,t,i){var l;return'                    <li id="menu-book" class="pull-left small">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">预定时间</div>\n                    </li>\n                    <li id="menu-base" class="pull-left small">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">班级基本信息</div>\n                    </li>\n                    <li id="menu-programme" class="pull-left small">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">日程安排</div>\n                    </li>\n                    <li id="menu-quota" class="pull-left small">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">配额管理</div>\n                    </li>\n                    <li id="menu-notice" class="pull-left small">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">发布通知</div>\n                    </li>\n                    <li id="menu-trainee" class="pull-left small">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">成员管理</div>\n                    </li>\n'+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.role:l,"ne",2,{name:"compare",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'                    <li id="menu-statistics" class="pull-left small">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">统计与评估</div>\n                    </li>\n                    <li id="menu-evaluate" class="pull-left small">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">学习效果考评</div>\n                    </li>\n'},5:function(e,n,a,t,i){return'                        <li id="menu-service" class="pull-left small">\n                            <div class="managements-tabs-item">\n                                <div class="managements-tabs-circle">\n                                    <div class="managements-tabs-smallcircle"></div>\n                                </div>\n                            </div>\n                            <div class="h4 layout-mt-small text-center text">班务管理</div>\n                        </li>\n'},7:function(e,n,a,t,i){var l;return'                    <li id="menu-book" class="pull-left active">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">预定时间</div>\n                    </li>\n                    <li id="menu-base" class="pull-left">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">班级基本信息</div>\n                    </li>\n                    <li id="menu-programme" class="pull-left">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">日程安排</div>\n                    </li>\n                    <li id="menu-quota" class="pull-left">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">配额管理</div>\n                    </li>\n                    <li id="menu-notice" class="pull-left">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">发布通知</div>\n                    </li>\n                    <li id="menu-trainee" class="pull-left">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">成员管理</div>\n                    </li>\n'+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.role:l,"ne",2,{name:"compare",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'                    <li id="menu-statistics" class="pull-left">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">统计与评估</div>\n                    </li>\n                    <li id="menu-evaluate" class="pull-left">\n                        <div class="managements-tabs-item">\n                            <div class="managements-tabs-circle">\n                                <div class="managements-tabs-smallcircle"></div>\n                            </div>\n                        </div>\n                        <div class="h4 layout-mt-small text-center text">学习效果考评</div>\n                    </li>\n'},8:function(e,n,a,t,i){return'                        <li id="menu-service" class="pull-left">\n                            <div class="managements-tabs-item">\n                                <div class="managements-tabs-circle">\n                                    <div class="managements-tabs-smallcircle"></div>\n                                </div>\n                            </div>\n                            <div class="h4 layout-mt-small text-center text">班务管理</div>\n                        </li>\n'},10:function(e,n,a,t,i){var l;return'    <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.menu:l,n))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'<moudle><div class="managements-page">\n    <div class="manage-tabs" data-region="top"></div>\n    <div class="main" data-region="main"></div>\n</div></moudle>\n'+(null!=(l=(a.view||n&&n.view||r).call(s,"top",{name:"view",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||r).call(s,"main",{name:"view",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/index/view-main",function(e,n,a){var t=e("jquery");a.type="dynamic",a.bindings={state:!0,projectInfo:!0},a.getEntityModuleName=function(e){return"train/"+e},a.getEntity=function(){var e=t(this.module.items.top.$("menu-base"));return{state:this.bindings.state.data,base:e}},a.dataForEntityModule=function(e){return e}},{jquery:!1}),loadjs.d("./app/train/index/view-top",function(e,n,a){var t=e("jquery");a.bindings={projectInfo:!0,state:!1},a.events={"click menu-*":"changeMenu"},a.handlers={changeMenu:function(e){var n=this.bindings.state,a=this.bindings.state.data.id,i=this.bindings.state.data.role,l=this.bindings.projectInfo.data,s=this;"book"===e?(n.data={},n.data.menu=e||"book",n.data[e]=!0,n.data.id=a,n.data.role=i,l.classInfo&&(n.data.classId=l.classInfo.id),n.data.organizationId=l.organization.id,n.changed(),t(this.$("menu-"+e)).addClass("active").siblings().removeClass("active")):3===l.status?l.classInfo.surveyType&&l.classInfo.target?"base"===e?(n.data={},n.data.menu=e||"base",n.data[e]=!0,n.data.id=a,n.data.role=i,l.classInfo&&(n.data.classId=l.classInfo.id),n.data.organizationId=l.organization.id,n.changed(),t(s.$("menu-"+e)).addClass("active").siblings().removeClass("active")):s.module.dispatch("changeMenu").then(function(r){1===r[0].confirm?(n.data={},n.data.menu=e||"base",n.data[e]=!0,n.data.id=a,n.data.role=i,l.classInfo&&(n.data.classId=l.classInfo.id),n.data.organizationId=l.organization.id,n.changed(),t(s.$("menu-"+e)).addClass("active").siblings().removeClass("active")):s.app.message.alert("班级基本信息未提交")}):this.module.dispatch("getProjectInfo",{id:l.id}).then(function(r){var o=r[0];o.classInfo.surveyType&&o.classInfo.target?"base"===e?(n.data={},n.data.menu=e||"base",n.data[e]=!0,n.data.id=a,n.data.role=i,l.classInfo&&(n.data.classId=l.classInfo.id),n.data.organizationId=l.organization.id,n.changed(),t(s.$("menu-"+e)).addClass("active").siblings().removeClass("active")):s.module.dispatch("changeMenu").then(function(r){1===r[0].confirm?(n.data={},n.data.menu=e||"base",n.data[e]=!0,n.data.id=a,n.data.role=i,l.classInfo&&(n.data.classId=l.classInfo.id),n.data.organizationId=l.organization.id,n.changed(),t(s.$("menu-"+e)).addClass("active").siblings().removeClass("active")):s.app.message.alert("班级基本信息未提交")}):s.app.message.alert("请到预定时间页面填写需求调研方式或培训目标")}):this.app.message.alert("当前计划为未通过状态")}},a.dataForTemplate={projectInfo:function(e){var n=e.projectInfo||{classInfo:{id:null}},a=n.classInfo||{id:null};return null!==a.id&&(n.showDetailButton=!0,n.classStatus=a.status),n.names=n.name,n.name&&n.name.length>56&&(n.name=n.name.substring(0,55)+"..."),n},classUrl:function(){var e=this.bindings.projectInfo.data,n=window.location.protocol+"//"+window.location.host+"/";return e.classInfo&&(n+="#/train/class-detail/"+e.classInfo.id),n}},a.afterRender=function(){var e=this.bindings.projectInfo.data,n=t(this.$("menu-book")).siblings();t(this.$("menu-book")).addClass("active").siblings().removeClass("active"),3===e.status&&null!==e.classInfo&&null!==e.classInfo.surveyType&&null!==e.classInfo.target?1!==e.classInfo.confirm?(t(this.$("menu-base")).addClass("active"),t(this.$("menu-base")).prev("li").removeClass("active").removeClass("grey"),t(this.$("menu-base")).nextAll("li").addClass("grey")):t(this.$("menu-base")).addClass("active").siblings().removeClass("active"):(t(this.$("menu-book")).addClass("active"),n.addClass("grey").removeClass("active"))}},{jquery:!1}),loadjs.d("./app/train/lecturer-new/course-category/index",function(e,n,a){a.title="选择目录",a.items={modal:"modal"},a.small=!0,a.store={models:{list:{url:"../train/lecturer-course-config/find"}},callbacks:{init:function(){var e=this.models.list;return e.params.type=1,this.get(e)}}},a.beforeRender=function(){this.dispatch("init")},a.mixin={validate:function(){return this.items.main.validate()}},a.buttons=[{text:"确定",fn:function(){var e=this.items.modal.components.tree.getSelectedNode();return e.length?(this.renderOptions.callback(e[0].data),!0):(this.app.message.error("请选择一个目录"),!1)}}]},{}),loadjs.d("./app/train/lecturer-new/course-category/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){
return'    <div data-region="modal"></div>\n'},3:function(e,n,a,t,i){return'<form class="vertical">\n    <div class="frame">\n        <div id="tree"></div>\n    </div>\n</form>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"modal",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/lecturer-new/course-category/view-modal",function(e,n,a){a.title="选择目录",a.bindings={list:!0},a.components=[{id:"tree",name:"tree",options:{model:"list",openLevel:4}}]},{}),loadjs.d("./app/train/lecturer-new/external-lecturer/index",function(e,n,a){a.items={main:"main"},a.store={models:{state:{data:{college:!0,unit:!1}}}}},{}),loadjs.d("./app/train/lecturer-new/external-lecturer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div data-region="main"></div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="person-page"><div class="container">\n        <div class="container"><div class="clearfix layout-mt-small">\n            <div class="person-top"><div class="clearfix">\n                <div class="user-pic big">\n                    <img src="./images/default-cover/default_user.png" style="width:200px;height:200px"/>\n                    <div class="text-center pointer m-top">\n                        为TA点赞\n                        <i class="iconfont icon-favorite"></i>\n                    </div>\n                </div>\n                <div class="user-base-info overflow column">\n                    <div class="clearfix">\n                        <div class="pull-left col-sm-6"><div class="column-item para">\n                            <div class="inline-block">讲师姓名</div>\n                            <div class="inline-block">某某某</div>\n                        </div></div>\n                        <div class="pull-left col-sm-6"><div class="column-item para">\n                            <div class="inline-block">讲师属性</div>\n                            <div class="inline-block">外部机构讲师</div>\n                        </div></div>\n                    </div>\n                    <div class="clearfix">\n                        <div class="pull-left col-sm-6"><div class="column-item para">\n                            <div class="inline-block">培训机构</div>\n                            <div class="inline-block">北京爱立信科技股份有限公司</div>\n                        </div></div>\n                        <div class="pull-left col-sm-6"><div class="column-item para">\n                            <div class="inline-block">讲师专业条线及序列</div>\n                            <div class="inline-block ten">管理-领导力发展</div>\n                        </div></div>\n                    </div>\n                    <div class="clearfix">\n                        <div class="pull-left col-sm-8"><div class="column-item para">\n                            <div class="inline-block">讲师专业领域</div>\n                            <div class="inline-block seven">管理类课程</div>\n                        </div></div>\n                    </div>\n                    <div class="clearfix">\n                        <div class="pull-left col-sm-12"><div class="column-item para">\n                            <div class="inline-block">讲师简介</div>\n                            <div class="inline-block">这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介</div>\n                        </div></div>\n                    </div>\n                    <div class="clearfix">\n                        <div class="pull-left col-sm-12"><div class="column-item para">\n                            <div class="inline-block">授课经历</div>\n                            <div class="inline-block">这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介这是讲师简介</div>\n                        </div></div>\n                    </div>\n                    <div class="clearfix">\n                        <div class="pull-left col-sm-12"><div class="column-item para">\n                            <div class="inline-block">擅长课程</div>\n                            <div class="inline-block">\n                                《小伟说一个新闻》\n                                《接待费问你》\n                            </div>\n                        </div></div>\n                    </div>\n                </div>\n            </div></div>\n            <div class="tabs-block fix-width layout-mt-small">\n                <ul class="bot-none">\n                    <li id="tab-college" '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.college:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'>学院授课记录</li>\n                    <li id="tab-unit" '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.unit:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'>各单位授课记录</li>\n                </ul>\n            </div>\n            <div class="w-full overflow-x-auto nowrap">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.college:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.unit:l,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n        </div></div>\n    </div></div>\n"},4:function(e,n,a,t,i){return' class="active"'},6:function(e,n,a,t,i){return'                    <table class="table m-top-none m-bottom small-font" border="1">\n                        <tr>\n                            <th class="strong">课程名称</th>\n                            <th class="strong">主办部门（单位）</th>\n                            <th class="strong">授课日期</th>\n                            <th class="strong">培训班名称</th>\n                            <th class="strong">授课时长（H）</th>\n                            <th class="strong">授课对象</th>\n                            <th class="strong">授课人数</th>\n                            <th class="strong">满意度（%)</th>\n                        </tr>\n                        <tr>\n                            <td class="nowrap"><div class="text-overflow" title="以客户为中心-哈佛管理导师">以客户为中心-哈佛管理导师</div></td>\n                            <td>北京移动</td>\n                            <td>2018-08-04</td>\n                            <td class="nowrap"><div class="text-overflow" title="2018年第三季高管班">2018年第三季高管班</div></td>\n                            <td>2.5</td>\n                            <td>全体学员</td>\n                            <td>80</td>\n                            <td>90</td>\n                        </tr>\n                    </table>\n'},8:function(e,n,a,t,i){return'                    <table class="table m-top-none m-bottom small-font" border="1">\n                        <tr>\n                            <th class="strong">课程名称</th>\n                            <th class="strong">授课单位</th>\n                            <th class="strong">授课日期</th>\n                            <th class="strong">培训班名称</th>\n                            <th class="strong">授课时长（H）</th>\n                            <th class="strong">授课对象</th>\n                            <th class="strong">授课人数</th>\n                            <th class="strong">满意度（%)</th>\n                            <th class="strong">满意度评价</th>\n                        </tr>\n                        <tr>\n                            <td class="nowrap"><div class="text-overflow" title="以客户为中心-哈佛管理导师">以客户为中心-哈佛管理导师</div></td>\n                            <td>北京移动</td>\n                            <td>2018-08-04</td>\n                            <td class="nowrap"><div class="text-overflow" title="2018年第三季高管班">2018年第三季高管班</div></td>\n                            <td>2.5</td>\n                            <td>全体学员</td>\n                            <td>80</td>\n                            <td>90</td>\n                            <td class="nowrap"><div class="text-overflow" title="XXXXXXXXXXXXX">XXXXXXXXXXXXX</div></td>\n                        </tr>\n                    </table>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/lecturer-new/external-lecturer/view-main",function(e,n,a){a.bindings={state:!0},a.events={"click tab-*":"toggleTab"},a.handlers={toggleTab:function(e){var n=this,a=n.bindings.state;"college"===e?(a.data.college=!0,a.data.unit=!1):(a.data.college=!1,a.data.unit=!0),a.changed()}}},{}),loadjs.d("./app/train/lecturer-new/lecturer/addCourse/index",function(e,n,a){var t=e("lodash");a.items={main:"main"},a.fill=!0,a.title="新增课程",a.store={models:{type:{},addCourse:{url:"../train/new-offline/add-student"}},callbacks:{save:function(e){var n=e,a=this.models.addCourse,i=this,l=i.module.items.main,s=l.components&&l.components.addFile&&l.components.addFile.getData(),r="",o="";return s&&(t.map(s,function(e){var n=e;n&&(r+=n.attachmentId+","),n&&(o+=n.name+",")}),r=r.substring(0,r.length-1),o=o.substring(0,o.length-1)),n.attachmentId=r,n.attachmentName=o,n.isUse=0,n.isShare="1",n.courseAttributes="内训师课程"===n.courseAttributes?"3":"2",a.set(n),this.save(a).then(function(e){i.module.renderOptions.callback({courseId:e[0].id,courseName:e[0].name})})}}},a.buttons=[{text:"保存",fn:function(e){var n=this;return!!this.items.main.validate()&&this.Promise.create(function(a){n.app.message.confirm("面授课程新增后无法进行修改，确定要新增吗？",function(){n.dispatch("save",e),a(!0)},function(){a(!1)})})}}]},{lodash:696}),loadjs.d("./app/train/lecturer-new/lecturer/addCourse/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="container lecturer-new" data-region="main"></div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <form class="vertical layout-mb">\n        <div class="form col">\n            <div class="clearfix">\n                <div class="form-row w-full pull-left">\n                    <div class="pull-left text-right left"><label class="required">课程名称</label></div>\n                    <div class="content right">\n                        <input type="hidden"/>\n                        <input class="input has-right" name="name" x-rule="required,maxLength:50" maxLength="50"/>\n                        <div class="tips">0/50</div>\n                    </div>\n                    <div class="pull-left text-right left"><label>课程属性</label></div>\n                    <div class="content right">\n'+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.attributeId:n,"eq","1",{name:"compare",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'                    </div>\n                    <div class="pull-left text-right left"><label class="required">课程分类</label></div>\n                    <div class="content right"><div id="categoryId"></div></div>\n                </div>\n            </div>\n            <div class="clearfix">\n                <div class="form-row w-full pull-left">\n                    <div class="pull-left text-right left"><label>适用对象</label></div>\n                    <div class="content right">\n                        <input class="input has-right" name="obj" x-rule="maxLength:30" maxLength="30"/><div class="tips">0/30</div>\n                    </div>\n                    <div class="pull-left text-right left"><label>参考时长(小时)</label></div>\n                    <div class="content right">\n                        <input class="input" name="referenceTime" x-rule="range:0:99,keepDecimalNum:1"/>\n                    </div>\n                    <div class="pull-left text-right left"><label>关键词</label></div>\n                    <div class="content right">\n                        <input class="input has-right" name="keyword" placeholder="关键词以“,”区隔" maxLength="50" x-rule="maxLength:50"/>\n                        <div class="tips">0/50</div>\n                    </div>\n                </div>\n            </div>\n            <div class="form col">\n                <div class="clearfix">\n                    <div class="form-row textarea-row w-full pull-left">\n                        <div class="pull-left text-right left"><label>课程简介</label></div>\n                        <div class="content right full">\n                            <textarea class="input" name="summary" rows="5" maxLength="200" x-rule="maxLength:200"></textarea>\n                            <div class="tips">0/200</div>\n                        </div>\n                    </div>\n                    <div class="form-row textarea-row w-full pull-left">\n                        <div class="pull-left text-right left"><label>课程目标</label></div>\n                        <div class="content right full">\n                            <textarea class="input" name="target" rows="5" maxLength="150" x-rule="maxLength:150"></textarea>\n                            <div class="tips">0/150</div>\n                        </div>\n                    </div>\n                    <div class="form-row textarea-row w-full pull-left">\n                        <div class="pull-left text-right left"><label>课程大纲</label></div>\n                        <div class="content right full">\n                            <textarea class="input" name="outline" rows="5" maxLength="500" x-rule="maxLength:500"></textarea>\n                            <div class="tips">0/500</div>\n                        </div>\n                    </div>\n                    <div class="form-row w-full pull-left">\n                        <div id="addFile"></div>\n                    </div>\n                    <div class="form-row textarea-row w-full pull-left">\n                        <div class="pull-left text-right left"><label>备注</label></div>\n                        <div class="content right full">\n                            <textarea class="input" name="remark" rows="5" maxLength="200" x-rule="maxLength:200"></textarea>\n                            <div class="tips">0/200</div>\n                        </div>\n                    </div>\n                    <div class="form-row w-full pull-left">\n                        <div class="pull-left text-right left"><label class="required">归属部门</label></div>\n                        <div class="content right col-sm-6">\n                            <input class="input" value="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.organizationName:l,n))+'" x-rule="required" disabled/>\n                            <input class="input" type="hidden" value="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.organizationId:l,n))+'" name="organizationId"/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </form>\n'},4:function(e,n,a,t,i){return'                            <input class="input disabled" name="courseAttributes" value="内训师课程" readonly/>\n'},6:function(e,n,a,t,i){return'                            <input class="input disabled" name="courseAttributes" value="其他课程" readonly/>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/lecturer-new/lecturer/addCourse/view-main",function(e,n,a){a.type="form",a.components=[function(){return{id:"addFile",name:"picker",options:{picker:"addFile",download:!0}}},function(){return{id:"categoryId",name:"picker",options:{picker:"lecturer-course-category",inputName:"sequence",required:!0,title:"选择课程分类",searchType:"knowledge",data:{id:"",name:""}}}}],a.dataForTemplate={attributeId:function(){return this.module.renderOptions.attributeId},lecturer:function(){return this.module.renderOptions.lecturer}}},{}),loadjs.d("./app/train/lecturer-new/lecturer/addRecord/index",function(e,n,a){var t=e("lodash"),i=e("./app/util/helpers");a.items={main:"main","train/lecturer-new/lecturer/addCourse":{isModule:!0},"train/lecturer-new/lecturer/selectCourse":{isModule:!0}},a.fill=!0,a.title=function(){var e=this.renderOptions.edit,n=this.renderOptions.teachingType;return e?-1!==n.indexOf("unit")||-1!==n.indexOf("reUnit")?"编辑授课记录":"编辑其他教学教研记录":"unit"===n?"新增授课记录":"新增其他教学教研记录"},a.store={models:{type:{},record:{data:{}},addUnit:{url:"../train/organization-teaching/add-record"},editUnit:{url:"../train/organization-teaching/edit"},addOther:{url:"../train/other-teaching/add"},editOther:{url:"../train/other-teaching/update"},teachingFind:{url:"../train/teaching-activities/find",root:"items"}},callbacks:{init:function(){var e,n=this.models.type,a=this.models.record,t=this.models.teachingFind;a.clear(),e=this.module.renderOptions.record&&this.module.renderOptions.record[0],e&&e.startTime&&e.endTime&&(e.inDate=i.date(e.startTime)+" 至 "+i.date(e.endTime)),e&&a.set(e),n.data.courseType=a.data.teachingType?a.data.teachingType:0,this.get(t),n.changed()},selectCourse:function(){return!0},clear:function(){return!0},addCourse:function(){return!0},save:function(e){var n,a,i,l,s,r=this,o=e,d=this.module.renderOptions.teachingType,c=this.module.renderOptions.edit,u=this.models.record.data;return c?(o.id=u.id,o.startDate=o.teachDate,d&&(d.indexOf("unit")>-1||d.indexOf("reUnit")>-1)?s=this.models.editUnit:(this.models.editOther.clear(),s=this.models.editOther),o.inDate&&(n=o.inDate.split("至")[0],a=o.inDate.split("至")[1],i=n.split(" ")[0].split("-"),l=a.split(" ")[1].split("-"),o.startTime=new Date(i[0],window.parseInt(i[1])-1,i[2]).getTime(),o.endTime=new Date(l[0],window.parseInt(l[1])-1,l[2]).getTime()),s.clear(),s.set(o),this.post(s).then(function(){o.re?r.module.renderOptions.callback({re:!0}):r.module.renderOptions.callback({re:!1})}),!0):(d&&d.indexOf("unit")>-1?s=this.models.addUnit:(s=this.models.addOther,o.activityLevelName=t.find(r.models.teachingFind.data,{id:o.activityLevel}).levelName),o.inDate&&(n=o.inDate.split("至")[0],a=o.inDate.split("至")[1],i=n.split(" ")[0].split("-"),l=a.split(" ")[1].split("-"),o.startTime=new Date(i[0],window.parseInt(i[1])-1,i[2]).getTime(),o.endTime=new Date(l[0],window.parseInt(l[1])-1,l[2]).getTime()),o.status&&(o.status=JSON.parse(o.status)),o.teachingType&&(o.teachingType=JSON.parse(o.teachingType)),s.clear(),s.set(o),this.save(s).then(function(){r.module.renderOptions.callback({re:!1})}))}}},a.buttons=function(){var e=this,n=e.renderOptions.re,a=e.items.main,i=[],l={text:"保存",fn:function(n){var i=n,l=e.renderOptions.lecturer.id,s=e.renderOptions.lecturer.name,r=a.components&&a.components.addFile&&a.components.addFile.getData(),o="";return!!this.items.main.validate()&&(i.lecturerId=l,i.lecturerName=s,r&&t.map(r,function(e){var n=e;n&&(o+=JSON.stringify({id:n.attachmentId,attachName:n.name,type:n.attachType})+",")}),o.length>1&&(o=o.substring(0,o.length-1),i.courseAttachments="["+o+"]"),i.re=!1,e.dispatch("save",i))}},s={text:"提交",fn:function(n){var i=n,l=e.renderOptions.lecturer.id,s=e.renderOptions.lecturer.name,r=a.components&&a.components.addFile&&a.components.addFile.getData(),o="";return!!this.items.main.validate()&&(i.lecturerId=l,i.lecturerName=s,r&&t.map(r,function(e){var n=e;n&&(o+=JSON.stringify({id:n.attachmentId,attachName:n.name,type:n.attachType})+",")}),o.length>1&&(o=o.substring(0,o.length-1),i.courseAttachments="["+o+"]"),i.re=!0,e.dispatch("save",i))}};return i.push(l),n&&i.push(s),i},a.beforeRender=function(){return this.dispatch("init")}},{"./app/util/helpers":"./app/util/helpers",lodash:696}),loadjs.d("./app/train/lecturer-new/lecturer/addRecord/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="container lecturer-new" data-region="main"></div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.teachingType:n,"eq","unit",{name:"compare",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'    <div class="layout-mt-small"><form class="vertical">\n'+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.teachingType:n,"eq","unit",{name:"compare",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.teachingType:n,"eq","others",{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"    </form></div>\n"},4:function(e,n,a,t,i){return'        <div class="color-error text-left">提示：在学院培训班授课，系统已自动记录，无需手动填写。</div>\n'},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'            <div class="form col">\n                <div class="clearfix">\n                    <div class="form-row w-full pull-left">\n                        <div class="pull-left text-right left"><label class="required">教学教研类型</label></div>\n                        <div class="content right">\n                            <input type="hidden"/>\n                            <input class="input disabled" name="type" x-rule="required" readonly value="授课"/>\n                        </div>\n                        <div class="pull-left text-right left"><label class="required">课程名称</label></div>\n                        <div class="content right">\n'+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=n?n.edit:n,"eq","edit",{name:"compare",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'                        </div>\n                        <div class="pull-left text-right left"><label class="required">授课单位</label></div>\n                        <div class="content right">\n                            <div id="owner">选择</div>\n                        </div>\n                    </div>\n                </div>\n                <div class="clearfix">\n                    <div class="form-row w-full pull-left">\n                        <div class="pull-left text-right left"><label class="required">授课日期</label></div>\n                        <div class="content right">\n                            <input id="courseDate" class="input" '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.record:n)?l.startDate:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+' name="teachDate" x-rule="required"/>\n                        </div>\n                        <div class="pull-left text-right left"><label>培训班名称</label></div>\n                        <div class="content right">\n                            <input class="input has-right" value="'+o(r(null!=(l=null!=n?n.record:n)?l.className:l,n))+'" name="className" x-rule="maxLength:150" maxLength="150"/>\n                            <div class="tips">0/150</div>\n                        </div>\n                        <div class="pull-left text-right left"><label class="required">培训班联系人</label></div>\n                        <div class="content right">\n                            <input class="input has-right" value="'+o(r(null!=(l=null!=n?n.record:n)?l.classMember:l,n))+'" name="classMember" x-rule="required,maxLength:20" maxLength="20"/>\n                            <div class="tips">0/20</div>\n                        </div>\n                    </div>\n                </div>\n                <div class="clearfix">\n                    <div class="form-row w-full pull-left">\n                        <div class="pull-left text-right left"><label class="required">授课时长(小时)</label></div>\n                        <div class="content right">\n                            <input class="input" value="'+o(r(null!=(l=null!=n?n.record:n)?l.courseDuration:l,n))+'" name="courseDuration" x-rule="required,range:0:99,keepDecimalNum:1"/>\n                        </div>\n                        <div class="pull-left text-right left"><label>授课对象</label></div>\n                        <div class="content right">\n                            <input class="input has-right" value="'+o(r(null!=(l=null!=n?n.record:n)?l.object:l,n))+'" name="object" x-rule="maxLength:30" maxLength="30"/>\n                            <div class="tips">0/30</div>\n                        </div>\n                        <div class="pull-left text-right left"><label>授课人数</label></div>\n                        <div class="content right">\n                            <input class="input" value="'+o(r(null!=(l=null!=n?n.record:n)?l.memberCount:l,n))+'" name="memberCount" x-rule="range:1:999,digits"/>\n                        </div>\n                    </div>\n                </div>\n                <div class="clearfix">\n                    <div class="form-row w-full pull-left">\n                        <div class="pull-left text-right left"><label class="required">满意度(%)</label></div>\n                        <div class="content right">\n                            <input class="input" value="'+o(r(null!=(l=null!=n?n.record:n)?l.satisfiedDegree:l,n))+'" name="satisfiedDegree" x-rule="required,range:0:100"/>\n                        </div>\n                    </div>\n                </div>\n                <div class="clearfix layout-mb">\n                    <div id="addFile"></div>\n                </div>\n            </div>\n'},7:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                                <input class="input disabled" value="'+r(s(null!=(l=null!=n?n.record:n)?l.courseName:l,n))+'" name="courseName" x-rule="required" readonly/>\n                                <input class="input" type="hidden" name="courseId" value="'+r(s(null!=(l=null!=n?n.record:n)?l.courseId:l,n))+'"/>\n'},9:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                                <div class="input-group lecturer w-full">\n                                    <input class="input text" value="'+r(s(null!=(l=null!=n?n.record:n)?l.courseName:l,n))+'" name="courseName" x-rule="required" readonly/>\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.record:n)?l.courseName:l,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+'                                    <input class="input has-right" type="hidden" name="courseId" value="'+r(s(null!=(l=null!=n?n.record:n)?l.courseId:l,n))+'"/>\n                                    <div class="r-text add" id="addCourse">新增</div>\n                                    <div class="r-text choice" id="selectCourse">选择</div>\n                                </div>\n                                <div class="course-tip">请先点击“选择”按钮，搜索系统中是否已存在您要新增的课程</div>\n'},10:function(e,n,a,t,i){return'                                        <i id="clear" class="iconfont icon-close close-2"></i>\n'},12:function(e,n,a,t,i){var l;return' value="'+e.escapeExpression((a.date||n&&n.date||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.record:n)?l.startDate:l,{name:"date",hash:{},data:i}))+'"'},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression,d=a.helperMissing;return'            <div class="form col">\n                <div class="clearfix">\n                    <div class="form-row w-full pull-left">\n                        <div class="pull-left text-right left"><label class="required">教学教研类型</label></div>\n                        <div class="content right col-sm-4">\n                            <select class="input grey" id="changeType" name="teachingType" x-rule="required">\n                                <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.type1:l,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">课程开发</option>\n                                <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.type2:l,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">电子课件开发</option>\n                                <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.type3:l,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+' value="4">案例开发</option>\n                                <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.type4:l,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+' value="5">业务专题研究</option>\n                                <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.type5:l,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+' value="6">内训工作支撑</option>\n                            </select>\n                        </div>\n                        <div class="pull-left text-right left"><label class="required">教学教研名称</label></div>\n                        <div class="content right col-sm-4">\n                            <input class="input has-right" name="courseName" value="'+o(r(null!=(l=null!=n?n.record:n)?l.courseName:l,n))+'" x-rule="required,maxLength:30" maxLength="30"/>\n                            <div class="tips">0/30</div>\n                        </div>\n                        <div class="pull-left text-right left"><label class="required">教学教研活动级别</label></div>\n                        <div class="content right col-sm-4">\n                            <select id="level" class="input grey" x-rule="required" name="activityLevel">'+(null!=(l=a.each.call(s,null!=n?n.teachingFind:n,{name:"each",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+"</select>\n                        </div>\n                    </div>\n                </div>\n            </div>\n"+(null!=(l=(a.compare||n&&n.compare||d).call(s,null!=(l=null!=n?n.type:n)?l.courseType:l,"lt",5,{name:"compare",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||d).call(s,null!=(l=null!=n?n.type:n)?l.courseType:l,"eq",5,{name:"compare",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||d).call(s,null!=(l=null!=n?n.type:n)?l.courseType:l,"eq",6,{name:"compare",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i
}))?l:"")+'            <div class="form col">\n                <div class="clearfix">\n                    <div class="form-row w-full pull-left">\n                        <div class="pull-left text-right left"><label>简介</label></div>\n                        <div class="content right full">\n                            <textarea class="input" name="description" rows="5" x-rule="maxLength:100" maxLength="100" placeholder="请填写课程简介、业务简介或支撑工作简介">'+o(r(null!=(l=null!=n?n.record:n)?l.description:l,n))+'</textarea>\n                            <div class="tips text-tips text-right small-font sub-text">0/100</div>\n                        </div>\n                    </div>\n                    \x3c!--  .form-row.w-full.pull-left --\x3e\n                    \x3c!--      .pull-left.text-right.left > label 满意度评价 --\x3e\n                    \x3c!--      .content.right.full --\x3e\n                    \x3c!--          textarea.input(name=\'satisfiedEvaluate\' rows=\'5\' x-rule=\'maxLength:300\' maxLength=\'300\') > echo(record.satisfiedEvaluate) --\x3e\n                    \x3c!--          .tips.text-tips.text-right.small-font.sub-text 0/300 --\x3e\n                    <div class="form-row w-full pull-left">\n                        <div class="pull-left text-right left"><label>其他情况说明</label></div>\n                        <div class="content right full">\n                            <textarea class="input" name="otherInstructions" rows="5" x-rule="maxLength:200" maxLength="200">'+o(r(null!=(l=null!=n?n.record:n)?l.otherInstructions:l,n))+'</textarea>\n                            <div class="tips text-tips text-right small-font sub-text">0/200</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n'},15:function(e,n,a,t,i){return' selected="selected"'},17:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                                <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n                            "},19:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'                <div class="form col">\n                    <div class="clearfix">\n                        <div class="form-row w-full pull-left">\n                            <div class="pull-left text-right left"><label class="required">参加日期</label></div>\n                            <div class="content right col-sm-4"><input id="courseDateTwo" class="input" x-rule="required" name="inDate" value="'+r(s(null!=(l=null!=n?n.record:n)?l.inDate:l,n))+'"/></div>\n                            <div class="pull-left text-right left"><label class="required">时长(小时)</label></div>\n                            <div class="content right col-sm-4"><input class="input" x-rule="required,number,range:0:99,keepDecimal:1" name="referenceTime" value="'+r(s(null!=(l=null!=n?n.record:n)?l.referenceTime:l,n))+'"/></div>\n                            <div class="pull-left text-right left"><label>面向对象</label></div>\n                            <div class="content right col-sm-4"><input class="input" name="objectOriented" x-rule="maxLength:20" maxlength="20" value="'+r(s(null!=(l=null!=n?n.record:n)?l.objectOriented:l,n))+'"/><div class="tips">0/20</div></div>\n                        </div>\n                    </div>\n                </div>\n                <div class="form col">\n                    <div class="clearfix">\n                        <div class="form-row w-full pull-left">\n                            <div class="pull-left text-right left"><label class="large required"> 分类</label></div>\n                            <div class="content right col-sm-4"><div id="courseType">选择</div></div>\n                            <div class="pull-left text-right left"><label class="required">满意度(%)</label></div>\n                            <div class="content right col-sm-4">\n                                <input class="input" x-rule="required,range:0:100" name="satisfiedDegree" value="'+r(s(null!=(l=null!=n?n.record:n)?l.satisfiedDegree:l,n))+'"/>\n                            </div>\n                            <div class="pull-left text-right left"><label class="required wrap">是否通过省级或以上人力资源部门认定</label></div>\n                            <div class="content right col-sm-4">\n                                <div class="radio m-left">\n                                    <input '+(null!=(l=a.unless.call(o,null!=(l=null!=n?n.record:n)?l.status:l,{name:"unless",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" id="yes-0" name="status" value="0"/>\n                                    <label class="lecturer" for="yes-0"></label>\n                                </div>\n                                <div class="inline-block layout-mr">是</div>\n                                <div class="radio">\n                                    <input '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.record:n)?l.status:l,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" id="yes-1" value="1" name="status"/>\n                                    <label class="lecturer" for="yes-1"></label>\n                                </div>\n                                <div class="inline-block">否</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n'},20:function(e,n,a,t,i){return" checked"},22:function(e,n,a,t,i){var l;return'                <div class="form col">\n                    <div class="clearfix">\n                        <div class="form-row w-full pull-left">\n                            <div class="pull-left text-right left"><label class="required">参加日期</label></div>\n                            <div class="content right col-sm-4"><input id="courseDateTwo" class="input" x-rule="required" name="inDate" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.record:n)?l.inDate:l,n))+'"/></div>\n                            <div class="pull-left text-right left"><label class="large required"> 分类</label></div>\n                            <div class="content right col-sm-4"><div id="courseType">选择</div></div>\n                        </div>\n                    </div>\n                </div>\n'},24:function(e,n,a,t,i){var l;return'                <div class="form col">\n                    <div class="clearfix">\n                        <div class="form-row w-full pull-left">\n                            <div class="pull-left text-right left"><label class="required">参加日期</label></div>\n                            <div class="content right col-sm-4"><input id="courseDateTwo" class="input" x-rule="required" name="inDate" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.record:n)?l.inDate:l,n))+'"/></div>\n                        </div>\n                    </div>\n                </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/lecturer-new/lecturer/addRecord/view-main",function(e,n,a){var t=e("jquery"),i=e("./app/util/maps"),l=e("drizzle-zxy"),s=e("lodash");a.type="form",a.bindings={type:!0,record:!0,teachingFind:!0},a.dataForTemplate={checked:function(e){var n=e.type;return{type1:"2"===n.courseType||2===n.courseType,type2:"3"===n.courseType||3===n.courseType,type3:"4"===n.courseType||4===n.courseType,type4:"5"===n.courseType||5===n.courseType,type5:"6"===n.courseType||6===n.courseType}},teachingType:function(){var e=this.module.renderOptions.teachingType;return e=e.indexOf("unit")>-1||e.indexOf("reUnit")>-1?"unit":"others"},edit:function(){return this.module.renderOptions.edit},levels:function(){return i.get("lecturer-level")},teachingFind:function(e){var n=this.bindings.teachingFind.data,a=0===e.type.courseType?2:e.type.courseType,t=[],i=this.bindings.record.data;return s.map(n,function(e){void 0!==e&&Number(e.activityId)===a&&(i.activityLevel===e.levelName?t.push({key:e.id,value:e.levelName,selected:!0}):t.push({key:e.id,value:e.levelName}))}),t}},a.events={"change changeType":"changeType"},a.handlers={changeType:function(){var e=Number(t(this.$("changeType")).val()),n=this.bindings.type,a=this.bindings.teachingFind;n.data.courseType=Number(e),n.changed(),a.changed()}},a.actions={"click addCourse":"addCourse","click selectCourse":"selectCourse","click clear":"clear"},a.dataForActions={addCourse:function(e){var n=this,a=this.module.renderOptions.attributeId,t=this.module.renderOptions.lecturer,i=this.module.items["train/lecturer-new/lecturer/addCourse"];return this.app.viewport.ground(i,{attributeId:a,lecturer:t,callback:function(a){n.getInfo(e,{courseName:a.courseName,courseId:a.courseId})}})},selectCourse:function(e){var n=this,a=this.module.items["train/lecturer-new/lecturer/selectCourse"];this.app.viewport.modal(a,{callback:function(a){var t,i=n.bindings.record,r=n.components&&n.components.addFile&&n.components.addFile.getData();t=l.assign({},e,{courseName:a.group.name,courseId:a.group.id}),t.startDate=t.teachDate,t.organizationName=t["organizationId-text"],t.courseAttachList=[],r&&s.map(r,function(e){var n=e;t.courseAttachList.push({attachId:n.attachmentId,attachName:n.name})}),i.set(t),i.changed()}})},clear:function(e){this.getInfo(e,{courseName:"",courseId:""})}},a.components=[function(){return{id:"addFile",name:"picker",options:{picker:"addFile",data:{attachments:this.bindings.record.data.courseAttachList||[]}}}},function(){return{id:"courseDate",name:"flatpickr"}},{id:"courseDateTwo",name:"flatpickr",options:{mode:"range",notansform:!0}},function(){var e=this,n=e.bindings.record.data;return{id:"owner",name:"picker",options:{picker:"lecturer-owner",required:!0,autoFill:!1,params:{},data:{id:n&&n.organizationId,text:n&&n.organizationName,lecturer:!0}}}},function(){var e=this.bindings.record.data;return{id:"courseType",name:"picker",options:{picker:"lecturer-course-category",inputName:"courseType",required:!0,large:!0,searchType:"knowledge",data:{id:e&&e.courseType,name:e&&e.courseTypeName}}}}],a.mixin={getInfo:function(e,n){var a,t=this,i=t.bindings.record,r=t.components&&t.components.addFile&&t.components.addFile.getData();a=l.assign({},e,{courseName:n.courseName,courseId:n.courseId}),a.startDate=a.teachDate,a.organizationName=a["organizationId-text"],a.courseAttachList=[],r&&s.map(r,function(e){var n=e;a.courseAttachList.push({attachId:n.attachmentId,attachName:n.name})}),i.set(a),i.changed()}}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,jquery:!1,lodash:696}),loadjs.d("./app/train/lecturer-new/lecturer/course-category/index",function(e,n,a){a.title="选择目录",a.items={modal:"modal"},a.small=!0,a.store={models:{list:{url:"../train/lecturer-course-config/find"}},callbacks:{init:function(e){var n=this.models.list;return e.currentCatalogId&&(n.params.notIncludeCatelogId=e.currentCatalogId),n.params.type="1",this.get(n)}}},a.beforeRender=function(){var e=this.renderOptions;this.dispatch("init",e)},a.mixin={validate:function(){return this.items.main.validate()}},a.buttons=[{text:"确定",fn:function(){var e=this.items.modal.components.tree.getSelectedNode();return e.length?(this.renderOptions.callback(e[0].data),!0):(this.app.message.error("请选择一个目录"),!1)}}]},{}),loadjs.d("./app/train/lecturer-new/lecturer/index",function(e,n,a){a.items={field:"",abstract:"",unit:"",others:"",main:"main","train/lecturer-new/lecturer/addRecord":{isModule:!0}},a.store={models:{state:{data:{college:!0,unit:!1,others:!1}},lecturer:{url:"../train/lecturer/teacher",autoLoad:!0},experience:{url:"../train/lecturer/up-experience"},description:{url:"../train/lecturer/up-description"},field:{url:"../train/label/select"},changeField:{url:"../train/lecturer/up-label"},labelIds:{},active:{},schools:{url:"../train/college-teaching/all"},units:{url:"../train/organization-teaching/all"},others:{url:"../train/other-teaching/all"},delUnit:{url:"../train/organization-teaching/delete"},delOther:{url:"../train/other-teaching/delete"},approveUnit:{url:"../train/organization-teaching/submit-audit"},approveOther:{url:"../train/other-teaching/submit-audit"},disapproveUnit:{url:"../train/organization-teaching/revoke-audit"},disapproveOther:{url:"../train/other-teaching/revoke-audit"}},callbacks:{init:function(e){var n=this.models.lecturer,a=this.models.schools,t=this.models.units,i=this.models.others,l=e.id;return n.clear(),a.clear(),t.clear(),i.clear(),n.set({id:l}),a.set({id:l}),t.set({id:l}),i.set({id:l}),a.params={approvalStatus:-1},t.params={approvalStatus:-1},i.params={approvalStatus:-1},this.get(a),this.get(t),this.get(i),this.get(n,{loading:!0})},save:function(e){var n=this.module.renderOptions.id,a=this.models.description,t=this.models.experience,i=this;"lecturer"===e.type?(a.clear(),a.set({id:n,description:e.text}),this.put(a).then(function(){i.module.dispatch("refreshList")})):(t.clear(),t.set({id:n,experience:e.text}),this.put(t).then(function(){i.module.dispatch("refreshList")}))},editField:function(){var e=this.models.field;e.clear(),this.get(e)},changeField:function(e){var n=this.models.lecturer,a=this.models.changeField,t=this.module.renderOptions.id,i=this;a.clear(),n.clear(),a.set({id:t,labelIds:e.ids}),n.set({id:t}),this.put(a).then(function(){i.get(n)})},refreshList:function(){var e=this.models.lecturer,n=this.module.renderOptions.id;return e.clear(),e.set({id:n}),this.get(e)},delete:function(e){var n,a,t=this;return e.id.indexOf("unit-")>-1?(a=e.id.split("unit-")[1],n=this.models.delUnit):(a=e.id.split("others-")[1],n=this.models.delOther),n.set({id:a}),this.del(n).then(function(){t.module.dispatch("init",{id:e.lecturerId})})},approve:function(e){var n,a,t=this;return e.id.indexOf("nit-")>-1?(a=e.id.split("nit-")[1],n=this.models.approveUnit):(a=e.id.split("thers-")[1],n=this.models.approveOther),n.set({id:a}),this.post(n).then(function(){t.app.message.success("提交成功"),t.module.dispatch("init",{id:e.lecturerId})})},disapprove:function(e){var n,a,t=this;return e.id.indexOf("nit-")>-1?(a=e.id.split("nit-")[1],n=this.models.disapproveUnit):(a=e.id.split("thers-")[1],n=this.models.disapproveOther),n.set({id:a}),this.post(n).then(function(){t.app.message.success("撤销成功"),t.module.dispatch("init",{id:e.lecturerId})})}}},a.beforeRender=function(){var e=this;this.dispatch("init",e.renderOptions)}},{}),loadjs.d("./app/train/lecturer-new/lecturer/selectCourse/index",function(e,n,a){var t=e("drizzle-zxy");a.items={main:"main","train/lecturer-new/lecturer/course-category":{isModule:!0}},a.title="请选择课程",a.store={models:{groups:{url:"../train/new-offline/page",type:"pageable",root:"items"},courseAttribute:{url:"../train/course-attribute/find",autoLoad:!0},courseConfig:{url:"../train/lecturer-course-config/config",autoLoad:!0},state:{},search:{}},callbacks:{init:function(){var e=this.models.groups;return e.clear(),this.models.search.clear(),e.changed(),e.params.status=0,t.assign(e.params,{status:0}),this.get(e,{loading:!0})},doSearch:function(e){var n=this.models.groups,a=this.models.search;n.clear(),a.data=e,t.assign(n.params,{status:0},e),a.changed(),n.params.status=0,this.get(n).then(function(){n.params={}})},searchKey:function(e){var n=this.models.groups,a=this.models.search;n.clear(),a.data=e,t.assign(n.params,{status:0},e),a.changed(),this.get(n)},changeSearch:function(e){var n=this.models.search,a=this.models.state;n.clear(),n.set(e),a.changed(),n.changed()}}},a.buttons=[{text:"保存",fn:function(){var e=this.store.models.state.data;this.renderOptions.callback(e)}}],a.beforeRender=function(){return this.dispatch("init")}},{"drizzle-zxy":!1}),loadjs.d("./app/train/lecturer-new/lecturer/selectCourse/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div data-region="main"></div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <form class="vertical">\n        <div id="searchKey" class="filter-row clearfix relative train-small">\n            <div class="pull-left">\n                <div class="filter-item classname">\n                    <label class="m-right pull-left tag-height">课程名称</label>\n                    <div class="pull-left">\n                        <input id="name" class="input" name="name" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.search:n)?l.name:l,n))+'"/>\n                    </div>\n                </div>\n                <div class="filter-item clearfix">\n                    <label class="pull-left m-right tag-height">课程分类</label>\n                    <div class="pull-left">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.search:n)?l["organizationId-text"]:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'                    </div>\n                    <div id="showCategory" class="small-btn pull-left" style="margin-bottom: 0;">选择</div>\n                </div>\n                <div class="filter-item clearfix"><div id="btnSearch" class="small-btn pull-left" style="margin-bottom: 0;">查询</div></div>\n            </div>\n        </div>\n        <table class="table">\n            <tr>\n                <th></th>\n                <th>课程名称</th>\n                <th>课程属性</th>\n                <th>课程分类</th>\n                <th>入库时间</th>\n                <th>最后修改时间</th>\n            </tr>\n'+(null!=(l=a.each.call(s,null!=n?n.offlines:n,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+'        </table>\n        <div id="pager" class="pagination" style="float:none"></div>\n    </form>\n'},4:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                            <div class="relative train-verify">\n                                <input id="categoryName" class="input" placeholder="全部" name="organizationId-text" disabled value="'+r(s(null!=(l=null!=n?n.search:n)?l["organizationId-text"]:l,n))+'"/>\n                                <div id="clearCategory" class="iconfont icon-close pointer icon"></div>\n                            </div>\n                            <input id="categoryId" type="hidden" name="courseSequence" value="'+r(s(null!=(l=null!=n?n.search:n)?l.courseSequence:l,n))+'"/>\n'},6:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                            <input id="categoryName" class="input" placeholder="全部" name="organizationId-text" disabled value="'+r(s(null!=(l=null!=n?n.search:n)?l["organizationId-text"]:l,n))+'"/>\n                            <input id="categoryId" type="hidden" name="courseSequence" value="'+r(s(null!=(l=null!=n?n.search:n)?l.courseSequence:l,n))+'"/>\n'},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                <tr>\n                    <td><input class="input" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+' name="lecturerId" type="radio" id="select-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/></td>\n                    <td class="nowrap">'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                    <td>"+c((s=null!=(s=a.attributeName||(null!=n?n.attributeName:n))?s:o,typeof s===d?s.call(r,{name:"attributeName",hash:{},data:i}):s))+"</td>\n                    <td>"+c((s=null!=(s=a.sequence||(null!=n?n.sequence:n))?s:o,typeof s===d?s.call(r,{name:"sequence",hash:{},data:i}):s))+"</td>\n                    <td>"+c((a.date||n&&n.date||o).call(r,null!=n?n.createTime:n,{name:"date",hash:{},data:i}))+"</td>\n                    <td>"+c((a.date||n&&n.date||o).call(r,null!=n?n.updateTime:n,{name:"date",hash:{},data:i}))+"</td>\n                </tr>\n"},9:function(e,n,a,t,i){return' checked="checked"'},11:function(e,n,a,t,i){return'                <tr><td colspan="6"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容</p>\n                </div>\n                </td></tr>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/lecturer-new/lecturer/selectCourse/view-main",function(e,n,a){var t=e("lodash");a.bindings={state:!0,groups:!0,courseAttribute:!0,courseConfig:!0,search:!0},a.dataForTemplate={offlines:function(e){var n=this.bindings.groups.getPageInfo().page,a=e.groups,i=e.courseConfig,l=e.courseAttribute;return t.map(a||[],function(e,a){var s=e;s.i=a+1+10*(n-1),t.map(l.items||[],function(e){var n=e;n.id===s.courseAttributes&&(s.attributeName=n.attributeName)}),t.map(i||[],function(e){var n=e;n.id===s.sequence&&(s.sequence=n.name)})}),a}},a.events={"click select-*":"select","click showCategory":"showCategory","click clearCategory":"clearCategory"},a.handlers={select:function(e){var n=t.find(this.bindings.groups.data,function(n){return n.id===e});this.bindings.state.data.group=n},showCategory:function(){var e=this.module.items["train/lecturer-new/lecturer/course-category"],n=this;n.app.viewport.modal(e,{callback:function(e){var a={};a.courseSequence=e.id,a["organizationId-text"]=e.name,a.name=n.$("name").value,n.module.dispatch("changeSearch",a)}})},clearCategory:function(){var e=this.bindings.search.data;e.courseSequence="",e["organizationId-text"]="",e.name=this.$("name").value,this.module.dispatch("changeSearch",e)}},a.actions={"click btnSearch":"doSearch","keypress searchKey":"searchKey"},a.dataForActions={doSearch:function(){return{name:this.$("name").value.trim(),courseSequence:this.$("categoryId").value.trim(),"organizationId-text":this.$("categoryName").value.trim()}},searchKey:function(e){return 13===(e.keyCode||e.which||e.charCode)&&{name:this.$("name").value.trim(),courseSequence:this.$("categoryId").value.trim(),"organizationId-text":this.$("categoryName").value.trim()}}},a.components=[{id:"pager",name:"pager",options:{model:"groups"}}]},{lodash:696}),loadjs.d("./app/train/lecturer-new/lecturer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div data-region="main"></div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div class="person-page"><div class="container">\n        <div class="container"><div class="person-top clearfix layout-mt-small">\n            \x3c!-- .pull-left.layout-mr --\x3e\n            \x3c!--     img(src=\'./images/default-cover/default_user.png\' width=\'200\') --\x3e\n            \x3c!--     .text-center.pointer.m-top --\x3e\n            \x3c!--         | 为TA点赞 --\x3e\n            \x3c!--         i.iconfont.icon-favorite --\x3e\n            <div id="headFile"></div>\n            <div class="user-base-info overflow column" style="height: auto;margin: 0;">\n                <div class="clearfix">\n                    <div class="pull-left col-sm-5"><div class="column-item para absolute m-top-none">\n                        <div class="inline-block">讲师姓名：</div>\n                        <div class="inline-block m-left col-sm-9 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.name:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.name:l,n))+'</div>\n                    </div></div>\n                    <div class="pull-left col-sm-7"><div class="column-item para absolute m-top-none">\n                        <div class="inline-block">讲师属性：</div>\n                        <div class="inline-block m-left col-sm-9 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.attribute:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.attribute:l,n))+'</div>\n                    </div></div>\n                </div>\n                <div class="clearfix">\n                    <div class="pull-left col-sm-5"><div class="column-item para absolute">\n                        <div class="inline-block">讲师级别：</div>\n'+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.lecturer:n)?l.attributeId:l,"ne","2",{name:"compare",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'                    </div></div>\n                    <div class="pull-left col-sm-7"><div class="column-item para absolute">\n                        <div class="inline-block">讲师单位：</div>\n                        <div class="inline-block m-left col-sm-9 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.unit:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.unit:l,n))+'</div>\n                    </div></div>\n                </div>\n                <div class="clearfix">\n                    <div class="pull-left col-sm-5"><div class="column-item para absolute">\n                        <div class="inline-block">讲师部门：</div>\n                        <div class="inline-block m-left col-sm-9 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.organizationName:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.organizationName:l,n))+'</div>\n                    </div></div>\n                    <div class="pull-left col-sm-7"><div class="column-item para absolute">\n                        <div class="inline-block">讲师职务：</div>\n                        <div class="inline-block m-left col-sm-9 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.jobName:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.jobName:l,n))+'</div>\n                    </div></div>\n                </div>\n                <div class="clearfix">\n                    <div class="pull-left col-sm-12"><div class="column-item para absolute">\n                        <div class="inline-block">讲师专业条线及序列：</div>\n                        <div class="inline-block ten m-left">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.parentName:l,n))+"-"+r(s(null!=(l=null!=n?n.lecturer:n)?l.sequenceName:l,n))+'</div>\n                    </div></div>\n                </div>\n                <div class="clearfix">\n                    <div class="pull-left col-sm-12"><div class="column-item para pull">\n                        <div class="pull-left" style="width:105px;">讲师专业领域：</div>\n                        <div class="overflow">\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.lecturer:n)?l.labelList:l,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'                            <a class="m-left inline-block decoration-none" id="lecturer-field">编辑</a>\n                        </div>\n                    </div></div>\n                </div>\n                <div class="clearfix">\n                    <div class="pull-left col-sm-12"><div class="column-item para pull">\n                        <div class="pull-left">讲师简介：</div>\n                        <div class="overflow col-sm-12">\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.lecturer:n)?l.descriptionList:l,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+'                            <a class="decoration-none" id="abstract-lecturer">编辑</a>\n                        </div>\n                    </div></div>\n                </div>\n                <div class="clearfix">\n'+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.lecturer:n)?l.attachmentPath:l,"ne","",{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.lecturer:n)?l.attachmentPath:l,"eq","",{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+'                </div>\n                <div class="clearfix">\n                    <div class="pull-left col-sm-12"><div class="column-item para pull">\n                        <div class="pull-left">授课经历：</div>\n                        <div class="overflow">\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.lecturer:n)?l.lectureExperienceList:l,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+'                            <a class="decoration-none" id="abstract-experience">编辑</a>\n                        </div>\n                    </div></div>\n                </div>\n                <div class="clearfix">\n                    <div class="pull-left col-sm-12"><div class="column-item para pull">\n                        <div class="pull-left">擅长课程：</div>\n                        <div class="overflow">\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.lecturer:n)?l.adeptCourseList:l,{name:"each",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i
}))?l:"")+"                            <div class=\"color-error layout-mt-small\">说明：如需新增擅长课程请联系您所在省级单位的内训师管理员</div>\n                        </div>\n                    </div></div>\n                </div>\n            </div>\n        </div></div>\n        \x3c!-- .filter-row.layout-mt-small --\x3e\n        \x3c!--     .form.m-top.m-bottom --\x3e\n        \x3c!--         .col-sm-9.inline-block.clearfix --\x3e\n        \x3c!--             .pull-left.col-sm-6 --\x3e\n        \x3c!--                 .form-row.r-padding --\x3e\n        \x3c!--                     label 课程名称 --\x3e\n        \x3c!--                     .content --\x3e\n        \x3c!--                         input.input.date(name='className') --\x3e\n        \x3c!--             .pull-left.col-sm-6 --\x3e\n        \x3c!--                 .form-row.r-padding --\x3e\n        \x3c!--                     label 培训班名称 --\x3e\n        \x3c!--                     .content --\x3e\n        \x3c!--                         input.input.tag-height.date#join-time(name='teachDate') --\x3e\n        \x3c!--             .pull-left.col-sm-6 --\x3e\n        \x3c!--                 .form-row.r-padding.margin-none --\x3e\n        \x3c!--                     label 授课日期 --\x3e\n        \x3c!--                     .content --\x3e\n        \x3c!--                         input.input-solid.col-sm-5.pull-left(name='stratCourseDuration') --\x3e\n        \x3c!--                         span.col-sm-2.text-center.pull-left.input-height 至 --\x3e\n        \x3c!--                         input.input-solid.col-sm-5.pull-left(name='endCourseDuration') --\x3e\n        \x3c!--             .pull-left.col-sm-6 --\x3e\n        \x3c!--                 .form-row.r-padding.margin-none --\x3e\n        \x3c!--                     label 满意度 --\x3e\n        \x3c!--                     .content --\x3e\n        \x3c!--                         input.input-solid.col-sm-5.pull-left(name='stratSatisfiedDegree') --\x3e\n        \x3c!--                         span.inline-block.pull-left.text-center.input-height.col-sm-2 至 --\x3e\n        \x3c!--                         input.input-solid.col-sm-5.pull-left(name='endSatisfiedDegree') --\x3e\n        \x3c!--         .inline-block.layout-ml --\x3e\n        \x3c!--             button.btn#search > echo('查询') --\x3e\n        <div class=\"tabs-block fix-width layout-mt\">\n            <ul class=\"bot-none\">\n                <li id=\"tab-college\" "+(null!=(l=a.if.call(o,null!=(l=null!=n?n.state:n)?l.college:l,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+'>学院授课记录</li>\n                <li id="tab-unit" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.state:n)?l.unit:l,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+">各单位授课记录</li>\n"+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=n?n.attributeId:n,"eq","1",{name:"compare",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+'            </ul>\n        </div>\n        <div class="w-full overflow-x-auto nowrap">\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.state:n)?l.college:l,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(o,null!=(l=null!=n?n.state:n)?l.unit:l,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=n?n.attributeId:n,"eq","1",{name:"compare",hash:{},fn:e.program(39,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n    </div></div>\n"},4:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                            <div class="inline-block m-left col-sm-9 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.levelName:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.levelName:l,n))+"</div>\n"},6:function(e,n,a,t,i){return'                            <div class="inline-block m-left">-</div>\n'},8:function(e,n,a,t,i){var l;return'                                <div class="tag-btn">'+e.escapeExpression((l=null!=(l=a.name||(null!=n?n.name:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"name",hash:{},data:i}):l))+"</div>\n"},10:function(e,n,a,t,i){var l;return"                                "+e.escapeExpression((l=null!=(l=a.value||(null!=n?n.value:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"value",hash:{},data:i}):l))+"\n                                <br/>\n"},12:function(e,n,a,t,i){var l;return'                        <div class="col-sm-12"><div class="column-item para pull">\n                            <div class="pull-left">讲师视频：</div>\n                            <div class="overflow">\n                                <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand vjs-error-display" preload="auto">\n                                    <source src="/'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.lecturer:n)?l.attachmentPath:l,n))+'" type="video/mp4"/>\n                                </video>\n                            </div>\n                        </div></div>\n'},14:function(e,n,a,t,i){return'                        <div class="pull-left col-sm-12"><div class="column-item para pull">\n                            <div class="pull-left">讲师视频：</div>\n                            <div class="overflow col-sm-12">\n                                无\n                            </div>\n                        </div></div>\n'},16:function(e,n,a,t,i){var l;return"                                《"+e.escapeExpression((l=null!=(l=a.courseName||(null!=n?n.courseName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"courseName",hash:{},data:i}):l))+"》\n"},18:function(e,n,a,t,i){return' class="active"'},20:function(e,n,a,t,i){var l;return'                    <li id="tab-others" '+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.others:l,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+">其他教学教研记录</li>\n"},22:function(e,n,a,t,i){var l;return'                <table class="table m-top-none m-bottom small-font text-center">\n                    <thead>\n                        <tr>\n                            <th>课程名称</th>\n                            <th>主办部门（单位）</th>\n                            <th>授课日期</th>\n                            <th>培训班名称</th>\n                            <th>授课时长（H）</th>\n                            <th>授课对象</th>\n                            <th>授课人数</th>\n                            <th>满意度（%)</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.schools:n,{name:"each",hash:{},fn:e.program(23,i,0),inverse:e.program(25,i,0),data:i}))?l:"")+"                    </tbody>\n                </table>\n"},23:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                            <tr>\n                                <td class="nowrap"><div class="text-overflow" title="'+d((l=null!=(l=a.courseName||(null!=n?n.courseName:n))?l:r,typeof l===o?l.call(s,{name:"courseName",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.courseName||(null!=n?n.courseName:n))?l:r,typeof l===o?l.call(s,{name:"courseName",hash:{},data:i}):l))+'</div></td>\n                                <td class="nowrap"><div class="text-overflow" title="'+d((l=null!=(l=a.organizationName||(null!=n?n.organizationName:n))?l:r,typeof l===o?l.call(s,{name:"organizationName",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.organizationName||(null!=n?n.organizationName:n))?l:r,typeof l===o?l.call(s,{name:"organizationName",hash:{},data:i}):l))+"</div></td>\n                                <td>"+d((a.date||n&&n.date||r).call(s,null!=n?n.courseDate:n,{name:"date",hash:{},data:i}))+'</td>\n                                <td class="nowrap"><div class="text-overflow" title="'+d((l=null!=(l=a.className||(null!=n?n.className:n))?l:r,typeof l===o?l.call(s,{name:"className",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.className||(null!=n?n.className:n))?l:r,typeof l===o?l.call(s,{name:"className",hash:{},data:i}):l))+'</div></td>\n                                <td class="nowrap">'+d((l=null!=(l=a.courseDuration||(null!=n?n.courseDuration:n))?l:r,typeof l===o?l.call(s,{name:"courseDuration",hash:{},data:i}):l))+'</td>\n                                <td class="nowrap"><div class="text-overflow" title="'+d((l=null!=(l=a.obj||(null!=n?n.obj:n))?l:r,typeof l===o?l.call(s,{name:"obj",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.obj||(null!=n?n.obj:n))?l:r,typeof l===o?l.call(s,{name:"obj",hash:{},data:i}):l))+'</div></td>\n                                <td class="nowrap">'+d((l=null!=(l=a.objNum||(null!=n?n.objNum:n))?l:r,typeof l===o?l.call(s,{name:"objNum",hash:{},data:i}):l))+'</td>\n                                <td class="nowrap">'+d((l=null!=(l=a.satisfiedDegree||(null!=n?n.satisfiedDegree:n))?l:r,typeof l===o?l.call(s,{name:"satisfiedDegree",hash:{},data:i}):l))+"</td>\n                            </tr>\n"},25:function(e,n,a,t,i){return'                            <tr><td colspan="8"><div class="content-empty-side"><div class="img-box"></div><p>暂无内容</p></div></td></tr>\n'},27:function(e,n,a,t,i){var l;return'                <table class="table m-top-none m-bottom small-font text-center">\n                    <thead>\n                        <tr>\n                            <th>课程名称</th>\n                            <th>授课单位</th>\n                            <th>授课日期</th>\n                            <th>培训班名称</th>\n                            <th>培训班联系人</th>\n                            <th>授课时长（H）</th>\n                            <th>授课对象</th>\n                            <th>授课人数</th>\n                            <th>课件</th>\n                            <th>满意度（%)</th>\n                            <th>状态</th>\n                            <th>操作</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.units:n,{name:"each",hash:{},fn:e.program(28,i,0),inverse:e.program(37,i,0),data:i}))?l:"")+'                    </tbody>\n                    <tr><td colspan="13">\n                        <div class="btn-add-course" id="addRecord-unit">\n                            <i class="iconfont icon-add scale-1"></i>\n                            <span class="sub-text">新增记录</span>\n                        </div>\n                    </td></tr>\n                </table>\n'},28:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                            <tr>\n                                <td class="nowrap"><div class="text-overflow" title="'+c((s=null!=(s=a.courseName||(null!=n?n.courseName:n))?s:o,typeof s===d?s.call(r,{name:"courseName",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.courseName||(null!=n?n.courseName:n))?s:o,typeof s===d?s.call(r,{name:"courseName",hash:{},data:i}):s))+'</div></td>\n                                <td class="nowrap"><div class="text-overflow" title="'+c((s=null!=(s=a.organizationName||(null!=n?n.organizationName:n))?s:o,typeof s===d?s.call(r,{name:"organizationName",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.organizationName||(null!=n?n.organizationName:n))?s:o,typeof s===d?s.call(r,{name:"organizationName",hash:{},data:i}):s))+"</div></td>\n                                <td>"+c((a.date||n&&n.date||o).call(r,null!=n?n.startDate:n,{name:"date",hash:{},data:i}))+'</td>\n                                <td class="nowrap"><div class="text-overflow" title="'+c((s=null!=(s=a.className||(null!=n?n.className:n))?s:o,typeof s===d?s.call(r,{name:"className",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.className||(null!=n?n.className:n))?s:o,typeof s===d?s.call(r,{name:"className",hash:{},data:i}):s))+'</div></td>\n                                <td class="nowrap"><div class="text-overflow" title="'+c((s=null!=(s=a.classMember||(null!=n?n.classMember:n))?s:o,typeof s===d?s.call(r,{name:"classMember",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.classMember||(null!=n?n.classMember:n))?s:o,typeof s===d?s.call(r,{name:"classMember",hash:{},data:i}):s))+'</div></td>\n                                <td class="nowrap">'+c((s=null!=(s=a.courseDuration||(null!=n?n.courseDuration:n))?s:o,typeof s===d?s.call(r,{name:"courseDuration",hash:{},data:i}):s))+'</td>\n                                <td class="nowrap"><div class="text-overflow" title="'+c((s=null!=(s=a.object||(null!=n?n.object:n))?s:o,typeof s===d?s.call(r,{name:"object",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.object||(null!=n?n.object:n))?s:o,typeof s===d?s.call(r,{name:"object",hash:{},data:i}):s))+'</div></td>\n                                <td class="nowrap">'+c((s=null!=(s=a.memberCount||(null!=n?n.memberCount:n))?s:o,typeof s===d?s.call(r,{name:"memberCount",hash:{},data:i}):s))+'</td>\n                                <td class="nowrap">'+(null!=(l=a.each.call(r,null!=n?n.courseAttachList:n,{name:"each",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))?l:"")+'</td>\n                                <td class="nowrap">'+c((s=null!=(s=a.satisfiedDegree||(null!=n?n.satisfiedDegree:n))?s:o,typeof s===d?s.call(r,{name:"satisfiedDegree",hash:{},data:i}):s))+'</td>\n                                <td class="nowrap min">'+c((a.map||n&&n.map||o).call(r,"records-status",null!=n?n.approvalStatus:n,{name:"map",hash:{},data:i}))+"</td>\n                                <td>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.approvalStatus:n,"eq",0,{name:"compare",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.approvalStatus:n,"eq",2,{name:"compare",hash:{},fn:e.program(33,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.approvalStatus:n,"eq",3,{name:"compare",hash:{},fn:e.program(35,i,0),inverse:e.noop,data:i}))?l:"")+"                                </td>\n                            </tr>\n"},29:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'\n                                    <div class="text-overflow" title="'+o((l=null!=(l=a.attachName||(null!=n?n.attachName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachName",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.attachName||(null!=n?n.attachName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachName",hash:{},data:i}):l))+"</div>\n                                "},31:function(e,n,a,t,i){var l;return'                                        <a class="decoration-none" id="disapprove-unit-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">撤销审核</a>\n'},33:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                        <a class="decoration-none" id="editRecord-reUnit-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">重新编辑</a>\n                                        <a class="decoration-none" id="delete-unit-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">删除</a>\n'},35:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                        <a class="decoration-none" id="editRecord-unit-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">编辑</a>\n                                        <a class="decoration-none" id="delete-unit-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">删除</a>\n                                        <a class="decoration-none" id="approve-unit-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">提交审核</a>\n'},37:function(e,n,a,t,i){return'                            <tr><td colspan="13"><div class="content-empty-side"><div class="img-box"></div><p>暂无内容</p></div></td></tr>\n'},39:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.others:l,{name:"if",hash:{},fn:e.program(40,i,0),inverse:e.noop,data:i}))?l:""},40:function(e,n,a,t,i){var l;return'                    <table class="table m-top-none m-bottom small-font text-center">\n                        <thead>\n                            <tr>\n                                <th style="min-width:12em;">教学教研名称</th>\n                                <th>教学教研类型</th>\n                                <th>活动级别</th>\n                                <th>参与时间</th>\n                                <th>分类</th>\n                                <th>时长(小时)</th>\n                                <th>面向对象</th>\n                                <th>简介</th>\n                                <th style="width:21em;">\n                                    是否通过省级或以上\n                                    <br/>\n                                    人力资源部门认定\n                                </th>\n                                <th>满意度（%）</th>\n                                <th>其他情况说明</th>\n                                <th>状态</th>\n                                <th>操作</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.others:n,{name:"each",hash:{},fn:e.program(41,i,0),inverse:e.program(57,i,0),data:i}))?l:"")+'                        </tbody>\n                        <tr><td colspan="13">\n                            <div class="btn-add-course" id="addRecord-others">\n                                <i class="iconfont icon-add scale-1"></i>\n                                <span class="sub-text">新增记录</span>\n                            </div>\n                        </td></tr>\n                    </table>\n'},41:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                                <tr>\n                                    <td class="nowrap"><div class="text-overflow" title="'+c((s=null!=(s=a.courseName||(null!=n?n.courseName:n))?s:o,typeof s===d?s.call(r,{name:"courseName",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.courseName||(null!=n?n.courseName:n))?s:o,typeof s===d?s.call(r,{name:"courseName",hash:{},data:i}):s))+"</div></td>\n                                    <td>"+c((a.map||n&&n.map||o).call(r,"lecturer-teachingType",null!=n?n.teachingType:n,{name:"map",hash:{},data:i}))+"</td>\n                                    <td>"+c((s=null!=(s=a.activityLevelName||(null!=n?n.activityLevelName:n))?s:o,typeof s===d?s.call(r,{name:"activityLevelName",hash:{},data:i}):s))+"</td>\n                                    <td>\n                                        "+c((a.date||n&&n.date||o).call(r,null!=n?n.startTime:n,{name:"date",hash:{},data:i}))+"\n                                        至\n                                        "+c((a.date||n&&n.date||o).call(r,null!=n?n.endTime:n,{name:"date",hash:{},data:i}))+"\n                                    </td>\n                                    <td>"+c((s=null!=(s=a.courseTypeName||(null!=n?n.courseTypeName:n))?s:o,typeof s===d?s.call(r,{name:"courseTypeName",hash:{},data:i}):s))+"</td>\n                                    <td>"+c((s=null!=(s=a.referenceTime||(null!=n?n.referenceTime:n))?s:o,typeof s===d?s.call(r,{name:"referenceTime",hash:{},data:i}):s))+'</td>\n                                    <td class="nowrap"><div class="text-overflow" title="'+c((s=null!=(s=a.objectOriented||(null!=n?n.objectOriented:n))?s:o,typeof s===d?s.call(r,{name:"objectOriented",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.objectOriented||(null!=n?n.objectOriented:n))?s:o,typeof s===d?s.call(r,{name:"objectOriented",hash:{},data:i}):s))+'</div></td>\n                                    <td class="nowrap"><div class="text-overflow" title="'+c((s=null!=(s=a.description||(null!=n?n.description:n))?s:o,typeof s===d?s.call(r,{name:"description",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.description||(null!=n?n.description:n))?s:o,typeof s===d?s.call(r,{name:"description",hash:{},data:i}):s))+'</div></td>\n                                    <td class="nowrap">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.teachingType:n,"lt",6,{name:"compare",hash:{},fn:e.program(42,i,0),inverse:e.program(47,i,0),data:i}))?l:"")+"                                    </td>\n                                    <td>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.teachingType:n,"lt",5,{name:"compare",hash:{},fn:e.program(49,i,0),inverse:e.program(47,i,0),data:i}))?l:"")+'                                    </td>\n                                    <td class="nowrap"><div class="text-overflow" title="'+c((s=null!=(s=a.otherInstructions||(null!=n?n.otherInstructions:n))?s:o,typeof s===d?s.call(r,{name:"otherInstructions",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.otherInstructions||(null!=n?n.otherInstructions:n))?s:o,typeof s===d?s.call(r,{name:"otherInstructions",hash:{},data:i}):s))+'</div></td>\n                                    <td class="nowrap min">'+c((a.map||n&&n.map||o).call(r,"records-status",null!=n?n.approvalStatus:n,{name:"map",hash:{},data:i}))+"</td>\n                                    <td>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.approvalStatus:n,"eq",0,{name:"compare",hash:{},fn:e.program(51,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.approvalStatus:n,"eq",2,{name:"compare",hash:{},fn:e.program(53,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.approvalStatus:n,"eq",3,{name:"compare",hash:{},fn:e.program(55,i,0),inverse:e.noop,data:i}))?l:"")+"                                    </td>\n                                </tr>\n"},42:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.status:n,"eq",0,{name:"compare",hash:{},fn:e.program(43,i,0),inverse:e.program(45,i,0),data:i}))?l:""},43:function(e,n,a,t,i){return"                                                是\n"},45:function(e,n,a,t,i){return"                                                否\n"},47:function(e,n,a,t,i){return"                                            /\n"},49:function(e,n,a,t,i){var l;return"                                            "+e.escapeExpression((l=null!=(l=a.satisfiedDegree||(null!=n?n.satisfiedDegree:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"satisfiedDegree",hash:{},data:i}):l))+"\n"},51:function(e,n,a,t,i){var l;return'                                            <a class="decoration-none" id="disapprove-others-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">撤销审核</a>\n'},53:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                            <a class="decoration-none" id="editRecord-reOthers-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">重新编辑</a>\n                                            <a class="decoration-none" id="delete-others-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">删除</a>\n'},55:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                            <a class="decoration-none" id="editRecord-others-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">编辑</a>\n                                            <a class="decoration-none" id="delete-others-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">删除</a>\n                                            <a class="decoration-none" id="approve-others-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">提交审核</a>\n'},57:function(e,n,a,t,i){return'                                <tr><td colspan="13"><div class="content-empty-side"><div class="img-box"></div><p>暂无内容</p></div></td></tr>\n'},59:function(e,n,a,t,i){var l;return'    <form class="vertical">\n        <div class="layout-mb">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.field:n,{name:"each",hash:{},fn:e.program(60,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n    </form>\n"},60:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'\n            <div class="tag-btn radius '+d((l=null!=(l=a.checkStyle||(null!=n?n.checkStyle:n))?l:r,typeof l===o?l.call(s,{name:"checkStyle",hash:{},data:i}):l))+'" id="field-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" name="field-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,typeof l===o?l.call(s,{name:"name",hash:{},data:i}):l))+'</div>\n            <input type="hidden" id="hid_'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" name="hid_'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" value="'+d((l=null!=(l=a.checked||(null!=n?n.checked:n))?l:r,typeof l===o?l.call(s,{name:"checked",hash:{},data:i}):l))+'"/>\n        '},62:function(e,n,a,t,i){var l;return'    <form class="vertical m-bottom">\n'+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.type:n,"eq","lecturer",{name:"compare",hash:{},fn:e.program(63,i,0),inverse:e.program(65,i,0),data:i}))?l:"")+"    </form>\n"},63:function(e,n,a,t,i){var l;return'            <textarea class="input w-full" name="text" rows="10" placeholder="请填写讲师简介" x-rule="maxLength:500" maxLength="500">'+e.escapeExpression((l=null!=(l=a.text||(null!=n?n.text:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"text",hash:{},data:i}):l))+'</textarea>\n            <div class="tips text-right small-font sub-text">0/500</div>\n'},65:function(e,n,a,t,i){var l;return'            <textarea class="input w-full" name="text" rows="10" placeholder="请填写授课经历" x-rule="maxLength:200" maxLength="200">'+e.escapeExpression((l=null!=(l=a.text||(null!=n?n.text:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"text",hash:{},data:i}):l))+'</textarea>\n            <div class="tips text-right small-font sub-text">0/200</div>\n'},67:function(e,n,a,t,i){return'    <div class="col-sm-8 margin-auto layout-mb-small">\n        <form class="vertical"><div class="form">\n            <div class="form-row w-full">\n                <label>课程名称</label>\n                <div class="content">\n                    <input class="input" disabled value="哈佛管理导师"/>\n                </div>\n            </div>\n            <div class="form-row w-full">\n                <label>授课单位</label>\n                <div class="content">\n                    <input class="input"/>\n                </div>\n            </div>\n            <div class="form-row w-full">\n                <label>授课日期</label>\n                <div class="content">\n                    <input class="input"/>\n                </div>\n            </div>\n            <div class="form-row w-full">\n                <label>培训班名称</label>\n                <div class="content">\n                    <input class="input"/>\n                </div>\n            </div>\n            <div class="form-row w-full">\n                <label>培训班联系人</label>\n                <div class="content">\n                    <input class="input"/>\n                </div>\n            </div>\n            <div class="form-row w-full">\n                <label>授课时长(H)</label>\n                <div class="content">\n                    <input class="input"/>\n                </div>\n            </div>\n            <div class="form-row w-full">\n                <label>授课对象</label>\n                <div class="content">\n                    <input class="input"/>\n                </div>\n            </div>\n            <div class="form-row w-full">\n                <label>授课人数</label>\n                <div class="content">\n                    <input class="input"/>\n                </div>\n            </div>\n            <div class="form-row w-full">\n                <label>课件</label>\n                <div class="content">\n                    <input class="input"/>\n                </div>\n            </div>\n            <div class="form-row w-full">\n                <label>满意度(%)</label>\n                <div class="content">\n                    <input class="input"/>\n                </div>\n            </div>\n        </div></form>\n    </div>\n'},69:function(e,n,a,t,i){return'    <div class="col-sm-8 margin-auto layout-mb-small">\n        <form class="vertical"><div class="form">\n            <div class="form-row w-full">\n                <label>教学教研名称</label>\n                <div class="content">\n                    <input class="input"/>\n                </div>\n            </div>\n            <div class="form-row w-full">\n                <label>教学教研类型</label>\n                <div class="content">\n                    <input class="input" disabled/>\n                </div>\n            </div>\n            <div class="form-row w-full">\n                <label>活动级别</label>\n                <div class="content">\n                    <input class="input"/>\n                </div>\n            </div>\n            <div class="form-row w-full">\n                <label>参与时间</label>\n                <div class="content">\n                    <input class="input"/>\n                </div>\n            </div>\n            <div class="form-row w-full">\n                <label>满意度(%)</label>\n                <div class="content">\n                    <input class="input"/>\n                </div>\n            </div>\n        </div></form>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"field",{name:"view",hash:{},fn:e.program(59,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"abstract",{name:"view",hash:{},fn:e.program(62,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"unit",{name:"view",hash:{},fn:e.program(67,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"others",{name:"view",hash:{},fn:e.program(69,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/lecturer-new/lecturer/view-abstract",function(e,n,a){var t={lecturer:"编辑讲师简介",experience:"编辑授课经历"};a.type="form",a.title=function(){return t[this.renderOptions.id]},a.buttons=[{text:"确定",fn:function(e){var n=this.renderOptions.id;return!!this.validate()&&this.module.dispatch("save",{text:e.text,type:n})}}],a.dataForTemplate={type:function(){return this.renderOptions.id},attributeId:function(){return this.renderOptions.attributeId},text:function(){return this.renderOptions.text}}},{}),loadjs.d("./app/train/lecturer-new/lecturer/view-field",function(e,n,a){var t,i=e("lodash"),l=e("jquery");a.title="选择领域",
a.bindings={field:!0,labelIds:!0},a.events={"click field-*":"checklabel"},a.handlers={checklabel:function(e,n,a){var s;if(s=i.find(this.bindings.field.data,function(n){return n.id===e}),t&&-1!==t.indexOf(s.id))l(a).toggleClass("active"),t=i.filter(t,function(e){return e!==s.id});else{if(t.length>=5)return this.app.message.error("只能添加5项"),!1;l(a).toggleClass("active"),t.push(s.id)}return!0}},a.dataForTemplate={field:function(){var e=this.renderOptions.ids,n=this.bindings.field;return e&&i.map(n.data||[],function(n){var a=n||{};return-1!==e.indexOf(a.id)&&(a.checked=!0,a.checkStyle="active"),a}),n.data}},a.buttons=[{text:"确定",fn:function(){var e=t.join();return this.module.dispatch("changeField",{ids:e})}}],a.beforeRender=function(){return t=this.renderOptions.ids,!0}},{jquery:!1,lodash:696}),loadjs.d("./app/train/lecturer-new/lecturer/view-main",function(e,n,a){var t=e("lodash");a.bindings={state:!0,lecturer:!0,schools:!0,units:!0,others:!0},a.dataForTemplate={lecturer:function(){var e=this.bindings.lecturer.data;return e.adeptCourseList=t.filter(e.adeptCourseList,"courseName"),e.descriptionList=[],e.lectureExperienceList=[],e.description&&t.map(e.description.split("\r\n")||[],function(n){e.descriptionList.push({value:n})}),e.lectureExperience&&t.map(e.lectureExperience.split("\r\n")||[],function(n){e.lectureExperienceList.push({value:n})}),e.attachmentPath&&""!==e.attachmentPath||(e.attachmentPath=""),e},attributeId:function(){return this.bindings.lecturer.data.attributeId}},a.events={"click tab-*":"toggleTab","click addRecord-*":"addRecord","click abstract-*":"abstract","click editRecord-*":"editRecord","click delete-*":"delete","click approve-*":"approve","click disapprove-*":"disapprove"},a.handlers={toggleTab:function(e){var n=this,a=n.bindings.state;"college"===e?(a.data.college=!0,a.data.unit=!1,a.data.others=!1):"unit"===e?(a.data.college=!1,a.data.unit=!0,a.data.others=!1):(a.data.college=!1,a.data.unit=!1,a.data.others=!0),a.changed()},addRecord:function(e){var n=this,a=this.bindings.lecturer.data,t=this.module.items["train/lecturer-new/lecturer/addRecord"];return this.app.viewport.ground(t,{teachingType:e,attributeId:a.attributeId,lecturer:a,callback:function(){return n.module.dispatch("init",{id:a.id})}})},abstract:function(e){var n="",a=this.bindings.lecturer.data;return n="lecturer"===e?a.description:a.lectureExperience,this.app.viewport.modal(this.module.items.abstract,{id:e,text:n})},editRecord:function(e){var n,a=this,i=this.module.items["train/lecturer-new/lecturer/addRecord"],l=this.bindings.units.data,s=this.bindings.others.data,r=this.bindings.lecturer.data,o=e.indexOf("re")>-1;return n=e.indexOf("unit")>-1?t.filter(l,{id:e.split("unit-")[1]}):e.indexOf("others")>-1?t.filter(s,{id:e.split("others-")[1]}):e.indexOf("reUnit")>-1?t.filter(l,{id:e.split("reUnit-")[1]}):t.filter(s,{id:e.split("reOthers-")[1]}),this.app.viewport.ground(i,{teachingType:e,edit:"edit",record:n,lecturer:r,re:o,callback:function(n){return n.re&&a.module.dispatch("approve",{id:e,lecturerId:r.id}),a.module.dispatch("init",{id:r.id})}})},delete:function(e){var n=this,a=this.module.renderOptions.id;return this.Promise.create(function(t){n.app.message.confirm("确定要删除此条记录吗？",function(){n.module.dispatch("delete",{id:e,lecturerId:a}),t(!0)},function(){t(!1)})})},approve:function(e){var n=this.module.renderOptions.id;return this.module.dispatch("approve",{id:e,lecturerId:n})},disapprove:function(e){var n=this.module.renderOptions.id;return this.module.dispatch("disapprove",{id:e,lecturerId:n})}},a.actions={"click lecturer-field":"editField"},a.actionCallbacks={editField:function(){var e=this.bindings.lecturer.data,n=[];return t.map(e.labelList||[],function(e){var a=e;n.push(a.id)}),this.app.viewport.modal(this.module.items.field,{ids:n})}},a.components=[function(){var e=this.bindings.lecturer.data;return!(!e.attachmentPath||""===e.attachmentPath)&&{id:"player",name:"videojs",options:{video:{autoplay:!1,mType:"video"}}}},function(){var e=this.bindings.lecturer.data;return{id:"headFile",name:"picker",options:{picker:"cropper-lecturer",inputName:"headPortrait",signle_file:!0,width:200,height:200,extensions:"jpg,jpeg,png,bmp,ico",btnName:"更换头像",avatarSize:"1,1",suggestSize:"200*200",defaultImg:e.headPortrait||"./images/default-cover/default_user.png",data:{value:e.headPortrait,lecturerId:e.id}}}}]},{lodash:696}),loadjs.d("./app/train/lecturer-new/lecturer/view-others",function(e,n,a){a.title="其他教学教研记录",a.buttons=[{text:"确定"}]},{}),loadjs.d("./app/train/lecturer-new/lecturer/view-unit",function(e,n,a){a.title="各单位授课记录",a.buttons=[{text:"确定"}]},{}),loadjs.d("./app/train/lecturer-new/student/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.items={search:"search",catalog:"catalog",sorts:"sorts",main:"main",side:"side","train/lecturer-new/course-category":{isModule:!0}},a.store={models:{download:{url:"../file-deal/file/download"},lecturers:{url:"../train/lecturer/stu",type:"pageable",pageSize:10,root:"items"},totalFront:{url:"../course-study/knowledge/totalFront",autoLoad:"after"},goldLecturers:{url:"../train/lecturer/gold-lecturer",autoLoad:"after"},rule:{url:"../system/integral/integral-rule"},professions:{url:"../train/lecturer-course-config/find",mixin:{get:function(e){return t.find(this.data,{id:e})},filterPid:function(e){return t.filter(this.data,function(n){return n.parentId===e})},findLevel:function(e){var n=e||1;return t.filter(this.data,function(e){return e.path.split(",").length-1===n})}}},menu2:{data:[]},labels:{url:"../train/label/hot-student"},attachment:{url:"../human/file"},status:{isSearch:!1},search:{},lecturerNum:{},level:{url:"../train/level/picker"}},callbacks:{init:function(){var e=this.models.search,n=this,a=this.models.professions,t=this.app.global.currentUser.companyOrganization||{},i=this.models.level,l=this.models.rule;return l.params={ruleKey:"lib_upload",organizationId:this.app.global.organization.id},e.set({order:"0"},!0),a.params={companyId:t.id,rootOrganizationId:this.app.global.organization.id},a.params={type:"0"},i.params.operatorType="2",i.params.organizationId="1",this.get(i),this.get(l),this.get(a).then(function(){n.models.menu2.set(n.models.professions.findLevel(2),!0)})},search:function(e){var n=this.models.search;return i.assign(n.data,e),n.changed()},searchData:function(e){var n=this.models.search;return i.assign(n.data,e),n.changed()},searchView:function(e){return this.module.dispatch("searchData",e)},selectMenu1:function(e){var n,a=this.models.menu2;return n=e.id?this.models.professions.filterPid(e.id):this.models.professions.findLevel(2),a.set(n,!0)},searchlecturers:function(e){var n=this.models.lecturers,a=this.models.lecturerNum,t=this.models.status;return n.clear(),n.params=e.params,this.chain(this.get(n,{loading:!0,slient:!0}).then(function(e){a.set({data:e[0].recordCount}),a.changed()}),function(){t.set({isSearch:!1})},function(){n.changed()})},getAttachment:function(e){var n=this.models.attachment;return n.set({id:e.id}),this.get(n)},changeLabels:function(){var e=this.models.labels;return e.clear(),e.params.limit=50,this.get(e)}}},a.afterRender=function(){return this.dispatch("init")}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/lecturer-new/student/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="search"></div>\n    <div class="page-main-wrapper knowledge-side container layout-mt-small">\n        <div class="page-side lecturer" data-region="side"></div>\n        <div class="page-main">\n            <div class="page-catalog course-catalog" data-region="catalog"></div>\n            <div class="course-list" data-region="sorts"></div>\n            <div data-region="main"></div>\n        </div>\n    </div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="bg-highlight overflow"><div class="lecturer-new container">\n        <form class="form col layout-mt" id="search-view">\n            <div class="clearfix">\n                <div class="form-row w-full">\n                    <div class="pull-left text-right left col-sm-1"><label class="large">讲师姓名</label></div>\n                    <div class="content right col-sm-3">\n                        <input class="input radius large" name="name"/>\n                    </div>\n                    <div class="pull-left text-right left col-sm-1"><label class="large">讲师分类</label></div>\n                    <div class="content right col-sm-3">\n                        <select id="types" class="input radius large grey" name="type">'+(null!=(l=a.each.call(s,null!=n?n.types:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'</select>\n                    </div>\n                    <div class="pull-left text-right left col-sm-1"><label class="large">课程名称</label></div>\n                    <div class="content right col-sm-3">\n                        <input class="input radius large" name="courseName"/>\n                    </div>\n                </div>\n                <div class="form-row w-full">\n                    <div class="pull-left text-right left col-sm-1"><label class="large">讲师单位</label></div>\n                    <div class="content right col-sm-3">\n                        <input class="input radius large" name="unit"/>\n                    </div>\n                    <div class="pull-left text-right left col-sm-1"><label class="large">讲师属性</label></div>\n                    <div class="content right col-sm-3">\n                        <div id="lecturer-attribute" name="attributeId"></div>\n                    </div>\n                    <div class="pull-left text-right left col-sm-1"><label class="large">讲师级别</label></div>\n                    <div class="content right col-sm-3">\n                        <select id="level" class="input radius large grey" name="levelId">'+(null!=(l=a.each.call(s,null!=n?n.level:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'</select>\n                    </div>\n                </div>\n                <div class="form-row w-full">\n                    <div class="pull-left text-right left col-sm-1"><label class="large">专业领域</label></div>\n                    <div class="content right col-sm-3">\n                        <input class="input radius large" name="labelName"/>\n                    </div>\n                    <div class="pull-left text-right left col-sm-1"><label class="large">课程分类</label></div>\n                    <div class="content right col-sm-3"><div id="categoryId">选择</div></div>\n                </div>\n                <div class="text-center"><div id="search" class="btn layout-mb-small">搜索</div></div>\n            </div>\n        </form>\n    </div></div>\n'},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'\n                            <option value="'+o((l=null!=(l=a.key||(null!=n?n.key:n))?l:r,"function"==typeof l?l.call(s,{name:"key",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.value||(null!=n?n.value:n))?l:r,"function"==typeof l?l.call(s,{name:"value",hash:{},data:i}):l))+"</option>\n                        "},6:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <section class="section">\n        <div class="h3 m-bottom">热门领域</div>\n        <div class="side-box tag-group">\n'+(null!=(l=a.each.call(s,null!=n?n.labels:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+'        </div>\n    </section>\n    <div class="layout-mt">\n        <div class="h3 m-bottom">金牌讲师</div>\n'+(null!=(l=a.if.call(s,null!=n?n.goldLecturers:n,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+"    </div>\n"},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="tag-btn radius '+(null!=(l=a.if.call(r,null!=n?n.active:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'" id="label-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</div>\n"},8:function(e,n,a,t,i){return"active"},10:function(e,n,a,t,i){return'                <div class="content-empty-side"><div class="img-box"></div><p>暂无热门标签</p></div>\n'},12:function(e,n,a,t,i){var l;return'            <div class="charts knowledge-talent">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.goldLecturers:n,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n"},13:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'\n                <div class="clearfix charts-list"><a class="normal" href="#/train/lecturer-new/viewLecturer/'+d((l=null!=(l=a.type||(null!=n?n.type:n))?l:r,typeof l===o?l.call(s,{name:"type",hash:{},data:i}):l))+"/"+d((l=null!=(l=a.attributeId||(null!=n?n.attributeId:n))?l:r,typeof l===o?l.call(s,{name:"attributeId",hash:{},data:i}):l))+"/"+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" target="_blank">\n                    <div class="pull-left charts-img"><img src="'+d((l=null!=(l=a.coverPath||(null!=n?n.coverPath:n))?l:r,typeof l===o?l.call(s,{name:"coverPath",hash:{},data:i}):l))+'"/></div>\n                    <div class="pull-right">\n                        <b>'+d((l=null!=(l=a.lectureNumber||(null!=n?n.lectureNumber:n))?l:r,typeof l===o?l.call(s,{name:"lectureNumber",hash:{},data:i}):l))+'</b>\n                        条\n                    </div>\n                    <div class="overflow charts-user">\n                        '+d((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,typeof l===o?l.call(s,{name:"name",hash:{},data:i}):l))+'\n                        <br/>\n                        <div class="text-tips text-overflow">'+d((l=null!=(l=a.attribute||(null!=n?n.attribute:n))?l:r,typeof l===o?l.call(s,{name:"attribute",hash:{},data:i}):l))+"</div>\n                    </div>\n                </a></div>\n            "},15:function(e,n,a,t,i){return'            <div class="content-empty-side"><div class="img-box"></div><p>暂无金牌讲师</p></div>\n'},17:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <ul class="list">\n        <li><b class="sub-text">讲师专业条线：</b></li>\n'+(null!=(l=a.each.call(s,null!=n?n.menus:n,{name:"each",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+'    </ul>\n    <div class="course-menu-child">\n        <div class="item"><b class="sub-text">讲师专业序列：</b></div>\n        <div class="overflow">'+(null!=(l=a.each.call(s,null!=n?n.menu2:n,{name:"each",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n    </div>\n"},18:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"            <li "+(null!=(l=a.if.call(r,null!=n?n.active:n,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+' id="item-1-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"><div class="course-menu">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</div></li>\n"},19:function(e,n,a,t,i){return' class="active"'},21:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n            <div class="item '+(null!=(l=a.if.call(r,null!=n?n.active:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'" id="item-2-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</div>\n        "},23:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'    <div class="main-list"><div class="filter">\n        <div class="pull-left row">\n            <span style="padding-left:10px;">共有讲师</span>\n            <span class="h2 strong">'+e.escapeExpression((s=null!=(s=a.lecturerNum||(null!=n?n.lecturerNum:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"lecturerNum",hash:{},data:i}):s))+'</span>\n            位\n        </div>\n        <div class="pull-right">\n            <div id="sort-0" class="item '+(null!=(l=a.if.call(r,null!=(l=null!=n?n.sortStatus:n)?l.sort0:l,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'"><span>最新</span></div>\n            <div id="sort-1" class="item '+(null!=(l=a.if.call(r,null!=(l=null!=n?n.sortStatus:n)?l.sort1:l,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'"><span>最热</span></div>\n            <div id="sort-2" class="item '+(null!=(l=a.if.call(r,null!=(l=null!=n?n.sortStatus:n)?l.sort2:l,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'"><span>最赞</span></div>\n        </div>\n    </div></div>\n'},25:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.lecturers:n,{name:"if",hash:{},fn:e.program(26,i,0),inverse:e.program(42,i,0),data:i}))?l:""},26:function(e,n,a,t,i){var l;return'        <ul class="knowledge-list lecturer">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.lecturers:n,{name:"each",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")+'</ul>\n        <div id="pager" class="pagination"></div>\n'},27:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'\n            <li><a class="normal block" href="#/train/lecturer-new/viewLecturer/'+c((s=null!=(s=a.type||(null!=n?n.type:n))?s:o,typeof s===d?s.call(r,{name:"type",hash:{},data:i}):s))+"/"+c((s=null!=(s=a.attributeId||(null!=n?n.attributeId:n))?s:o,typeof s===d?s.call(r,{name:"attributeId",hash:{},data:i}):s))+"/"+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" target="_blank">\n                <img class="pull-left m-right" width="40" src="'+c((s=null!=(s=a.coverPath||(null!=n?n.coverPath:n))?s:o,typeof s===d?s.call(r,{name:"coverPath",hash:{},data:i}):s))+'"/>\n                <div class="knowledge-tit-con padding-none">\n                    <div class="clearfix tit-line">\n                        <span class="h4">'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'</span>\n                        <div class="star-wrapper pull-right">\n'+(null!=(l=a.if.call(r,null!=n?n.thumbsUpNumber:n,{name:"if",hash:{},fn:e.program(28,i,0),inverse:e.program(30,i,0),data:i}))?l:"")+'                        </div>\n                    </div>\n                    <div class="sub-text small-font">\n                        <div>\n'+(null!=(l=a.if.call(r,null!=n?n.adeptCourseList:n,{name:"if",hash:{},fn:e.program(32,i,0),inverse:e.noop,data:i}))?l:"")+'                        </div>\n                        <div>\n                            <span class="mr-1">\n                                讲师分类:\n                                '+c((a.map||n&&n.map||o).call(r,"lecturer-types",null!=n?n.type:n,{name:"map",hash:{},data:i}))+'\n                            </span>\n                            <span class="mr-1">\n                                讲师单位:\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.type:n,"eq",0,{name:"compare",hash:{},fn:e.program(35,i,0),inverse:e.program(37,i,0),data:i}))?l:"")+'                            </span>\n                            <span class="mr-1">\n                                专业条线及序列:\n                                '+c((s=null!=(s=a.parentName||(null!=n?n.parentName:n))?s:o,typeof s===d?s.call(r,{name:"parentName",hash:{},data:i}):s))+"-"+c((s=null!=(s=a.sequenceName||(null!=n?n.sequenceName:n))?s:o,typeof s===d?s.call(r,{name:"sequenceName",hash:{},data:i}):s))+"\n                            </span>\n                            <span>\n                                浏览数:\n                                "+c((s=null!=(s=a.browseNumber||(null!=n?n.browseNumber:n))?s:o,typeof s===d?s.call(r,{name:"browseNumber",hash:{},data:i}):s))+"\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </a></li>\n        "},28:function(e,n,a,t,i){var l;return'                                <i class="iconfont icon-zan-full num custom-color-3"></i>\n                                <div class="num m-left-none custom-color-3">\n                                    已赞\n                                    (\n                                    '+e.escapeExpression((l=null!=(l=a.thumbsUpNumber||(null!=n?n.thumbsUpNumber:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"thumbsUpNumber",hash:{},data:i}):l))+"\n                                    )\n                                </div>\n"},30:function(e,n,a,t,i){return'                                <i class="iconfont icon-zan num"></i>\n                                <div class="num m-left-none">\n                                    赞\n                                    (0)\n                                </div>\n'},32:function(e,n,a,t,i){var l;return'                                <span class="mr-1">\n                                    擅长课程\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.adeptCourseList:n,{name:"each",hash:{},fn:e.program(33,i,0),inverse:e.noop,data:i}))?l:"")+"                                </span>\n"},33:function(e,n,a,t,i){var l;return"                                        《"+e.escapeExpression((l=null!=(l=a.courseName||(null!=n?n.courseName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"courseName",hash:{},data:i}):l))+"》\n"},35:function(e,n,a,t,i){var l;return"                                    "+e.escapeExpression((l=null!=(l=a.unit||(null!=n?n.unit:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"unit",hash:{},data:i}):l))+"\n"},37:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.attributeId:n,"eq","4",{name:"compare",hash:{},fn:e.program(38,i,0),inverse:e.program(40,i,0),data:i}))?l:""},38:function(e,n,a,t,i){var l;return"                                        "+e.escapeExpression((l=null!=(l=a.unit||(null!=n?n.unit:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"unit",hash:{},data:i}):l))+"\n"},40:function(e,n,a,t,i){var l;return"                                        "+e.escapeExpression((l=null!=(l=a.institutions||(null!=n?n.institutions:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"institutions",hash:{},data:i}):l))+"\n"},42:function(e,n,a,t,i){return'        <div class="content-empty">\n            <div class="img-box img-type-1"></div><p>暂无讲师</p>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"catalog",{name:"view",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"sorts",{name:"view",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/lecturer-new/student/view-catalog",function(e,n,a){a.bindings={professions:!0,search:!0,menu2:!0},a.events={"click item-1-*":"selectMenu1","click item-2-*":"selectMenu2"},a.handlers={selectMenu2:function(e){this.module.dispatch("search",{menu2:e})},selectMenu1:function(e){return this.chain([this.module.dispatch("selectMenu1",{id:e}),this.module.dispatch("search",{menu1:e,menu2:null})])}},a.dataForTemplate={menus:function(e){var n=e.search.menu1||"",a=this.bindings.professions.findLevel(1);return a.unshift({name:"全部",id:""}),a.forEach(function(e){var a=e||{};delete a.active,n===a.id&&(a.active=!0)}),a},menus2:function(e){var n=e.search.menu2,a=e.menu2;return a.forEach(function(e){var a=e||{};delete a.active,n===a.id&&(a.active=!0)}),a}}},{}),loadjs.d("./app/train/lecturer-new/student/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.bindings={lecturers:!0,search:"changeSearch",status:!1},a.changeSearch=function(){var e=i.assign({},this.bindings.search.data);e.parentId=e.menu1,e.sequenceId=e.menu2,e.labelIds&&(e.labels=e.labelIds.join(),delete e.labelIds),this.module.dispatch("searchlecturers",{params:e})},a.components=[{id:"pager",name:"pager",options:{model:"lecturers"}}],a.dataForTemplate={noDate:function(e){return!1===e.status.isSearch&&0===e.lecturers.length},lecturers:function(){var e=this.bindings.lecturers.data;return t.map(e,function(e){var n=e;return n.adeptCourses,n.browseNumber=n.browseNumber||0,n.adeptCourseList=t.filter(n.adeptCourseList,"courseName"),n.coverPath=n.coverPath?"/"+n.coverPath:"images/default-cover/default_user.png",n}),e}},a.events={"click details-*":"detail"},a.handlers={detail:function(e,n){var a=e.split(",");return 2!==a.length?(this.app.message.error("知识参数有误"),n.preventDefault(),!1):(this.module.dispatch("getAttachment",{id:a[1]}).then(function(e){var a=e[0];if(-1!=={1:["xls","xlsx","doc","docx","ppt","pptx","txt"]}[1].indexOf(a.extention)){if(2===a.translateFlag)return this.app.message.error("文档转换失败，请重新上传"),n.preventDefault(),!1;if(1!==a.translateFlag)return this.app.message.error("文档正在转换中，请稍后预览"),n.preventDefault(),!1}return!0}),!0)}}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/lecturer-new/student/view-search",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash");a.type="form",a.bindings={level:!0},a.events={"change types":"types"},a.handlers={types:function(e){var n=this,a=Number(e.target.value);return n.components["lecturer-attribute"].reset({type:a})}},a.actions={"click search":"searchData","keypress search-view":"searchView"},a.dataForActions={searchData:function(e){var n=e;return n.courseType=n.sequence||"",n},searchView:function(e,n){var a=e;return 13===n.keyCode&&(a.courseType=a.sequence||"",a)}},a.dataForTemplate={types:function(){var e=t.get("lecturer-types").sort(function(e,n){return Number(e.key)-Number(n.key)});return e.unshift({key:"",value:"全部"}),e},level:function(e){var n=[];return i.map(e.level||[],function(e){n.push({key:e.id,value:e.name})}),n.unshift({key:"",value:"全部"}),n}},a.components=[function(){return{id:"lecturer-attribute",name:"picker",data:{type:999},options:{picker:"lecturer-attribute",inputName:"attributeId"}}},function(){return{id:"categoryId",name:"picker",options:{picker:"lecturer-course-category",inputName:"sequence",large:!0,searchType:"knowledge",data:{id:"",name:""}}}}]},{"./app/util/maps":"./app/util/maps",lodash:696}),loadjs.d("./app/train/lecturer-new/student/view-side",function(e,n,a){var t=e("lodash/collection");a.bindings={totalFront:!0,goldLecturers:!0,download:!1,search:"changeLabels",labels:!0,rule:!0},a.changeLabels=function(){return this.module.dispatch("changeLabels")},a.events={"click label-*":"searchlabel"},a.handlers={searchlabel:function(e){var n=this.bindings.search.data.labelIds||[];return-1!==n.indexOf(e)?n=t.filter(n,function(n){return n!==e}):n.push(e),this.module.dispatch("search",{labelIds:n})}},a.dataForTemplate={goldLecturers:function(e){return t.map(e.goldLecturers,function(e){var n=e||{},a="images/default-cover/default_user.png";return n.coverPath&&(a="/"+n.coverPath),n.coverPath=a,n})},labels:function(e){var n=e.search.labelIds;return n?(e.labels.forEach(function(e){var a=e||{};-1!==n.indexOf(a.id)&&(a.active=!0)}),e.labels):e.labels}}},{"lodash/collection":!1}),loadjs.d("./app/train/lecturer-new/student/view-sorts",function(e,n,a){a.bindings={search:!0,lecturerNum:!0},a.events={"click sort-*":"sort","click type-*":"searchType"},a.handlers={sort:function(e){return this.module.dispatch("search",{order:e})},searchType:function(e){return this.module.dispatch("search",{type:e})}},a.dataForTemplate={types:function(e){var n=[{text:"全部",value:""},{text:"Word",value:"2"},{text:"Excel",value:"4"},{text:"PPT",value:"5"},{text:"PDF",value:"3"},{text:"MP3",value:"1"},{text:"MP4",value:"0"},{text:"其他",value:"8"}],a=e.search.type||"";return n.forEach(function(e){var n=e||{};e.value===a&&(n.active=!0)}),n},sortStatus:function(e){var n=e.search.order;return{sort0:"0"===n,sort1:"1"===n,sort2:"2"===n}},lecturerNum:function(e){return e.lecturerNum.data}}},{}),loadjs.d("./app/train/lecturer-new/viewLecturer/index",function(e,n,a){a.items={main:"main"},a.store={models:{state:{data:{college:!0,unit:!1,others:!1}},lecturer:{url:"../train/lecturer/teacher"},viewNum:{url:"../train/lecturer/browse"},favorite:{url:"../train/lecturer-thumbs"}},callbacks:{init:function(e){var n=this.models.lecturer,a=this.models.viewNum;return a.clear(),n.clear(),a.set({id:e.id}),n.set({id:e.id}),this.get(a),this.get(n)},favorite:function(e){var n=this,a=this.models.favorite;return a.clear(),a.set({id:e.id}),e.thumbsUp?(this.del(a).then(function(){n.module.dispatch("init",{id:e.id})}),!1):this.post(a).then(function(){n.module.dispatch("init",{id:e.id})})}}},a.beforeRender=function(){var e=this.renderOptions;return this.dispatch("init",e)}},{}),loadjs.d("./app/train/lecturer-new/viewLecturer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div data-region="main"></div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div class="person-page"><div class="container">\n        <div class="container"><div class="clearfix mb-1 layout-mt-small">\n            <div class="person-top"><div class="clearfix mb-1">\n                <div class="user-pic big">\n                    <img src="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.coverPath:l,n))+'" style="width:200px;height:200px;"/>\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.lecturer:n)?l.thumbsUp:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'                </div>\n                <div class="user-base-info overflow column">\n                    <div class="clearfix mb-1">\n                        <div class="pull-left col-sm-6"><div class="column-item para m-top-none">\n                            <div class="inline-block">讲师姓名：</div>\n                            <div class="inline-block col-sm-9 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.name:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.name:l,n))+'</div>\n                        </div></div>\n                        <div class="pull-left col-sm-6"><div class="column-item para m-top-none">\n                            <div class="inline-block">讲师属性：</div>\n                            <div class="inline-block col-sm-9 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.attribute:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.attribute:l,n))+"</div>\n                        </div></div>\n                    </div>\n"+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=n?n.type:n,"eq","0",{name:"compare",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=n?n.type:n,"eq","1",{name:"compare",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i
}))?l:"")+'                    <div class="clearfix mb-1">\n                        <div class="pull-left col-sm-12"><div class="column-item para pull">\n                            <div class="pull-left" style="width:105px;">讲师专业领域：</div>\n                            <div class="overflow">'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.lecturer:n)?l.labelList:l,{name:"each",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+'</div>\n                        </div></div>\n                    </div>\n                    <div class="clearfix mb-1">\n                        <div class="pull-left col-sm-12"><div class="column-item para pull">\n                            <div class="pull-left">讲师简介：</div>\n                            <div class="overflow">\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.lecturer:n)?l.descriptionList:l,{name:"each",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+'                            </div>\n                        </div></div>\n                    </div>\n                    <div class="clearfix">\n'+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.lecturer:n)?l.attachmentPath:l,"ne",null,{name:"compare",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.lecturer:n)?l.attachmentPath:l,"eq",null,{name:"compare",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")+'                    </div>\n                    <div class="clearfix mb-1">\n                        <div class="pull-left col-sm-12"><div class="column-item para pull">\n                            <div class="pull-left">授课经历：</div>\n                            <div class="overflow">\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.lecturer:n)?l.lectureExperienceList:l,{name:"each",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+'                            </div>\n                        </div></div>\n                    </div>\n                    <div class="clearfix mb-1">\n                        <div class="pull-left col-sm-12"><div class="column-item para pull">\n                            <div class="pull-left">擅长课程：</div>\n                            <div class="overflow">'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.lecturer:n)?l.adeptCourseList:l,{name:"each",hash:{},fn:e.program(26,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n                        </div></div>\n                    </div>\n                </div>\n            </div></div>\n            \x3c!-- .tabs-block.fix-width.layout-mt-small --\x3e\n            \x3c!--     ul.bot-none --\x3e\n            \x3c!--         li#tab-college(class='active')&if(state.college) 学院授课记录 --\x3e\n            \x3c!--         li#tab-unit(class='active')&if(state.unit) 各单位授课记录 --\x3e\n            \x3c!--         li#tab-others(class='active')&if(state.others) 其他教学教研记录 --\x3e\n            \x3c!-- .w-full.overflow-x-auto.nowrap --\x3e\n            \x3c!--     if(state.college) --\x3e\n            \x3c!--         table.table.m-top-none.m-bottom.small-font(border='1') --\x3e\n            \x3c!--             tr --\x3e\n            \x3c!--                 th.strong 课程名称 --\x3e\n            \x3c!--                 th.strong 主办部门（单位） --\x3e\n            \x3c!--                 th.strong 授课日期 --\x3e\n            \x3c!--                 th.strong 培训班名称 --\x3e\n            \x3c!--                 th.strong 授课时长（H） --\x3e\n            \x3c!--                 th.strong 授课对象 --\x3e\n            \x3c!--                 th.strong 授课人数 --\x3e\n            \x3c!--                 th.strong 满意度（%) --\x3e\n            \x3c!--             tr --\x3e\n            \x3c!--                 td.nowrap > .text-overflow(title='以客户为中心-哈佛管理导师') 以客户为中心-哈佛管理导师 --\x3e\n            \x3c!--                 td 北京移动 --\x3e\n            \x3c!--                 td 2018-08-04 --\x3e\n            \x3c!--                 td.nowrap > .text-overflow(title='2018年第三季高管班') 2018年第三季高管班 --\x3e\n            \x3c!--                 td 2.5 --\x3e\n            \x3c!--                 td 全体学员 --\x3e\n            \x3c!--                 td 80 --\x3e\n            \x3c!--                 td 90 --\x3e\n            \x3c!--     if(state.unit) --\x3e\n            \x3c!--         table.table.m-top-none.m-bottom.small-font(border='1') --\x3e\n            \x3c!--             tr --\x3e\n            \x3c!--                 th.strong 课程名称 --\x3e\n            \x3c!--                 th.strong 授课单位 --\x3e\n            \x3c!--                 th.strong 授课日期 --\x3e\n            \x3c!--                 th.strong 培训班名称 --\x3e\n            \x3c!--                 th.strong 授课时长（H） --\x3e\n            \x3c!--                 th.strong 授课对象 --\x3e\n            \x3c!--                 th.strong 授课人数 --\x3e\n            \x3c!--                 th.strong 满意度（%) --\x3e\n            \x3c!--                 th.strong 满意度评价 --\x3e\n            \x3c!--             tr --\x3e\n            \x3c!--                 td.nowrap > .text-overflow(title='以客户为中心-哈佛管理导师') 以客户为中心-哈佛管理导师 --\x3e\n            \x3c!--                 td 北京移动 --\x3e\n            \x3c!--                 td 2018-08-04 --\x3e\n            \x3c!--                 td.nowrap > .text-overflow(title='2018年第三季高管班') 2018年第三季高管班 --\x3e\n            \x3c!--                 td 2.5 --\x3e\n            \x3c!--                 td 全体学员 --\x3e\n            \x3c!--                 td 80 --\x3e\n            \x3c!--                 td 90 --\x3e\n            \x3c!--                 td.nowrap > .text-overflow(title='XXXXXXXXXXXXX') XXXXXXXXXXXXX --\x3e\n            \x3c!--     if(state.others) --\x3e\n            \x3c!--         .col-sm-9 > table.table.m-top-none.m-bottom.small-font(border='1') --\x3e\n            \x3c!--             tr --\x3e\n            \x3c!--                 th.strong.nowrap > .text-overflow(title='教学教研名称') 教学教研名称 --\x3e\n            \x3c!--                 th.strong 教学教研类型 --\x3e\n            \x3c!--                 th.strong 活动级别 --\x3e\n            \x3c!--                 th.strong 参与时间 --\x3e\n            \x3c!--             tr --\x3e\n            \x3c!--                 td XXXXXXXXXXXXX --\x3e\n            \x3c!--                 td 面授课程开发 --\x3e\n            \x3c!--                 td 集团级 --\x3e\n            \x3c!--                 td 2018-08-01至2018-08-05 --\x3e\n        </div></div>\n    </div></div>\n"},4:function(e,n,a,t,i){return'                        <div class="btn white" id="favorite" style="width:200px;">\n                            取消点赞\n                            <i class="iconfont icon-favorite-full custom-color-3"></i>\n                        </div>\n'},6:function(e,n,a,t,i){return'                        <div class="btn white" id="favorite" style="width:200px;">\n                            为TA点赞\n                            <i class="iconfont icon-favorite"></i>\n                        </div>\n'},8:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                        <div class="clearfix mb-1">\n                            <div class="pull-left col-sm-6"><div class="column-item para">\n                                <div class="inline-block">讲师级别：</div>\n'+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.attributeId:n,"eq","2",{name:"compare",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+'                            </div></div>\n                            <div class="pull-left col-sm-6"><div class="column-item para">\n                                <div class="inline-block">讲师单位：</div>\n                                <div class="inline-block col-sm-9 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.unit:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.unit:l,n))+'</div>\n                            </div></div>\n                        </div>\n                        <div class="clearfix mb-1">\n                            <div class="pull-left col-sm-6"><div class="column-item para">\n                                <div class="inline-block">讲师部门：</div>\n                                <div class="inline-block col-sm-9 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.organizationName:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.organizationName:l,n))+'</div>\n                            </div></div>\n                            <div class="pull-left col-sm-6"><div class="column-item para">\n                                <div class="inline-block">讲师职务：</div>\n                                <div class="inline-block col-sm-9 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.jobName:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.jobName:l,n))+'</div>\n                            </div></div>\n                        </div>\n                        <div class="clearfix mb-1">\n                            <div class="pull-left col-sm-12"><div class="column-item para">\n                                <div class="inline-block">讲师专业条线及序列：</div>\n                                <div class="inline-block">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.parentName:l,n))+"-"+r(s(null!=(l=null!=n?n.lecturer:n)?l.sequenceName:l,n))+"</div>\n                            </div></div>\n                        </div>\n"},9:function(e,n,a,t,i){return'                                    <div class="inline-block">-</div>\n'},11:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                                    <div class="inline-block col-sm-9 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.levelName:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.levelName:l,n))+"</div>\n"},13:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                        <div class="clearfix mb-1">\n                            <div class="pull-left col-sm-6"><div class="column-item para">\n'+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.attributeId:n,"eq","4",{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.program(16,i,0),data:i}))?l:"")+'                            </div></div>\n                            <div class="pull-left col-sm-6"><div class="column-item para">\n                                <div class="inline-block">讲师专业条线及序列：</div>\n                                <div class="inline-block col-sm-8 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.parentName:l,n))+"-"+r(s(null!=(l=null!=n?n.lecturer:n)?l.sequenceName:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.parentName:l,n))+"-"+r(s(null!=(l=null!=n?n.lecturer:n)?l.sequenceName:l,n))+"</div>\n                            </div></div>\n                        </div>\n"},14:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                                    <div class="inline-block">讲师单位：</div>\n                                    <div class="inline-block col-sm-9 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.unit:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.unit:l,n))+"</div>\n"},16:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                                    <div class="inline-block">培训机构：</div>\n                                    <div class="inline-block col-sm-9 text-overflow" title="'+r(s(null!=(l=null!=n?n.lecturer:n)?l.institutions:l,n))+'">'+r(s(null!=(l=null!=n?n.lecturer:n)?l.institutions:l,n))+"</div>\n"},18:function(e,n,a,t,i){var l;return'\n                                <div class="tag-btn">'+e.escapeExpression((l=null!=(l=a.name||(null!=n?n.name:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"name",hash:{},data:i}):l))+"</div>\n                            "},20:function(e,n,a,t,i){var l;return"                                    "+e.escapeExpression((l=null!=(l=a.value||(null!=n?n.value:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"value",hash:{},data:i}):l))+"\n                                    <br/>\n"},22:function(e,n,a,t,i){var l;return'                            <div class="col-sm-12"><div class="column-item para pull">\n                                <div class="pull-left">讲师视频：</div>\n                                <div class="overflow">\n                                    <video id="player" class="fullScreen-content video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand vjs-error-display" preload="auto">\n                                        <source src="/'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.lecturer:n)?l.attachmentPath:l,n))+'" type="video/mp4"/>\n                                    </video>\n                                </div>\n                            </div></div>\n'},24:function(e,n,a,t,i){return'                            <div class="pull-left col-sm-12"><div class="column-item para pull">\n                                <div class="pull-left">讲师视频：</div>\n                                <div class="overflow col-sm-12">\n                                    无\n                                </div>\n                            </div></div>\n'},26:function(e,n,a,t,i){var l;return"\n                                《"+e.escapeExpression((l=null!=(l=a.courseName||(null!=n?n.courseName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"courseName",hash:{},data:i}):l))+"》\n                            "},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/lecturer-new/viewLecturer/view-main",function(e,n,a){var t=e("lodash");a.bindings={state:!0,lecturer:!0},a.events={"click tab-*":"toggleTab","click favorite":"favorite"},a.handlers={toggleTab:function(e){var n=this,a=n.bindings.state;"college"===e?(a.data.college=!0,a.data.unit=!1,a.data.others=!1):"unit"===e?(a.data.college=!1,a.data.unit=!0,a.data.others=!1):(a.data.college=!1,a.data.unit=!1,a.data.others=!0),a.changed()},favorite:function(){var e=this.bindings.lecturer.data,n=e.thumbsUp,a=e.id;return this.module.dispatch("favorite",{thumbsUp:n,id:a})}},a.dataForTemplate={lecturer:function(){var e=this.bindings.lecturer.data;return e.coverPath=e.coverPath||"images/default-cover/default_user.png",e.adeptCourseList=t.filter(e.adeptCourseList,"courseName"),e.descriptionList=[],e.lectureExperienceList=[],e.description&&t.map(e.description.split("\r\n")||[],function(n){e.descriptionList.push({value:n})}),e.lectureExperience&&t.map(e.lectureExperience.split("\r\n")||[],function(n){e.lectureExperienceList.push({value:n})}),e},type:function(){return this.module.renderOptions.type},attributeId:function(){return this.module.renderOptions.attributeId}},a.components=[function(){var e=this.bindings.lecturer.data;return!(!e.attachmentPath||""===e.attachmentPath)&&{id:"player",name:"videojs",options:{video:{autoplay:!1,mType:"video"}}}}]},{lodash:696}),loadjs.d("./app/train/lecturer/editsummary/index",function(e,n,a){a.items={editsummary:"editsummary"},a.store={models:{state:{data:{}},lecturer:{url:"../train/lecturer"}},callbacks:{init:function(e){var n=this.models.state;n.data=e.lecturer,n.changed()},updateIntroduce:function(e){var n=this.models.lecturer,a={},t=this;a=this.models.state.data,a.description=e.description,n.set(a),this.save(n).then(function(){t.app.message.success("修改成功"),t.module.module.dispatch("init")})}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)},a.title="编辑讲师简介",a.buttons=[{text:"确定",fn:function(e){return this.dispatch("updateIntroduce",e)}}]},{}),loadjs.d("./app/train/lecturer/editsummary/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="editsummary-page">\n    <div class="editsummary" data-region="editsummary"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <form class="container"><textarea class="w-full" rows="10" name="description" placeholder="请填写讲师简介" maxlength="1000">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.description:l,n))+"</textarea></form>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"editsummary",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/lecturer/editsummary/view-editsummary",function(e,n,a){a.bindings={state:!0},a.dataForTemplate={state:function(e){return e.state}}},{}),loadjs.d("./app/train/lecturer/history/index",function(e,n,a){a.items={main:"main"},a.store={models:{list:{url:"../report/history/teach-record",type:"pageable",root:"items"},lecturer:{url:"../train/lecturer/find-lecturer/member"}},callbacks:{init:function(){var e=this.models.list,n=this.models.lecturer,a=this;return e.clear(),n.clear(),a.get(n).then(function(n){e.params={teacherId:n[0].id},a.get(e)})}}},a.beforeRender=function(){this.dispatch("init")}},{}),loadjs.d("./app/train/lecturer/history/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'\t<div class="person-page">\n\t\t<div class="person-main" data-region="main"></div>\n\t</div>\n'},3:function(e,n,a,t,i){var l;return'\t<div class="list">\n\t\t<table class="table">\n\t\t\t<thead><tr>\n\t\t\t\t<th>序号</th>\n\t\t\t\t<th>班级名称</th>\n\t\t\t\t<th>课程名称</th>\n\t\t\t\t<th>授课日期</th>\n\t\t\t\t<th>授课时长(小时)</th>\n\t\t\t\t<th>课程满意度</th>\n\t\t\t</tr></thead>\n\t\t\t<tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.list:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'</tbody>\n\t\t</table>\n\t</div>\n\t<div id="pager" class="pagination"></div>\n'},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"<tr>\n\t\t\t\t<td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n\t\t\t\t<td>"+d((s=null!=(s=a.className||(null!=n?n.className:n))?s:o,"function"==typeof s?s.call(r,{name:"className",hash:{},data:i}):s))+"</td>\n\t\t\t\t<td>"+d((s=null!=(s=a.courseName||(null!=n?n.courseName:n))?s:o,"function"==typeof s?s.call(r,{name:"courseName",hash:{},data:i}):s))+"</td>\n\t\t\t\t<td>"+d((a.date||n&&n.date||o).call(r,null!=n?n.startTime:n,{name:"date",hash:{},data:i}))+"</td>\n\t\t\t\t<td>—</td>\n\t\t\t\t<td>\n"+(null!=(l=a.if.call(r,null!=n?n.teacherEvaluate:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")},5:function(e,n,a,t,i){var l;return"\t\t\t\t\t\t"+e.escapeExpression((l=null!=(l=a.teacherEvaluate||(null!=n?n.teacherEvaluate:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"teacherEvaluate",hash:{},data:i}):l))+"\n"},7:function(e,n,a,t,i){return"\t\t\t\t\t\t—\n"},9:function(e,n,a,t,i){return'\t\t\t\t\t<tr><td colspan="10"><div class="text-center">\n\t\t\t\t\t\t<img src="../images/sys-tip/empty.png" width="150" height="150"/>\n\t\t\t\t\t\t<p>暂无内容</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t</td></tr>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/lecturer/history/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={list:!0,lecturer:!0},a.components=[{id:"pager",name:"pager",options:{model:"list"}}],a.dataForTemplate={list:function(e){var n=this.bindings.list.getPageInfo().page;return t.map(e.list||[],function(e,a){e.i=a+1+10*(n-1)}),e.list}}},{"lodash/collection":!1}),loadjs.d("./app/train/lecturer/index",function(e,n,a){a.items={top:"top",main:"main",search:"search","train/lecturer/editsummary":{isModule:!0},"train/lecturer/history":{isModule:!0}},a.store={models:{state:{},lecturer:{url:"../train/lecturer/front"},down:{url:"../file-deal/file/download"}},callbacks:{init:function(){var e=this.models.lecturer;return e.clear(),this.models.state.set({count:0}),this.get(e,{loading:!0})},search:function(e){var n=this.models.lecturer;return n.clear(),n.params=e,this.get(n)},enterSearch:function(e){var n=this.models.lecturer;return n.clear(),n.params=e,this.get(n)}}},a.beforeRender=function(){this.dispatch("init")}},{}),loadjs.d("./app/train/lecturer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'\t<div class="person-page"><div class="container"><div class="container">\n\t\t<div class="person-top" data-region="top"></div>\n\t\t<div class="person" data-region="search"></div>\n\t\t<div class="person-main" data-region="main"></div>\n\t</div>\n\t</div></div>\n'},3:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression,d=null!=n?n:{};return'\t<div class="clearfix">\n\t\t<div id="headFile"></div>\n\t\t<div class="user-base-info">\n\t\t\t<div class="h3 layout-mt-small">\n\t\t\t\t'+o(r(null!=(l=null!=n?n.lecturer:n)?l.name:l,n))+'\n\t\t\t</div>\n\t\t\t<div class="m-top">\n\t\t\t\t<div class="inline-block">讲师标签:\n'+(null!=(l=a.each.call(d,null!=(l=null!=n?n.lecturer:n)?l.labelList:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="m-top">\n\t\t\t\t<div class="inline-block">讲师级别:\n\t\t\t\t\t'+o(r(null!=(l=null!=n?n.lecturer:n)?l.levelName:l,n))+'\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="m-top">\n\t\t\t\t<div class="inline-block m-right">\n\t\t\t\t\t<span class="sub-text">累计课时数：</span>\n\t\t\t\t\t<span class="text-main-color">\n\t\t\t\t\t\t'+o((s=null!=(s=a.count||(null!=n?n.count:n))?s:a.helperMissing,"function"==typeof s?s.call(d,{name:"count",hash:{},data:i}):s))+'\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="inline-block sub-text">\n\t\t\t\t\t<span class="sub-text">平均满意度：</span>\n\t\t\t\t\t<span class="text-main-color">\n\t\t\t\t\t\t'+o(r(null!=(l=null!=n?n.lecturer:n)?l.satisfy:l,n))+'\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="m-top">\n\t\t\t\t<div class="inline-block">讲师简介：\n\t\t\t\t\t'+o(r(null!=(l=null!=n?n.lecturer:n)?l.description:l,n))+'&nbsp;&nbsp;&nbsp;\n\t\t\t\t\t<a class="decoration-none pull-right pointer" id="editsummary'+o(r(null!=(l=null!=n?n.lecturer:n)?l.id:l,n))+'" data-name="id" data-value="'+o(r(null!=(l=null!=n?n.lecturer:n)?l.id:l,n))+'" styke="text-decoration: none;">编辑</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n'},4:function(e,n,a,t,i){var l;return'\t\t\t\t\t\t<div class="btn small tag-height">\n\t\t\t\t\t\t\t'+e.escapeExpression((l=null!=(l=a.name||(null!=n?n.name:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"name",hash:{},data:i}):l))+"&nbsp;&nbsp;&nbsp;\n\t\t\t\t\t\t</div>\n"},6:function(e,n,a,t,i){return'\t<div id="searchPannel" class="filter-row">\n\t\t<div class="form">\n\t\t\t<div class="col-sm-10 inline-block border right clearfix">\n\t\t\t\t<div class="pull-left col-sm-6">\n\t\t\t\t\t<div class="form-row r-padding">\n\t\t\t\t\t\t<label>班级名称</label>\n\t\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t\t<input class="input date" name="className"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="pull-left col-sm-6">\n\t\t\t\t\t<div class="form-row r-padding">\n\t\t\t\t\t\t<label>授课日期</label>\n\t\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t\t<input id="join-time" class="input tag-height date" name="teachDate"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="pull-left col-sm-6">\n\t\t\t\t\t<div class="form-row r-padding">\n\t\t\t\t\t\t<label>授课时长</label>\n\t\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t\t<input class="input-solid col-sm-5 pull-left" name="stratCourseDuration"/>\n\t\t\t\t\t\t\t<span class="col-sm-2 text-center pull-left tag-height">至</span>\n\t\t\t\t\t\t\t<input class="input-solid col-sm-5 pull-left" name="endCourseDuration"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="pull-left col-sm-6">\n\t\t\t\t\t<div class="form-row r-padding">\n\t\t\t\t\t\t<label>课程满意度</label>\n\t\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t\t<input class="input-solid col-sm-5 pull-left" name="stratSatisfiedDegree"/>\n\t\t\t\t\t\t\t<span class="inline-block pull-left text-center tag-height col-sm-2">至</span>\n\t\t\t\t\t\t\t<input class="input-solid col-sm-5 pull-left" name="endSatisfiedDegree"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="inline-block layout-ml">\n\t\t\t\t<button id="search" class="btn">查询</button>\n\t\t\t\t<a id="history" class="m-left">历史</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n'},8:function(e,n,a,t,i){var l;return'\t<div class="list">\n\t\t<table class="table">\n\t\t\t<thead><tr>\n\t\t\t\t<th>序号</th>\n\t\t\t\t<th>班级名称</th>\n\t\t\t\t<th>课程名称</th>\n\t\t\t\t<th>授课日期</th>\n\t\t\t\t<th>授课时长(小时)</th>\n\t\t\t\t<th>课程满意度</th>\n\t\t\t</tr></thead>\n\t\t\t<tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.lecturers:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.program(14,i,0),data:i}))?l:"")+"</tbody>\n\t\t</table>\n\t</div>\n"},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return"<tr>\n\t\t\t\t<td>"+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n\t\t\t\t<td>"+c((s=null!=(s=a.className||(null!=n?n.className:n))?s:o,typeof s===d?s.call(r,{name:"className",hash:{},data:i}):s))+"</td>\n\t\t\t\t<td>"+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n\t\t\t\t<td>"+c((a.date||n&&n.date||o).call(r,null!=n?n.courseDate:n,{name:"date",hash:{},data:i}))+"&nbsp;&nbsp;"+c((s=null!=(s=a.startTime||(null!=n?n.startTime:n))?s:o,typeof s===d?s.call(r,{name:"startTime",hash:{},data:i}):s))+"</td>\n\t\t\t\t<td>"+c((s=null!=(s=a.t||(null!=n?n.t:n))?s:o,typeof s===d?s.call(r,{name:"t",hash:{},data:i}):s))+"</td>\n\t\t\t\t<td>\n"+(null!=(l=a.if.call(r,null!=n?n.courseSatisfy:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))?l:"")},10:function(e,n,a,t,i){var l;return"\t\t\t\t\t\t"+e.escapeExpression((l=null!=(l=a.courseSatisfyTrue||(null!=n?n.courseSatisfyTrue:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"courseSatisfyTrue",hash:{},data:i}):l))+"\n"},12:function(e,n,a,t,i){return"\t\t\t\t\t\t0.0\n"},14:function(e,n,a,t,i){return'\t\t\t\t\t<tr><td colspan="10"><div class="text-center">\n\t\t\t\t\t\t<img src="../images/sys-tip/empty.png" width="150" height="150"/>\n\t\t\t\t\t\t<p>暂无内容</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t</td></tr>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"top",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/lecturer/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={lecturer:!0,state:!0,down:!1},a.dataForTemplate={lecturers:function(e){var n=e.lecturer.offlineCourseList;return t.map(n||[],function(e,n){var a=e;a.i=n+1,a.t=a.time,a.courseSatisfy&&a.courseSatisfy>=0&&(a.courseSatisfyTrue=(a.courseSatisfy/10).toFixed(1))}),n}}},{"lodash/collection":!1}),loadjs.d("./app/train/lecturer/view-search",function(e,n,a){var t=e("jquery"),i=function(e){return e.replace(/^\s+|\s+$/g,"")};a.actions={"click search":"search","keypress searchPannel":"enterSearch"},a.events={"click history":"history"},a.dataForActions={search:function(){var e=t(this.$$('[name="stratCourseDuration"]')).val(),n=t(this.$$('[name="endCourseDuration"]')).val(),a=t(this.$$('[name="stratSatisfiedDegree"]')).val(),l=t(this.$$('[name="endSatisfiedDegree"]')).val(),s=this,r=t(this.$$('[name="teachDate"]')).val(),o={className:t(this.$$('[name="className"]')).val(),teachDate:t(this.$$('[name="teachDate"]')).val(),stratCourseDuration:t(this.$$('[name="stratCourseDuration"]')).val(),endCourseDuration:t(this.$$('[name="endCourseDuration"]')).val(),stratSatisfiedDegree:t(this.$$('[name="stratSatisfiedDegree"]')).val(),endSatisfiedDegree:t(this.$$('[name="endSatisfiedDegree"]')).val()};return(null===e||""===e||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(i(e)))&&(null===n||""===n||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(i(n)))?(null===a||""===a||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(i(a)))&&(null===l||""===l||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(i(l)))?null!==e&&""!==e&&""!==n&&null!==n&&Number(e)>Number(n)?(s.app.message.alert("授课时长(小时)开始值不能大于结束值！"),!1):null!==a&&""!==a&&""!==l&&null!==l&&Number(a)>Number(l)?(s.app.message.alert("课程满意度开始值不能大于结束值！"),!1):(null===r||""===r||-1!==r.indexOf("to"))&&o:(this.app.message.alert("课程满意度只能输入数字"),!1):(this.app.message.alert("授课时长(小时)只能输入数字"),!1)},enterSearch:function(e,n){var a=n.keyCode||n.which||n.charCode,l=t(this.$$('[name="stratCourseDuration"]')).val(),s=t(this.$$('[name="endCourseDuration"]')).val(),r=t(this.$$('[name="stratSatisfiedDegree"]')).val(),o=t(this.$$('[name="endSatisfiedDegree"]')).val(),d=this,c=t(this.$$('[name="teachDate"]')).val(),u={className:t(this.$$('[name="className"]')).val(),teachDate:t(this.$$('[name="teachDate"]')).val(),stratCourseDuration:t(this.$$('[name="stratCourseDuration"]')).val(),endCourseDuration:t(this.$$('[name="endCourseDuration"]')).val(),stratSatisfiedDegree:t(this.$$('[name="stratSatisfiedDegree"]')).val(),endSatisfiedDegree:t(this.$$('[name="endSatisfiedDegree"]')).val()};return 13===a&&((null===l||""===l||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(i(l)))&&(null===s||""===s||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(i(s)))?(null===r||""===r||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(i(r)))&&(null===o||""===o||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(i(o)))?null!==l&&""!==l&&""!==s&&null!==s&&Number(l)>Number(s)?(d.app.message.alert("授课时长(小时)开始值不能大于结束值！"),!1):null!==r&&""!==r&&""!==o&&null!==o&&Number(r)>Number(o)?(d.app.message.alert("课程满意度开始值不能大于结束值！"),!1):(null===c||""===c||-1!==c.indexOf("to"))&&u:(this.app.message.alert("课程满意度只能输入数字"),!1):(this.app.message.alert("授课时长(小时)只能输入数字"),!1))}},a.handlers={history:function(){this.app.viewport.modal(this.module.items["train/lecturer/history"])}},a.components=[{id:"join-time",name:"flatpickr",options:{mode:"range"}}]},{jquery:!1}),loadjs.d("./app/train/lecturer/view-top",function(e,n,a){a.bindings={lecturer:!0,down:!0,state:!1},a.events={"click editsummary*":"showEditsummary"},a.handlers={showEditsummary:function(){var e=this.module.items["train/lecturer/editsummary"],n=this.bindings.lecturer.data;this.app.viewport.modal(e,{lecturer:n})}},a.components=[function(){var e=this.bindings.lecturer.data
;return{id:"headFile",name:"picker",options:{picker:"cropper-lecturer",inputName:"headPortrait",signle_file:!0,width:200,height:200,extensions:"jpg,jpeg,png,bmp,ico",btnName:"更换头像",avatarSize:"1,1",suggestSize:"200*200",defaultImg:e.headPortrait||"./images/default-cover/default_user.png",data:{value:e.headPortrait,lecturerId:e.id}}}}],a.dataForTemplate={lecturer:function(e){var n=e.lecturer||{},a=this.bindings.down.getFullUrl();return n.descriptions=n.description,n.description&&n.description.length>150&&(n.description=n.description.slice(0,149)+"..."),n.headPortrait&&(n.headPhoto=n.headPortrait?a+"?id="+n.headPortrait:"images/default-cover/default_user.png"),n},count:function(e){var n=e.lecturer||{};return 0===this.bindings.state.data.count&&n.count&&(this.bindings.state.data.count=n.count),this.bindings.state.data.count>0?this.bindings.state.data.count:0}}},{}),loadjs.d("./app/train/notice/index",function(e,n,a){a.items={main:"main"},a.store={models:{signupInfo:{url:"../train/sign-up"},download:{url:"../train/notice/download"},export:{url:"../train/offline-course/exportData"},downloadDoc:{url:"../train/sign-up/download-doc"},state:{data:{}},classInfo:{url:"../train/class-info/single"},humanDownload:{url:"../file-deal/file/download"},downloadQr:{url:"../train/sign-up/down-qr"}},callbacks:{init:function(e){var n=this.models.state,a=this.models.signupInfo,t=this.models.classInfo;a.clear(),t.clear(),n.data.classId=e.id,n.data.role=e.role,a.params.classId=e.id,t.set({id:e.projectId}),this.chain([this.get(t,{loading:!0}),this.get(a,{loading:!0})])},save:function(e){var n=this.models.state.data,a=this.models.signupInfo;return a.set(e),a.data.classId=n.classId,a.data.notice=1,this.save(a)}}},a.beforeRender=function(){return this.dispatch("init",{id:this.renderOptions.state.classId,role:this.renderOptions.state.role,projectId:this.renderOptions.state.id})}},{}),loadjs.d("./app/train/notice/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-class-page">\n    <div class="page-main-wrapper">\n        <div class="main" data-region="main"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'<form class="vertical">\n    <div class="publishnotice container overflow layout-mt-small border around">\n        <section class="managements-content-area">\n            <h4>培训班报名信息</h4>\n            <div>\n                <div class="form">\n                    <div class="form-row">\n                        <label class="label required">是否开放报名</label>\n                        <div class="content form-line-height">\n                            <input name="id" type="hidden" value="'+r(s(null!=(l=null!=n?n.signupInfo:n)?l.id:l,n))+'"/>\n                            <input id="isOpen-1" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.signupInfo:n)?l.checked:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' name="isOpen" type="radio" value="1"/>\n                            <label class="layout-mr-small">是</label>\n                            <input id="isOpen-0" '+(null!=(l=a.unless.call(o,null!=(l=null!=n?n.signupInfo:n)?l.checked:l,{name:"unless",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' name="isOpen" type="radio" value="0"/>\n                            <label>否</label>\n                        </div>\n                    </div>\n                    <div id="time">\n                        <div class="clearfix w-full">\n                            <div class="form-row pull-left">\n                                <label id="label-start" class="label required">报名开始时间</label>\n                                <div class="content">\n                                    <div id="start" class="overflow">\n                                        <input id="startTime" class="input date" name="startTime" x-rule="required" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.signupInfo:n)?l.startTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="clearfix w-full">\n                            <div class="form-row pull-left">\n                                <label id="label-end" class="label required">报名结束时间</label>\n                                <div class="content">\n                                    <div id="end" class="overflow">\n                                        <input id="endTime" class="input date" name="endTime" x-rule="required" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.signupInfo:n)?l.endTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <span class="layout-mt-small">\n                引导语：请在下发培训公文时通知学员在报到前登录中移网大培训班填写“两个带来”问题，\n                培训期间进行交流分享(两个带来示例模板下载)。 “两个带来”，即带来一个优秀经验分享、带来一个棘手问题讨论，\n                以解决问题为导向，有效地引导学员带着实际工作问题参与培训学习和思考，并在培训班积极推广各单位的优秀实践经验，\n                促进学员的相互分享和工作借鉴。\n            </span>\n            <div class="hr"></div>\n            <h4 class="m-top">启用“两个带来”</h4>\n            <div class="check-choice">\n                <input id="usingTwoBrings" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.signupInfo:n)?l.isUsingTwoB:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" name="usingTwoBrings" value="1"/><span>学员填写“两个带来”问题，培训期间组织互动分享</span>\n            </div>\n            <div class="form layout-mt-small">\n                <div class="form-row">\n                    <label class="label auto layout-mr-small required">问题1</label>\n                    <div class="content">\n                        <input id="question1" class="input" name="question1" value="'+r(s(null!=(l=null!=n?n.signupInfo:n)?l.question1:l,n))+'"/>\n                    </div>\n                </div>\n                <div class="form-row">\n                    <label class="label auto layout-mr-small required">问题2</label>\n                    <div class="content">\n                        <input id="question2" class="input" name="question2" value="'+r(s(null!=(l=null!=n?n.signupInfo:n)?l.question2:l,n))+'"/>\n                    </div>\n'+(null!=(l=a.if.call(o,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n            </div>\n"+(null!=(l=a.if.call(o,null!=(l=null!=n?n.signupInfo:n)?l.id:l,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"        </section>\n    </div>\n</form>"},4:function(e,n,a,t,i){return' checked="checked"'},6:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.classInfo:n)?l.notice:l,"eq",1,{name:"compare",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))?l:""},7:function(e,n,a,t,i){return'                            <div class="text-center layout-mt">\n                                <div id="save" class="btn">保存</div>\n                            </div>\n'},9:function(e,n,a,t,i){return'                            <div class="text-center layout-mt">\n                                <div id="save" class="btn">提交</div>\n                            </div>\n'},11:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression,d=null!=n?n:{},c=a.helperMissing,u="function";return'                <section class="section">\n                    <div id="code">\n                        <div>\n                            <div class="inline-block m-right text-center">报名码:</div>\n                            <div class="inline-block">\n                                <span class="m-right form-line-height">'+o(r(null!=(l=null!=n?n.signupInfo:n)?l.signupCode:l,n))+'</span>\n                                <div id="copy" class="tag-btn radius pointer" data-clipboard-text="'+o(r(null!=(l=null!=n?n.signupInfo:n)?l.signupCode:l,n))+'" style="margin-bottom: 0; margin-right: 0;">复制</div>\n                            </div>\n                        </div>\n                        <div>\n                            <div class="inline-block m-right layout-mt-small vertical-top">报名链接:</div>\n                            <div class="inline-block layout-mt-small">\n                                <span class="small-font layout-mr">'+o((s=null!=(s=a.signupUrl||(null!=n?n.signupUrl:n))?s:c,typeof s===u?s.call(d,{name:"signupUrl",hash:{},data:i}):s))+'</span>\n                                <div id="copy-url" class="tag-btn radius pointer" data-clipboard-text="'+o((s=null!=(s=a.signupUrl||(null!=n?n.signupUrl:n))?s:c,typeof s===u?s.call(d,{name:"signupUrl",hash:{},data:i}):s))+'">复制</div>\n                            </div>\n                        </div>\n                        <div class="enter layout-mt-small">\n                            <div class="vertical-top m-right inline-block">报名二维码：</div>\n                            <div class="inline-block">\n                                <div id="qrcode"></div>\n                            </div>\n                            <div class="inline-block">\n                                <a class="tag-btn radius pointer" id="download'+o((s=null!=(s=a.classId||(null!=n?n.classId:n))?s:c,typeof s===u?s.call(d,{name:"classId",hash:{},data:i}):s))+'" style="color: #000000" download="'+o(r(null!=(l=null!=n?n.signupInfo:n)?l.className:l,n))+'报名二维码.jpg" data-url="'+o(r(null!=(l=null!=n?n.signupInfo:n)?l.downUrl:l,n))+'">下载</a>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n                <div class="important-notice">\n                    <p>【重要】发文注意事项：</p>\n                    <p>一、培训通知附件：</p>\n                    <p class="block">1、《中国移动党校（中国移动人才发展中心）培训报名及参训须知》（\n                        <a id="download-doc" href="'+o((s=null!=(s=a.docUrl||(null!=n?n.docUrl:n))?s:c,typeof s===u?s.call(d,{name:"docUrl",hash:{},data:i}):s))+'">下载</a>\n                        <span>）（注意：请将报名链接复制到参训须知首页。为保证链接正确性，请提前自行报名试用）。</span>\n                    </p>\n                    <p class="block">2、《课程安排》 （\n                        <a id="download-course" href="'+o((s=null!=(s=a.downUrl||(null!=n?n.downUrl:n))?s:c,typeof s===u?s.call(d,{name:"downUrl",hash:{},data:i}):s))+'">下载</a>\n                        <span>）</span>\n                    </p>\n                    <p class="block">3、《中移网大培训系统用户操作手册》（\n                        <a id="download-manual" href="'+o((s=null!=(s=a.docUrl2||(null!=n?n.docUrl2:n))?s:c,typeof s===u?s.call(d,{name:"docUrl2",hash:{},data:i}):s))+'">下载</a>\n                        <span>）</span>\n                    </p>\n                    <div class="layout-mt-small">\n                        <p>二、培训通知发布路径及时间要求:</p>\n                        <p>1、路径：须通过OA“培训项目审批单”下发培训通知(OA首页-通用办公-培训项目-部门项目审批单)。</p>\n                        <p>2、时间：开班前20天左右发布通知，以保证OA顺利流转，省公司学员提前做好准备并按时报名。</p>\n                        <p>3、注意事项：为保证学员顺利报到，审批单中移动党校联系人写“响应中心，\n                            15801696688-27260”（响应中心是党校集中服务平台，负责解答培训前期相关问题，比如来校路线等）\n                        </p>\n                    </div>\n                </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/notice/view-main",function(e,n,a){var t=e("./app/ext/views/form/markers"),i=e("./app/ext/views/form/validators"),l=e("jquery"),s=e("./app/util/strings"),r=e("./app/util/browser").detectIE(),o=e("./app/util/download");a.bindings={signupInfo:!0,state:!0,export:!1,downloadDoc:!1,classInfo:!0,humanDownload:!1,downloadQr:!1},a.events={"click isOpen-*":"changeTime","click usingTwoBrings":"changeQuestion","change endTime":"changeEndTime","change question*":"changeQuestionValidate","click download*":"downloadUrl"},a.handlers={changeTime:function(e){var n=this;"0"===e?(n.$("startTime").value="",n.$("endTime").value="",l(n.$("label-start")).removeClass("required"),l(n.$("label-end")).removeClass("required"),l(n.$("time")).addClass("hide").removeClass("show"),l(n.$("code")).addClass("hide").removeClass("show")):n.app.message.confirm("选择为 “是”，提交后生成报名连接",function(){l(n.$("label-start")).addClass("required"),l(n.$("label-end")).addClass("required"),l(n.$("time")).addClass("show").removeClass("hide"),l(n.$("code")).addClass("show").removeClass("hide"),n.$("isOpen-1").checked=!0,n.$("isOpen-0").checked=!1},function(){n.$("startTime").value="",n.$("endTime").value="",l(n.$("label-start")).removeClass("required"),l(n.$("label-end")).removeClass("required"),l(n.$("time")).addClass("hide").removeClass("show"),l(n.$("code")).addClass("hide").removeClass("show"),n.$("isOpen-1").checked=!1,n.$("isOpen-0").checked=!0})},changeQuestion:function(e,n){n.checked?(this.$("question1").value=s.get("default-twobring-1"),this.$("question2").value=s.get("default-twobring-2")):(this.$("question1").value="",this.$("question2").value="")},changeEndTime:function(){var e,n,a,t,i,s,r,o=this.bindings.classInfo.data.returnDate,d=l(this.$("endTime")).val(),c=l(this.$("startTime")).val();d&&(e=d.split(" "),n=e[0].split("-"),a=new Date(n[0],n[1]-1,n[2]).getTime(),t=a+86399999),c&&(i=c.split(" "),s=i[0].split("-"),r=new Date(s[0],s[1]-1,s[2]).getTime()),d&&o<=a?(this.app.message.error("报名结束时间必须在该班级的返程日之前"),l(this.$("endTime")).val("")):c&&d&&r>=t&&(this.app.message.error("报名开始时间不能大于报名结束时间"),l(this.$("endTime")).val(""))},changeQuestionValidate:function(e){var n=l(this.$("question"+e)),a=new RegExp("\\{0\\}","g");t.text.valid(n),i.maxLength.fn(n.val(),100)||t.text.invalid(n,i.maxLength.message.replace(a,100))},downloadUrl:function(e){var n=this.$("download"+e).dataset.url;r?o.createIframe(n):l(this.$("download"+e)).attr("href",n)}},a.actions={"click save":"save"},a.dataForActions={save:function(e){var n=e,a=this.$("usingTwoBrings"),t=n.endTime.split(" "),i=t[0].split("-"),l=new Date(i[0],i[1]-1,i[2]).getTime();return this.bindings.classInfo.data.returnDate<=l?(this.app.message.error("报名结束时间必须在该班级的返程日之前"),!1):!!this.validate()&&(n.usingTwoBrings=a.checked?1:0,n)}},a.actionCallbacks={save:function(e){var n=this;e[0]&&this.module.dispatch("init",{id:this.module.renderOptions.state.classId,role:this.module.renderOptions.state.role,projectId:this.module.renderOptions.state.id}).then(function(){n.app.message.success("保存成功！")})}},a.dataForTemplate={signupInfo:function(){var e=this.bindings.signupInfo.data,n=Date.parse(new Date),a=this.bindings.classInfo.data.arriveDate,t=this.bindings.classInfo.data.className,i=this.bindings.downloadQr.getFullUrl()+"?id="+e.classId;return e&&(e.checked=1===e.isOpen,e.isUsingTwoB=1===e.usingTwoBrings,e.id||(e.checked=!0,e.isUsingTwoB=!0,e.question1=s.get("default-twobring-1"),e.question2=s.get("default-twobring-2")),e.isUsingTwoB||(e.question1="",e.question2=""),null===e.startTime&&(e.startTime=n),null===e.endTime&&void 0!==a&&(e.endTime=a+864e5-1e3)),e.className="《"+t+"》",e.downUrl=i,e},downUrl:function(){var e=this.bindings.export,n=this.bindings.state.data,a=e.getFullUrl()+"?",t=this.app.global.OAuth.token.access_token;return a+="classId="+n.classId,a+="&access_token="+t},docUrl:function(){var e=this.bindings.humanDownload.getFullUrl();return e+="?id=train_registration_notes"},isGrant:function(){var e=this.bindings.state.data;return 1===e.role||2===e.role||3===e.role},signupUrl:function(){var e=window.location.protocol+"//"+window.location.host+"/";return e+="#/train/register/"+this.bindings.state.data.classId},docUrl2:function(){return this.bindings.humanDownload.getFullUrl()+"?id=train_guide_manual"}},a.components=[{id:"startTime",name:"flatpickr"},{id:"endTime",name:"flatpickr"},function(){var e=this.bindings.signupInfo.data.classId||"0";return{id:"qrcode",name:"qrcode",options:{width:128,height:128,text:JSON.stringify({businessId:e,businessType:5})}}},{id:"copy",name:"clipboard"},{id:"copy-url",name:"clipboard"},{id:"copy-qr",name:"clipboard"}],a.mixin={validate:function(){var e,n,a,s,r,o,d,c=l(this.$$('input[name="isOpen"]:checked')),u=l(this.$("startTime")),m=l(this.$("endTime")),p=this.$("usingTwoBrings").checked,h=l(this.$("question1")),f=l(this.$("question2")),v=!0,g=new RegExp("\\{0\\}","g"),b=this.bindings.classInfo.data.returnDate;return t.text.valid(l(this.$("start"))),t.text.valid(l(this.$("end"))),t.text.valid(h),t.text.valid(f),"1"!==c.val()||i.required.fn(u.val())||(t.text.invalid(l(this.$("start")),i.required.message),v=!1),"1"!==c.val()||i.required.fn(m.val())||(t.text.invalid(l(this.$("end")),i.required.message),v=!1),u.removeClass("error"),"1"===c.val()&&i.required.fn(m.val())&&(a=m.val().split(" "),s=a[0].split("-"),e=u.val().split(" "),n=e[0].split("-"),r=new Date(s[0],s[1]-1,s[2]).getTime(),o=new Date(n[0],n[1]-1,n[2]).getTime(),b<r?(this.app.message.error("报名结束时间必须在该班级的返程日之前"),l(this.$("endTime")).val(""),m.addClass("error"),v=!1):i.required.fn(m.val())&&(d=r+86399999,o>=d&&(this.app.message.error("报名开始时间不能大于报名结束时间"),l(this.$("endTime")).val(""),m.addClass("error"),v=!1))),m.removeClass("error"),p&&!i.required.fn(h.val())&&(t.text.invalid(h,i.required.message),v=!1),p&&!i.required.fn(f.val())&&(t.text.invalid(f,i.required.message),v=!1),p&&!i.maxLength.fn(h.val(),100)&&(t.text.invalid(h,i.maxLength.message.replace(g,100)),v=!1),p&&!i.maxLength.fn(f.val(),100)&&(t.text.invalid(f,i.maxLength.message.replace(g,100)),v=!1),v}},a.afterRender=function(){var e=this;1===e.bindings.signupInfo.data.isOpen?(l(this.$("label-start")).addClass("required"),l(this.$("label-end")).addClass("required")):(l(this.$("label-start")).removeClass("required"),l(this.$("label-end")).removeClass("required")),e.bindings.signupInfo.data.checked||(l(this.$("time")).addClass("hide").removeClass("show"),l(this.$("code")).addClass("hide").removeClass("show"))}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/browser":"./app/util/browser","./app/util/download":"./app/util/download","./app/util/strings":"./app/util/strings",jquery:!1}),loadjs.d("./app/train/picture/index",function(e,n,a){var t=e("lodash/collection");a.items={banner:"banner",picture:"picture",upload:"",swipe:""},a.store={models:{pannel:"pannel",photos:{url:"../train/album/photo"},classPhoto:{url:"../train/album/photo"},img:{url:"../human/file/upload"},download:{url:"../file-deal/file/download"},classInfo:{url:"../train/class-info/get"},groups:{url:"../train/class-group/find-by-class"},classDetail:{url:"../train/class-detail/find"},classId:{data:{}},state:{data:{index:0}}},callbacks:{list:function(e){var n=this.models.state;n.data.groupId=e,n.changed()},init:function(e){var n=this.models.photos,a=e.classId,i=this.models.classInfo,l=this.models.groups,s=this.models.classDetail,r=this,o=this.models.state,d=e.see;return this.models.classId.data.classId=a,n.params={classId:a},o.data.see=d,o.changed(),this.get(n).then(function(e){t.map(e[0],function(e){var n=e,a=new Image;return n.imageUrl=n.path,a.src=n.imageUrl,n.image=a,n})}),i.params.id=a,this.get(i).then(function(e){var n=e[0];n.groupId&&(l.params.id=n.groupId,r.get(l))}),s.params.classId=a,this.get(s)},turnPage:function(e){var n=this.models.state.data,a=this.models.photos.data||[],t=n.index;"prev"===e&&t>0?t--:"next"===e&&t<a.length-5&&t++,this.models.state.set({index:t}),this.models.state.changed()},addFile:function(e){var n=this.models.download,a=this.models.photos,i=this.models.classPhoto,l=this.models.classId.data,s=this,r=[];return t.forEach(e||[],function(e){var n=e;n.id="photo-"+(new Date).getTime(),r.push(n)}),i.set({classId:l.classId,photos:JSON.stringify(r)}),s.save(i).then(function(){return a.clear(),a.params={classId:l.classId},s.get(a)}).then(function(e){t.map(e[0],function(e){var a=e,t=new Image;return a.imageUrl=n.getFullUrl()+"?id="+a.attachmentId,t.src=a.imageUrl,a.image=t,a})})}}},a.beforeRender=function(){var e=this;e.dispatch("init",this.renderOptions).then(function(n){var a=0;n[0].length<1&&e.dispatch("list",a),null!=n[0]&&n[0].length>1&&(a=n[0][0].id),e.dispatch("list",a)})}},{"lodash/collection":!1}),loadjs.d("./app/train/picture/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="classmate-book-page">\n    <div class="class-details-box" data-region="banner"></div>\n    <div class="container">\n        <div class="main">\n            <div class="classmate-content" data-region="picture"></div>\n            <section class="section" data-region="swipe"></section>\n        </div>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="banner small">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.classDetail:n)?l.bannerUrl:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.arr:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(13,i,0),data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){var l;return'            <img class="w-full" src="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.classDetail:n)?l.bannerUrl:l,n))+'" style="max-height:100%;"/>\n'},6:function(e,n,a,t,i){return'            <img class="w-full" src="images/class_detail.png" style="height:100%;"/>\n'},8:function(e,n,a,t,i){var l,s=null!=n?n:{};return'            <div class="classes">\n'+(null!=(l=a.each.call(s,null!=n?n.arr:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+'            </div>\n            <div id="classes-more" class="classes-more">\n                <span id="moretext">展示更多</span>\n                <i id="showmoreico" class="iconfont icon-triangle-down"></i>\n                <div id="dropdown-more" class="dropdown-more border around hide">\n                    <ul>\n'+(null!=(l=a.each.call(s,null!=n?n.groups:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"                    </ul>\n                </div>\n            </div>\n"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <a class="m-right" href="'+o((l=null!=(l=a.classUrl||(null!=n?n.classUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"classUrl",hash:{},data:i}):l))+'" target="_blank" title="'+o((l=null!=(l=a.shortNames||(null!=n?n.shortNames:n))?l:r,"function"==typeof l?l.call(s,{name:"shortNames",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.shortName||(null!=n?n.shortName:n))?l:r,"function"==typeof l?l.call(s,{name:"shortName",hash:{},data:i}):l))+"</a>\n"},11:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <li><a class="normal text-main-color" href="'+o((l=null!=(l=a.classUrl||(null!=n?n.classUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"classUrl",hash:{},data:i}):l))+'" target="_blank" title="'+o((l=null!=(l=a.shortNames||(null!=n?n.shortNames:n))?l:r,"function"==typeof l?l.call(s,{name:"shortNames",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.shortName||(null!=n?n.shortName:n))?l:r,"function"==typeof l?l.call(s,{name:"shortName",hash:{},data:i}):l))+"</a></li>\n"},13:function(e,n,a,t,i){var l;return'            <div class="classes">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.groups:n,{name:"each",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n"},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'\n                <a class="m-right" href="'+o((l=null!=(l=a.classUrl||(null!=n?n.classUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"classUrl",hash:{},data:i}):l))+'" target="_blank" title="'+o((l=null!=(l=a.shortNames||(null!=n?n.shortNames:n))?l:r,"function"==typeof l?l.call(s,{name:"shortNames",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.shortName||(null!=n?n.shortName:n))?l:r,"function"==typeof l?l.call(s,{name:"shortName",hash:{},data:i}):l))+"</a>\n            "},16:function(e,n,a,t,i){var l;return'    <div class="clearfix">\n        <div id="return" class="pull-right m-right pointer">\n            <i class="iconfont icon-return1"></i>\n            <div class="inline-block">返回</div>\n        </div>\n    </div>\n    <div class="managements-page"><div class="classmanage">\n        <div class="container">\n            <section class="section">\n                <div class="clearfix">\n                    <div id="upload" class="btn small m-right pointer">上传照片</div>\n                </div>\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.photos:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.program(20,i,0),data:i}))?l:"")+"            </section>\n        </div>\n    </div></div>\n"},17:function(e,n,a,t,i){var l;return'                    <div id="album" class="swiper-container">\n                        <div class="photos">\n                            <ul>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.photos:n,{name:"each",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+"                            </ul>\n                        </div>\n                    </div>\n                    \x3c!-- if(arrow) --\x3e\n                    \x3c!--     .btn-prev(id='turnPage-prev' title=string('left.page')) --\x3e\n                    \x3c!--         .iconfont.icon-arrow-left --\x3e\n                    \x3c!--     .btn-next(id='turnPage-next' title=string('right.page')) --\x3e\n                    \x3c!--         .iconfont.icon-arrow-right --\x3e\n"},18:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <li>\n                                        <div class="photo-item pointer" title="点击预览">\n                                            <img id="showSwipe-'+o((l=null!=(l=a.attachmentId||(null!=n?n.attachmentId:n))?l:r,"function"==typeof l?l.call(s,{name:"attachmentId",hash:{},data:i}):l))+'" src="'+o((l=null!=(l=a.imageUrl||(null!=n?n.imageUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"imageUrl",hash:{},data:i}):l))+'" alt="'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'"/>\n                                        </div>\n                                    </li>\n'},20:function(e,n,a,t,i){return'                    <div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <div>暂无内容</div>\n                    </div>\n'},22:function(e,n,a,t,i){return'    <div id="uploader"></div>\n'},24:function(e,n,a,t,i){return'    <div id="classphotoSwipe"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"banner",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"picture",{name:"view",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"upload",{name:"view",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"swipe",{name:"view",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/picture/view-picture",function(e,n,a){var t=e("lodash/collection");a.bindings={classId:!0,download:!1,photos:!0,state:!0},a.dataForTemplate={photos:function(e){var n=e.photos;return t.map(n,function(e){var n=e;n.imageUrl=n.thumbnailPath}),n}},a.events={"click upload":"uploadPhoto","click showSwipe-*":"showSwipe","click return":"toggleActive"},a.handlers={uploadPhoto:function(){var e=this.module.items.upload;this.app.viewport.modal(e)},showSwipe:function(e){var n=this.module.regions;this.bindings.state.data.currentId=e,n.swipe.show(this.module.items.swipe)},toggleActive:function(){var e=this.bindings.classId.data.classId;this.app.show("content","train/class-detail",{classId:e})}}},{"lodash/collection":!1}),loadjs.d("./app/train/picture/view-swipe",function(e,n,a){var t=e("lodash/collection");a.bindings={photos:!1,download:!1,state:!1},a.components=[function(){var e=this.bindings.photos.data,n=this.bindings.state.data,a=0;return t.map(e,function(e,t){var i=e;return i.imageUrl=i.path,i.attachmentId===n.currentId&&(a=t),i}),{id:"classphotoSwipe",name:"picker",options:{picker:"photoswipe",photos:e,index:a}}}]},{"lodash/collection":!1}),loadjs.d("./app/train/picture/view-upload",function(e,n,a){var t=e("lodash/collection");a.title="照片上传",a.bindings={img:"changeFile",state:!0},a.components=function(){return[{id:"uploader",name:"uploader",options:{model:"img",resize:{crop:!1},signle_file:!1,multi_selection:!0,multipart_params:{cutSize:"200,200"}}}]},a.changeFile=function(){var e=this.components.uploader,n=e.files.length,a=this.bindings.img.data.imgs,i=this,l=t.map(a,function(e){return{attachmentId:e.id,path:e.path,name:e.filename,thumbnailId:e.thumbnailId,thumbnailPath:e.thumbnailPath}});this.module.dispatch("addFile",l).then(function(){i.module.dispatch("init",{classId:i.bindings.classId.data.classId})}),e.uploadCount+=1,e.uploadCount>=n&&this.app.viewport.closeModal()},a.afterRender=function(){this.components.uploader.uploadCount=0}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/add-preview-task/index",function(e,n,a){var t=e("drizzle-zxy");a.items={main:"main",side:"side"},a.title="作业预览",a.store={models:{state:{},mainState:{data:{isExplain:!0}},task:{url:"../train/task"},preview:{url:"../file-deal/file/preview"},download:{url:"../file-deal/file/download"}},callbacks:{init:function(e){var n=this.models.task;return n.clear(),e.task&&(this.models.task.data=e.task),!e.id||(n.set({id:e.id}),this.get(n))},preview:function(e){var n=this.models.state;t.assign(n.data||{},e),n.changed()}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/add-preview-task/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-modalheight"><div class="taskmarking-content main-side" style="margin-top:-2.1em">\n    <div class="taskmarking-side bg-highlight pull-left" style="position:relative;min-height: 100%;width: 30%;padding-top: 0; margin-top: 0">\n        <div style="min-height: 100%" data-region="side"></div>\n    </div>\n    \x3c!--  .taskmarking-head(data-region=\'head\') --\x3e\n    <div class="pull-right" style="width: 69.5%;" data-region="main"></div>\n</div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <div class="pull-left title">作业名称：<div class="strong">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.task:n)?l.name:l,n))+'</div></div>\n    <div class="pull-right title">\n        <div id="closeTask" class="btn white m">关闭预览</div>\n    </div>\n'},5:function(e,n,a,t,i){var l
;return'    <div class="taskmarking-head" style="height: 50px;background: #444">\n        <div class="pull-left title"><strong>'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.task:n)?l.name:l,n))+'</strong></div>\n    </div>\n    <div class="preview-content" oncontextmenu1="window.event.returnValue=false;" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.mainState:n)?l.isExplain:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+"    </div>\n"},6:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.task:n)?l.explain:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:""},7:function(e,n,a,t,i){var l;return'                <div class="h3 m-bottom strong">作业说明:</div>\n                <span class="small-font">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.task:n)?l.explain:l,{name:"echoX",hash:{},data:i}))?l:"")+"</span>\n"},9:function(e,n,a,t,i){return'            <div id="viewPdf"></div>\n'},11:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.task:n)?l.name:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:""},12:function(e,n,a,t,i){var l;return'        <div id="explain" class="btn block layout-mt-small">作业说明</div>\n        <div class="h4 m-top">作业附件：</div>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.task:n)?l.attachList:l,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")},13:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'            <div class="side-item clearfix m-top">\n                <a class="inline-blockr" href="'+d((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:r,typeof l===o?l.call(s,{name:"downUrl",hash:{},data:i}):l))+'" download="'+d((l=null!=(l=a.attachmentName||(null!=n?n.attachmentName:n))?l:r,typeof l===o?l.call(s,{name:"attachmentName",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.attachmentName||(null!=n?n.attachmentName:n))?l:r,typeof l===o?l.call(s,{name:"attachmentName",hash:{},data:i}):l))+'</a>\n                <a class="inline-block pull-right" href="'+d((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:r,typeof l===o?l.call(s,{name:"downUrl",hash:{},data:i}):l))+'" download="'+d((l=null!=(l=a.attachmentName||(null!=n?n.attachmentName:n))?l:r,typeof l===o?l.call(s,{name:"attachmentName",hash:{},data:i}):l))+'">下载</a>\n            </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/add-preview-task/view-head",function(e,n,a){a.bindings={task:!0}},{}),loadjs.d("./app/train/programme/add-preview-task/view-main",function(e,n,a){a.bindings={task:!0,state:!0,mainState:!0,preview:!1},a.components=[function(){var e=this.bindings.state.data||{},n=this.bindings.preview.getFullUrl()+"/"+e.attachmentId;return"doc"===e.flag&&{id:"viewPdf",name:"picker",options:{picker:"pdf",id:e.attachmentId,pdfUrl:n}}}]},{}),loadjs.d("./app/train/programme/add-preview-task/view-side",function(e,n,a){var t=e("lodash/collection");a.bindings={task:!0,preview:!1,mainState:!0,download:!1},a.events={"click preview-*":"preview","click explain":"explain"},a.handlers={preview:function(e){var n=this.bindings.mainState.data,a={flag:"doc",attachmentId:e};n.isExplain=!1,this.bindings.mainState.changed(),this.module.dispatch("preview",a)},explain:function(){this.bindings.mainState.data.isExplain=!0,this.bindings.mainState.changed()}},a.dataForTemplate={task:function(e){var n=this,a=e.task||{},i=a.attachList||[];return t.map(i||[],function(e){var a=e;return a.downUrl=n.bindings.download.getFullUrl()+"?id="+a.attachmentId,a}),a}}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/course-category/index",function(e,n,a){a.title="选择目录",a.items={modal:"modal"},a.small=!0,a.store={models:{list:{url:"../course-study/course-category"}},callbacks:{init:function(e){var n=this.models.list;return e.currentCatalogId&&(n.params.notIncludeCatelogId=e.currentCatalogId),n.params.organizationId=e.organizationId||"1",n.params.state=1,this.get(n)}}},a.beforeRender=function(){var e=this.renderOptions;this.dispatch("init",e)},a.mixin={validate:function(){return this.items.main.validate()}},a.buttons=[{text:"确定",fn:function(){var e=this.items.modal.components.tree.getSelectedNode();return e.length?(this.renderOptions.callback(e[0].data),!0):(this.app.message.error("请选择一个目录"),!1)}}]},{}),loadjs.d("./app/train/programme/enterpreview/data",function(e,n,a){n.exports=[{date:"2016-12-22",time:"8:30 - 10:30",courseName:"课程名称",teacherName:"刘宇超",teacherOrganization:"移动党校",teacherTitle:"高级讲师",courseType:"面授",money:"100",courseware:"无",phoneNumber:"13106752435",teacherType:"外部讲师",idNumber:"110101199010111111",bankNumber:"1234567890123456",bank:"东直门支行"},{date:"2016-12-22",time:"8:30 - 10:30",courseName:"课程名称",teacherName:"刘宇超",teacherOrganization:"移动党校",teacherTitle:"高级讲师",courseType:"面授",money:"100",courseware:"无",phoneNumber:"13106752435",teacherType:"外部讲师",idNumber:"110101199010111111",bankNumber:"1234567890123456",bank:"东直门支行"},{date:"2016-12-22",time:"8:30 - 10:30",courseName:"课程名称",teacherName:"刘宇超",teacherOrganization:"移动党校",teacherTitle:"高级讲师",courseType:"面授",money:"100",courseware:"无",phoneNumber:"13106752435",teacherType:"外部讲师",idNumber:"110101199010111111",bankNumber:"1234567890123456",bank:"东直门支行"}]},{}),loadjs.d("./app/train/programme/enterpreview/index",function(e,n,a){a.title="课表预览",a.items={main:"main",courseware:"","train/programme/preview":{isModule:!0}},a.store={models:{offlineCourseList:{url:"../train/offline-course"},offlineThemeList:{url:"../train/theme/findOfflineTheme"},weeks:{data:{}},attachList:{url:"../train/offline-course/findAttach"},download:{url:"../file-deal/file/download"},files:{data:[]},preivew:{url:"../human/file"}},callbacks:{init:function(e){var n=this.models.offlineCourseList,a=this.models.offlineThemeList,t=this.models.weeks,i=this;return n.clear(),a.clear(),a.params.classId=e.classId,this.get(a,{loading:!0}).then(function(a){t.data=a[0],t.changed(),t.data.length>1&&(n.params.startDate=t.data[0].startDate,n.params.endDate=t.data[0].endDate),n.params.classId=e.classId,i.get(n)})},searchOffline:function(e){var n,a,t=this.models.weeks.data,i=this.models.offlineCourseList;n=t.findIndex(function(n){return n.id===e.id}),a=t[n],i.params.startDate=a.startDate,i.params.endDate=a.endDate,this.get(i)},showCourseware:function(e){var n=this.models.attachList,a=this.models.files;n.params.courseId=e.id,a.clear(),this.get(n).then(function(e){var n=e;a.data=n[0],a.changed()})},getPreview:function(e){var n=this.models.preivew;return n.set(e),this.get(n)}}},a.beforeRender=function(){return this.dispatch("init",{classId:this.renderOptions.classId})}},{}),loadjs.d("./app/train/programme/enterpreview/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <section class="section" data-region="main"></section>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <h2 class="title text-center layout-mb-small">\n        日程安排班级课程、讲师信息表\n        <div class="pull-right small-font">\n'+(null!=(l=a.if.call(s,null!=n?n.isShowWeeks:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'        </div>\n    </h2>\n    <table class="table train border">\n        <tr>\n            <th class="title">日期</th>\n            <th class="title">时间</th>\n            <th class="title" colspan="3">课程名称</th>\n            <th class="title min-preview">讲师名称</th>\n            <th class="title" colspan="3">讲师单位</th>\n            <th class="title min-preview">讲师职务</th>\n            <th class="title">课程类型</th>\n            \x3c!--  th.title 实付 --\x3e\n            <th class="title">课件</th>\n        </tr>\n'+(null!=(l=a.each.call(s,null!=n?n.offlineCourseList:n,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'    </table>\n    <div id="closePage" class="layout-mt-small text-center"><div class="btn">关闭预览</div></div>\n'},4:function(e,n,a,t,i){var l;return'                <select id="selectOffline" class="input tag-height" name="selectOffline">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.weeks:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"                </select>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                        <option "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.weekly||(null!=n?n.weekly:n))?s:o,"function"==typeof s?s.call(r,{name:"weekly",hash:{},data:i}):s))+"("+d((s=null!=(s=a.descr||(null!=n?n.descr:n))?s:o,"function"==typeof s?s.call(r,{name:"descr",hash:{},data:i}):s))+")</option>\n"},6:function(e,n,a,t,i){return' selected="selected"'},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c="function";return'            <tr>\n                <td class="min-width">'+d((a.date||n&&n.date||o).call(r,null!=n?n.courseDate:n,{name:"date",hash:{},data:i}))+'</td>\n                <td class="min-width">'+d((s=null!=(s=a.startTime||(null!=n?n.startTime:n))?s:o,typeof s===c?s.call(r,{name:"startTime",hash:{},data:i}):s))+"-"+d((s=null!=(s=a.endTime||(null!=n?n.endTime:n))?s:o,typeof s===c?s.call(r,{name:"endTime",hash:{},data:i}):s))+'</td>\n                <td colspan="3">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                <td>"+d((s=null!=(s=a.teacherName||(null!=n?n.teacherName:n))?s:o,typeof s===c?s.call(r,{name:"teacherName",hash:{},data:i}):s))+'</td>\n                <td colspan="3">'+d((s=null!=(s=a.teacherOrganization||(null!=n?n.teacherOrganization:n))?s:o,typeof s===c?s.call(r,{name:"teacherOrganization",hash:{},data:i}):s))+"</td>\n                <td>"+d((s=null!=(s=a.teacherTitle||(null!=n?n.teacherTitle:n))?s:o,typeof s===c?s.call(r,{name:"teacherTitle",hash:{},data:i}):s))+"</td>\n                <td>"+d((a.map||n&&n.map||o).call(r,"class-offline-type",null!=n?n.type:n,{name:"map",hash:{},data:i}))+"</td>\n                \x3c!--  td > echo(courseSalary.paidPay) --\x3e\n                <td>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.attachStatus:n,"eq",0,{name:"compare",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+'                </td>\n            </tr>\n            <tr>\n                <td class="preview-title min-preview">联系电话</td>\n                <td class="min-width">'+d((s=null!=(s=a.teacherPhone||(null!=n?n.teacherPhone:n))?s:o,typeof s===c?s.call(r,{name:"teacherPhone",hash:{},data:i}):s))+'</td>\n                <td class="preview-title min-preview">讲师类型</td>\n                <td class="min-width">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.teacherType:n,"eq",0,{name:"compare",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+'                </td>\n                <td class="preview-title min-preview"> 身份证号</td>\n                <td colspan="1">'+d(e.lambda(null!=(l=null!=n?n.courseSalary:n)?l.lecturerCard:l,n))+"</td>\n                \x3c!--  td.preview-title.min-preview  银行账号 --\x3e\n                \x3c!--  td(colspan='2') > echo(courseSalary.lecturerBankCard) --\x3e\n                \x3c!--  td.preview-title.min-preview  开户银行 --\x3e\n                \x3c!--  td(colspan='3') > echo(courseSalary.lecturerBankName) --\x3e\n            </tr>\n"},9:function(e,n,a,t,i){return"                        已上传\n                        \x3c!--  i.iconfont.icon-tag.custom-color-5.pointer(id='courseware-'+id data-name='id' data-value=id) --\x3e\n"},11:function(e,n,a,t,i){return"                        无\n"},13:function(e,n,a,t,i){return"                        内部讲师\n"},15:function(e,n,a,t,i){return"                        外部讲师\n"},17:function(e,n,a,t,i){var l;return'    <div class="list">\n        <div class="clearfix">\n            <div class="pull-left">\n                <div></div>\n                <span class="strong h4">课件</span>\n                <span>（最多上传5个）</span>\n            </div>\n        </div>\n        <table class="table border around train text-center">\n            <thead><tr>\n                <th>序号</th>\n                <th width="50%">课件名称</th>\n                <th>类型</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>\n                '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.files:n,{name:"each",hash:{},fn:e.program(18,i,0),inverse:e.program(25,i,0),data:i}))?l:"")+"\n            </tbody>\n        </table>\n    </div>\n"},18:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"<tr>\n                    <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                    <td>\n                        <label "+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+' data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.attachName||(null!=n?n.attachName:n))?s:o,"function"==typeof s?s.call(r,{name:"attachName",hash:{},data:i}):s))+"</label>\n                    </td>\n                    <td>"+d((a.map||n&&n.map||o).call(r,"class-file-type",null!=n?n.fileType:n,{name:"map",hash:{},data:i}))+"</td>\n                    <td>\n"+(null!=(l=a.if.call(r,null!=n?n.canPreview:n,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.program(23,i,0),data:i}))?l:"")+"                    </td>\n                </tr>\n"},19:function(e,n,a,t,i){var l;return' id="label-courseware-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'" class="pointer"'},21:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <i class="pointer m-right iconfont icon-preview custom-color-5" href="javascript:;" id="preview-'+o((l=null!=(l=a.attachId||(null!=n?n.attachId:n))?l:r,"function"==typeof l?l.call(s,{name:"attachId",hash:{},data:i}):l))+'" data-attachName="'+o((l=null!=(l=a.attachName||(null!=n?n.attachName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachName",hash:{},data:i}):l))+'" data-fileType="'+o((l=null!=(l=a.fileType||(null!=n?n.fileType:n))?l:r,"function"==typeof l?l.call(s,{name:"fileType",hash:{},data:i}):l))+'" title="预览"></i>\n'},23:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <a class="i pointer m-right iconfont icon-arrow-down-solid custom-color-2" href="'+o((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"downUrl",hash:{},data:i}):l))+'" download="'+o((l=null!=(l=a.attachName||(null!=n?n.attachName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachName",hash:{},data:i}):l))+'" title="下载"></a>\n'},25:function(e,n,a,t,i){return'                    <tr><td colspan="4"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <div>暂无内容</div>\n                    </div>\n                    </td></tr>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"courseware",{name:"view",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/enterpreview/view-courseware",function(e,n,a){var t,i,l=e("lodash/collection"),s=e("jquery");a.title="课件",a.bindings={files:!0,download:!1},a.dataForTemplate={files:function(e){var n=this;return l.map(e.files||[],function(e,a){var i,l=e;return i=l.attachName.split(".").pop().toLowerCase(),l.fileType=t.call(n,i),l.downUrl=n.bindings.download.getFullUrl()+"?id="+l.attachId,l.i=a+1,l.canPreview=2!==l.fileType,l.updateName=l.attachName.substring(0,l.attachName.lastIndexOf(".")),l}),e.files}},a.events={"click preview-*":"preview"},a.handlers={preview:function(e,n,a){var t=a.getAttribute("data-attachName"),l=a.getAttribute("data-fileType"),r=this.module.items["train/programme/preview"],o=this;this.module.dispatch("getPreview",{id:e}).then(function(n){var a=n[0].path;o.app.viewport.modal(r,{id:e,name:t,key:i[l],path:a,close:function(){s(".dialog-content").css("overflow-y","auto")}})})}},t=function(e){var n,a="xls,xlsx,doc,docx,ppt,pptx,txt,pdf",t="zip,rar",i="mp3",l="mp4",s="epub";return a.indexOf(e)>-1&&(n=1),t.indexOf(e)>-1&&(n=2),i.indexOf(e)>-1&&(n=3),l.indexOf(e)>-1&&(n=4),s.indexOf(e)>-1&&(n=5),n},i={1:"pdf",2:"zip",3:"audio",4:"video",5:"epub"}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/enterpreview/view-main",function(e,n,a){var t=e("lodash"),i=e("jquery");a.bindings={offlineCourseList:!0,offlineThemeList:!0},a.dataForTemplate={offlineCourseList:function(){var e=this.bindings.offlineCourseList.data;return t.map(e,function(e){return e})}},a.dataForTemplate={weeks:function(){var e,n,a=this.bindings.offlineThemeList,i=this.bindings.offlineCourseList;return e=i.params.startDate,n=i.params.endDate,t.map(a.data||[],function(a,t){var i=a;i.checked=i.startDate===e&&i.endDate===n,i.i=t+1,i.weekly="第"+i.i+"周"}),a.data},offlineCourseList:function(){return this.bindings.offlineCourseList.data},isShowWeeks:function(){return this.bindings.offlineThemeList.data.length>1}},a.events={"click closePage":"closePage"},a.handlers={closePage:function(){window.close()}},a.actions={"click courseware-*":"showCourseware","change selectOffline":"searchOffline"},a.dataForActions={searchOffline:function(){return{id:i(this.$("selectOffline")).val()}}},a.actionCallbacks={showCourseware:function(){this.app.viewport.modal(this.module.items.courseware)}}},{jquery:!1,lodash:696}),loadjs.d("./app/train/programme/evaluate-questionary/add-evaluate-questionary/steps/step-2/index",function(e,n,a){var t=e("./app/train/programme/research-activity/add-research-activity/steps/step-2/index"),i=e("drizzle-zxy"),l=e("lodash/collection"),s=i.assign({},t),r=i.assign({},s.items),o=i.assign({},s.store.callbacks),d=i.assign({},s.store.models),c=i.assign({},s.store.models.dimensions.mixin);s.items=r,i.assign(s.items,{"train/programme/evaluate-questionary/select-dimension":{isModule:!0}}),s.store.models=d,i.assign(s.store.models,{batchDimension:{url:"../exam/dimension/batch-insert"}}),s.store.models.dimensions.mixin=c,i.assign(s.store.models.dimensions.mixin,{batchInsert:function(e){var n=this,a=[];return l.forEach(e,function(e){l.find(n.data,["name",e.id])||(i.assign(e,{order:n.data.length+1}),n.data.push(e),a.push(e))}),a}}),s.store.callbacks=o,i.assign(s.store.callbacks,{saveSelectDimension:function(e){var n=this,a=this.models.dimensions;return this.models.batchDimension.set({dimensions:JSON.stringify(a.batchInsert(e.dimensions))}),this.post(this.models.batchDimension).then(function(e){n.models.dimensions.set(e[0]),n.models.dimensions.changed(),n.app.message.success("操作成功！")})}}),n.exports=s},{"./app/train/programme/research-activity/add-research-activity/steps/step-2/index":"./app/train/programme/research-activity/add-research-activity/steps/step-2/index","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/evaluate-questionary/add-evaluate-questionary/steps/step-2/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="newevaluation" data-region="main"></div>\n    \x3c!--  .newevaluation(data-region=\'side\') --\x3e\n'},3:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{};return'    <div class="page-main-wrapper layout-mb-small">\n        <div class="page-side">\n            <div class="clearfix m-bottom">\n                <span class="h3 pull-left test-list strong">内容列表</span>\n                \x3c!--  select.pull-right.test-list --\x3e\n                \x3c!--      option 多维度 --\x3e\n                \x3c!--      option 单维度 --\x3e\n            </div>\n            <div class="clearfix m-bottom">\n                <span class="h4 pull-left test-list strong">维度管理</span>\n            </div>\n            <div class="layout-mt-small border bottom"><div class="m-bottom">\n                <a id="select-dimension" class="decoration-none m-bottom">选择</a>\n                <span class="sub-text m-left m-right">|</span>\n                <a id="add-dimension" class="decoration-none">新增</a>\n                <span class="sub-text m-left m-right">|</span>\n                <a id="edit-dimension" class="decoration-none">编辑</a>\n                <span class="sub-text m-left m-right">|</span>\n                <a id="delete-dimension" class="decoration-none">删除</a>\n            </div></div>\n            <ul class="radio-item">'+(null!=(r=a.each.call(o,null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'</ul>\n            <div class="btn-item layout-mt text-center">\n                <div class="clearfix m-bottom">\n                    <span class="h4 pull-left test-list strong">新增试题</span>\n                </div>\n                <div class="clearfix border bottom m-bottom">\n                    <div id="question-1" class="pull-left m-right m-bottom pointer">\n                        <span>单选</span>\n                        <i class="iconfont icon-add-full custom-color-4"></i>\n                    </div>\n                    <div id="question-5" class="pull-left m-right m-left m-bottom pointer">\n                        <span>问答</span>\n                        <i class="iconfont icon-add-full custom-color-4"></i>\n                    </div>\n                    <div id="import" class="pull-left m-left pointer">\n                        <span>导入</span>\n                        <i class="iconfont icon-add-full custom-color-4"></i>\n                    </div>\n                </div>\n            </div>\n            <div class="text-center"><div id="preview" class="btn small">预览</div></div>\n        </div>\n        <div class="page-main">\n            <h3>'+e.escapeExpression(e.lambda(null!=(r=null!=n?n.research:n)?r.name:r,n))+'</h3>\n            <div class="temporarypaper2-page"><form class="form align-left">\n                <ul class="layout-mt-small border around question-list">'+(null!=(r=a.each.call(o,null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(9,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"</ul>\n            </form></div>\n        </div>\n    </div>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'\n                <li class="clearfix m-top">\n                    <div class="pull-left">\n                        <input '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" id="d-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" name="dimension-radio" value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                        <label class="small-font">'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'</label>\n                    </div>\n                    <div class="pull-right">\n                        <i class="pointer m-right iconfont icon-arrow-up-solid custom-color-2" id="up-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"></i>\n                        <i class="pointer m-right iconfont icon-arrow-down-solid custom-color-2" id="down-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"></i>\n                    </div>\n                </li>\n                <div class="m-top">'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n            "},5:function(e,n,a,t,i){return' checked="checked"'},7:function(e,n,a,t,i){var l;return'\n                    <span class="choice m-top">'+e.escapeExpression((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"questionIndex",hash:{},data:i}):l))+"</span>\n                "},9:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{};return"\n"+(null!=(r=(a.compare||n&&n.compare||a.helperMissing).call(o,null!=n?n.isEmpty:n,"ne",1,{name:"compare",hash:{},fn:e.program(10,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=a.each.call(o,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(12,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"                "},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <div class="h4 m-bottom m-left m-top">\n                            <span>'+o((l=null!=(l=a.dimensionIndex||(null!=n?n.dimensionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"dimensionIndex",hash:{},data:i}):l))+"</span>\n                            <span>"+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+"</span>\n                        </div>\n"},12:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.escapeExpression;return'                        <li class="m-top test-box test-1">\n                            <spqn class="heading pull-left m-right">'+u((o=null!=(o=a.questionIndex||(null!=n?n.questionIndex:n))?o:c,"function"==typeof o?o.call(d,{name:"questionIndex",hash:{},data:i}):o))+'</spqn>\n                            <div data-dynamic-key="'+u((o=null!=(o=a.id||(null!=n?n.id:n))?o:c,"function"==typeof o?o.call(d,{name:"id",hash:{},data:i}):o))+'"></div>\n                        </li>\n                        <div class="layout-mt-small clearfix">\n                            <div class="icons w-full text-right">\n'+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=n?n.questionIndex:n,"ne",1,{name:"compare",hash:{},fn:e.program(13,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=s[1]?s[1].questionsLength:s[1],"ne",null!=n?n.questionIndex:n,{name:"compare",hash:{},fn:e.program(15,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'                                <i class="pointer m-right iconfont icon-edit-solid custom-color-4" id="edit-question-'+u((o=null!=(o=a.id||(null!=n?n.id:n))?o:c,"function"==typeof o?o.call(d,{name:"id",hash:{},data:i}):o))+'"></i>\n                                <i class="iconfont icon-trash pointer" id="delete-question-'+u((o=null!=(o=a.id||(null!=n?n.id:n))?o:c,"function"==typeof o?o.call(d,{name:"id",hash:{},data:i}):o))+'"></i>\n                            </div>\n                        </div>\n'},13:function(e,n,a,t,i){var l;return'                                    <i class="pointer m-right iconfont icon-arrow-up-solid custom-color-2" id="up-question-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></i>\n'},15:function(e,n,a,t,i){var l;return'                                    <i class="pointer m-right iconfont icon-arrow-down-solid custom-color-2" id="down-question-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></i>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i,l,s){var r,o,d,c=null!=n?n:{},u=a.helperMissing,m="";return o=null!=(o=a.module||(null!=n?n.module:n))?o:u,d={name:"module",hash:{},fn:e.program(1,i,0,l,s),inverse:e.noop,data:i},r="function"==typeof o?o.call(c,d):o,a.module||(r=a.blockHelperMissing.call(n,r,d)),null!=r&&(m+=r),m+(null!=(r=(a.view||n&&n.view||u).call(c,"main",{name:"view",hash:{},fn:e.program(3,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"\x3c!--  view('side') --\x3e\n\x3c!--      .page-side --\x3e\n\x3c!--          .clearfix --\x3e\n\x3c!--              span.h4.pull-left.test-list 试题列表 --\x3e\n\x3c!--              select.pull-right.test-list --\x3e\n\x3c!--                  option 多维度 --\x3e\n\x3c!--                  option 单维度 --\x3e\n\x3c!--          .side-item.m-top --\x3e\n\x3c!--              a#add-dimension 新增 --\x3e\n\x3c!--              span | --\x3e\n\x3c!--              a#edit-dimension 编辑 --\x3e\n\x3c!--              span | --\x3e\n\x3c!--              a#delete-dimension 删除 --\x3e\n\x3c!--          ul.radio-item > each(dimensions) --\x3e\n\x3c!--              li.clearfix.m-top --\x3e\n\x3c!--                  .pull-left --\x3e\n\x3c!--                      input(type='radio' id='d-' + id name='dimension-radio' value=id)('checked')&if(checked) --\x3e\n\x3c!--                      label.small-font > echo(name) --\x3e\n\x3c!--                  .pull-right --\x3e\n\x3c!--                      i.pointer.m-right.iconfont.icon-arrow-up-solid.gray-font(id='down-' + id) --\x3e\n\x3c!--                      i.pointer.m-right.iconfont.icon-arrow-down-solid.custom-color-4(id='up-' + id) --\x3e\n\x3c!--              .m-top > each(questions) --\x3e\n\x3c!--                  span.choice.m-top > echo(questionIndex) --\x3e\n\x3c!--          .btn-item.layout-mt --\x3e\n\x3c!--              .tag-btn.radius.pull-left#question-1 --\x3e\n\x3c!--                  | +单选 --\x3e\n\x3c!--              .tag-btn.radius.pull-right#question-2 --\x3e\n\x3c!--                  | +多选 --\x3e\n\x3c!--              .tag-btn.radius.pull-left#question-5 --\x3e\n\x3c!--                  | +问答 --\x3e\n\x3c!--              .tag-btn.radius.pull-right#import --\x3e\n\x3c!--                  | +导入 --\x3e\n\x3c!--          .btn.m-top.w-full.gray#preview 预览 --\x3e\n"},useData:!0,useDepths:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/evaluate-questionary/add-evaluate-questionary/steps/step-2/view-main",function(e,n,a){var t=e("./app/train/programme/research-activity/add-research-activity/steps/step-2/view-main"),i=e("drizzle-zxy"),l=i.assign({},t),s=i.assign({},l.events),r=i.assign({},l.handlers);i.assign(l,{HIDE_SCORE:!1,OPTION_SCORE_MODE:1,SOURCE_TYPE:4,QUESTIONARY_TYPE:3}),l.events=s,i.assign(l.events,{"click select-dimension":"selectDimension"}),l.handlers=r,i.assign(l.handlers,{selectDimension:function(){var e=this.module.items["train/programme/evaluate-questionary/select-dimension"],n=this;this.app.viewport.modal(e,{callback:function(e){return n.module.dispatch("saveSelectDimension",{dimensions:e})}})}}),n.exports=l},{
"./app/train/programme/research-activity/add-research-activity/steps/step-2/view-main":"./app/train/programme/research-activity/add-research-activity/steps/step-2/view-main","drizzle-zxy":!1}),loadjs.d("./app/train/programme/evaluate-questionary/select-dimension/index",function(e,n,a){a.title="选择维度",a.items={content:"content",toolbox:"toolbox"},a.store={models:{wei:{url:"../train/configuration-value/wei",type:"pageable",root:"items"},state:{data:[]},search:{data:{},mixin:{}}},callbacks:{refreshList:function(e){var n=this.models.wei,a=this.models.search;return a.clear(),n.clear(),a.set(e),n.params=e,a.changed(),this.get(n,{loading:!0})},searchKey:function(e){var n=this.models.wei,a=this.models.search;a.clear(),n.clear(),a.set(e),n.params=e,a.changed(),this.get(n)}}},a.buttons=[{text:"确认",fn:function(){var e=this.store.models.state.data;this.renderOptions.callback(e),this.store.models.state.data=[]}}],a.mixin={nodeChanged:function(){this.store.models.search.changed(),this.dispatch("refreshList")}},a.beforeRender=function(){return this.dispatch("refreshList",{})}},{}),loadjs.d("./app/train/programme/evaluate-questionary/select-dimension/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="toolbox"></div>\n    <div data-region="content"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'<form id="searchKey" class="vertical">\n    <div class="filter-row train-small">\n        <div class="filter-item">\n            <label>维度名称</label>\n            <input class="input" style="width:190px;" name="name" value="'+r(s(null!=(l=null!=n?n.search:n)?l.name:l,n))+'"/>\n        </div>\n        <div class="filter-item">\n            <label>创建时间</label>\n            <input id="createTime" class="input" style="width:190px;" name="createTime" value="'+r(s(null!=(l=null!=n?n.search:n)?l.createTime:l,n))+'"/>\n        </div>\n        <div class="filter-item">\n            <div id="search" class="btn">查询</div>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l;return'    <div class="layout-mt-small">\n        <table class="table text-center train border around">\n            <thead><tr>\n                <th>\n                    <input type="checkbox" id="check-all"/>\n                    <label for="check-all"></label>\n                </th>\n                <th>维度名称</th>\n                <th>业务类型</th>\n                <th>创建人</th>\n            </tr></thead>\n            <tbody>\n                '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.wei:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+'\n            </tbody>\n        </table>\n        <div id="pager" class="pagination" style="float:none"></div>\n    </div>\n'},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'<tr>\n                    <td>\n                        <input type="checkbox" id="check-item'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" name="conId" value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" weiName="'+d((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,typeof l===o?l.call(s,{name:"name",hash:{},data:i}):l))+'"/>\n                        <label for="check-item'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'"></label>\n                    </td>\n                    <td>'+d((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,typeof l===o?l.call(s,{name:"name",hash:{},data:i}):l))+"</td>\n                    <td>评估</td>\n                    <td>"+d((l=null!=(l=a.mName||(null!=n?n.mName:n))?l:r,typeof l===o?l.call(s,{name:"mName",hash:{},data:i}):l))+"</td>\n                </tr>\n"},8:function(e,n,a,t,i){return'                    <tr><td colspan="4"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"toolbox",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/evaluate-questionary/select-dimension/view-content",function(e,n,a){var t=e("lodash/collection");a.components=[{id:"pager",name:"pager",options:{model:"wei"}}],a.title="选择维度",a.bindings={wei:!0,state:!1},a.events={"click check-all":"checkAll","click check-item*":"checkItem"},a.handlers={checkAll:function(e,n){var a=this.bindings.wei.data,t=[],i=this;this.bindings.state.clear(),this.$$('input[name="conId"]').forEach(function(e){(e||{}).checked=n.checked}),a.forEach(function(e){n.checked&&t.push({id:e.id,name:e.name})}),i.bindings.state.changed(),this.bindings.state.data=t},checkItem:function(e,n,a){var t=this.bindings.state.data,i=e,l=0,s=a.getAttribute("weiName");if(a.checked)t.push({id:i,name:s});else for(l;l<t.length;l++)if(t[l].id===i){t.splice(l,1);break}}},a.dataForTemplate={wei:function(e){var n=this.bindings.wei.getPageInfo().page;return t.map(e.wei||[],function(e,a){e.i=a+1+10*(n-1)}),e.wei}},a.searchChange=function(){this.module.dispatch("refreshList",this.bindings.search.getQueryParams())}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/evaluate-questionary/select-dimension/view-toolbox",function(e,n,a){var t=e("jquery");a.bindings={search:!0,state:!0},a.actions={"click search":"refreshList","keypress searchKey":"searchKey"},a.components=[{id:"createTime",name:"flatpickr",options:{mode:"range"}}],a.dataForActions={refreshList:function(){var e=t(this.$$('[name="createTime"]')).val();return(!e.trim()||-1!==e.indexOf("to"))&&{name:t(this.$$('[name="name"]')).val().trim(),createTime:t(this.$$('[name="createTime"]')).val().trim()}},searchKey:function(e,n){var a=n.keyCode||n.which||n.charCode,i=t(this.$$('[name="createTime"]')).val();return 13===a&&((!i.trim()||-1!==i.indexOf("to"))&&{name:t(this.$$('[name="name"]')).val().trim(),createTime:t(this.$$('[name="createTime"]')).val().trim()})}}},{jquery:!1}),loadjs.d("./app/train/programme/evaluate-questionary/select-evaluate-questionary/add-research-refrence/index",function(e,n,a){var t=e("./app/train/programme/research-activity/add-research-third-party/index"),i=e("drizzle-zxy"),l=i.assign({},t);i.assign(l,{RESEARCH_TYPE:3}),n.exports=l},{"./app/train/programme/research-activity/add-research-third-party/index":"./app/train/programme/research-activity/add-research-third-party/index","drizzle-zxy":!1}),loadjs.d("./app/train/programme/evaluate-questionary/select-evaluate-questionary/add-research-refrence/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="newevaluation-page">\n    <div class="newevaluation" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'<form>\n    <div class="form align-left">\n        <div class="form-row r-padding">\n            <label class="required">评估名称</label>\n            <input id="name" class="input" name="name" value="'+r(s(null!=(l=null!=n?n.research:n)?l.name:l,n))+'"/><span id="checkName"></span>\n        </div>\n        <div class="form-row pull-left r-padding w-half">\n            <label class="required">开始时间</label>\n            <input class="input" id="start-time" name="startTime" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.time:n)?l.startTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n        </div>\n        <div class="form-row pull-left r-padding w-half">\n            <label class="required">结束时间</label>\n            <input class="input" id="end-time" name="endTime" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.time:n)?l.endTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n        </div>\n        <div class="form-row r-padding">\n            <label>问卷须知</label>\n            <textarea class="input" name="questionaryDetail" id="questionaryDetail" placeholder="问卷须知..." rows="4">'+r(s(null!=(l=null!=n?n.research:n)?l.questionaryDetail:l,n))+'</textarea>\n        </div>\n    </div>\n    <div data-dynamic-key=""></div>\n</form>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/evaluate-questionary/select-evaluate-questionary/add-research-refrence/view-main",function(e,n,a){var t=e("./app/train/programme/research-activity/add-research-third-party/view-main"),i=e("drizzle-zxy"),l=i.assign({},t);i.assign(l,{ADD_QUESTIONARY:"train/programme/evaluate-questionary/add-evaluate-questionary/steps/step-2"}),n.exports=l},{"./app/train/programme/research-activity/add-research-third-party/view-main":"./app/train/programme/research-activity/add-research-third-party/view-main","drizzle-zxy":!1}),loadjs.d("./app/train/programme/evaluate-questionary/select-evaluate-questionary/index",function(e,n,a){var t=e("./app/train/programme/select-research-activity/index"),i=e("drizzle-zxy"),l=i.assign({},t),s=i.assign({},l.items);l.items=s,i.assign(l.items,{"train/programme/evaluate-questionary/select-evaluate-questionary/add-research-refrence":{isModule:!0}}),i.assign(l,{title:function(){return"添加评估"},SELECT_MODULE:"train/programme/evaluate-questionary/select-evaluate-questionary/add-research-refrence",RESEARCH_TYPE:3}),n.exports=l},{"./app/train/programme/select-research-activity/index":"./app/train/programme/select-research-activity/index","drizzle-zxy":!1}),loadjs.d("./app/train/programme/evaluate-questionary/select-evaluate-questionary/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="addevaluation-page">\n    <div class="addevaluation" data-region="search"></div>\n    <div class="addevaluation" data-region="content"></div>\n</div>'},3:function(e,n,a,t,i){return'    <div>\n        <div class="form align-left">\n            <div class="form-row pull-left w-half r-padding row-block">\n                <label class="label tag-height">评估名称</label>\n                <input id="name" class="input tag-height" name="name"/>\n            </div>\n            <div class="form-row pull-left w-half row-block">\n                <label class="label tag-height">发布人</label>\n                <input id="publishMemberName" class="input tag-height" name="publishMember"/>\n            </div>\n            <label class="label tag-height">发布时间</label>\n            <input id="create-time" class="input date w-full tag-height" name="createTime"/>\n        </div>\n        <div class="pull-right m-top m-bottom"><div id="search" class="btn small">查询</div></div>\n    </div>\n'},5:function(e,n,a,t,i){var l;return'    <table class="table layout-mt-small text-center train border around">\n        <thead><tr>\n            <th>选择</th>\n            <th>评估名称</th>\n            <th>发布人</th>\n            <th>发布时间</th>\n            <th>操作</th>\n        </tr></thead>\n        <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.researchActivities:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'</tbody>\n    </table>\n    <div id="pager" class="pagination"></div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n            <tr>\n                <td><input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="select-research" value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"/></td>\n                <td>'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                <td>"+d(e.lambda(null!=(l=null!=n?n.publishMember:n)?l.fullName:l,n))+"</td>\n                <td>"+d((a.dateTime||n&&n.dateTime||o).call(r,null!=n?n.publishTime:n,{name:"dateTime",hash:{},data:i}))+'</td>\n                <td>\n                    <span class="text-main-color pointer" id="preview-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+"\">预览</span>\n                    \x3c!--  a(href='#/train/programme/research-activity/preview-questionary/' + id target='_blank') 预览 --\x3e\n                </td>\n"},7:function(e,n,a,t,i){return' checked="checked"'},9:function(e,n,a,t,i){return'                <tr><td colspan="5"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容</p>\n                </div>\n                </td></tr>\n            </tr>\n        '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/evaluate-questionary/select-evaluate-questionary/view-content",function(e,n,a){var t=e("./app/train/programme/select-research-activity/view-content"),i=e("drizzle-zxy"),l=i.assign({},t);n.exports=l},{"./app/train/programme/select-research-activity/view-content":"./app/train/programme/select-research-activity/view-content","drizzle-zxy":!1}),loadjs.d("./app/train/programme/evaluate-questionary/select-evaluate-questionary/view-search",function(e,n,a){var t=e("./app/train/programme/select-research-activity/view-search"),i=e("drizzle-zxy"),l=i.assign({},t);n.exports=l,i.assign(l,{components:[{id:"create-time",name:"flatpickr",options:{mode:"range",enableTime:!0}}]}),n.exports=l},{"./app/train/programme/select-research-activity/view-search":"./app/train/programme/select-research-activity/view-search","drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/askbarevent",function(e,n,a){var t=e("drizzle-zxy"),i=t.assign({},{currentID:"",createMember:null,isSetEncrypt:1,isSetEncryptOwner:!1,catalogueID:[]});a.askEvents={EXAM_ENCRYPT_CATALOGUE:"exam.encrypt.catalogue"},a.commonEncryptData={tree:i,add:i,exam:i},a.commonEncryptDataExam={select:i,add:i,random:i},a.showEncryptionFrom=function(e,n,a,i){var l={},s=null,r="",o=e&&e.data||e||{},d=this.commonEncryptData,c="",u=null;switch(n){case"add":t.assign(d.add,o),l=d.add,r=i?l.parentId:l.id,s=l.catalogueID.indexOf(r)<0&&d.tree.catalogueID.indexOf(r)<0&&d.exam.catalogueID.indexOf(r)<0;break;case"tree":t.assign(d.tree,o),l=d.tree,r=l.id,s=l.catalogueID.indexOf(r)<0&&d.exam.catalogueID.indexOf(r)<0&&d.add.catalogueID.indexOf(r)<0;break;case"exam":t.assign(d.exam,o),l=d.exam,r=l.id,s=l.catalogueID.indexOf(r)<0&&d.tree.catalogueID.indexOf(r)<0&&d.add.catalogueID.indexOf(r)<0;break;default:l=d.tree,r=l.id,s=l.catalogueID.indexOf(r)<0&&d.exam.catalogueID.indexOf(r)<0&&d.add.catalogueID.indexOf(r)<0}return i?(c=l.parentCreateMember,u=l.parentIsSetEncrypt):(c=l.createMember,u=l.isSetEncrypt),l.currentID||(l.currentID=a.global.currentUser.id),l.currentID!==c?l.isSetEncryptOwner=!1:l.isSetEncryptOwner=!0,!(1!==u||!1!==l.isSetEncryptOwner||!s)},a.showEncryptionFromExam=function(e,n,a){var i={},l=null,s="",r=e.data||e,o=this.commonEncryptDataExam;switch(n){case"select":t.assign(o.select,r),i=o.select,s=i.id,l=i.catalogueID.indexOf(s)<0&&o.add.catalogueID.indexOf(s)<0&&o.random.catalogueID.indexOf(s)<0;break;case"add":t.assign(o.add,r),i=o.add,s=i.id,l=i.catalogueID.indexOf(s)<0&&o.select.catalogueID.indexOf(s)<0&&o.random.catalogueID.indexOf(s)<0;break;case"random":t.assign(o.random,r),i=o.random,s=i.id,l=i.catalogueID.indexOf(s)<0&&o.select.catalogueID.indexOf(s)<0&&o.add.catalogueID.indexOf(s)<0;break;default:t.assign(o.select,r),i=o.select,s=i.id,l=i.catalogueID.indexOf(s)<0&&o.add.catalogueID.indexOf(s)<0}return i.currentID||(i.currentID=a.global.currentUser.id),i.currentID!==i.createMember?i.isSetEncryptOwner=!1:i.isSetEncryptOwner=!0,!(1!==i.isSetEncrypt||!1!==i.isSetEncryptOwner||!l)},a.initEncryptDataFn=function(){var e=t.assign({},{currentID:"",createMember:null,isSetEncrypt:1,isSetEncryptOwner:!1,catalogueID:[]});this.commonEncryptData={tree:e,add:e,exam:e}},a.initEncryptDataExamFn=function(){var e=t.assign({},{currentID:"",createMember:null,isSetEncrypt:1,isSetEncryptOwner:!1,catalogueID:[]});this.commonEncryptDataExam={select:e,add:e,random:e}}},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/catalogue-encryption-form/index",function(e,n,a){var t=e("jquery");a.title="提示",a.items={main:"main"},a.large=!1,a.store={models:{state:{}},callbacks:{handlePreserve:function(e){var n=this.module.renderOptions,a=n.callback,t=e.data.encrypt===n.encrypt;return a&&a(t),!!t||(this.app.message.error("您输入的密码错误，请重试"),!1)}}},a.buttons=[{text:"确认",fn:function(e){return!!this.validate()&&this.dispatch("handlePreserve",{data:e})}}],a.mixin={validate:function(){return this.items.main.validateEle(t(".encryptionPassword")[0],["checkExamCataloguePassword:长度应该为6,只能填数字和大写字母组合"])}}},{jquery:!1}),loadjs.d("./app/train/programme/exam/catalogue-encryption-form/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l;return'<form class="form" style="padding-bottom: 30px;">\n    <div class="form-row col-sm-12">\n        <label class="label" style="width: 20%">请输入加密密码</label>\n        <div class="content" style="margin-left: 21%;padding-right: 11%;">\n            <input class="input encryptionPassword" name="encrypt" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.encrypt:l,n))+'" id="encryptionPassword"/>\n        </div>\n    </div>\n</form>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/catalogue-encryption-form/view-main",function(e,n,a){a.type="form",a.bindings={state:!0}},{}),loadjs.d("./app/train/programme/exam/exam-edit/steps/step-4/index",function(e,n,a){var t,i=e("lodash/collection"),l=e("drizzle-zxy");a.items={main:"main",mark:"mark","train/programme/exam/paper/select-paper":{isModule:!0},"train/programme/exam/paper/preview-paper":{isModule:!0},"train/programme/exam/paper/add-paper":{isModule:!0},"train/programme/exam/question/random-question":{isModule:!0}},a.store={models:{exam:{},paperClass:{url:"../exam/paper-class"},markConfig:{mixin:{getRemoteMarkConfig:function(e){return i.filter(e,["examRoomId",null])}}}},callbacks:{selectPaperId:function(e){return this.models.paperClass.clear(),l.assign(this.models.paperClass.params,{paperId:e}),this.get(this.models.paperClass)},selectPaper:function(e){this.models.paperClass.data=e,this.models.paperClass.changed()},setData:function(e){l.assign(this.models.exam.data,e),this.models.exam.changed()},saveIndefinite:function(e){l.assign(this.models.exam.data,e),this.models.exam.changed()}}},a.beforeRender=function(){var e=this.renderOptions.exam,n=this.store.models.markConfig,a=e.markConfig||e.markConfigs;n.set(a),this.store.models.exam.set(e),this.store.models.paperClass.set(e.paperClass||{})},a.mixin={getData:function(){var e=this.store.models.paperClass.data,n=this.store.models.markConfig.data;return e&&e.id?{paperClass:e,markConfig:n,anonymityMark:"0",paperClassId:e.id}:null},isValidator:function(){var e=function(){var e=this.store.models.paperClass.data;return!(100*this.store.models.exam.data.passScore>e.totalScore&&(this.app.message.error("及格分数不得大于试卷总分"),1))};return this.items.main.validate()&&t.call(this)&&e.call(this)},setData:function(e){return this.dispatch("setData",e)}},t=function(){var e=this.store.models.paperClass.data.isSubjective,n=this.store.models.markConfig.data;return!(1===Number(e)&&!function(e){var n;if(!e)return!1;if("string"==typeof e){if(n=JSON.parse(e),n.markPapers&&n.markPapers.length>0)return n.markPapers[0].markMembers.length>0;if(n.markQuestionTypes&&n.markQuestionTypes.length>0)return i.every(n.markQuestionTypes,function(e){return e.markMembers.length>0});if(n.markQuestions&&n.markQuestions.length>0)return i.every(n.markQuestions,function(e){return e.markMembers.length>0})}return!0}(n))||(this.app.message.error("请完整配置评卷老师信息"),!1)}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/exam-edit/steps/step-4/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n    <div data-region="mark"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'    <div class="test">\n        <div class="clearfix layout-mt-small">\n            <div class="pull-left">\n                <div id="add-temp-paper" class="btn btn  '+(null!=(l=a.if.call(s,null!=n?n.previousStatusIsStarting:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'">\n                    <i class="iconfont icon-note m-right"></i>\n                    <span>组卷</span>\n                </div>\n                <div id="add-tactic" class="btn btn  '+(null!=(l=a.if.call(s,null!=n?n.previousStatusIsStarting:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'">\n                    <i class="iconfont icon-note m-right"></i>\n                    <span>随机组卷</span>\n                </div>\n                <input id="paperClassId" class="input" type="hidden" name="paperClassId" value="'+o(r(null!=(l=null!=n?n.paperClass:n)?l.id:l,n))+'" x-rule="required" x-marker="show-error" x-message="请选择试卷"/>\n            </div>\n            <div class="pull-right">\n'+(null!=(l=a.if.call(s,null!=n?n.showRandomType:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.isPaperTactic:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+'                <div id="preview-paper" class="small-btn">预览</div>\n            </div>\n        </div>\n    </div>\n    <table class="table layout-mt-small text-center train border around">\n        <thead><tr>\n            <th>\n            类型</th>\n'+(null!=(l=a.each.call(s,null!=n?n.paperCount:n,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+"            <th>\n            共计</th>\n        </tr></thead>\n        <tbody><tr>\n            <th>\n            数量</th>\n"+(null!=(l=a.each.call(s,null!=n?n.paperCount:n,{name:"each",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+"            <td>"+o(r(null!=(l=null!=n?n.paperCount:n)?l.count:l,n))+"</td>\n        </tr></tbody>\n        <tbody><tr>\n            <th>\n            分数</th>\n"+(null!=(l=a.each.call(s,null!=n?n.paperCount:n,{name:"each",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+"            <td>"+o(r(null!=(l=null!=n?n.paperCount:n)?l.score:l,n))+"</td>\n        </tr></tbody>\n    </table>\n"+(null!=(l=a.if.call(s,null!=n?n.showPaperShowRule:n,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.showPaperIndefinite:n,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")},4:function(e,n,a,t,i){return"disabled"},6:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                    <div class="pull-left m-right tag-height"><select id="randomType" class="input select" name="randomType" style="min-width:12em;">\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.randomType1:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">每次试卷相同</option>\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.randomType2:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">每次试卷随机</option>\n                    </select></div>\n'},7:function(e,n,a,t,i){return' selected="selected"'},9:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                    <select id="paperSortRule" class="input select m-right" disabled="disabled" style="min-width:12em;">\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.paperSortRule1:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">默认顺序</option>\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.paperSortRule2:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">试题打乱顺序</option>\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.paperSortRule3:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">选项打乱顺序</option>\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.paperSortRule4:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="4">试题及选项打乱顺序</option>\n                    </select>\n                    <input type="hidden" name="paperSortRule" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.exam:n)?l.paperSortRule:l,n))+'"/>\n'},11:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                    <select id="paperSortRule" class="input select m-right" name="paperSortRule">\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.paperSortRule1:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">默认顺序</option>\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.paperSortRule2:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">试题打乱顺序</option>\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.paperSortRule3:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">选项打乱顺序</option>\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.paperSortRule4:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="4">试题及选项打乱顺序</option>\n                    </select>\n'},13:function(e,n,a,t,i){var l;return"                <th>"+e.escapeExpression((l=null!=(l=a.name||(null!=n?n.name:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"name",hash:{},data:i}):l))+"</th>\n"},15:function(e,n,a,t,i){var l;return"                <td>"+e.escapeExpression((l=null!=(l=a.count||(null!=n?n.count:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"count",hash:{},data:i}):l))+"</td>\n"},17:function(e,n,a,t,i){var l;return"                <td>"+e.escapeExpression((l=null!=(l=a.score||(null!=n?n.score:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"score",hash:{},data:i}):l))+"</td>\n"},19:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <label class="com-title">考卷显示规则</label>\n        <label><div class="row"><div class="col-sm-5">\n            <select id="paperShowRule" class="input" name="paperShowRule">\n                <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.paperShowRule1:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">一屏一题显示(采用左右切换方式,客观题选择后,即自动切换下一题)</option>\n                <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.paperShowRule2:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">所有题目一并显示（采用上下滚动的方式）</option>\n            </select>\n        </div>\n        </div></label>\n'},21:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <div class="form col">\n            <div class="form-row row-block text-left">\n                <label class="com-title required" style="white-space: nowrap;width: 9.5em;margin-right: 20px;display: inline-block;text-align: left;">是否开启不定项选择</label>\n                <div class="content inline-block" style="width: 60%;">\n                    <select id="indefinite" class="input" '+(null!=(l=a.if.call(s,null!=n?n.previousStatusIsStarting:n,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+' name="indefinite" x-marker="selectize" x-rule="required">\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.indefinite0:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="0">否</option>\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.indefinite1:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">是</option>\n                    </select>\n                </div>\n                <div class="text-tips">开启不定项选择，对系统内单选、多选均生效，不包含阅读理解内单选、多选题。</div>\n            </div>\n        </div>\n'},22:function(e,n,a,t,i){return' disabled="disabled"'},24:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.hasSubjective:n,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:""},25:function(e,n,a,t,i){return'        <div data-dynamic-key="mark"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"mark",{name:"view",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/exam-edit/steps/step-4/view-main",function(e,n,a){var t=e("./app/util/maps"),i=t["question-types"],l=e("drizzle-zxy"),s=e("lodash/collection"),r=[{id:1,type:1,name:"单选"},{id:2,type:2,name:"多选"},{id:3,type:3,name:"判断"},{id:4,type:8,name:"排序"},{id:6,type:4,name:"填空"},{id:7,type:5,name:"问答"},{id:8,type:6,name:"阅读理解"}],o=e("jquery"),d=e("./app/ext/views/form/markers");a.bindings={exam:!0,paperClass:!0},a.events={"click add-temp-paper":"addPaper","click preview-paper":"previewPaper","click add-tactic":"addTactic","change indefinite":"saveIndefinite"},a.handlers={addPaper:function(){
var e,n=this.module.items["train/programme/exam/paper/add-paper"],a=this;this.bindings.paperClass.data&&2===this.bindings.paperClass.data.type&&(e=this.bindings.paperClass.data.id),this.app.viewport.modal(n,{id:e,paperName:a.bindings.exam.data.name,type:2,isOtherModuleType:a.module.renderOptions.isOtherModuleType,organizationId:a.module.renderOptions.organizationId,callback:function(e){return a.module.dispatch("selectPaperId",e)}})},previewPaper:function(){var e=this.bindings.paperClass.data,n=e&&e.id,a=e&&e.type,t=this.bindings.exam.data,i=this.module.items["train/programme/exam/paper/preview-paper"];return 3===a?(this.app.message.error("随机组卷不提供预览 "),!1):n?this.app.viewport.modal(i,{paperId:n,exam:l.assign(t,{paperSortRule:o(this.$$('[name="paperSortRule"]')).val(),paperShowRule:o(this.$$('[name="paperShowRule"]')).val()||t.paperShowRule,indefinite:Number(o(this.$$('[name="indefinite"]')).val())||0})}):(this.app.message.error("没有试卷内容"),!0)},addTactic:function(){var e,n=this,a=this.bindings.exam.data,t=this.bindings.paperClass,i=this.app.global.currentUser;t.data&&3===t.data.type&&(e=t.data.id),n.app.viewport.modal(n.module.items["train/programme/exam/question/random-question"],{paperClassId:e,demanOrganizationId:this.module.renderOptions.organizationId,organizationId:a.organizationId||i.organization.id,callback:function(e){return n.module.dispatch("selectPaperId",e)}})},saveIndefinite:function(){return this.module.dispatch("saveIndefinite",{indefinite:o(this.$$('[name="indefinite"]')).val()})}},a.dataForTemplate={paperCount:function(e){var n,a,t,l,o=e.paperClass,d=s.map(s.orderBy(r,["id","asc"]),function(e){return{count:"-",name:e.name,score:"-",type:e.type}});return o&&(n=o.paperClassQuestions,a=o.paperClassTactics,t={count:0,score:0},3===o.type?a.forEach(function(e){var n=e.score,a=e.type,l=e.amount,s=t[a]||{score:0,count:0,name:i[a]};s.score+=n*l/100,s.count+=l,t[a]=s,t.score+=n*l/100,t.count+=l}):n&&n.forEach(function(e){var n=e.score,a=e.question&&e.question.type,l=t[a]||{score:0,count:0,name:i[a]};l.score+=n/100,l.count++,t[a]=l,t.count++,t.score+=n/100})),l=s.map(d,function(e){var n=t[e.type];return n||e}),l.count=t.count,l.score=t.score,l},checked:function(e){var n=e.exam;return{paperShowRule1:""+n.paperShowRule=="1",paperShowRule2:""+n.paperShowRule=="2",paperSortRule1:""+n.paperSortRule=="1",paperSortRule2:""+n.paperSortRule=="2",paperSortRule3:""+n.paperSortRule=="3",paperSortRule4:""+n.paperSortRule=="4",randomType1:""+n.randomType=="1",randomType2:""+n.randomType=="2",indefinite0:0===Number(n.indefinite),indefinite1:1===Number(n.indefinite)}},showPaperShowRule:function(){return 1!==this.module.renderOptions.hidePaperShowRule},previousStatusIsStarting:function(e){return e.exam.previousStatus&&5===e.exam.previousStatus},isPaperTactic:function(e){return 3===e.paperClass.type},showRandomType:function(e){var n=e.paperClass;return n&&n.type&&3===n.type},showPaperIndefinite:function(e){var n,a=e.paperClass,t=!1;return 3===a.type&&a.paperClassTactics&&a.paperClassTactics.length>0?n=s.find(a.paperClassTactics,function(e){return 1===e.type||2===e.type}):2===a.type&&a.paperClassQuestions&&a.paperClassQuestions.length>0&&(n=s.find(a.paperClassQuestions,function(e){return 1===e.question.type||2===e.question.type})),n&&(t=!0),t}},a.mixin={validate:function(){var e=o(this.$("paperClassId")),n=!0;return d.text.valid(e),""!==e.val().trim()&&null!==e.val().trim()||(n=!1),n}},a.components=[{id:"indefinite",name:"selectize"}]},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/util/maps":"./app/util/maps","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/exam-edit/steps/step-4/view-mark",function(e,n,a){var t,i=e("lodash/collection"),l=e("drizzle-zxy");a.type="dynamic",a.bindings={paperClass:!0,markConfig:!0,exam:!0},a.getEntity=function(){var e=this.bindings.exam.data,n=this.bindings.paperClass.data;return{paperClass:l.assign(n,{name:e.name}),markConfig:this.bindings.markConfig.data,exam:e}},a.getEntityModuleName=function(){return"train/programme/exam/mark-config"},a.dataForEntityModule=function(e){var n=this;return{data:e,callback:function(e){n.bindings.markConfig.data=e}}},a.dataForTemplate={hasSubjective:function(){var e=this.bindings.paperClass.data;return e.paperClassQuestions&&e.paperClassQuestions.length>0?!i.every(this.bindings.paperClass.data.paperClassQuestions,function(e){var n=e.question&&e.question.type;return 4!==n&&5!==n&&6!==n||6===n&&t(e.question)}):!!(e.paperClassTactics&&e.paperClassTactics.length>0)&&!i.every(e.paperClassTactics,function(e){return 4!==e.type&&5!==e.type&&6!==e.type})}},t=function(e){return 6!==e.type||i.every(e.subs,function(e){return 5!==e.type})}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/exam-publish/index",function(e,n,a){a.title="考试发布",a.items={main:"main"},a.store={models:{exam:{url:"../exam/exam"},exampublish:{url:"../exam/exam/exam-publish"}},callbacks:{init:function(e){var n=this.models.exam;n.data={id:e},this.get(n)},publish:function(){var e=this.models.exampublish,n=this.models.exam;return e.data={id:n.data.id},this.save(e)}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions.id)},a.buttons=function(){return[{text:"发布",fn:function(){var e=this;this.dispatch("publish").then(function(){e.renderOptions.callback&&e.renderOptions.callback()})}}]}},{}),loadjs.d("./app/train/programme/exam/exam-publish/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <form class="vertical" data-region="main"></form>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <h1>通知配置</h1>\n    <div class="row">\n        <div class="col-sm-12">\n            <label>\n                <div class="inline-block m-right"></div>\n                <div class="checkbox inline-block no-margin">\n                    <input type="checkbox" id="test1"/>\n                    <label for="test1">发送给门户管理员</label>\n                </div>\n            </label>\n        </div>\n        <div class="col-sm-12">\n            <textarea class="col-sm-12"></textarea>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-sm-12">\n            <label>\n                <div class="inline-block m-right"></div>\n                <div class="checkbox inline-block no-margin">\n                    <input type="checkbox" id="test2"/>\n                    <label for="test2">通知相关用户</label>\n                </div>\n            </label>\n        </div>\n        <div class="col-sm-12">\n            <textarea class="col-sm-12">'+r(s(null!=(l=null!=n?n.message:n)?l.members:l,n))+'</textarea>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-sm-12">\n            <label>\n                <div class="inline-block m-right"></div>\n                <div class="checkbox inline-block no-margin">\n                    <input type="checkbox" id="test3"/>\n                    <label for="test3">通知相关评卷老师</label>\n                </div>\n            </label>\n        </div>\n        <div class="col-sm-12">\n            <textarea class="col-sm-12">'+r(s(null!=(l=null!=n?n.message:n)?l.teachers:l,n))+"</textarea>\n        </div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/exam-publish/view-main",function(e,n,a){var t=e("./app/util/helpers");a.bindings={exam:!0},a.dataForTemplate={message:function(e){var n=e.exam,a=t.dateTime(n.startTime);return{members:"您好，请您于"+a+"准时参加《"+n.name+"》考试，谢谢。",teachers:"您好，您已被安排为《"+n.name+"》考试的评卷老师，该考试将于"+a+"准时开始，考试时长"+n.duration+"分钟,请合理安排工作时间尽快阅卷。谢谢。"}}}},{"./app/util/helpers":"./app/util/helpers"}),loadjs.d("./app/train/programme/exam/exam-question-types",function(e,n,a){var t={1:"choise",2:"choise",3:"judgement",4:"sentence-completion",5:"question-answer",6:"reading-comprehension",7:"line",8:"sorting"},i={1:"edit",2:"preview",3:"answer",4:"mark",5:"research-answer-summary",6:"research-detail-summary"},l=function(e,n){return"train/programme/exam/question/types/"+i[n]+"/"+t[e]};a.get=function(e,n){return l(e,n)},a.map=t},{}),loadjs.d("./app/train/programme/exam/index",function(e,n,a){a.type="normal-grid",a.title="考试管理",a.searchView="filter",a.items={content:"content",filter:"","train/programme/exam/manage":{isModule:!0},"train/programme/exam/exam-edit":{isModule:!0},"train/programme/exam/exam-publish":{isModule:!0},"train/programme/exam/other-module-exam":{isModule:!0},"train/programme/paper/score-detail-paper":{isModule:!0},"train/programme/exam/exam-edit-new":{isModule:!0}},a.store={models:{exams:{url:"../exam/exam",type:"pageable",root:"items"},exam:{url:"../exam/exam"},cancelExam:{url:"../exam/exam/exam-publish"}},callbacks:{doSearch:function(e){this.module.setSearchOptions(e)},refreshList:function(e){var n=this.models.exams;return n.params=e||{},"999"===n.params.status&&delete n.params.status,"0"===n.params.type&&delete n.params.type,this.get(n)},getExam:function(e){var n=this.models.exam;return n.data.id=e,this.get(n)},cancelExam:function(e){var n=this;return this.models.cancelExam.set(e),this.del(this.models.cancelExam).then(function(){return n.app.message.success("撤销成功"),n.module.dispatch("refreshList")})},delExam:function(e){var n=this;return this.models.exam.set(e),this.del(this.models.exam).then(function(){return n.app.message.success("删除成功"),n.module.dispatch("refreshList")})}}},a.afterRender=function(){this.dispatch("refreshList")}},{}),loadjs.d("./app/train/programme/exam/mark-config/index",function(e,n,a){var t,i=e("drizzle-zxy"),l=e("lodash/collection"),s=e("./app/train/programme/exam/markConfigCovert");a.items={main:"main","train/programme/select-member":{isModule:!0}},a.store={models:{state:{mixin:{reset:function(){l.forEach(this.data.markPapers,function(e){e.markMembers=[]}),l.forEach(this.data.markQuestionTypes,function(e){e.markMembers=[]}),l.forEach(this.data.markQuestions,function(e){e.markMembers=[]})}}}},callbacks:{init:function(e){var n=e.data,a=n.paperClass,i=n.markConfig,l=this.models.state;a&&(i?(l.set(s.covertMarkConfig(i,a)),l.data.markType=t(i),l.data.isPaper=1===l.data.markType,l.data.isQuestionType=2===l.data.markType,l.data.isQuestion=3===l.data.markType,this.module.renderOptions.callback(this.module.getValue())):(l.set(s.getRemoteMarkConfig(a)),l.data.markType=1)),l.data.anonymityMark=n.exam.anonymityMark},reload:function(){this.module.renderOptions.callback(this.module.getValue()),this.models.state.changed()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.mixin={getValue:function(){var e,n=this.store.models.state.data;switch(n.markType){case 1:e={markPapers:n.markPapers};break;case 2:e={markQuestionTypes:n.markQuestionTypes};break;case 3:e={markQuestions:n.markQuestions}}return JSON.stringify(e)},hasMarkMembers:function(e){var n;if(!e)return!1;if("string"==typeof e){if(n=JSON.parse(e),n.markPapers&&n.markPapers.length>0)return n.markPapers[0].markMembers.length>0;if(n.markQuestionTypes&&n.markQuestionTypes.length>0)return l.every(n.markQuestionTypes,function(e){return e.markMembers.length>0});if(n.markQuestions&&n.markQuestions.length>0)return l.every(n.markQuestions,function(e){return e.markMembers.length>0})}return!0}},t=function(e){var n,a;return i.isString(e)?(n=JSON.parse(e),l.forEach(n,function(e,n){"markPapers"===n&&(a=1),"markQuestionTypes"===n&&(a=2),"markQuestions"===n&&(a=3)}),a):i.isArray(e)&&e.length?e[0].type:1}},{"./app/train/programme/exam/markConfigCovert":"./app/train/programme/exam/markConfigCovert","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/mark-config/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="addexam-content" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="layout-mt-small">评卷配置</div>\n    <div class="layout-mt-small">\n        <label class="layout-mr-small">评卷方式:</label>\n        \x3c!--  .input.cont > .min-input > select.input#mark-type > each(markTypes) --\x3e\n        \x3c!--      option(value=key)(\'selected\')&if(selected) > echo(value) --\x3e\n'+(null!=(l=a.each.call(s,null!=n?n.markTypes:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'        <div class="pull-right">\n            <input '+(null!=(l=a.if.call(s,null!=n?n.anonymityMark:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" name="anonymityMark" id="anonymity-mark" value="1"/>\n            <label for="anonymity-mark">匿名评卷 （勾选后将隐藏参考人信息）</label>\n        </div>\n    </div>\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isPaper:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isQuestionType:l,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isQuestion:l,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"            <input "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' id="mark-type-'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'" type="radio" name="judge" value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'"/>\n            <label class="layout-mr-small">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</label>\n"},5:function(e,n,a,t,i){return' checked="checked"'},7:function(e,n,a,t,i){var l;return'        <table class="table layout-mt-small">\n            <thead><tr>\n                <th>试卷名称</th>\n                <th>评卷老师</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.markPapers:l,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"</tbody>\n        </table>\n"},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                <tr>\n                    <td>"+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                    <td>\n"+(null!=(l=a.each.call(r,null!=n?n.markMembers:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+'                    </td>\n                    <td><a id="choose-p-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">配置</a></td>\n                </tr>\n            '},9:function(e,n,a,t,i){var l;return"                            "+e.escapeExpression((l=null!=(l=a.name||(null!=n?n.name:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"name",hash:{},data:i}):l))+"&nbsp;&nbsp;&nbsp;\n"},11:function(e,n,a,t,i){var l;return'        <table class="table layout-mt-small">\n            <thead><tr>\n                <th>题型名称</th>\n                <th>评卷老师</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.markQuestionTypes:l,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"</tbody>\n        </table>\n"},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                <tr>\n                    <td>"+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                    <td>\n"+(null!=(l=a.each.call(r,null!=n?n.markMembers:n,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'                    </td>\n                    <td><a id="choose-qt-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">配置</a></td>\n                </tr>\n            '},13:function(e,n,a,t,i){var l;return"                            "+e.escapeExpression((l=null!=(l=a.name||(null!=n?n.name:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"name",hash:{},data:i}):l))+"    \n"},15:function(e,n,a,t,i){var l;return'        <table class="table layout-mt-small">\n            <thead><tr>\n                <th>试题名称</th>\n                <th>评卷老师</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.markQuestions:l,{name:"each",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+"</tbody>\n        </table>\n"},16:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing;return'\n                <tr>\n                    <td><div class="td-content">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.name:n,{name:"echoX",hash:{},data:i}))?l:"")+"</div></td>\n                    <td>\n"+(null!=(l=a.each.call(r,null!=n?n.markMembers:n,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'                    </td>\n                    <td><a id="choose-q-'+e.escapeExpression((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">配置</a></td>\n                </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/mark-config/view-main",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection");a.bindings={state:!0},a.events={"change mark-type-*":"changeMarkType","click choose-p-*":"selectTeacher","click choose-qt-*":"selectTeacher","click choose-q-*":"selectTeacher","click anonymity-mark":"changeAnonymityMark"},a.handlers={changeMarkType:function(e){var n=this.bindings.state.data,a=Number(e),t=this;return this.Promise.create(function(e){t.app.message.confirm("请确定更改评卷方式吗",function(){return n.isPaper=1===a,n.isQuestionType=2===a,n.isQuestion=3===a,n.markType=a,t.bindings.state.reset(),t.module.dispatch("reload")},function(){e(!1)})})},selectTeacher:function(e){var n=this.module.items["train/programme/select-member"],a=this.bindings.state.data,t=this,l=function(n,l){var s,r,o;return a.isPaper&&(s=a.markPapers[e].markMembers,l?s.push({id:n.id,name:n.fullName||n.name}):a.markPapers[e].markMembers=i.reject(s,["id",n.id])),a.isQuestionType&&(r=a.markQuestionTypes[e].markMembers,l?r.push({id:n.id,name:n.fullName||n.name}):a.markQuestionTypes[e].markMembers=i.reject(r,["id",n.id])),a.isQuestion&&(o=a.markQuestions[e].markMembers,l?o.push({id:n.id,name:n.fullName||n.name}):a.markQuestions[e].markMembers=i.reject(o,["id",n.id])),t.module.dispatch("reload")};this.app.viewport.modal(n,{ids:function(){var n="";return a.isPaper&&(n=i.map(a.markPapers[e].markMembers,"id").join(",")),a.isQuestionType&&(n=i.map(a.markQuestionTypes[e].markMembers,"id").join(",")),a.isQuestion&&(n=i.map(a.markQuestions[e].markMembers,"id").join(",")),n}(),callback:l})},changeAnonymityMark:function(e,n){var a=this.bindings.state.data;n.checked?a.anonymityMark=1:a.anonymityMark=0}},a.dataForTemplate={markTypes:function(){var e=this;return i.map(t.get("mark-type"),function(n){var a=n;return a.selected=Number(a.key)===e.bindings.state.data.markType,a})},anonymityMark:function(){return 1===Number(this.bindings.state.data.anonymityMark)}},a.components=[{id:"sort",name:"selectize"},{id:"mark-type",name:"selectize"}]},{"./app/util/maps":"./app/util/maps","lodash/collection":!1}),loadjs.d("./app/train/programme/exam/markConfigCovert",function(e,n,a){var t,i,l,s,r=e("lodash/collection"),o=e("drizzle-zxy"),d=e("./app/util/maps");t=function(e){var n={},a={isPaper:!0,isQuestionType:!1,isQuestion:!1,markPapers:[{id:e.id,name:e.name,markMembers:[]}],markQuestionTypes:[],markQuestions:[]};return e.paperClassQuestions.length>0?(r.forEach(r.filter(r.map(e.paperClassQuestions,function(e){return{id:e.question.type,name:r.find(d.get("question-types"),["key",e.question.type.toString()]).value,markMembers:[]}}),function(e){return 4===e.id||5===e.id||6===e.id}),function(e){n[e.name]=e}),r.forEach(n,function(e){a.markQuestionTypes.push(e)}),a.markQuestions=r.filter(r.map(e.paperClassQuestions,function(e){return{id:e.question.id,name:e.question.content,markMembers:[],type:e.question.type}}),function(e){return 4===e.type||5===e.type||6===e.type})):e.paperClassTactics.length>0&&(a.markQuestionTypes=r.map(r.filter(e.paperClassTactics,function(e){return 4===e.type||5===e.type||6===e.type}),function(e){return{id:e.type,name:d.get("question-types")[Number(e.type)-1].value,markMembers:[]}})),a},i=function(e,n){var a,i=e;return a=t(n),o.isArray(i)?a:(i.markPapers=r.map(a.markPapers,function(e){var n=r.find(i.markPapers,["id",e.id]);return n?(n.name=e.name,n):e}),i.markQuestionTypes=r.map(a.markQuestionTypes,function(e){var n=r.find(i.markQuestionTypes,["id",e.id]);return n?(n.name=e.name,n):e}),i.markQuestions=r.map(a.markQuestions,function(e){var n=r.find(i.markQuestions,["id",e.id]);return n?(n.name=e.name,n):e}),i)},l=function(e){var n,a,t,i={};return o.isString(e)?JSON.parse(e):e&&o.isArray(e)&&e.length>0?(n=r.filter(e,function(e){return 1===e.type}),a=r.filter(e,function(e){return 2===e.type}),t=r.filter(e,function(e){return 3===e.type}),i.markPapers=r.map(s(n,"typeId"),function(e){return{id:e[0].typeId,markMembers:r.map(e,function(e){return{id:e.member.id,name:e.member.fullName||e.member.name}})}}),i.markQuestionTypes=r.map(s(a,"typeId"),function(e){return{id:Number(e[0].typeId),markMembers:r.map(e,function(e){return{id:e.member.id,name:e.member.name}})}}),i.markQuestions=r.map(s(t,"typeId"),function(e){return{id:e[0].typeId,markMembers:r.map(e,function(e){return{id:e.member.id,name:e.member.name}})}}),i):e},s=function(e,n){var a={},t=[];return r.forEach(e,function(e){a[e[n]]?a[e[n]].value.push(e):(a[e[n]]={key:e[n],value:[]},a[e[n]].value.push(e))}),r.forEach(a,function(e){t.push(e.value)}),t},n.exports={covertMarkConfig:function(e,n){return i(l(e),n)},getRemoteMarkConfig:function(e){return t(e)}}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/other-module-exam/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("./app/train/programme/exam/askbarevent");a.title=function(){return this.renderOptions.id?"修改考试":"添加考试"},a.large=!0,a.items={main:"main",paper:"paper"},a.store={models:{exam:{url:"../exam/exam"},state:{data:{}},otherModuelExam:{url:"../exam/exam/other-module-exam"}},callbacks:{init:function(e){var n=this;return this.models.state.data.organizationId=e.organizationId,e.id?(this.models.exam.data={id:e.id},this.get(this.models.exam).then(function(){e.name&&t.assign(n.models.exam.data,{name:e.name}),n.models.exam.changed()})):""},save:function(e){var n=this.models.otherModuelExam,a=this.models.exam,i=this;return t.assign(n.data,a.data,e),this.save(n).then(function(){i.app.message.success("保存成功")})},changeName:function(e){var n=this.module.items.paper.getEntities()[0];t.assign(this.models.exam.data,e),n.setData(e)}}},a.beforeRender=function(){var e=this.store.models.exam,n=this.store.models.otherModuelExam;i.initEncryptDataExamFn(),e.clear(),n.clear()},a.afterRender=function(){return this.dispatch("init",this.renderOptions)},a.buttons=[{text:"保存",fn:function(e){var n=this,a=n.renderOptions.callback,i=this.items.paper.getEntities()[0],l=i.getData(),s=this.items.main;if(e.paperClassId||n.app.message.error("请选择试卷"),!i.isValidator())return!1;if(0,s.validate()&&s.check()){if(e.paperClassId)return 100*e.passScore>l.paperClass.totalScore?(n.app.message.error("及格分数不得大于试卷分数"),!1):(t.assign(e,l,{sourceType:n.renderOptions.sourceType||2}),n.store.module.dispatch("save",e).then(function(){var i=t.assign(n.store.models.otherModuelExam.data,e,{isAdd:1});a&&a(i)}));n.app.message.error("请选择试卷")}return!1}}]},{"./app/train/programme/exam/askbarevent":"./app/train/programme/exam/askbarevent","drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/other-module-exam/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<form class="vertical">\n    <div class="addexam-page">\n        <div class="addexam-titlebar" data-region="main"></div>\n        <div class="addexam-content" data-region="paper"></div>\n    </div>\n</form>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div class="form align-left clearfix border around text-center">\n        <div class="aa">\n            <div class="form-row inline-block row-block col-sm-6 r-padding">\n                <label class="required">考试名称</label>\n                <div class="content">\n                    <input id="name" class="input tag-height" name="name" x-rule="maxLength:30" value="'+r(s(null!=(l=null!=n?n.exam:n)?l.name:l,n))+'" maxLength="30"/><div class="tips">0/30</div>\n                </div>\n            </div>\n            <div class="form-row inline-block row-block col-sm-3 r-padding">\n                <label class="required">开始时间</label>\n                <div class="content">\n                    <input id="startTime" class="input date tag-height" name="startTime" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.exam:n)?l.startTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n                </div>\n            </div>\n            <div class="form-row inline-block row-block col-sm-3 r-padding">\n                <label class="required">结束时间</label>\n                <div class="content">\n                    <input id="endTime" class="input date tag-height" name="endTime" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.exam:n)?l.endTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n                </div>\n            </div>\n        </div>\n        <div class="bb">\n            <div class="form-row row-block col-sm-3 r-padding">\n                <label class="required">考试时长（分）</label>\n                <div class="content"><input id="duration" class="input tag-height" x-rule="required,number,keepDecimal:0,range:1:500" name="duration" value="'+r(s(null!=(l=null!=n?n.exam:n)?l.duration:l,n))+'"/></div>\n            </div>\n            <div class="form-row row-block col-sm-3 r-padding">\n                <label class="required">达标分数</label>\n                <div class="content"><input id="passScore" class="input tag-height" x-rule="required,number,keepDecimal:0,range:0:1000" name="passScore" value="'+r(s(null!=(l=null!=n?n.exam:n)?l.passScore:l,n))+'"/></div>\n            </div>\n            <div class="form-row row-block col-sm-3 r-padding">\n                <label class="required">考卷显示规则</label>\n                <div class="content">\n                    <select id="paperShowRule" class="tag-height w-full" name="paperShowRule">\n                        <option '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.paperShowRule:n)?l.single:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">一页一题</option>\n                        <option '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.paperShowRule:n)?l.mutiple:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">一页多题</option>\n                    </select>\n                </div>\n            </div>\n            <div class="form-row row-block col-sm-3 r-padding text-left">\n                <label class="required">是否考试达标才算完成</label>\n                <div id="is-over-by-pass-exam" class="content tag-height">\n                    <input '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.isOverByPassExam:n)?l.yes:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="isOverByPassExam" value="1"/>\n                    <label class="m-right">是</label>\n                    <input '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.isOverByPassExam:n)?l.no:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="isOverByPassExam" value="0"/>\n                    <label>否</label>\n                </div>\n            </div>\n        </div>\n        <div class="bb">\n            <div class="form-row row-block w-full text-left" style="padding-left:2em;">\n                <label>'+r((a.setting||n&&n.setting||d).call(o,"exam.exam.allow-exam-times",{name:"setting",hash:{},data:i}))+'\n                    <div class="inline-block drop-down-wrapper left">\n                        <i class="iconfont icon-info custom-color-6"></i>\n                        <div class="drop-down-content"><div class="content">\n                            <p>设置“0”代表不限次数</p>\n                        </div></div>\n                    </div></label>\n                <div class="content" style="width:23%;">\n                    <input id="allowExamTimes" class="input tag-height" x-rule="number,range:0:100,keepDecimal:0" name="allowExamTimes" value="'+r(s(null!=(l=null!=n?n.exam:n)?l.allowExamTimes:l,n))+'"/>\n                </div>\n            </div>\n        </div>\n        <div class="bb">\n            <div class="form-row row-block w-full text-left" style="padding-left:2em;">\n                <label class="required">答案显示规则</label>\n                <div class="text-tips">查看考试成绩时考题标准答案、自己答案与得分的显示规则？</div>\n                <div id="show-answer-rule" class="radiox" x-target="show-answer-rule" x-marker="radiox">\n                    <div class="radio">\n                        <input '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.showAnswerRule:n)?l.showAnswerRule1:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="showAnswerRule" id="showAnswerRule-1" value="1"/>\n                        <label for="showAnswerRule-1"></label>\n                    </div>\n                    <div class="inline-block">标准答案、自己答案、得分同时显示</div>\n                    <div class="radio m-left">\n                        <input '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.showAnswerRule:n)?l.showAnswerRule2:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i
}))?l:"")+" type=\"radio\" name=\"showAnswerRule\" id=\"showAnswerRule-2\" value=\"2\"/>\n                        <label for=\"showAnswerRule-2\"></label>\n                    </div>\n                    <div class=\"inline-block\">只显示自己答案与得分，标准答案不显示</div>\n                    \x3c!--  .radio.m-left --\x3e\n                    \x3c!--      input.m-left(type='radio' name='showAnswerRule' id='showAnswerRule-3' value=3) --\x3e\n                    \x3c!--      label(for='showAnswerRule-3') --\x3e\n                    \x3c!--  .inline-block 只显示得分，标准答案与自己答案都不显示 --\x3e\n                    \x3c!--  .radio.m-left --\x3e\n                    \x3c!--      input.m-left(type='radio' name='showAnswerRule' id='showAnswerRule-4' value=4) --\x3e\n                    \x3c!--      label(for='showAnswerRule-4') --\x3e\n                    \x3c!--  .inline-block 只显示得分，不显示查看详情按钮 --\x3e\n                    \x3c!-- bug:42553, 经客户要求，将原先的3功能去掉，3的描述放到4上，4只换描述，功能不变 --\x3e\n                    <div class=\"radio m-left\">\n                        <input class=\"m-left\" "+(null!=(l=a.if.call(o,null!=(l=null!=n?n.showAnswerRule:n)?l.showAnswerRule4:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="showAnswerRule" id="showAnswerRule-4" value="4"/>\n                        <label for="showAnswerRule-4"></label>\n                    </div>\n                    <div class="inline-block">只显示得分，标准答案与自己答案都不显示</div>\n                    \x3c!--  .radio.m-left --\x3e\n                    \x3c!--      input.m-left(type=\'radio\' name=\'showAnswerRule\' id=\'showAnswerRule-5\' value=5)(\'checked\')&if(showAnswerRule.showAnswerRule5) --\x3e\n                    \x3c!--      label(for=\'showAnswerRule-5\') --\x3e\n                    \x3c!--  .inline-block 全部不显示 --\x3e\n                </div>\n            </div>\n        </div>\n    </div>\n'},4:function(e,n,a,t,i){return' selected="selected"'},6:function(e,n,a,t,i){return' checked="checked"'},8:function(e,n,a,t,i){return'    <div data-dynamic-key="paper"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"paper",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/other-module-exam/view-main",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/markers"),l=e("./app/ext/views/form/validators"),s=function(e){return e.replace(/^\s+|\s+$/g,"")};a.bindings={exam:!0},a.events={"change name":"changeName","change paperShowRule":"changePaperShowRule","change endTime":"changeEndTime","change duration":"changeDuration","change allowExamTimes":"changeAllowExamTimes","change passScore":"changePassScore","input name":"changeTips","change startTime":"changeStartTime"},a.handlers={changeName:function(){var e=t(this.$("name")),n=new RegExp("\\{0\\}","g");return i.text.valid(e),l.required.fn(e.val())?l.maxLength.fn(e.val(),30)||i.text.invalid(e,l.maxLength.message.replace(n,30)):i.text.invalid(e,l.required.message),this.module.dispatch("changeName",{name:this.$("name").value})},changePaperShowRule:function(){return this.module.dispatch("changeName",{paperShowRule:t(this.$$('[name="paperShowRule"]')).val()})},changeEndTime:function(){var e=t(this.$("startTime")).val(),n=t(this.$("endTime")).val();i.text.valid(t(this.$("endTime"))),n?""!==e&&null!==e?e>=n&&(this.app.message.error("结束时间不能早于开始时间"),t(this.$("endTime")).val("")):(this.app.message.error("请先填写开始时间"),t(this.$("endTime")).val("")):l.required.fn(n)||i.text.invalid(t(this.$("endTime")),l.required.message)},changeDuration:function(){var e=t(this.$("duration"));i.text.valid(e),l.required.fn(e.val())?l.number.fn(e.val())?l.range.fn(e.val(),1,500)?this.keepDecimal.fn(e.val(),0)||i.text.invalid(e,this.keepDecimal.message):i.text.invalid(e,"必须在1~500之间"):i.text.invalid(e,l.number.message):i.text.invalid(e,l.required.message)},changeAllowExamTimes:function(){var e=t(this.$("allowExamTimes"));i.text.valid(e),l.number.fn(e.val())?l.range.fn(e.val(),0,100)?this.keepDecimal.fn(e.val(),0)||i.text.invalid(e,this.keepDecimal.message):i.text.invalid(e,"必须在 0 ~ 100 之间"):i.text.invalid(e,l.number.message)},changePassScore:function(){var e=t(this.$("passScore"));i.text.valid(e),l.required.fn(e.val())?l.number.fn(e.val())?l.range.fn(e.val(),0,1e3)?this.keepDecimal.fn(e.val(),0)||i.text.invalid(e,this.keepDecimal.message):i.text.invalid(e,"必须在0~1000之间"):i.text.invalid(e,l.number.message):i.text.invalid(e,l.required.message)},changeTips:function(){var e=this.$("name");this.changeTips(e)},changeStartTime:function(){var e,n,a,s=this.module.renderOptions.arriveDate,r=this.$("startTime").value;i.text.valid(t(this.$("startTime"))),r?(e=r.split(" "),n=e[0].split("-"),a=e[1].split(":"),new Date(n[0],n[1]-1,n[2],a[0],a[1]).getTime()<s&&(this.app.message.error("开始时间不能小于班级报到日"),t(this.$("startTime")).val(""))):l.required.fn(r)||i.text.invalid(t(this.$("startTime")),l.required.message)}},a.components=[function(){var e,n,a,i,l=this,s=this.module.renderOptions.arriveDate;return{id:"startTime",name:"flatpickr",options:{enableTime:!0,onChange:function(r,o){o&&(e=o.split(" "),n=e[0].split("-"),a=e[1].split(":"),i=new Date(n[0],n[1]-1,n[2],a[0],a[1]).getTime(),s>i&&(l.app.message.error("开始时间不能早于开班日"),t(l.$("startTime")).val("")))}}}},function(){var e=this,n=t(this.$("startTime"));return{id:"endTime",name:"flatpickr",options:{enableTime:!0,onChange:function(a,i){i&&(n.val()?n.val()>=i&&(e.app.message.error("开始时间不能大于或者等于结束时间"),t(e.$("endTime")).val("")):(e.app.message.error("请先填写开始时间"),t(e.$("endTime")).val("")))}}}}],a.dataForTemplate={paperShowRule:function(e){return{single:1===e.exam.paperShowRule,mutiple:2===e.exam.paperShowRule}},showTimeRange:function(){return 1===this.module.renderOptions.showTimeRange},isOverByPassExam:function(e){var n;return e.exam.isOverByPassExam&&0!==e.exam.isOverByPassExam||(n=!0),{yes:1===e.exam.isOverByPassExam,no:n}},showAnswerRule:function(e){var n=!1,a=!1,t=!1,i=!1;return e&&e.exam&&void 0===e.exam.showAnswerRule&&(n=!0),e&&e.exam&&1===e.exam.showAnswerRule&&(n=!0),e&&e.exam&&2===e.exam.showAnswerRule&&(a=!0),e&&e.exam&&4===e.exam.showAnswerRule&&(t=!0),e&&e.exam&&5===e.exam.showAnswerRule&&(i=!0),{showAnswerRule1:n,showAnswerRule2:a,showAnswerRule4:t,showAnswerRule5:i}}},a.mixin={check:function(){var e=this.$("startTime")&&this.$("startTime").value,n=this.$("endTime")&&this.$("endTime").value;return!(e&&!n||!e&&n)||(this.app.message.error("必须完整填写考试时间范围或者全部不填"),!1)},validate:function(){var e=t(this.$("name")),n=t(this.$("duration")),a=t(this.$("allowExamTimes")),r=t(this.$("passScore")),o=t(this.$("paperShowRule")),d=t(this.$$('[name="isOverByPassExam"]:checked')).val(),c=!0,u=new RegExp("\\{0\\}","g"),m=t(this.$("is-over-by-pass-exam")),p=t(this.$("startTime")),h=t(this.$("endTime"));return i.text.valid(e),i.text.valid(n),i.text.valid(a),i.text.valid(r),i.text.valid(o),i.text.valid(m),i.text.valid(p),i.text.valid(h),""===e.val()||l.maxLength.fn(e.val(),30)||(i.text.invalid(e,l.maxLength.message.replace(u,30)),c=!1),""!==s(e.val())&&null!==s(e.val())||(i.text.invalid(e,l.required.message),c=!1),l.required.fn(p.val())||(i.text.invalid(p,l.required.message),c=!1),l.required.fn(h.val())||(i.text.invalid(h,l.required.message),c=!1),""!==n.val()&&null!==n.val()||(i.text.invalid(n,l.required.message),c=!1),""!==n.val()&&(l.number.fn(n.val())&&l.range.fn(n.val(),1,500)&&!this.keepDecimal.fn(n.val(),0)&&(i.text.invalid(n,this.keepDecimal.message),c=!1),l.number.fn(n.val())&&!l.range.fn(n.val(),1,500)&&(i.text.invalid(n,"必须在1~500之间"),c=!1),l.number.fn(n.val())||(i.text.invalid(n,l.number.message),c=!1)),l.number.fn(a.val())&&l.range.fn(a.val(),0,100)&&!this.keepDecimal.fn(a.val(),0)&&(i.text.invalid(a,this.keepDecimal.message),c=!1),l.number.fn(a.val())&&!l.range.fn(a.val(),0,100)&&(i.text.invalid(a,"必须在 0 ~ 100 之间"),c=!1),l.number.fn(a.val())||(i.text.invalid(a,l.number.message),c=!1),""!==r.val()&&null!==r.val()||(i.text.invalid(r,l.required.message),c=!1),""!==r.val()&&(l.number.fn(r.val())&&l.range.fn(r.val(),0,1e3)&&!this.keepDecimal.fn(r.val(),0)&&(i.text.invalid(r,this.keepDecimal.message),c=!1),l.number.fn(r.val())&&!l.range.fn(r.val(),0,1e3)&&(i.text.invalid(r,"必须在0~1000之间"),c=!1),l.number.fn(r.val())||(i.text.invalid(r,l.number.message),c=!1)),void 0===d&&(i.text.invalid(m,l.required.message),c=!1),c},keepDecimal:{fn:function(e,n){var a;return""===s(e)||(a=e.toString().split("."),!(a.length>1)||a[1].length<=n)},length:1,message:"超出保留小数位"},changeTips:function(e){var n,a,i=t(e).nextAll(".tips");0!==i.length&&(n=t(e).attr("x-rule").match(/maxLength:(\d+)/)[1],a=t(e).val().length,i.text(a+"/"+n))}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/exam/other-module-exam/view-paper",function(e,n,a){a.type="dynamic",a.bindings={exam:!0,state:!0},a.getEntity=function(){return this.bindings.exam.data},a.getEntityModuleName=function(){return"train/programme/exam/exam-edit/steps/step-4"},a.dataForEntityModule=function(e){var n=this.module.renderOptions.organizationId;return null!==this.bindings.state.data.organizationId&&void 0!==this.bindings.state.data.organizationId&&(n=this.bindings.state.data.organizationId),{hidePaperShowRule:1,exam:e.id?e:{paperShowRule:1,paperSortRule:1},organizationId:n,isOtherModuleType:1}}},{}),loadjs.d("./app/train/programme/exam/paper/add-paper/index",function(e,n,a){var t,i=e("lodash/collection"),l=e("./app/util/maps"),s=e("jquery"),r=e("drizzle-zxy"),o={1:1,2:2,3:3,4:5,5:6,6:7,8:4};a.title=function(){return"组卷"},a.large=!0,a.items={summary:"summary","question-classes":"question-classes","train/programme/exam/question/add-question":{isModule:!0},"train/programme/exam/question/select-question":{isModule:!0},"train/programme/exam/question/import-data":{isModule:!0}},a.store={models:{paper:{url:"../exam/paper-class",data:{questionNum:0,totalScore:0,paperClassQuestions:[]},mixin:{getQuestionClass:function(e){var n=this;return i.find(n.store.models.paper.data.paperClassQuestions,{questionId:e})},getQuestionIds:function(){var e=this;return i.map(e.store.models.paper.data.paperClassQuestions,function(e){return e.questionId})},sortQuestion:function(){var e=this.data.paperClassQuestions;this.data.paperClassQuestions=i.map(i.orderBy(i.map(e,function(e){return r.assign(e,{sortType:o[e.question.type]})}),["sortType","sequence"],["asc","asc"]),function(e,n){return r.assign(e,{sequence:n+1})})}}},summary:{data:{}},orgs:{url:"../system/organization/company-orgs",cache:!1}},callbacks:{init:function(){var e=this,n=e.module.renderOptions.id;n?(r.assign(e.models.paper.params,{paperId:n}),e.get(e.models.paper).then(function(){e.module.reload()})):e.module.reload()},savePaper:function(e){var n=this,a=n.models.paper.data.paperClassQuestions;return i.map(a,function(e,n){var a=e;return a.sequence=n,delete a.question,a}),r.assign(n.models.paper.data,e,{paperClassQuestions:JSON.stringify(a),type:n.module.renderOptions.type||1,totalScore:Math.round(100*n.models.paper.data.totalScore),name:this.module.renderOptions.paperName}),n.save(n.models.paper,{loading:!0}).then(function(){var e=n.module.renderOptions.callback,a=n.models.paper.data.id||"";n.app.message.success("保存成功"),e&&e(a)})},submitDataBack:function(){var e=this,n=e.models.paper.data.paperClassQuestions;r.assign(e.models.paper.data,{paperClassQuestions:JSON.parse(n),totalScore:e.models.paper.data.totalScore/100})},moveDown:function(e){var n,a,t=this.models.paper.data.paperClassQuestions;(a=t.findIndex(function(n){return n.questionId===e}))>=t.length-1||(n=t[a],t[a]=t[a+1],t[a+1]=n,this.models.paper.changed())},moveUp:function(e){var n,a,t=this.models.paper.data.paperClassQuestions;(a=t.findIndex(function(n){return n.questionId===e}))<=0||(n=t[a],t[a]=t[a-1],t[a-1]=n,this.models.paper.changed())},addQuestionClass:function(e){var n=this,a=n.models.paper,t={},l=a.data.paperClassQuestions;i.find(l,{questionId:e.id})||(t.paperClassId=n.models.paper.id,t.questionId=e.id,t.score=Number(e.score),t.sequence=l.size,t.isFromSelected=e.isFromSelected||0,t.question=e,l.push(t),a.sortQuestion(),a.changed(),n.module.dispatch("reloadSummary"))},addQuestionClasses:function(e){var n=this,a=this.models.paper,t=a.data.paperClassQuestions;i.forEach(e,function(e){var a={};i.find(t,{questionId:e.id})||(a.paperClassId=n.models.paper.id,a.questionId=e.id,a.score=Number(e.score),a.sequence=t.size,a.isFromSelected=e.isFromSelected||0,a.question=e,t.push(a))}),a.sortQuestion(),a.changed(),n.module.dispatch("reloadSummary")},updatePaper:function(e){e&&e.key&&(this.models.paper.data[e.key]=e.value)},updatePaperTotal:function(){var e=this,n=e.models.summary.data||{},a=e.models.paper.data;n.total||(n.total={amount:0,score:0}),a.questionNum=n.total.amount,a.totalScore=n.total.score,e.models.paper.changed()},setScore:function(e){var n=this;i.find(n.models.paper.data.paperClassQuestions,{questionId:e.questionId}).score=100*e.score,n.module.dispatch("reloadSummary")},updateQuestion:function(e){var n,a=this,t=a.models.paper.data.paperClassQuestions;n=i.find(t,{questionId:e.id}),n.question=e,n.score=e.score,a.models.paper.changed()},removeQuestionClass:function(e){var n,a=this.models.paper.data.paperClassQuestions;n=a.findIndex(function(n){return n.questionId===e}),this.models.paper.data.paperClassQuestions.splice(n,1),this.models.paper.changed(),this.module.dispatch("reloadSummary")},removeQuestionClasses:function(e){var n=this.models.paper.data.paperClassQuestions,a=this;i.forEach(e,function(e){var t=n.findIndex(function(n){return n.questionId===e.id});a.models.paper.data.paperClassQuestions.splice(t,1)}),this.models.paper.changed(),this.module.dispatch("reloadSummary")},reloadSummary:function(){var e=this,n=e.models.summary.data,a=t(),l=e.models.paper.data.paperClassQuestions;n.total={amount:0,score:0},i.forEach(l,function(e){var t=e.question;if(!a[e.question.type])throw new Error("paperClassQuestions type is not define");a[e.question.type].total||(a[e.question.type].total={amount:0,score:0}),a[e.question.type].total.amount++,a[e.question.type].total.score+=Number(e.score)/100,a[e.question.type].total.score=Number(a[e.question.type].total.score.toFixed(1)),n.total.amount++,n.total.score+=Number(e.score)/100,n.total.score=Number(n.total.score.toFixed(1)),t.questionAttrs=i.orderBy(t.questionAttrs,["name"],["asc"])}),n.rows=a,n.rows=i.filter(n.rows,function(e){return!!(e.total&&e.total.amount&&e.total.amount>0)}),e.models.summary.changed(),e.module.dispatch("updatePaperTotal")},getOrgs:function(){var e=this.models.orgs;return e.clear(),r.assign(e.params,{rootId:this.module.renderOptions.organizationId,supportMore:!0}),this.get(e)}}},t=function(){var e=l.get("question-types"),n={};return i.forEach(e,function(e){var a={type:Number(e.key),typeName:e.value};n[a.type]=a}),n},a.buttons=[{text:"保存",fn:function(e){var n=this,a=n.store.models.paper.data.paperClassQuestions,t=s('input[name="organizationId"]').val();return n.dispatch("updatePaper",{key:"organizationId",value:t}).then(function(){return a.length<1?(n.app.message.error("试题不能为空"),!1):!!n.items["question-classes"].validate()&&(n.store.models.paper.data.totalScore>1e3?(n.app.message.error("试卷总分不能超过1000分"),!1):n.dispatch("savePaper",e))})}}],a.mixin={reload:function(){return this.dispatch("reloadSummary")}},a.beforeRender=function(){this.store.models.paper.data={questionNum:0,totalScore:0,paperClassQuestions:[]}},a.afterRender=function(){return this.dispatch("init")}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/paper/add-paper/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="addexam-page"><div class="temporarypaper2-page">\n    <div class="temporarypaper2-title" data-region="summary"></div>\n    <div class="temporarypaper2-content" data-region="question-classes"></div>\n</div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <form class="vertical">\n        <div class="layout-mt-small clearfix">\n            <div class="test pull-left">\n                <div id="select-question" class="btn">\n                    <i class="iconfont icon-note m-right"></i>\n                    <span>选择试题</span>\n                </div>\n                <div id="temporary-question" class="btn">\n                    <i class="iconfont icon-tag m-right"></i>\n                    <span>临时试题</span>\n                </div>\n                <div id="import-question" class="btn">\n                    <i class="iconfont icon-cloud-up m-right"></i>\n                    <span>导入试题</span>\n                </div>\n            </div>\n            <div class="pull-right">\n                <span>试题总数：</span>\n                <span class="strong m-right">'+r(s(null!=(l=null!=n?n.paper:n)?l.questionNum:l,n))+'</span>\n                <span>试卷总分：</span>\n                <span class="strong">'+r(s(null!=(l=null!=n?n.paper:n)?l.totalScore:l,n))+'</span>\n            </div>\n        </div>\n        <div class="layout-mt-small">\n            <table class="table train border around text-center">\n                <thead><tr>\n                    <th>类型</th>\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.summary:n)?l.rows:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"                    <th>全部</th>\n                </tr></thead>\n                <tbody><tr>\n                    <th>数量</th>\n"+(null!=(l=a.each.call(o,null!=(l=null!=n?n.summary:n)?l.rows:l,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"                    <td>"+r(s(null!=(l=null!=n?n.paper:n)?l.questionNum:l,n))+"</td>\n                </tr></tbody>\n                <tbody><tr>\n                    <th>分数</th>\n"+(null!=(l=a.each.call(o,null!=(l=null!=n?n.summary:n)?l.rows:l,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"                    <td>"+r(s(null!=(l=null!=n?n.paper:n)?l.totalScore:l,n))+"</td>\n                </tr></tbody>\n                \x3c!--  ul > each(summary.rows) --\x3e\n                \x3c!--      li --\x3e\n                \x3c!--          span.title > echo(typeName ':') --\x3e\n                \x3c!--          span > echo(total.amount '道共' total.score '分') --\x3e\n            </table>\n        </div>\n    </form>\n"},4:function(e,n,a,t,i){var l;return"                        <th>"+e.escapeExpression((l=null!=(l=a.typeName||(null!=n?n.typeName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"typeName",hash:{},data:i}):l))+"</th>\n"},6:function(e,n,a,t,i){var l;return"                        <td>"+e.escapeExpression(e.lambda(null!=(l=null!=n?n.total:n)?l.amount:l,n))+"</td>\n"},8:function(e,n,a,t,i){var l;return"                        <td>"+e.escapeExpression(e.lambda(null!=(l=null!=n?n.total:n)?l.score:l,n))+"</td>\n"},10:function(e,n,a,t,i){var l;return'    <form class="vertical">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.paperClassQuestions:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"    </form>\n    \x3c!--  .top-bottom --\x3e\n    \x3c!--      .back-box#backToTop --\x3e\n    \x3c!--          a 返回 --\x3e\n    \x3c!--          a 顶部 --\x3e\n    \x3c!--      .back-box#goToBottom --\x3e\n    \x3c!--          a 返回 --\x3e\n    \x3c!--          a 底部 --\x3e\n"},11:function(e,n,a,t,i){var l;return'            <ul class="layout-mt-small border around">\n                '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.paperClassQuestions:n,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"\n            </ul>\n"},12:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression,d=null!=n?n:{},c=a.helperMissing;return'<li class="test-box test-1">\n                    <div data-dynamic-key="'+o(r(null!=(l=null!=n?n.question:n)?l.id:l,n))+'"></div>\n                    <div class="clearfix">\n                        <div class="pull-left">\n                            <div class="inline-block m-right">\n                                <b class="error">题目难度：</b>\n                                '+o(r(null!=(l=null!=n?n.question:n)?l.difficulty:l,n))+'\n                            </div>\n                            <div class="input-box inline-block">\n                                <div class="text">题目分数：</div>\n                                <input class="input r-left line-height" style="padding-left: 90px;" id="score-'+o((s=null!=(s=a.questionId||(null!=n?n.questionId:n))?s:c,"function"==typeof s?s.call(d,{name:"questionId",hash:{},data:i}):s))+'" name="score" placeholder="请输入题目分数（分）" value="'+o((s=null!=(s=a.score||(null!=n?n.score:n))?s:c,"function"==typeof s?s.call(d,{name:"score",hash:{},data:i}):s))+'" x-rule="required,digits,min:0"/>\n                            </div>\n                        </div>\n                        <div class="pull-right m-top">\n                            <i class="pointer m-right iconfont icon-arrow-up-solid custom-color-2" id="move-up-'+o(r(null!=(l=null!=n?n.question:n)?l.id:l,n))+'"></i>\n                            <i class="pointer m-right iconfont icon-arrow-down-solid custom-color-2" id="move-down-'+o(r(null!=(l=null!=n?n.question:n)?l.id:l,n))+'"></i>\n'+(null!=(l=(a.compare||n&&n.compare||c).call(d,null!=n?n.isFromSelected:n,"eq",0,{name:"compare",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'                            <i class="iconfont icon-delete-solid custom-color-3" id="remove-question-'+o(r(null!=(l=null!=n?n.question:n)?l.id:l,n))+'"></i>\n                        </div>\n                    </div>\n                </li>'},13:function(e,n,a,t,i){var l;return'                                <i class="pointer m-right iconfont icon-edit-solid custom-color-4" id="edit-question-'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.question:n)?l.id:l,n))+'"></i>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"summary",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"question-classes",{name:"view",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/paper/add-paper/view-question-classes",function(e,n,a){var t,i=e("./app/train/programme/exam/exam-question-types"),l=e("lodash/collection"),s=e("drizzle-zxy"),r=e("jquery"),o=e("./app/ext/views/form/validators"),d=e("./app/ext/views/form/markers");a.type="dynamic",a.bindings={paper:!0,summary:!1},a.getEntity=function(e){var n=this.module.store.models.paper.getQuestionClass(e).question,a=s.assign({},n),t=l.map(a.subs,function(e){var n=s.assign({},e);return s.assign(n,{score:n.score/100})});return n=s.assign(a,{score:n.score/100,subs:t,questionAttrs:l.orderBy(n.questionAttrs,["name"],["asc"])})},a.getEntityModuleName=function(e,n){return i.get(n.type,2)},a.dataForEntityModule=function(e){var n=this;return{type:e.type,data:e,multiple:2===e.type,previewMode:6===Number(e.type)?3:2,callback:function(e){return n.module.dispatch("updateQuestion",e)}}},a.mixin={validate:function(){var e=this.bindings.summary.data,n=r(this.$$('[name = "score"]')),a=r(this.$$('[name = "editScore"]'));return!!l.every(n,function(e){return t.call(this,e)})&&(!(a&&!l.every(a,function(e){return t.call(this,e)}))&&(!(e.total.score>1e3)||(this.app.message.error("试卷总分必须在0~1000分，可以保留一位小数"),!1)))}},a.dataForTemplate={paperClassQuestions:function(e){return e.paper?l.map(e.paper.paperClassQuestions,function(e){var n=e;return n.question&&(1===Number(n.question.difficulty)?n.question.difficulty="高":2===Number(n.question.difficulty)?n.question.difficulty="中":3===Number(n.question.difficulty)&&(n.question.difficulty="低")),n.score=e.score/100,n.question=s.assign(n.question,{type:Number(n.question.type)}),n}):[]}},a.events={"click move-up-*":"moveUp","click move-down-*":"moveDown","click edit-question-*":"editQuestion","click remove-question-*":"removeQuestion","change score-*":"updatePaper","click backToTop":"backToTop","click goToBottom":"goToBottom"},a.handlers={moveUp:function(e){this.module.dispatch("moveUp",e)},moveDown:function(e){this.module.dispatch("moveDown",e)},editQuestion:function(e){var n=this,a=this.bindings.paper.getQuestionClass(e),t=s.assign({},a.question),i={question:s.assign(t,{score:a.score}),callback:function(e){return n.module.dispatch("updateQuestion",e)},interim:!t.questionDepot||!t.questionDepot.id,titleType:"edit",organizationId:this.module.renderOptions.organizationId};this.app.viewport.modal(this.module.items["train/programme/exam/question/add-question"],i)},removeQuestion:function(e){var n=this;n.app.message.confirm("确定删除该试题吗？",function(){n.module.dispatch("removeQuestionClass",e)})},updatePaper:function(e){return!!t.call(this,this.$("score-"+e))&&this.module.dispatch("setScore",{questionId:e,score:this.$("score-"+e).value})},backToTop:function(e){r(e.target).parents(".dialog-content-main").animate({scrollTop:0},500)},goToBottom:function(e){var n=r(e.target).parents(".dialog-content-main");n.animate({scrollTop:n[0].scrollHeight},500)}},t=function(e){var n=e,a=r(n).val();return d.text.valid(r(n)),o.required.fn(a)?o.keepDecimal.fn(a,1)?!!o.range.fn(a,0,100)||(d.text.invalid(r(n),"只能填0分~100分"),!1):(d.text.invalid(r(n),"只能保留1位小数"),!1):(d.text.invalid(r(n),"必填项"),!1)}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/train/programme/exam/exam-question-types":"./app/train/programme/exam/exam-question-types","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/paper/add-paper/view-summary",function(e,n,a){var t=e("lodash/collection"),i=[{id:1,type:1,name:"单选"},{id:2,type:2,name:"多选"},{id:3,type:3,name:"判断"},{id:4,type:8,name:"排序"},{id:6,type:4,name:"填空"},{id:7,type:5,name:"问答"},{id:8,type:6,name:"阅读理解"}],l=function(e){var n={map:{},list:[]};return t.map(e,function(e){n.map[e.id]=e}),t.map(e,function(e){e.parentId&&n.map[e.parentId]||n.list.push(n.map[e.id])}),n.list.length?{id:n.list[0].id,text:n.list[0].name}:{}};a.bindings={paper:!0,summary:!0},a.dataForTemplate={summary:function(){var e=this.bindings.summary.data,n=e.rows,a=t.map(t.orderBy(i,["id","asc"]),function(e){return{total:{amount:"-",score:"-"},type:e.type,typeName:e.name}});return n=t.map(a,function(e){var a=t.find(n,["type",e.type]);return a||e}),{rows:n}}},a.events={"click select-question":"selectQuestion","click temporary-question":"temporaryQuestion","click import-question":"importQuestion"},a.handlers={selectQuestion:function(){var e=this;this.module.dispatch("getOrgs").then(function(n){var a=n[0],t=l(a).id,i=l(a).text;e.app.viewport.modal(e.module.items["train/programme/exam/question/select-question"],{organizationId:e.module.renderOptions.organizationId,firstId:t,firstName:i,name:"",callback:{addQuestionClass:function(n){return e.module.dispatch("addQuestionClass",n)},addQuestionClasses:function(n){return e.module.dispatch("addQuestionClasses",n)},removeQuestionClass:function(n){return e.module.dispatch("removeQuestionClass",n)},removeQuestionClasses:function(n){return e.module.dispatch("removeQuestionClasses",n)},getQuestionIds:function(){return e.bindings.paper.getQuestionIds()}}})})},temporaryQuestion:function(){var e=this;e.app.viewport.modal(this.module.items["train/programme/exam/question/add-question"],{organizationId:e.module.renderOptions.organizationId,callback:function(n){return e.module.dispatch("addQuestionClass",n)},interim:!0,titleType:"add",isTemp:1})},importQuestion:function(){var e=this;this.app.viewport.modal(this.module.items["train/programme/exam/question/import-data"],{templateType:1,isOtherModuleType:this.module.renderOptions.isOtherModuleType,callback:function(n){return e.module.dispatch("addQuestionClasses",n)}})}}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/paper/answer-paper/collect-correct/index",function(e,n,a){a.items={main:"main",correct:""},a.store={models:{state:{},correct:{url:"../exam/question-recovery/submit"}},callbacks:{init:function(e){var n=this.models.state.data;n.id=e.questionId,n.isCollect=e.isCollect||!1,n.correct=e.correct},collect:function(e){this.module.renderOptions.callback.collect(e)},correct:function(e){this.module.renderOptions.callback.correct(e)},saveCorrect:function(e){var n=this;return this.models.correct.set(e),this.post(this.models.correct).then(function(){n.app.message.success("提交错误成功")})}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/programme/exam/paper/answer-paper/collect-correct/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l;return"    <div>\n        \x3c!--  a(id='collect-' + state.id)  --\x3e\n        \x3c!--      if(state.isCollect) --\x3e\n        \x3c!--          echo('取消收藏') --\x3e\n        \x3c!--      else --\x3e\n        \x3c!--          echo('我要收藏') --\x3e\n        <a id=\"correct-"+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">错误提报</a>\n    </div>\n'},5:function(e,n,a,t,i){var l;return'    <br/>\n    <div>\n        您为什么要举报此题？请说明原因。\n    </div>\n    <div>\n        <form class="vertical">\n            <input class="input" id="reason" value="'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.correct:l)?l.content:l,n))+'" placeholder="请描述举报理由"/>\n        </form>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"correct",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/paper/answer-paper/collect-correct/view-correct",function(e,n,a){a.title="错题举报",a.bindings={state:!0},a.buttons=[{text:"确定",fn:function(){var e=this.renderOptions.callback;return e&&e({questionId:this.renderOptions.questionId,content:this.$("reason").value}),this.module.dispatch("saveCorrect",{questionId:this.renderOptions.questionId,reason:this.$("reason").value})}}]},{}),loadjs.d("./app/train/programme/exam/paper/answer-paper/collect-correct/view-main",function(e,n,a){a.bindings={state:!0},a.events={"click collect-*":"collect","click correct-*":"correct"},a.handlers={collect:function(e){return this.module.dispatch("collect",{questionId:e})},correct:function(e){var n=this;this.app.viewport.modal(this.module.items.correct,{questionId:e,callback:function(e){return n.module.dispatch("correct",e)}})}}},{}),loadjs.d("./app/train/programme/exam/paper/answer-paper/count-down/index",function(e,n,a){a.items={main:"main"},
a.store={models:{state:{}},callbacks:{init:function(e){var n=this.models.state.data;n.duration=function(e){return Math.floor((new Date(e)-new Date)/6e4)}(e.data.endTime),n.duration=60,this.models.state.callback=e.callback}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/programme/exam/paper/answer-paper/count-down/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){return'    <div id="time"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/paper/answer-paper/count-down/view-main",function(e,n,a){a.bindings={state:!0},a.afterRender=function(){var e,n,a,t,i=this.bindings.state.data.duration,l=this.$("time"),s=function(){return[1===e.toString().length?"0"+e:e,1===n.toString().length?"0"+n:n,1===a.toString().length?"0"+a:a].join(":")},r=this.bindings.state.callback;e=Math.floor(i/60),i%=60,n=i<1?0:i,a=i<1?i%60*60:0,l.innerHTML=s(),t=setInterval(function(){if(0===a)return 0===n?0===e?(clearInterval(t),void(r&&r())):(e-=1,n=59,a=59,void(l.innerHTML=s())):(n-=1,a=59,void(l.innerHTML=s()));a-=1,l.innerHTML=s()},1e3)}},{}),loadjs.d("./app/train/programme/exam/paper/answer-paper/index",function(e,n,a){var t,i,l,s=e("lodash/collection"),r=e("./app/util/maps"),o=e("drizzle-zxy"),d=e("./app/exam/exam-websocket"),c={1:1,2:2,3:3,4:6,5:7,6:8,7:5,8:4},u={Auto:"Auto",Hand:"Hand"};a.items={side:"side",main:"main",head:"head",tips:""},a.store={models:{state:{data:{isOnePageOneQuestion:!0},mixin:{getCurrentState:function(e){var n,a={questionType:"",questionIndex:0,questionTotalInType:0,currentQuestionScore:0},t=s.find(e,["isCurrent",!0]);return a.questionType=t.data.name,a.questionTotalInType=t.data.data.length,n=s.find(t.data.data,["isCurrent",!0]),n?(a.questionIndex=n.i,a.currentQuestionScore=n.score,a.questionId=n.id):(a.questionIndex=1,a.currentQuestionScore=t.data.data[0].score),o.assign(this.data,a),!0},setFirstQuestionRemote:function(e){this.data.questionId=e[0].data.data[0].id},calculate:function(){var e=this.store.models.answer.data.answers;this.data.answeredNum=s.filter(e,function(e){return e.value.length>0&&""!==e.value[0].value}).length,this.data.noAnswerNum=this.data.questionNum-this.data.answeredNum},init:function(e,n){o.assign(this.data,{name:e.name,isOnePageOneQuestion:1===e.paperShowRule,mode:n.mode||1,noAnswerNum:e.paper.questionNum||0,answeredNum:0,questionNum:e.paper.questionNum,totalScore:e.paper.totalScore,duration:e.duration,isCollect:!1})}}},exam:{url:"../exam/exam/exam-paper",mixin:{getQuestionById:function(e){var n=this.data.paper.questions;return s.find(n,["id",e])}}},questionTypes:{mixin:{createQuestionTypes:function(e,n){var a,t,i=[],l={},o=r.get("question-types");e.questions&&e.questions.length>0&&(s.forEach(e.questions,function(e){t=c[e.type],l[t]||(l[t]={size:0,totalScore:0,name:"",data:[]}),l[t].size++,l[t].totalScore+=e.score,l[t].name=s.find(o,["key",e.type.toString()]).value,a={id:e.id,i:l[t].data.length+1,score:e.score,isCurrent:!1},l[t].data.push(a)}),s.forEach(l,function(e,n){i.push({type:n,data:l[n],isCurrent:!1,k:0})})),this.data=this.changeSort(i,n)},setFirstQuestionRemote:function(){var e=this.data;e[0].isCurrent=!0,e[0].data.data[0].isCurrent=!0},move:function(e){var n,a,t,i=this.data,l=this.store.models.state,r=s.find(i,["isCurrent",!0]),o=i.findIndex(function(e){return!0===e.isCurrent});return r&&(n=r.data.data,a=s.find(n,["isCurrent",!0]),t=a.i-1+e,n[t]?(n[t].isCurrent=!0,l.data.questionId=n[t].id,n[a.i-1].isCurrent=!1):e>0&&i[o+1]?i[o+1]?(i[o].isCurrent=!1,i[o+1].isCurrent=!0,r=i[o+1],n=r.data.data,n.forEach(function(e){e.isCurrent=!1}),n[0].isCurrent=!0):this.module.store.models.state.data.disableNext=!0:e<0&&i[o-1]&&(i[o-1]?(i[o].isCurrent=!1,i[o-1].isCurrent=!0,r=i[o-1],n=r.data.data,n.forEach(function(e){e.isCurrent=!1}),n[n.length-1].isCurrent=!0):this.module.store.models.state.data.disablePrev=!0)),this.store.models.state.getCurrentState(i)},click:function(e){var n,a,t=this.data,i=e.typeIndex,l=e.questionId;i>=0&&(s.forEach(t,function(e){var n=e;n.isCurrent=!1,s.forEach(n.data.data,function(e){e.isCurrent=!1})}),t[i].isCurrent=!0),n=s.find(t,["isCurrent",!0]).data.data,l?(a=s.find(n,["id",l]))&&(s.forEach(n,function(e){e.isCurrent=!1}),a.isCurrent=!0):n[0].isCurrent=!0},changeSort:function(e,n){var a,t=n||1,i=function(){return s.map(e,function(e){var n=e,a=n.data.data;return n.data.data=s.map(a.sort(function(){return Math.random()-.5}),function(e,n){return o.assign(e,{i:n+1})}),n})},l=function(){var e=this.store.models.paper.data.paperClassQuestions;s.forEach(e,function(e){var n=e.question;1!==n.type&&2!==n.type&&8!==n.type||o.assign(n,{questionAttrs:n.questionAttrs.sort(function(){return Math.random()-.5})})})},r=function(e){var n=[];s.forEach(e,function(e){s.forEach(e.data.data,function(e){n.push(e)})}),this.store.models.questions.set(n)};switch(t){case 1:a=e;break;case 2:a=i();break;case 3:l.call(this),a=e;break;case 4:l.call(this),a=i()}return r.call(this,a),a}}},questions:{},side:{data:{}},answer:{type:"localStorage",data:{answers:[]},mixin:{saveAnswer:function(e){var n=s.reject(this.data.answers,["key",e.key]);n.push(e),this.data.answers=n,this.store.models.modify.saveAnswer(e)},getAnswer:function(e){return s.find(this.data.answers,["key",e])}}},modify:{type:"localStorage",data:{answers:[],api:{}},mixin:{saveAnswer:function(e){var n=s.reject(this.data.answers,["key",e.key]);n.push(e),this.data.answers=n},covert:function(e){this.data.api={examRecordId:this.module.store.models.exam.data.examRecord.id,submitType:e.submitType,answerRecords:this.changeAnswerRecord()}},changeAnswerRecord:function(){var e=[];return s.forEach(this.data.answers,function(n){n.type&&6===n.type?s.forEach(n.value,function(n){e.push(n)}):e.push(n)}),JSON.stringify(s.map(e,function(e){return{questionId:e.key,answer:s.map(e.value,"value").join(",")}}))}}},form:{url:"../exam/exam-record/submitPaper"},marks:{data:{collects:[],corrects:[]},mixin:{getCurrentCorrect:function(e){return s.find(this.data.corrects,["questionId",e])},isCollect:function(e){return s.find(this.data.collects,["questionId",e])},isCollectDynamicView:function(e){return e.indexOf("collect-correct-")>-1}}}},callbacks:{init:function(e){var n=this,a=this.models.questionTypes,t=this.models.answer,i=this.models.modify;return t.load(),i.load(),t.data||(t.data={answers:[]}),i.data||(i.data={answers:[],api:{}}),this.models.exam.set({id:e.examId}),this.get(this.models.exam).then(function(){var t=n.models.exam.data;n.models.state.init(t,e),a.createQuestionTypes(t.paper,t.paperSortRule),a.setFirstQuestionRemote(),n.models.state.getCurrentState(a.data),n.models.state.setFirstQuestionRemote(a.data)})},reload:function(){this.models.state.changed()},changeState:function(e){var n=this.models.state.data,a=this.models.side;o.assign(n,e),o.assign(a.data,e),this.models.questionTypes.click(a.data),this.models.state.getCurrentState(this.models.questionTypes.data),this.models.state.changed()},move:function(e){this.models.questionTypes.move(e),this.models.questionTypes.changed(),this.models.state.changed()},changePaperViewType:function(e){this.models.state.data.isOnePageOneQuestion=0===Number(e.type),this.models.state.changed()},collect:function(e){var n,a=this.models.marks.data.collects,t=s.find(a,["questionId",e.questionId]);t?(n=s.reject(a,["questionId",e.questionId]),this.models.marks.data.collects=n):a.push(e),this.models.state.changed()},correct:function(e){var n=s.reject(this.models.marks.data.corrects,["questionId",e.questionId]);n.push(e),this.models.marks.data.corrects=n,this.models.state.changed()},submit:function(e){var n=this.models.modify,a=this;return this.models.answer.save(),this.models.modify.save(),e.submitType!==u.Auto&&t(),n.covert(e),this.models.form.set(n.data.api),this.post(this.models.form).then(function(){e.submitType!==u.Auto?(a.models.questionTypes.clear(),a.models.questions.clear(),a.models.answer.clear(),a.models.modify.clear(),a.app.message.success("交卷成功"),l()):a.models.modify.data={answers:[],api:{}}})}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.buttons=[{text:"交卷",fn:function(){return this.dispatch("submit",{submitType:u.Hand})}}],a.afterRender=function(){this.store.models.exam.data.id,function(){var e=1*Math.random();Number(e.toFixed(2))}()},t=function(){clearTimeout(i),i=void 0},l=function(){d.disconnect()}},{"./app/exam/exam-websocket":"./app/exam/exam-websocket","./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/paper/answer-paper/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="achievement-content content">\n    <div class="achievement-side" data-region="side"></div>\n    <div class="achievement-main" data-region="head"></div>\n    <div class="achievement-main" data-region="main" oncontextmenu1="window.event.returnValue=false;" oncopy1="return false;" oncut1="return false;" onpaste1="return false"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div class="achievement-preview-top">\n        <div class="com-title text-center">\n            本卷共\n            '+r(s(null!=(l=null!=n?n.state:n)?l.questionNum:l,n))+"\n            题，总分\n            "+r(s(null!=(l=null!=n?n.state:n)?l.totalScore:l,n))+"\n            分\n"+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.state:n)?l.mode:l,"eq",1,{name:"compare",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.state:n)?l.mode:l,"eq",2,{name:"compare",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'        </div>\n    </div>\n    <ul class="achievement-preview">'+(null!=(l=a.each.call(o,null!=n?n.questionTypes:n,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},4:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                <div class="text-center m-top">\n                    <div class="m-right inline-block">\n                        <div class="num min-btn correct">'+r(s(null!=(l=null!=n?n.state:n)?l.answeredNum:l,n))+'</div>\n                        <div class="inline-block">已答</div>\n                    </div>\n                    <div class="m-right inline-block">\n                        <div class="num min-btn error">'+r(s(null!=(l=null!=n?n.state:n)?l.noAnswerNum:l,n))+'</div>\n                        <div class="inline-block">未答</div>\n                    </div>\n                </div>\n'},6:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                <div class="text-center m-top">\n                    <div class="m-right inline-block">\n                        <div class="num min-btn correct">'+r(s(null!=(l=null!=n?n.state:n)?l.correctNum:l,n))+'</div>\n                        <div class="inline-block">正确</div>\n                    </div>\n                    <div class="m-right inline-block">\n                        <div class="num min-btn error">'+r(s(null!=(l=null!=n?n.state:n)?l.wrongNum:l,n))+'</div>\n                        <div class="inline-block">错误</div>\n                    </div>\n                    <div class="inline-block">\n                        <div class="num min-btn">'+r(s(null!=(l=null!=n?n.state:n)?l.noAnswerNum:l,n))+'</div>\n                        <div class="inline-block">未答</div>\n                    </div>\n                </div>\n'},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=e.escapeExpression,d=e.lambda;return'\n        <li class="border bottom" id="list-item-'+o((s=null!=(s=a.index||i&&i.index)?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n            <label>\n                '+o(d(null!=(l=null!=n?n.data:n)?l.name:l,n))+"题(共"+o(d(null!=(l=null!=n?n.data:n)?l.totalScore:l,n))+'分)\n            </label>\n            <div class="min-btn-groups  '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+'">'+(null!=(l=a.each.call(r,null!=(l=null!=n?n.data:n)?l.data:l,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n        </li>\n    "},9:function(e,n,a,t,i){return""},11:function(e,n,a,t,i){return"hidden"},13:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n                <div class="num min-btn  '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'" id="q-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</div>\n            "},14:function(e,n,a,t,i){return"correct"},16:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.mode:l,"eq",1,{name:"compare",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.mode:l,"eq",2,{name:"compare",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")},17:function(e,n,a,t,i){var l;return'        <div class="title-row row">\n            <div class="col-sm-4 pull-left">\n                <div class="com-title">正在作答:'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.name:l,n))+'</div>\n            </div>\n            <div class="col-sm-4">\n                <div class="com-title">开始 倒计时</div>\n            </div>\n            <div class="col-sm-4 pull-right">\n                <div class="com-title">\n                    <div data-dynamic-key="countDown"></div>\n                </div>\n            </div>\n        </div>\n'},19:function(e,n,a,t,i){var l;return'        <div class="title-row row">\n            <div class="col-sm-4 pull-left">\n                <div class="com-title">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.name:l,n))+"</div>\n            </div>\n            <div class=\"col-sm-6 pull-right\">\n                <div class=\"com-title\">考生：总得分：及格</div>\n            </div>\n        </div>\n        \x3c!--  .row --\x3e\n        \x3c!--      .col-sm-4 --\x3e\n        \x3c!--          input(type='hidden') --\x3e\n        \x3c!--          select.input#paper-view-type > each(paperViewTypes) --\x3e\n        \x3c!--              option(value=key)('selected')&if(selected) > echo(value) --\x3e\n"},21:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="hr"></div>\n    <div class="preview-content" oncontextmenu1="window.event.returnValue=false;" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isOnePageOneQuestion:l,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+'        <div class="row">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isOnePageOneQuestion:l,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.program(28,i,0),data:i}))?l:"")+"        </div>\n    </div>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=(l=null!=n?n.state:n)?l.mode:l,"eq",2,{name:"compare",hash:{},fn:e.program(32,i,0),inverse:e.noop,data:i}))?l:"")},22:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'            <div class="row">\n                <div class="col-xs-6">\n                    <div class="com-title inline-block">'+r(s(null!=(l=null!=n?n.state:n)?l.questionType:l,n))+"("+r(s(null!=(l=null!=n?n.state:n)?l.questionIndex:l,n))+"/"+r(s(null!=(l=null!=n?n.state:n)?l.questionTotalInType:l,n))+')</div>\n                    <div class="inline-block">本题分数:'+r(s(null!=(l=null!=n?n.state:n)?l.currentQuestionScore:l,n))+'</div>\n                </div>\n                <div class="col-xs-6"><div class="text-right">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.isOnePageOneQuestion:l,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+"                </div></div>\n            </div>\n"},23:function(e,n,a,t,i){return'                        <div class="icon pe-7s-angle-left-circle pe-3x m-right" id="prev"></div>\n                        <div class="icon pe-7s-angle-right-circle pe-3x" id="next"></div>\n'},25:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.questionId:l,{name:"if",hash:{},fn:e.program(26,i,0),inverse:e.noop,data:i}))?l:""},26:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                    <div class="col-xs-12" data-dynamic-key="'+r(s(null!=(l=null!=n?n.state:n)?l.questionId:l,n))+'"></div>\n                    <div class="col-xs-12" data-dynamic-key="collect-correct-'+r(s(null!=(l=null!=n?n.state:n)?l.questionId:l,n))+'"></div>\n'},28:function(e,n,a,t,i){var l;return'                <div class="col-xs-12">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.questionTypes:n,{name:"each",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n"},29:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                        <label>\n                            <div class="com-title">'+r(s(null!=(l=null!=n?n.data:n)?l.name:l,n))+"题(共"+r(s(null!=(l=null!=n?n.data:n)?l.totalScore:l,n))+"分)</div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.data:n)?l.data:l,{name:"each",hash:{},fn:e.program(30,i,0),inverse:e.noop,data:i}))?l:"")+"                        </label>\n"},30:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"                                "+o((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,"function"==typeof l?l.call(s,{name:"i",hash:{},data:i}):l))+'\n                                <div data-dynamic-key="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'"></div>\n                                <div data-dynamic-key="collect-correct-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'"></div>\n'},32:function(e,n,a,t,i){return'        <div class="show-answer border border-top">\n            <div class="row">\n                <div class="col-xs-6"><div class="com-title">答案：A</div></div>\n                <div class="col-xs-6 text-right">\n                    <span>本题得分：1</span>\n                    <span class="m-left">本题易错率：9%</span>\n                </div>\n            </div>\n        </div>\n'},34:function(e,n,a,t,i){var l;return'    <div class="title-row row">\n        <div class="col-sm-12">\n            <div class="com-title">\n                '+e.escapeExpression((l=null!=(l=a.message||(null!=n?n.message:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"message",hash:{},data:i}):l))+"\n            </div>\n        </div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"tips",{name:"view",hash:{},fn:e.program(34,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/paper/answer-paper/view-head",function(e,n,a){a.bindings={state:!1,exam:!1},a.type="dynamic",a.getEntity=function(){return{endTime:this.bindings.exam.data.endTime,duration:this.bindings.exam.data.duration}},a.getEntityModuleName=function(){return"exam/paper/answer-paper/count-down"},a.dataForEntityModule=function(e){var n=this;return{data:e,callback:function(){n.app.viewport.modal(n.module.items.tips,{message:"交卷时间到"})}}}},{}),loadjs.d("./app/train/programme/exam/paper/answer-paper/view-main",function(e,n,a){var t,i=e("./app/exam/exam-question-types"),l=e("./app/util/maps"),s=e("drizzle-zxy");a.bindings={state:!0,exam:!0,questions:!0,answer:!0,questionTypes:!0,marks:!1},a.type="dynamic",a.components=[{id:"paper-view-type",name:"selectize"}],a.events={"change paper-view-type":"changePaperViewType","click prev":"prev","click next":"next"},a.handlers={changePaperViewType:function(){return this.module.dispatch("changePaperViewType",{type:this.$("paper-view-type").value})},prev:function(){return this.module.dispatch("move",-1)},next:function(){return this.module.dispatch("move",1)}},a.dataForTemplate={paperViewTypes:function(){var e=l.get("paper-view-type");return this.bindings.state.data.isOnePageOneQuestion?e[0].selected=!0:e[1].selected=!0,e},questions:function(){return this.bindings.questions.data}},a.getEntity=function(e){var n,a=e,t=!1;return this.bindings.marks.isCollectDynamicView(a)&&(a=a.replace("collect-correct-",""),t=!0),n=this.bindings.exam.getQuestionById(a),s.assign(n,{questionAttrs:n.questionAttrCopys,isCollectCorrect:t}),n},a.getEntityModuleName=function(e,n){return this.bindings.marks.isCollectDynamicView(e)?"exam/paper/answer-paper/collect-correct":i.get(n.type,3)},a.dataForEntityModule=function(e){var n=this;return e.isCollectCorrect?t.call(this,e):{data:e,multiple:2===e.type,answer:this.bindings.answer.getAnswer(e.id),callback:function(e){return n.bindings.answer.saveAnswer(e),n.bindings.state.calculate(),n.module.dispatch("reload")},mode:1}},t=function(e){var n=this;return{questionId:e.id,isCollect:this.bindings.marks.isCollect(e.id),correct:this.bindings.marks.getCurrentCorrect(e.id)||{},callback:{collect:function(e){return n.module.dispatch("collect",e)},correct:function(e){return n.module.dispatch("correct",e)}}}}},{"./app/exam/exam-question-types":"./app/exam/exam-question-types","./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/paper/answer-paper/view-side",function(e,n,a){a.bindings={state:!0,questionTypes:!0},a.events={"click q-*":"showQuestion","click list-item-*":"toggleMore"},a.handlers={toggleMore:function(e){this.module.dispatch("changeState",{typeIndex:Number(e)})},showQuestion:function(e){return this.module.dispatch("changeState",{questionId:e})}},a.dataForTemplate={questionTypes:function(){return this.bindings.questionTypes.data}}},{}),loadjs.d("./app/train/programme/exam/paper/answer-paper/view-tips",function(e,n,a){a.dataForTemplate={message:function(){return this.renderOptions.message}}},{}),loadjs.d("./app/train/programme/exam/paper/base-paper/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy"),l=e("./app/util/maps"),s=l.get("question-types"),r={ONE_HUNDRED:100,ZERO:0,ONE:1,SINGLE_MODE:1,PC_CLIENT_TYPE:1,SHOW_ANSWER_IMMED:1},o={INIT:"init",CHECK:"check",ACTIVE:"active",CURRENT:"current"},d={REMOTE:1,QUESTION:2,QUESTION_ATTR:3,QUESTION_AND_ATTR:4},c={1:1,2:2,3:3,4:6,5:7,6:8,7:5,8:4};a.items={side:"side",main:"main"},a.store={models:{state:{mixin:{init:function(e){var n=this.module.store.models.types;this.data={name:e.name,examNotes:e.examNotes,indefinite:e.indefinite,examinee:e.examRecord&&e.examRecord.member.name,totalCount:e.paper.questionNum,totalScore:e.paper.totalScore/r.ONE_HUNDRED,noAnswerCount:e.paper.questionNum,answeredCount:r.ZERO,singleMode:Number(e.paperShowRule)===r.SINGLE_MODE,currentQuestion:n.getFirstQuestion()}},selectQuestion:function(e){var n=this.module.store.models.types;i.assign(this.data,{currentQuestion:n.getQuestionById(e)})},resetCurrentQuestion:function(){var e=this.module.store.models.types;i.assign(this.data,{currentQuestion:e.getCurrentQuestion()})},calculate:function(){var e=this.module.store.models.answer,n=e.answeredCount();i.assign(this.data,{answeredCount:n,noAnswerCount:this.data.totalCount-n})},isComplete:function(){return 0===this.data.noAnswerCount}}},types:{mixin:{init:function(e,n){var a={},l=0;e&&(t.forEach(e,function(e){var l=c[e.type];a[l]||(a[l]={},i.assign(a[l],{type:l,name:t.find(s,["key",e.type.toString()]).value,totalScore:r.ZERO,size:r.ZERO,status:o.INIT,questions:[]}),1===n&&2===l&&i.assign(a[l],{name:"不定项选择"})),a[l].size++,a[l].questions.push(i.assign(e,{index:a[l].questions.length+r.ONE,score:e.score/r.ONE_HUNDRED,status:o.INIT}))}),this.data=t.map(a,function(e){return l===r.ZERO&&i.assign(e.questions[0],{status:o.CURRENT}),t.map(e.questions,function(n){i.assign(n,{typeIndex:l,totalCount:e.size,questionAttrCopys:t.orderBy(n.questionAttrCopys,["name"],["asc"])})}),i.assign(e,{totalScore:t.reduce(t.map(e.questions,"score"),function(e,n){return e+n}),isCurrent:l++===r.ZERO})}),this.sortQuestion())},sortQuestion:function(){var e=this.module.store.models.exam.data,n=e.paperSortRule;n===d.QUESTION&&(this.data=t.map(this.data,function(e){return i.assign(e,{questions:t.map(e.questions.sort(function(){return Math.random()-.5}),function(e,n){return i.assign(e,{index:n+1})})})})),n===d.QUESTION_ATTR&&(this.data=t.map(this.data,function(e){return i.assign(e,{questions:t.map(e.questions,function(e){return i.assign(e,{questionAttrCopys:e.questionAttrCopys.sort(function(){return Math.random()-.5})})})})})),n===d.QUESTION_AND_ATTR&&(this.data=t.map(this.data,function(e){return i.assign(e,{questions:t.map(e.questions.sort(function(){return Math.random()-.5}),function(e,n){return i.assign(e,{index:n+1,questionAttrCopys:e.questionAttrCopys.sort(function(){return Math.random()-.5})})})})}))},getQuestionById:function(e){var n,a=this.module.store.models.exam.data.indefinite;return t.forEach(this.data,function(a){t.forEach(a.questions,function(a){a.id===e&&(n=a)})}),a=1===a&&2===n.type,i.assign(n,{typeDesc:a?"不定项选择题":t.find(s,["key",n.type.toString()]).value+"题"})},getFirstQuestion:function(){var e=this.data[0].questions[0],n=this.module.store.models.exam.data.indefinite;return n=1===n&&2===e.type,i.assign(e,{typeDesc:n?"不定项选择题":t.find(s,["key",e.type.toString()]).value+"题"})},selectType:function(e){this.module.store.models.state.data.selectQuestion||(this.data[e].isCurrent=!this.data[e].isCurrent),this.module.store.models.state.data.selectQuestion=!1},getType:function(e){return t.find(this.data,function(n){return t.some(n.questions,function(n){return n.id===e})})},selectQuestion:function(e){var n=this.getType(e),a=n.questions.findIndex(function(e){return e.status===o.CURRENT}),l=this;a>-1&&(n.questions[a].status=this.module.options.getCurrentStatus.call(this.module,n.questions[a].id)),i.assign(this.getQuestionById(e),{status:o.CURRENT}),t.forEach(t.filter(this.data,function(n){return t.every(n.questions,function(n){return n.id!==e})}),function(e){var n=e.questions.findIndex(function(e){return e.status===o.CURRENT});-1!==n&&i.assign(e.questions[n],{status:l.module.options.getCurrentStatus.call(l.module,e.questions[n].id)})}),this.module.store.models.state.data.selectQuestion=!0},getCurrentQuestion:function(){var e;return t.forEach(this.data,function(n){t.forEach(n.questions,function(n){n.status===o.CURRENT&&(e=n)})}),e},move:function(e){var n,a=this.data[e.id],t=a.questions.findIndex(function(e){return e.status===o.CURRENT}),i=e.offset,l=a.questions[t+i];l?(l.status=o.CURRENT,a.questions[t].status=this.module.options.getCurrentStatus.call(this.module,a.questions[t].id)):this.data[Number(e.id)+i]&&(n=this.data[Number(e.id)+i],l=n.questions[i>0?0:n.questions.length-1],l.status=o.CURRENT,this.initStatus(),n.isCurrent=!0,a.questions[t].status=this.module.options.getCurrentStatus.call(this.module,a.questions[t].id))},updateStatus:function(e,n){i.assign(this.getQuestionById(e),{status:n})},initStatus:function(){this.data=t.map(this.data,function(e){return i.assign(e,{isCurrent:!1})})}}}},callbacks:{selectType:function(e){this.models.types.selectType(e.id),this.models.types.changed()},selectQuestion:function(e){this.models.state.selectQuestion(e.id),this.models.types.selectQuestion(e.id),this.models.state.changed(),this.models.types.changed()},move:function(e){this.models.types.move(e),this.models.types.changed(),this.models.state.resetCurrentQuestion(),this.models.state.changed()},clearModels:function(){t.forEach(this.models,function(e){e.clear()})}}},a.getCurrentStatus=function(){return o.INIT}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/paper/base-paper/view-main",function(e,n,a){a.bindings={state:!0,types:!0},a.type="dynamic",a.events={"click prev-*":"prev","click next-*":"next"},a.handlers={prev:function(e){return this.module.dispatch("move",{id:e,offset:-1})},next:function(e){return this.module.dispatch("move",{id:e,offset:1})}}},{}),loadjs.d("./app/train/programme/exam/paper/base-paper/view-side",function(e,n,a){a.bindings={state:!0,types:!0},a.events={"click question-*":"selectQuestion","click list-item-*":"toggleMore"},a.handlers={selectQuestion:function(e){this.module.dispatch("selectQuestion",{id:e})},toggleMore:function(e){return this.module.dispatch("selectType",{id:e})}}},{}),loadjs.d("./app/train/programme/exam/paper/index",function(e,n,a){a.type="tree-grid",a.searchView="filter",a.items={content:"content",filter:"","train/programme/exam/paper/add-paper":{isModule:!0},"train/programme/exam/paper/preview-paper":{isModule:!0},"train/programme/exam/paper/mark-paper":{isModule:!0},"train/programme/exam/paper/used-exam":{isModule:!0}},a.store={models:{papers:{url:"../exam/paper-class",root:"items",type:"pageable"},paper:{url:"../exam/paper-class"},updateStatus:{url:"../exam/paper-class/update-status"}},callbacks:{doSearch:function(e){this.module.setSearchOptions(e)},refreshList:function(e){var n=this.models.papers;n.clear(),n.params=e,this.get(n)},viewPaper:function(e){return this.models.paper.set(e),this.get(this.models.paper)},publishPaper:function(e){return this.models.updateStatus.set(e),this.put(this.models.updateStatus)},undoPaper:function(e){return this.models.updateStatus.set(e),this.put(this.models.updateStatus)},selectQuestions:function(e){return e},removePaper:function(e){var n=this;this.models.paper.set(e),this.del(this.models.paper).then(function(){n.app.message.success("操作成功"),n.get(n.models.papers)})}}}},{}),loadjs.d("./app/train/programme/exam/paper/mark-paper/index",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/maps"),l=e("drizzle-zxy"),s={1:1,2:2,3:3,4:6,5:7,6:8,7:5,8:4};a.large=!0,a.title="试卷评卷",a.items={side:"side",main:"main"},a.store={models:{paper:{mixin:{getQuestionById:function(e){var n=this.data.paperClassQuestions;return t.find(n,["id",e]).question}}},state:{mixin:{getCurrentState:function(e){var n,a={questionType:"",questionIndex:0,questionTotalInType:0,currentQuestionScore:0},i=t.find(e,["isCurrent",!0]);return!!i&&(a.questionType=i.data.name,a.questionTotalInType=i.data.data.length,n=t.find(i.data.data,["isCurrent",!0]),n?(a.questionIndex=n.i,a.currentQuestionScore=n.score,a.questionId=n.id):(a.questionIndex=1,a.currentQuestionScore=i.data.data[0].score),l.assign(this.data,a),!0)},setFirstQuestionRemote:function(e){e.length>0&&(this.data.questionId=e[0].data.data[0].id)}}},exam:{
url:"../exam/exam/exam-mark-paper",mixin:{getQuestionById:function(e){var n=this.data.paper.questions;return t.find(n,["id",e])}}},questionTypes:{mixin:{createQuestionTypes:function(e){var n,a=[],l={},r=[],o=i.get("question-types");e.questions&&e.questions.length>0&&(t.forEach(e.questions,function(e){var a=s[e.type];l[a]||(l[a]={size:0,totalScore:0,name:"",data:[]}),l[a].size++,l[a].totalScore+=e.score/100,l[a].name=t.find(o,["key",e.type.toString()]).value,n={id:e.id,i:l[a].data.length+1,score:e.score/100,isCurrent:!1},l[a].data.push(n)}),t.forEach(l,function(e,n){a.push({data:l[n],isCurrent:!1,k:0})})),t.forEach(a,function(e){t.forEach(e.data.data,function(e){r.push(e)})}),this.store.models.questions.set(r),this.data=a},setFirstQuestionRemote:function(){var e=this.data;e.length>0&&(e[0].isCurrent=!0,e[0].data.data[0].isCurrent=!0)},move:function(e){var n,a,i,l=this.data,s=this.store.models.state,r=t.find(l,["isCurrent",!0]),o=l.findIndex(function(e){return!0===e.isCurrent});return r&&(n=r.data.data,a=t.find(n,["isCurrent",!0]),i=a.i-1+e,n[i]?(n[i].isCurrent=!0,s.data.questionId=n[i].id,n[a.i-1].isCurrent=!1):e>0&&l[o+1]?l[o+1]?(l[o].isCurrent=!1,l[o+1].isCurrent=!0,r=l[o+1],n=r.data.data,n.forEach(function(e){e.isCurrent=!1}),n[0].isCurrent=!0):this.module.store.models.state.data.disableNext=!0:e<0&&l[o-1]&&(l[o-1]?(l[o].isCurrent=!1,l[o-1].isCurrent=!0,r=l[o-1],n=r.data.data,n.forEach(function(e){e.isCurrent=!1}),n[n.length-1].isCurrent=!0):this.module.store.models.state.data.disablePrev=!0)),this.store.models.state.getCurrentState(l)},click:function(e){var n,a,i=this.data,l=e.typeIndex,s=e.questionId;l>=0&&(t.forEach(i,function(e){var n=e;n.isCurrent=!1,t.forEach(n.data.data,function(e){e.isCurrent=!1})}),i[l].isCurrent=!0),n=t.find(i,["isCurrent",!0]).data.data,s?(a=t.find(n,["id",s]))&&(t.forEach(n,function(e){e.isCurrent=!1}),a.isCurrent=!0):n[0].isCurrent=!0}}},questions:{},side:{data:{}},goal:{data:{goals:[]},mixin:{save:function(e){var n=t.reject(this.data.goals,["key",e.key]);n.push(e),this.data.goals=n},getGoal:function(e){return t.find(this.data.goals,["key",e])},init:function(){var e=this.module.store.models.exam.data.paper.questions,n=this;t.forEach(e,function(e){6===e.type&&n.data.goals.push({key:e.id,type:6,value:t.map(t.filter(e.subs,function(e){return 5===e.type}),function(e){return e.answerRecord?{key:e.id,value:"",type:e.type,isRight:0}:{key:e.id,value:0,type:e.type}})}),e.answerRecord||n.data.goals.push({key:e.id,value:0,type:e.type,isRight:0})})},checkNoMark:function(){var e,n,a=this.module.store.models.exam.data.paper.questions,i=0,l=!0;for(i;i<a.length;i++)if(e=a[i],n=t.find(this.data.goals,["key",e.id]),6===e.type){if(!(l=n&&t.every(n.value,function(e){return e.value>=0})))return l}else if(!(l=n&&""!==n.value))return l;return l},changeAnswerRecord:function(){var e=[];return t.forEach(this.data.goals,function(n){6===n.type?t.forEach(n.value,function(n){e.push({questionId:n.key,score:100*n.value,questionCopy:{type:n.type}})}):e.push({questionId:n.key,score:100*n.value,questionCopy:{type:n.type}})}),JSON.stringify(e)}}},form:{url:"../exam/exam/mark-paper-info"},error:{mixin:{save:function(e){var n=this.data||[],a=t.filter(n,function(n){return n.id!==e.id});a.push(e),this.data=a},check:function(){var e=!t.every(this.data,function(e){return e.check});return e&&this.app.message.error(t.map(t.filter(this.data,function(e){return!e.check}),function(e){return'"'+e.content+'":'+e.error}).join(",")),e}}}},callbacks:{init:function(e){var n=this,a=this.models.state.data,t=this.models.questionTypes;return this.models.exam.set({id:e.examRecordId}),l.assign(a,{isOnePageOneQuestion:!0}),this.get(this.models.exam).then(function(){var e=n.models.exam;a.name||(a.name=e.data.name,a.isOnePageOneQuestion=1===e.data.paperShowRule,a.member=e.data.examRecord.member),n.models.goal.init(),t.createQuestionTypes(e.data.paper),t.setFirstQuestionRemote(),n.models.state.getCurrentState(t.data),n.models.state.setFirstQuestionRemote(t.data)})},reload:function(){this.models.state.changed()},changeState:function(e){var n=this.models.state.data,a=this.models.side;l.assign(n,e),l.assign(a.data,e),this.models.questionTypes.click(a.data),this.models.state.getCurrentState(this.models.questionTypes.data),this.models.state.changed()},move:function(e){this.models.questionTypes.move(e),this.models.questionTypes.changed(),this.models.state.changed()},changePaperViewType:function(e){this.models.state.data.isOnePageOneQuestion=0===Number(e.type),this.models.state.changed()},save:function(){var e=this;return this.models.goal.checkNoMark()?!this.models.error.check()&&(this.models.form.set({examRecordId:this.models.exam.data.examRecord.id,examId:this.models.exam.data.id,answerRecords:this.models.goal.changeAnswerRecord()}),this.post(this.models.form).then(function(){var n=e.module.renderOptions.callback;e.app.message.success("操作成功"),n&&n()})):(this.app.message.error("必须对全部题目评分完整"),!1)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.buttons=[{text:"提交评卷",fn:function(){var e=this;return this.Promise.create(function(n){e.app.message.confirm("是否确定提交评卷?",function(){return e.dispatch("save").then(function(){e.app.viewport.closeGround()})},function(){n(!1)})})}}]},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/paper/mark-paper/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="achievement-content content">\n    <div class="achievement-side" data-region="side"></div>\n    <div class="achievement-main" data-region="main" oncontextmenu1="window.event.returnValue=false;" oncopy1="return false;" oncut1="return false;" onpaste1="return false"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <div class="achievement-preview-top">\n        <div class="com-title text-center"></div>\n        提交评卷\n    </div>\n    <ul class="achievement-preview">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.questionTypes:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=e.escapeExpression,d=e.lambda;return'\n        <li class="border bottom" id="list-item-'+o((s=null!=(s=a.index||i&&i.index)?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n            <label>\n                '+o(d(null!=(l=null!=n?n.data:n)?l.name:l,n))+"题(共"+o(d(null!=(l=null!=n?n.data:n)?l.totalScore:l,n))+'分)\n            </label>\n            <div class="min-btn-groups  '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'">'+(null!=(l=a.each.call(r,null!=(l=null!=n?n.data:n)?l.data:l,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n        </li>\n    "},5:function(e,n,a,t,i){return""},7:function(e,n,a,t,i){return"hidden"},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n                <div class="num min-btn  '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(5,i,0),data:i}))?l:"")+'" id="q-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</div>\n            "},10:function(e,n,a,t,i){return"correct"},12:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="title-row row">\n        <div class="col-sm-4"><div class="com-title">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.name:l,n))+'</div></div>\n        <div class="col-sm-4">\n'+(null!=(l=a.if.call(s,null!=n?n.anonymityMark:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'        </div>\n    </div>\n    <div class="hr"></div>\n    <div class="preview-content" oncontextmenu1="window.event.returnValue=false;" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isOnePageOneQuestion:l,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+'        <div class="row">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isOnePageOneQuestion:l,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.program(21,i,0),data:i}))?l:"")+"        </div>\n    </div>\n"},13:function(e,n,a,t,i){var l;return"                考生： "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.member:l)?l.name:l,n))+"\n"},15:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'            <div class="row">\n                <div class="col-xs-6">\n                    <div class="com-title inline-block">'+r(s(null!=(l=null!=n?n.state:n)?l.questionType:l,n))+"("+r(s(null!=(l=null!=n?n.state:n)?l.questionIndex:l,n))+"/"+r(s(null!=(l=null!=n?n.state:n)?l.questionTotalInType:l,n))+')</div>\n                </div>\n                <div class="col-xs-6"><div class="text-right">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.isOnePageOneQuestion:l,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+"                </div></div>\n            </div>\n"},16:function(e,n,a,t,i){return'                        <div class="icon pe-7s-angle-left-circle pe-3x m-right" id="prev"></div>\n                        <div class="icon pe-7s-angle-right-circle pe-3x" id="next"></div>\n'},18:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.questionId:l,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:""},19:function(e,n,a,t,i){var l;return'                    <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.questionId:l,n))+'"></div>\n'},21:function(e,n,a,t,i){var l;return"                <div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.questionTypes:n,{name:"each",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n"},22:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                        <label>\n                            <div class="com-title">'+r(s(null!=(l=null!=n?n.data:n)?l.name:l,n))+"题(共"+r(s(null!=(l=null!=n?n.data:n)?l.totalScore:l,n))+"分)</div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.data:n)?l.data:l,{name:"each",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+"                        </label>\n"},23:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"                                "+o((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,"function"==typeof l?l.call(s,{name:"i",hash:{},data:i}):l))+'\n                                <div data-dynamic-key="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/paper/mark-paper/view-main",function(e,n,a){var t=e("./app/exam/exam-question-types"),i=e("./app/util/maps"),l=e("drizzle-zxy");a.bindings={paper:!0,state:!0,exam:!0,questions:!0,goal:!0,questionTypes:!0,error:!0},a.type="dynamic",a.components=[{id:"paper-view-type",name:"selectize"}],a.events={"change paper-view-type":"changePaperViewType","click prev":"prev","click next":"next"},a.handlers={changePaperViewType:function(){return this.module.dispatch("changePaperViewType",{type:this.$("paper-view-type").value})},prev:function(){return this.module.dispatch("move",-1)},next:function(){return this.module.dispatch("move",1)}},a.dataForTemplate={paperViewTypes:function(){var e=i.get("paper-view-type");return this.bindings.state.data.isOnePageOneQuestion?e[0].selected=!0:e[1].selected=!0,e},questions:function(){return this.bindings.questions.data},anonymityMark:function(){return 0===Number(this.bindings.exam.data.anonymityMark)}},a.getEntity=function(e){var n=this.bindings.exam.getQuestionById(e);return n=l.assign({},n,{questionAttrs:n.questionAttrCopys,score:n.score/100})},a.getEntityModuleName=function(e,n){return t.get(n.type,4)},a.dataForEntityModule=function(e){var n=this;return{data:e,multiple:2===e.type,goal:this.bindings.goal.getGoal(e.id),callback:{save:function(e){n.bindings.goal.save(e)},check:function(e){n.bindings.error.save(e)}}}}},{"./app/exam/exam-question-types":"./app/exam/exam-question-types","./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/paper/mark-paper/view-side",function(e,n,a){a.bindings={paper:!0,state:!0,questionTypes:!0},a.events={"click q-*":"showQuestion","click list-item-*":"toggleMore"},a.handlers={toggleMore:function(e){this.module.dispatch("changeState",{typeIndex:Number(e)})},showQuestion:function(e){return this.module.dispatch("changeState",{questionId:e})}},a.dataForTemplate={questionTypes:function(){return this.bindings.questionTypes.data}}},{}),loadjs.d("./app/train/programme/exam/paper/preview-paper/index",function(e,n,a){var t=e("./app/train/programme/exam/paper/base-paper/index"),i=e("drizzle-zxy"),l=e("lodash/collection"),s={INIT:"init",CHECK:"check",ACTIVE:"active",CURRENT:"current"},r={items:{"exam-notes":""},store:{models:{exam:{},paper:{url:"../exam/paper-class"},questions:{mixin:{init:function(e){var n,a=this.module.renderOptions.exam.indefinite;n=1===a||0===a?this.module.renderOptions.exam.indefinite:e.exam.indefinite,this.data=l.map(e.paperClassQuestions,function(e){return 1===n&&1===e.question.type?i.assign(e.question,{type:2,typeDesc:"不定项选择题"}):i.assign(e.question,{score:e.score,sequence:e.sequence})})}}}},callbacks:{init:function(e){var n,a,t=this.models.paper,l=this.models.state,s=this.models.types,r=this.models.questions,o=this.models.exam;return this.module.dispatch("clearModels"),e.exam&&i.assign(o.data,e.exam),a=o.data.indefinite,e.paperId||e.examId?(i.assign(t.params,{paperId:e.paperId,examId:e.examId}),this.get(this.models.paper).then(function(){r.init(t.data),n=1===a||0===a?a:t.data.exam.indefinite,s.init(r.data,n),i.assign(o.data,{paper:t.data,indefinite:n}),l.init(o.data||{})})):""}}},beforeRender:function(){return this.dispatch("init",this.renderOptions)},getCurrentStatus:function(){return s.INIT}},o=i.assign({},t.items),d=i.assign({},t.store.models),c=i.assign({},t.store.callbacks),u=i.assign({},{large:!0,items:i.assign(o,r.items),store:{models:i.assign(d,r.store.models),callbacks:i.assign(c,r.store.callbacks)},beforeRender:function(){return this.dispatch("init",this.renderOptions)},getCurrentStatus:function(){return s.INIT},title:"试卷预览"});n.exports=u},{"./app/train/programme/exam/paper/base-paper/index":"./app/train/programme/exam/paper/base-paper/index","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/paper/preview-paper/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-modalheight"><div class="achievement-content main-side" style="margin-top:-2.1em;">\n    <div class="achievement-side bg-color pull-left inline-block" style="width: 20%;position:relative;min-height: 100%;padding-top: 0;">\n        <div data-region="side"></div>\n    </div>\n    <div class="pull-right" style="width: 79.5%;" data-region="main"></div>\n</div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="btn block col-sm-12" style="background: #777;color: white;height: 50px;line-height: 50px;">\n        本卷共\n        '+r(s(null!=(l=null!=n?n.state:n)?l.totalCount:l,n))+"\n        题，总分\n        "+r(s(null!=(l=null!=n?n.state:n)?l.totalScore:l,n))+'\n        分\n    </div>\n    <ul class="list">\n'+(null!=(l=a.each.call(o,null!=n?n.types:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(o,null!=n?n.showExamNotes:n,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"    </ul>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'            <li class="border bottom">\n                <div class="list-title" id="list-item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"题(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i}):s))+'分)</div>\n                <div class="min-btn-groups  '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'">'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n            </li>\n"},5:function(e,n,a,t,i){return""},7:function(e,n,a,t,i){return"hidden"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return"\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","init",{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","current",{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"                "},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item current" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a>\n"},14:function(e,n,a,t,i){return'            <div id="show-exam-notes" class="text-left" style="position:absolute; left:10px; bottom:10px;">\n                考试须知\n                <i class="iconfont icon-info"></i>\n            </div>\n'},16:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="achievement-head">\n        <div class="pull-left title" title="'+r(s(null!=(l=null!=n?n.state:n)?l.name:l,n))+'"><strong>'+r(s(null!=(l=null!=n?n.state:n)?l.name:l,n))+'</strong></div>\n    </div>\n    <div class="preview-content m-top border top">\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(o,null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.program(23,i,0),data:i}))?l:"")+"    </div>\n"},17:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'            <div class="h3 m-bottom m-top">'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeDesc:l,n))+"("+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.index:l,n))+"/"+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.totalCount:l,n))+')</div>\n            <div class="col-xs-6"><div class="text-right">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+"            </div></div>\n"},18:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                    <div class="icon pe-7s-angle-left-circle pe-3x m-right" id="prev-'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'"></div>\n                    <div class="icon pe-7s-angle-right-circle pe-3x" id="next-'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'"></div>\n'},20:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:""},21:function(e,n,a,t,i){var l;return'                <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n'},23:function(e,n,a,t,i){var l;return"            <div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},24:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                    <label>\n                        <div class="h3 m-bottom m-top">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"题(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i}):s))+"分)</div>\n"+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+"                    </label>\n"},25:function(e,n,a,t,i){var l;return'                            <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},27:function(e,n,a,t,i){var l;return"    <hr/>\n    "+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.examNotes:l,n))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"exam-notes",{name:"view",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/paper/preview-paper/view-exam-notes",function(e,n,a){a.bindings={state:!0},a.title="考前须知"},{}),loadjs.d("./app/train/programme/exam/paper/preview-paper/view-main",function(e,n,a){var t=e("./app/train/programme/exam/paper/base-paper/view-main"),i=e("drizzle-zxy"),l=e("./app/train/programme/exam/exam-question-types"),s=e("lodash/collection"),r={type:"dynamic",getEntity:function(e){var n=this.bindings.types.getQuestionById(e),a=i.assign({},n);return a=i.assign(a,{score:n.score/100,errorRate:n.errorRate/1e4,questionAttrs:s.orderBy(n.questionAttrs,["name"],["asc"])})},getEntityModuleName:function(e,n){return l.get(n.type,3)},dataForEntityModule:function(e){return{data:e,multiple:2===e.type,mode:-1}}},o=i.assign({},t,r);n.exports=o},{"./app/train/programme/exam/exam-question-types":"./app/train/programme/exam/exam-question-types","./app/train/programme/exam/paper/base-paper/view-main":"./app/train/programme/exam/paper/base-paper/view-main","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/paper/preview-paper/view-side",function(e,n,a){var t=e("./app/train/programme/exam/paper/base-paper/view-side"),i=e("drizzle-zxy"),l=i.assign({},t),s=i.assign({},l.events),r=i.assign({},l.handlers),o=i.assign({},l.dataForTemplate);l.events=s,i.assign(l.events,{"click show-exam-notes":"showExamNotes"}),l.handlers=r,i.assign(l.handlers,{showExamNotes:function(){this.app.viewport.modal(this.module.items["exam-notes"])}}),l.dataForTemplate=o,i.assign(l.dataForTemplate,{showExamNotes:function(e){return e.state.examNotes}}),n.exports=l},{"./app/train/programme/exam/paper/base-paper/view-side":"./app/train/programme/exam/paper/base-paper/view-side","drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/paper/score-detail-paper/index",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/maps"),l=e("drizzle-zxy"),s={1:1,2:2,3:3,4:6,5:7,6:8,7:5,8:4};a.items={side:"side",main:"main",head:"head",tips:""},a.store={models:{state:{data:{isOnePageOneQuestion:!0},mixin:{getCurrentState:function(e){var n,a={questionType:"",questionIndex:0,questionTotalInType:0,currentQuestionScore:0},i=t.find(e,["isCurrent",!0]);return a.questionType=i.data.name,a.questionTotalInType=i.data.data.length,n=t.find(i.data.data,["isCurrent",!0]),n?(a.questionIndex=n.i,a.currentQuestionScore=n.score,a.questionId=n.id):(a.questionIndex=1,a.currentQuestionScore=i.data.data[0].score),l.assign(this.data,a),!0},setFirstQuestionRemote:function(e){this.data.questionId=e[0].data.data[0].id},init:function(e,n){var a=this.data,i=e.paper.questions;l.assign(a,{name:e.name,isOnePageOneQuestion:1===e.paperShowRule,mode:n.mode||1,questionNum:e.paper.questionNum,totalScore:e.paper.totalScore/100,examMember:e.examRecord.member.name,memberTotalScore:e.examRecord.score/100,passDec:e.examRecord.status<7?"及格":"不及格"}),a.rightNum=t.filter(i,function(e){return 6===e.type?t.every(e.subs,function(e){return e.answerRecord&&1===e.answerRecord.isRight}):!!e.answerRecord&&1===e.answerRecord.isRight}).length,a.wrongNum=t.filter(i,function(e){return 6===e.type?!t.every(e.subs,function(e){return e.answerRecord&&1===e.answerRecord.isRight}):!!e.answerRecord&&0===e.answerRecord.isRight}).length,a.noAnswerNum=a.questionNum-a.rightNum-a.wrongNum}}},exam:{url:"../exam/exam/score-detail-paper",mixin:{getQuestionById:function(e){var n=this.data.paper.questions;return t.find(n,["id",e])}}},questionTypes:{mixin:{createQuestionTypes:function(e){var n,a,l=[],r={},o=[],d=i.get("question-types");e.questions&&e.questions.length>0&&(t.forEach(e.questions,function(e){a=s[e.type],r[a]||(r[a]={size:0,totalScore:0,name:"",data:[]}),r[a].size++,r[a].totalScore+=e.score/100,r[a].name=t.find(d,["key",e.type.toString()]).value,n={id:e.id,i:r[a].data.length+1,score:e.score/100,isCurrent:!1},r[a].data.push(n),o.push(n)}),t.forEach(r,function(e,n){l.push({data:r[n],isCurrent:!1,k:0})})),this.store.models.questions.set(o),this.data=l},setFirstQuestionRemote:function(){var e=this.data;e[0].isCurrent=!0,e[0].data.data[0].isCurrent=!0},move:function(e){var n,a,i,l=this.data,s=this.store.models.state,r=t.find(l,["isCurrent",!0]),o=l.findIndex(function(e){return!0===e.isCurrent});return r&&(n=r.data.data,a=t.find(n,["isCurrent",!0]),i=a.i-1+e,n[i]?(n[i].isCurrent=!0,s.data.questionId=n[i].id,n[a.i-1].isCurrent=!1):e>0&&l[o+1]?l[o+1]?(l[o].isCurrent=!1,l[o+1].isCurrent=!0,r=l[o+1],n=r.data.data,n.forEach(function(e){e.isCurrent=!1}),n[0].isCurrent=!0):this.module.store.models.state.data.disableNext=!0:e<0&&l[o-1]&&(l[o-1]?(l[o].isCurrent=!1,l[o-1].isCurrent=!0,r=l[o-1],n=r.data.data,n.forEach(function(e){e.isCurrent=!1}),n[n.length-1].isCurrent=!0):this.module.store.models.state.data.disablePrev=!0)),this.store.models.state.getCurrentState(l)},click:function(e){var n,a,i=this.data,l=e.typeIndex,s=e.questionId;l>=0&&(t.forEach(i,function(e){var n=e;n.isCurrent=!1,t.forEach(n.data.data,function(e){e.isCurrent=!1})}),i[l].isCurrent=!0),n=t.find(i,["isCurrent",!0]).data.data,s?(a=t.find(n,["id",s]))&&(t.forEach(n,function(e){e.isCurrent=!1}),a.isCurrent=!0):n[0].isCurrent=!0}}},questions:{},side:{data:{}},answer:{data:{answers:[]},mixin:{getAnswer:function(e){return t.find(this.data.answers,["key",e])},init:function(e){var n=function(e){return t.map(e.answerRecord.answer.split(","),function(n){return{id:t.find(e.questionAttrCopys,["name",n]).id,value:n}})},a=function(e){return[{id:e.id,value:e.answerRecord.answer}]};this.data.answers=t.map(e,function(e){var i=[];return e.answerRecord&&(i=1===e.type||2===e.type?n(e):6===e.type?t.map(e.subs,function(e){var t=[];return e.answerRecord&&(t=1===e.type||2===e.type?n(e):a(e)),{key:e.id,value:t}}):a(e)),{key:e.id,value:i}})}}}},callbacks:{init:function(e){var n=this,a=this.models.questionTypes;return this.models.exam.clear(),this.models.exam.params={examRecordId:e.examRecordId},this.get(this.models.exam).then(function(){var t=n.models.exam.data;n.models.state.init(t,e),n.models.answer.init(t.paper.questions),a.createQuestionTypes(t.paper),a.setFirstQuestionRemote(),n.models.state.getCurrentState(a.data),n.models.state.setFirstQuestionRemote(a.data)})},reload:function(){this.models.state.changed()},changeState:function(e){var n=this.models.state.data,a=this.models.side;l.assign(n,e),l.assign(a.data,e),this.models.questionTypes.click(a.data),this.models.state.getCurrentState(this.models.questionTypes.data),this.models.state.changed()},move:function(e){this.models.questionTypes.move(e),this.models.questionTypes.changed(),this.models.state.changed()},changePaperViewType:function(e){this.models.state.data.isOnePageOneQuestion=0===Number(e.type),this.models.state.changed()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/paper/score-detail-paper/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="achievement-content content">\n    <div class="achievement-side" data-region="side"></div>\n    <div class="achievement-main" data-region="head"></div>\n    <div class="achievement-main" data-region="main" oncontextmenu1="window.event.returnValue=false;" oncopy1="return false;" oncut1="return false;" onpaste1="return false"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="achievement-preview-top">\n        <div class="com-title text-center">\n            本卷共\n            '+r(s(null!=(l=null!=n?n.state:n)?l.questionNum:l,n))+"\n            题，总分\n            "+r(s(null!=(l=null!=n?n.state:n)?l.totalScore:l,n))+"\n            分\n        </div>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(o,null!=(l=null!=n?n.state:n)?l.mode:l,"eq",2,{name:"compare",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'    </div>\n    <ul class="achievement-preview">'+(null!=(l=a.each.call(o,null!=n?n.questionTypes:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},4:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'            <div class="text-center">\n                <div class="m-right inline-block">\n                    <div class="num min-btn correct">'+r(s(null!=(l=null!=n?n.state:n)?l.rightNum:l,n))+'</div>\n                    <div class="inline-block">正确</div>\n                </div>\n                <div class="m-right inline-block">\n                    <div class="num min-btn error">'+r(s(null!=(l=null!=n?n.state:n)?l.wrongNum:l,n))+'</div>\n                    <div class="inline-block">错误</div>\n                </div>\n                <div class="inline-block">\n                    <div class="num min-btn">'+r(s(null!=(l=null!=n?n.state:n)?l.noAnswerNum:l,n))+'</div>\n                    <div class="inline-block">未答</div>\n                </div>\n            </div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=e.escapeExpression,d=e.lambda
;return'\n        <li class="border bottom" id="list-item-'+o((s=null!=(s=a.index||i&&i.index)?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n            <label>\n                '+o(d(null!=(l=null!=n?n.data:n)?l.name:l,n))+"题(共"+o(d(null!=(l=null!=n?n.data:n)?l.totalScore:l,n))+'分)\n            </label>\n            <div class="min-btn-groups  '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'">'+(null!=(l=a.each.call(r,null!=(l=null!=n?n.data:n)?l.data:l,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n        </li>\n    "},7:function(e,n,a,t,i){return""},9:function(e,n,a,t,i){return"hidden"},11:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n                <div class="num min-btn  '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'" id="q-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</div>\n            "},12:function(e,n,a,t,i){return"correct"},14:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.mode:l,"eq",2,{name:"compare",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:""},15:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'        <div class="title-row row">\n            <div class="col-sm-4 pull-left">\n                <div class="com-title">'+r(s(null!=(l=null!=n?n.state:n)?l.name:l,n))+'</div>\n            </div>\n            <div class="col-sm-6 pull-right">\n                <div class="com-title">考生：'+r(s(null!=(l=null!=n?n.state:n)?l.examMember:l,n))+"总得分："+r(s(null!=(l=null!=n?n.state:n)?l.memberTotalScore:l,n))+" "+r(s(null!=(l=null!=n?n.state:n)?l.passDec:l,n))+"</div>\n            </div>\n        </div>\n        \x3c!--  .row --\x3e\n        \x3c!--      .col-sm-4 --\x3e\n        \x3c!--          input(type='hidden') --\x3e\n        \x3c!--          select.input#paper-view-type > each(paperViewTypes) --\x3e\n        \x3c!--              option(value=key)('selected')&if(selected) > echo(value) --\x3e\n"},17:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="hr"></div>\n    <div class="preview-content" oncontextmenu1="window.event.returnValue=false;" oncopy1="return false;" oncut1="return false;" onpaste1="return false">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isOnePageOneQuestion:l,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+'        <div class="row">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.isOnePageOneQuestion:l,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.program(24,i,0),data:i}))?l:"")+"        </div>\n    </div>\n"},18:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'            <div class="row">\n                <div class="col-xs-6">\n                    <div class="com-title inline-block">'+r(s(null!=(l=null!=n?n.state:n)?l.questionType:l,n))+"("+r(s(null!=(l=null!=n?n.state:n)?l.questionIndex:l,n))+"/"+r(s(null!=(l=null!=n?n.state:n)?l.questionTotalInType:l,n))+')</div>\n                    <div class="inline-block">本题分数:'+r(s(null!=(l=null!=n?n.state:n)?l.currentQuestionScore:l,n))+'</div>\n                </div>\n                <div class="col-xs-6"><div class="text-right">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.isOnePageOneQuestion:l,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+"                </div></div>\n            </div>\n"},19:function(e,n,a,t,i){return'                        <div class="icon pe-7s-angle-left-circle pe-3x m-right" id="prev"></div>\n                        <div class="icon pe-7s-angle-right-circle pe-3x" id="next"></div>\n'},21:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.questionId:l,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:""},22:function(e,n,a,t,i){var l;return'                    <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.questionId:l,n))+'"></div>\n'},24:function(e,n,a,t,i){var l;return"                <div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.questionTypes:n,{name:"each",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n"},25:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                        <label>\n                            <div class="com-title">'+r(s(null!=(l=null!=n?n.data:n)?l.name:l,n))+"题(共"+r(s(null!=(l=null!=n?n.data:n)?l.totalScore:l,n))+"分)</div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.data:n)?l.data:l,{name:"each",hash:{},fn:e.program(26,i,0),inverse:e.noop,data:i}))?l:"")+"                        </label>\n"},26:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"                                "+o((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,"function"==typeof l?l.call(s,{name:"i",hash:{},data:i}):l))+'\n                                <div data-dynamic-key="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'"></div>\n'},28:function(e,n,a,t,i){var l;return'    <div class="title-row row">\n        <div class="col-sm-12">\n            <div class="com-title">\n                '+e.escapeExpression((l=null!=(l=a.message||(null!=n?n.message:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"message",hash:{},data:i}):l))+"\n            </div>\n        </div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"tips",{name:"view",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/paper/score-detail-paper/view-head",function(e,n,a){a.bindings={state:!1},a.type="dynamic",a.getEntity=function(){return this.bindings.state.data.duration},a.getEntityModuleName=function(){return"exam/paper/answer-paper/count-down"},a.dataForEntityModule=function(e){var n=this;return{duration:e,callback:function(){n.app.viewport.modal(n.module.items.tips,{message:"交卷时间到"})}}}},{}),loadjs.d("./app/train/programme/exam/paper/score-detail-paper/view-main",function(e,n,a){var t=e("./app/exam/exam-question-types"),i=e("./app/util/maps"),l=e("drizzle-zxy"),s=e("lodash/collection");a.bindings={state:!0,exam:!0,questions:!0,answer:!0,questionTypes:!0},a.type="dynamic",a.components=[{id:"paper-view-type",name:"selectize"}],a.events={"change paper-view-type":"changePaperViewType","click prev":"prev","click next":"next"},a.handlers={changePaperViewType:function(){return this.module.dispatch("changePaperViewType",{type:this.$("paper-view-type").value})},prev:function(){return this.module.dispatch("move",-1)},next:function(){return this.module.dispatch("move",1)}},a.dataForTemplate={paperViewTypes:function(){var e=i.get("paper-view-type");return this.bindings.state.data.isOnePageOneQuestion?e[0].selected=!0:e[1].selected=!0,e},questions:function(){return this.bindings.questions.data}},a.getEntity=function(e){var n=this.bindings.exam.getQuestionById(e);return n=l.assign({},n,{errorRate:n.errorRate/1e4,questionAttrs:s.orderBy(n.questionAttrCopys,["name"],["asc"]),answerRecord:l.assign({},n.answerRecord,{score:null===n.answerRecord?0:n.answerRecord.score/100})})},a.getEntityModuleName=function(e,n){return t.get(n.type,3)},a.dataForEntityModule=function(e){return{data:e,multiple:2===e.type,answer:this.bindings.answer.getAnswer(e.id),mode:2}}},{"./app/exam/exam-question-types":"./app/exam/exam-question-types","./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/paper/select-paper/index",function(e,n,a){var t=e("drizzle-zxy");a.title="选择试卷",a.large=!0,a.items={"search-param":"search-param","paper-list":"paper-list"},a.store={models:{searchParam:{data:{},mixin:{getQueryParams:function(){return this.data.organizationId?{organizationId:this.data.organizationId}:{}}}},papers:{url:"../exam/paper-class",root:"items",type:"pageable"},paper:{url:"../exam/paper-class"},currentOrg:{url:"../human/organization/current",autoLoad:"after"},options:{}},callbacks:{refreshList:function(e){var n=t.assign({status:1},this.models.searchParam.getQueryParams(),e);this.models.papers.params=n,this.get(this.models.papers)},selectPaper:function(e){var n=this.module.renderOptions.callback,a=this;this.models.paper.set({id:e}),this.get(this.models.paper).then(function(){n&&n(a.models.paper.data)})}}},a.beforeRender=function(){this.store.models.options.set(this.renderOptions)},a.mixin={getData:function(){return this.store.models.paper.data}}},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/paper/select-paper/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="search-param"></div>\n    <div data-region="paper-list"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'<form class="vertical">\n    \x3c!--  .row > .col-sm-12.text-right > label > .btn#selectPapers > string(\'exam.buttons.select\') --\x3e\n    <div class="row"><div class="col-sm-12">\n        <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.paper.name",{name:"setting",hash:{},data:i}))+'</label>\n        <input class="input" name="name"/>\n    </div></div>\n    <div class="row">\n        <div class="col-sm-6">\n            <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.all.organization",{name:"setting",hash:{},data:i}))+'</label>\n            <div id="owner"></div>\n        </div>\n        <div class="col-sm-6">\n            <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.paper.is-subjective",{name:"setting",hash:{},data:i}))+'</label>\n            <select id="is-subjective" class="input" name="isSubjective">\n                <option value="">'+o((a.string||n&&n.string||r).call(s,"exam.option.all",{name:"string",hash:{},data:i}))+"</option>\n"+(null!=(l=a.each.call(s,null!=n?n.isSubjectives:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'            </select>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-sm-12">\n            <label>'+o((a.setting||n&&n.setting||r).call(s,"system.all.create-time",{name:"setting",hash:{},data:i}))+'</label>\n            <div class="row">\n                <div class="col-xs-6"><input id="start-time" class="input" name="createTimeStart"/></div>\n                <div class="col-xs-6"><input id="end-time" class="input" name="createTimeEnd"/></div>\n            </div>\n        </div>\n    </div>\n    <div class="row"><div class="col-sm-12 text-center"><label><div id="searchPapers" class="btn large"><div class="inline-block">'+o((a.string||n&&n.string||r).call(s,"search",{name:"string",hash:{},data:i}))+"</div></div></label></div></div>\n</form>"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                    <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n"},5:function(e,n,a,t,i){return' selected="selected"'},7:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'    <div class="row"><div class="col-sm-12 text-left"><label>'+o((a.setting||n&&n.setting||r).call(s,"exam.paper.list",{name:"setting",hash:{},data:i}))+'</label></div></div>\n    <div class="paper-list">\n        <div class="paper-item">\n            <table class="table">\n                <thead>\n                    <tr>\n                        <th>'+o((a.string||n&&n.string||r).call(s,"exam.buttons.select",{name:"string",hash:{},data:i}))+"</th>\n                        <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.paper.name",{name:"setting",hash:{},data:i}))+"</th>\n                        <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.paper.is-subjective",{name:"setting",hash:{},data:i}))+"</th>\n                        <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.paper.question-num",{name:"setting",hash:{},data:i}))+"</th>\n                        <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.paper.total-score",{name:"setting",hash:{},data:i}))+"</th>\n                        <th>"+o((a.setting||n&&n.setting||r).call(s,"system.all.create-time",{name:"setting",hash:{},data:i}))+"</th>\n                    </tr>\n                    <tbody>\n"+(null!=(l=a.each.call(s,null!=n?n.papers:n,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+'                    </tbody>\n                </thead>\n            </table>\n        </div>\n        <div id="pager" class="pagination"></div>\n    </div>\n'},8:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                            <tr>\n                                <td>\n                                    <div class="checkbox inline-block no-margin" id="select'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-id="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">\n                                        <input type="checkbox"/>\n                                        <label for="select_'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'"></label>\n                                    </div>\n                                </td>\n                                <td>'+d((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,typeof l===o?l.call(s,{name:"name",hash:{},data:i}):l))+"</td>\n                                <td>"+d((a.map||n&&n.map||r).call(s,"yes-or-no",null!=n?n.isSubjective:n,{name:"map",hash:{},data:i}))+"</td>\n                                <td>"+d((l=null!=(l=a.questionNum||(null!=n?n.questionNum:n))?l:r,typeof l===o?l.call(s,{name:"questionNum",hash:{},data:i}):l))+"</td>\n                                <td>"+d((l=null!=(l=a.totalScore||(null!=n?n.totalScore:n))?l:r,typeof l===o?l.call(s,{name:"totalScore",hash:{},data:i}):l))+"</td>\n                                <td>"+d((a.dateTime||n&&n.dateTime||r).call(s,null!=n?n.createTime:n,{name:"dateTime",hash:{},data:i}))+"</td>\n                            </tr>\n"},10:function(e,n,a,t,i){return'                            <tr><td colspan="10"><div class="text-center">\n                                <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                                <p>暂无内容</p>\n                            </div>\n                            </td></tr>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"search-param",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"paper-list",{name:"view",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/paper/select-paper/view-paper-list",function(e,n,a){var t=e("lodash/collection");a.bindings={papers:!0},a.components=[{id:"pager",name:"pager",options:{model:"papers"}}],a.events={"click select*":"selectPaper"},a.handlers={selectPaper:function(e){this.module.dispatch("selectPaper",e)}},a.dataForTemplate={papers:function(e){return e.papers?t.map(e.papers,function(e){var n=e;return n.totalScore=e.totalScore/100,n}):[]}}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/paper/select-paper/view-search-param",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection");a.type="form",a.bindings={searchParam:!0,currentOrg:!0},a.actions={"click searchPapers":"refreshList"},a.events={"click selectPapers":"selectPapers"},a.handlers={selectPapers:function(){var e=this.module.items["paper-list"],n=e.$$("[name = selectBox]:checked"),a=i.map(n,function(e){return e.value});this.module.module.dispatch("",a),this.app.viewport.closePopup()}},a.components=[{id:"is-subjective",name:"selectize"},{id:"start-time",name:"pickadate"},{id:"end-time",name:"pickadate"},function(){return{id:"owner",name:"picker",options:{module:"exam/paper",picker:"owner",required:!1,data:{}}}}],a.dataForTemplate={isSubjectives:function(e){var n=t.get("yes-or-no");return e.searchParam.isSubjective&&i.map(n,function(n){var a=n;Number(a.key)===e.searchParam.isSubjective&&(a.selected=!0)}),n}},a.dataForActions={refreshList:function(e){return!!this.validate()&&e}},a.afterRender=function(){this.module.dispatch("refreshList",this.bindings.searchParam.getQueryParams())}},{"./app/util/maps":"./app/util/maps","lodash/collection":!1}),loadjs.d("./app/train/programme/exam/paper/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<form class="vertical">\n    <label>'+e.escapeExpression((a.setting||n&&n.setting||a.helperMissing).call(null!=n?n:{},"exam.paper.name",{name:"setting",hash:{},data:i}))+'</label>\n    <input class="input" name="name"/>\n</form>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div class="buttons"></div>\n    <isGrant '+r(s((l=(l=i&&i.root)&&l.Global)&&l.EDIT,n))+'="'+r(s((l=(l=i&&i.root)&&l.Global)&&l.EDIT,n))+'" false="false">\n        <div id="add-paper" class="btn"><i class="icon-plus"></i>\n        新增</div>\n    </isGrant>\n    <div class="list">\n        <table class="table">\n            <thead><tr>\n                <th width="10px">#</th>\n                <th>'+r((a.setting||n&&n.setting||d).call(o,"exam.paper.name",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+r((a.setting||n&&n.setting||d).call(o,"exam.paper.is-subjective",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+r((a.setting||n&&n.setting||d).call(o,"exam.paper.question-num",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+r((a.setting||n&&n.setting||d).call(o,"exam.paper.total-score",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+r((a.setting||n&&n.setting||d).call(o,"exam.paper.exam-count",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+r((a.setting||n&&n.setting||d).call(o,"exam.paper.status",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+r((a.setting||n&&n.setting||d).call(o,"system.all.create-time",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+r((a.setting||n&&n.setting||d).call(o,"system.all.operator",{name:"setting",hash:{},data:i}))+"</th>\n                <tbody>\n"+(null!=(l=a.each.call(o,null!=n?n.papers:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+'                </tbody>\n            </tr></thead>\n        </table>\n    </div>\n    <div id="pager" class="pagination"></div>\n'},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return"                        <tr>\n                            <td>"+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                            <td>"+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                            <td>"+c((a.map||n&&n.map||o).call(r,"yes-or-no",null!=n?n.isSubjective:n,{name:"map",hash:{},data:i}))+"</td>\n                            <td>"+c((s=null!=(s=a.questionNum||(null!=n?n.questionNum:n))?s:o,typeof s===d?s.call(r,{name:"questionNum",hash:{},data:i}):s))+"</td>\n                            <td>"+c((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,typeof s===d?s.call(r,{name:"totalScore",hash:{},data:i}):s))+'</td>\n                            <td><a id="exam-count-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.examCount||(null!=n?n.examCount:n))?s:o,typeof s===d?s.call(r,{name:"examCount",hash:{},data:i}):s))+"</a></td>\n                            <td>"+c((a.map||n&&n.map||o).call(r,"publish-status",null!=n?n.status:n,{name:"map",hash:{},data:i}))+"</td>\n                            <td>"+c((a.dateTime||n&&n.dateTime||o).call(r,null!=n?n.createTime:n,{name:"dateTime",hash:{},data:i}))+'</td>\n                            <td class="operation">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",0,{name:"compare",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"                                <isGrant "+c(u((l=(l=i&&i.root)&&l.Global)&&l.REMOVE,n))+'="'+c(u((l=(l=i&&i.root)&&l.Global)&&l.REMOVE,n))+'" '+c(u(null!=(l=null!=n?n.organization:n)?l.id:l,n))+'="'+c(u(null!=(l=null!=n?n.organization:n)?l.id:l,n))+'">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq","0",{name:"compare",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"                                </isGrant>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",1,{name:"compare",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"                            </td>\n                        </tr>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                                    <a id="publish-paper-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"exam.buttons.publish",{name:"string",hash:{},data:i}))+'</a>\n                                     | \n                                    <a id="edit-paper-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"edit",{name:"string",hash:{},data:i}))+'</a>\n                                     | \n                                    <a id="preview-paper-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"preview",{name:"string",hash:{},data:i}))+'</a>\n                                     | \n                                    <a id="remove-paper-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"remove",{name:"string",hash:{},data:i}))+'</a>\n                                     | \n                                    <a id="copy-paper-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"copy",{name:"string",hash:{},data:i}))+"</a>\n"},7:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                         | \n                                        <a id="remove-paper-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((a.string||n&&n.string||r).call(s,"remove",{name:"string",hash:{},data:i}))+"</a>\n"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                                    <a id="undo-paper-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"exam.buttons.undo",{name:"string",hash:{},data:i}))+'</a>\n                                     | \n                                    <a id="preview-paper-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"preview",{name:"string",hash:{},data:i}))+'</a>\n                                     | \n                                    <a id="copy-paper-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"copy",{name:"string",hash:{},data:i}))+"</a>\n"},11:function(e,n,a,t,i){return'                        <tr><td colspan="10"><div class="text-center">\n                            <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                            <p>暂无内容</p>\n                        </div>\n                        </td></tr>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.view||n&&n.view||r).call(s,"filter",{name:"view",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||r).call(s,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/paper/used-exam/index",function(e,n,a){a.title="关联考试",a.items={content:"content"},a.store={models:{exams:{url:"../exam/exam",type:"pageable",root:"items"},exam:{url:"../exam/exam"}},callbacks:{init:function(e){this.models.exams.params=e,this.get(this.models.exams)}}},a.afterRender=function(){var e=this;e.renderOptions.paperClassId&&e.dispatch("init",{paperClassId:e.renderOptions.paperClassId})}},{}),loadjs.d("./app/train/programme/exam/paper/used-exam/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="content"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'    <div class="list">\n        <table class="table">\n            <thead><tr>\n                <th width="10px">#</th>\n                <th>'+o((a.setting||n&&n.setting||r).call(s,"exam.exam.name",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.exam.publish-organization-id",{name:"setting",hash:{},data:i}))+"</th>\n            </tr></thead>\n            <tbody>\n                "+(null!=(l=a.each.call(s,null!=n?n.exams:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'\n            </tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination"></div>\n'},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"<tr>\n                    <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                    <td>"+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                    <td>"+d(e.lambda(null!=(l=null!=n?n.publishOrganization:n)?l.name:l,n))+"</td>\n                </tr>\n"},6:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/paper/used-exam/view-content",function(e,n,a){var t=e("lodash/collection");a.bindings={exams:!0,exam:!1},a.components=[{id:"pager",name:"pager",options:{model:"exams"}}],a.dataForTemplate={exams:function(e){var n=this.bindings.exams.getPageInfo().page;return t.map(e.exams||[],function(e,a){e.i=a+1+10*(n-1)}),e.exams}}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/paper/view-add-paper",function(e,n,a){a.title="组卷",a.events={"click select-question":"selectQuestion","click temporary-question":"temporaryQuestion","click random-question":"randomQuestion"},a.buttons=[{text:"预览"},{text:"保存"}],a.handlers={selectQuestion:function(){this.app.viewport.modal(this.module.items["train/programme/question/select-question"])},temporaryQuestion:function(){this.app.viewport.modal(this.module.items["train/programme/question/add-question"])},randomQuestion:function(){this.app.viewport.modal(this.module.items["random-question"])}},a.components=[{id:"owner",name:"picker",options:{module:"human/member",picker:"owner",required:!0}}]},{}),loadjs.d("./app/train/programme/exam/paper/view-content",function(e,n,a){var t=e("lodash/collection");a.bindings={papers:!0,search:"searchChange"},a.components=[{id:"pager",name:"pager",options:{model:"papers"}}],a.events={"click add-paper":"addPaper","click edit-paper-*":"editPaper","click copy-paper-*":"copyPaper","click preview-paper-*":"previewPaper","click mark-paper":"markPaper","click exam-count-*":"openExamCount"},a.actions={"click publish-paper-*":"publishPaper","click undo-paper-*":"undoPaper","click remove-paper-*":"removePaper"},a.searchChange=function(){this.module.dispatch("refreshList",this.bindings.search.getQueryParams())},a.dataForTemplate={papers:function(e){var n=this.bindings.papers.getPageInfo().page;return t.map(e.papers||[],function(e,a){
var t=e;return t.i=a+1+10*(n-1),t.pb=0===t.status,t.totalScore=e.totalScore/100,t})}},a.handlers={addPaper:function(){var e=this.module.items["train/programme/exam/paper/add-paper"],n=this,a=n.module.store.models.papers.params;this.app.viewport.ground(e,{callback:function(){n.app.viewport.closeGround(),n.module.dispatch("refreshList",a)}})},editPaper:function(e){var n=this.module.items["train/programme/exam/paper/add-paper"],a=this,t=a.module.store.models.papers.params;a.app.viewport.ground(n,{id:e,isEdit:!0,callback:function(){a.app.viewport.closeGround(),a.module.dispatch("refreshList",t)}})},copyPaper:function(e){var n=this.module.items["train/programme/exam/paper/add-paper"],a=this,t=a.module.store.models.papers.params;this.app.viewport.ground(n,{id:e,isCopy:!0,callback:function(){a.app.viewport.closeGround(),a.module.dispatch("refreshList",t)}})},previewPaper:function(e){this.app.viewport.ground(this.module.items["train/programme/exam/paper/preview-paper"],{paperId:e})},openExamCount:function(e){this.app.viewport.modal(this.module.items["train/programme/exam/paper/used-exam"],{paperClassId:e})}},a.dataForActions={publishPaper:function(e){var n=this,a=e;return a.status=1,n.Promise.create(function(e){n.app.message.confirm("是否确定发布试卷?",function(){e(a)},function(){e(!1)})})},undoPaper:function(e){var n=this,a=e;return a.status=0,n.Promise.create(function(e){n.app.message.confirm("撤销后将无法引用该试卷，是否确定撤销该试卷?",function(){e(a)},function(){e(!1)})})},removePaper:function(e){var n=this,a=e;return n.Promise.create(function(e){n.app.message.confirm("确定删除该试卷?",function(){e(a)},function(){e(!1)})})}},a.actionCallbacks={publishPaper:function(){this.app.message.success("发布成功!"),this.module.dispatch("refreshList",this.bindings.search.getQueryParams())},undoPaper:function(){this.app.message.success("撤销成功!"),this.module.dispatch("refreshList",this.bindings.search.getQueryParams())}}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/paper/view-filter",function(e,n,a){var t=e("lodash/collection");a.title="查找试卷",a.buttons=[{text:"确定",action:"doSearch"}],a.events={"click search":"showModal"},a.handlers={showModal:function(){this.app.viewport.modal(this.module.items.modal)}},a.dataForActions={doSearch:function(e){return t.map(e,function(e,n){return{type:n,id:e,text:e}})}}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/add-question/index",function(e,n,a){var t,i=e("drizzle-zxy"),l=e("lodash/collection"),s={add:"新增试题",edit:"修改试题"},r=e("./app/train/programme/exam/askbarevent");a.items={"item-pool":"item-pool",main:"main",question:"question",preview:"","train/programme/exam/catalogue-encryption-form":{isModule:!0}},a.title=function(){return this.renderOptions.titleType?s[this.renderOptions.titleType]:s.add},a.large=!0,a.store={models:{question:{url:"../exam/question"},state:{data:{}},itemPool:{data:{}},tempAddQuestionOptions:{},key:{},orgs:{url:"../system/organization/company-orgs",cache:!1}},callbacks:{init:function(e){var n=e.question,a=this.models.state,t=this.models.key,s=this.models.itemPool,r=this.models.orgs,o=this.models.tempAddQuestionOptions,d=e.interim||!1,c=e.roodId;return void 0!==this.module.renderOptions.organizationId&&null!==this.module.renderOptions.organizationId&&(c=this.module.renderOptions.organizationId),o.set(e),a.clear(),t.clear(),a.params={},a.data.type=o.data.type||1,this.models.question.set(n),n&&(this.models.key.set({id:n.id}),i.assign(n,{questionAttrs:l.orderBy(n.questionAttrs,["name","asc"])})),i.assign(a.data,n),i.assign(a.params,e.params||e.question||{}),s.data.interim=d,d?n&&(n.questionDepot&&n.questionDepot.id||n.questionDepotId)?s.data.entryDepot=!0:s.data.entryDepot=!1:s.data={entryDepot:!0},i.assign(r.params,{rootId:c,supportMore:!0}),this.get(r)},saveQuestion:function(e){var n,a=this,t=a.module.module,l=a.models.question,s=a.models.state,r=a.module.renderOptions.callback,o=this.app.global.currentUser,d=e.organizationId||o.companyOrganization&&o.companyOrganization.id||o.rootOrganization.id;return this.models.question.set(i.assign(e,{organizationId:d,id:this.models.key.data.id,isTemp:this.module.renderOptions.isTemp})),this.save(this.models.question,{loading:!0}).then(function(){return a.app.message.success("保存成功"),r?(n=i.assign(s.data,{id:l.data.id,subs:l.data.subs,questionAttrs:6===Number(s.data.type)?l.data.subs:s.data.questionAttrs,questionDepot:s.data.questionDepot}),r(n),a.models.state.clear(),a.models.key.clear(),a.renderOptions={},!0):t.refreshList()})},refresh:function(){delete this.module.renderOptions.question,this.models.state.changed()},reloadItemPool:function(){this.models.itemPool.changed()},selectOwnerChanged:function(e){i.assign(this.models.state.params,{organization:{id:e.id,name:e.text},questionDepot:{},priority:!0}),i.assign(this.models.state.data,{questionDepot:{}}),this.models.state.changed()},changeType:function(e){this.models.state.clear(),i.assign(this.models.state.data,e),i.assign(this.models.tempAddQuestionOptions.data,e),this.models.state.changed()}}},a.buttons=function(){var e,n,a,s=this.renderOptions.interim,r=[];return e={text:"预览",fn:function(){var e,n=this.items.question.getEntities()[0],a=this.items.main,s=this.items["item-pool"],r=n.getValue(),o=s.validate(),d=a.validate(),c=n.isValidate();return!!(o&&d&&c)&&(!!r&&(6===Number(r.type)&&l.forEach(r.questionAttrs,function(e){e.score=e.score}),e=t(i.assign({},r,s.getData(),a.getData(),{score:Number(r.score)})),n.clear(),this.renderOptions.callback&&i.assign(this.store.models.state.data,e),6===Number(e.type)&&(e.subs=e.questionAttrs),this.store.models.state.set(e),this.app.viewport.modal(this.items.preview),!1))}},n={text:"保存",fn:function(){var e,n=this.items.question.getEntities()[0],a=this.items.main,s=this.items["item-pool"],r=n.getValue(),o=s.validate(),d=a.validate(),c=n.isValidate();return!!(o&&d&&c)&&(!!r&&(6===Number(r.type)&&l.forEach(r.questionAttrs,function(e){e.score=(100*e.score).toFixed(0)}),e=t(i.assign({},r,s.getData(),a.getData(),{score:Number(100*r.score).toFixed(0)})),n.clear(),this.renderOptions.callback&&i.assign(this.store.models.state.data,e),this.dispatch("saveQuestion",e)))}},a={text:"保存并新增",fn:function(){var e=this,a=n.fn.call(this);return!!a&&a.then(function(){return e.dispatch("init",e.store.models.tempAddQuestionOptions.data).then(function(){e.store.models.state.changed(),e.store.models.itemPool.changed()}),!1})}},s&&"add"===this.renderOptions.titleType?(r.push(n),r.push(a)):(r.push(e),r.push(n)),r},t=function(e){var n={},a=JSON.stringify(e.questionAttrs);return n.value=a,i.assign(n,e)},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.mixin={showEncryptionFrom:function(e,n){var a=this,t=this.items["train/programme/exam/catalogue-encryption-form"],i=r.commonEncryptDataExam.add,l=e.data.id;return!r.showEncryptionFromExam(e,"add",this.app)||(this.app.viewport.closeModal().then(function(){a.app.viewport.modal(t,{encrypt:i.encrypt,callback:function(e){!0===e&&(i.catalogueID.push(l),n&&n())}})}),!1)}}},{"./app/train/programme/exam/askbarevent":"./app/train/programme/exam/askbarevent","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/add-question/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="item-pool"></div>\n    <div data-region="main"></div>\n    <div data-region="question"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<form class="vertical">\n    <div class="addexam-page"><div class="temporarypaper2-page"><div class="temporarypaper2-title">\n        <div>\n            <div class="form align-left">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.itemPool:n)?l.interim:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.itemPool:n)?l.entryDepot:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n        </div>\n    </div>\n    </div></div>\n</form>"},4:function(e,n,a,t,i){var l;return'                    <div class="form-row w-full">\n                        <input '+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.itemPool:n)?l.entryDepot:l,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" name="selectBox" id="check-owner"/>\n                        <label for="check-owner"></label>\n                        <span>加入题库</span>\n                    </div>\n'},5:function(e,n,a,t,i){return' checked="checked"'},7:function(e,n,a,t,i){return'                    <div class="form-row w-half pull-left row-block r-padding">\n                        <label class="required tag-height">归属部门</label>\n                        <div class="content" id="organization">\n                            <div id="owner"></div>\n                        </div>\n                    </div>\n                    <div class="form-row w-half pull-left row-block">\n                        <label class="required tag-height">归属目录</label>\n                        <div class="content" id="questionName">\n                            <div id="questionDepot"></div>\n                        </div>\n                    </div>\n'},9:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<form class="vertical">\n    <div class="addexam-page"><div class="temporarypaper2-page"><div class="temporarypaper2-title">\n        <div>\n            <div class="form align-left">\n                <div class="form-row w-half pull-left row-block r-padding">\n                    <label class="required tag-height">试题类型</label>\n                    <select id="type" class="w-full tag-height" name="type" x-rule="required" x-marker="selectize" readonly>'+(null!=(l=a.each.call(s,null!=n?n.types:n,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+'</select>\n                </div>\n                <div class="form-row w-half pull-left row-block">\n                    <label class="required tag-height">难易度</label>\n                    <select id="level" class="w-full tag-height" name="difficulty" x-rule="required" x-marker="selectize" readonly>'+(null!=(l=a.each.call(s,null!=n?n.difficultys:n,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"</select>\n                </div>\n            </div>\n        </div>\n    </div>\n    </div></div>\n</form>"},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                        <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n                    "},11:function(e,n,a,t,i){return' selected="selected"'},13:function(e,n,a,t,i){var l;return'    <form class="vertical">\n        <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.type:l,n))+'"></div>\n    </form>\n'},15:function(e,n,a,t,i){var l;return'    <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.id:l,n))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"item-pool",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"question",{name:"view",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"preview",{name:"view",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/add-question/view-item-pool",function(e,n,a){var t,i=e("jquery"),l=e("drizzle-zxy"),s=e("lodash/collection"),r=e("./app/ext/views/form/markers"),o=e("./app/ext/views/form/validators");a.bindings={state:!0,itemPool:!0,orgs:!0},a.events={"click check-owner":"checkOwner"},a.handlers={checkOwner:function(){var e=this.bindings.itemPool.data;this.$("check-owner").checked?e.entryDepot=!0:e.entryDepot=!1,this.module.dispatch("reloadItemPool")}},a.components=[function(){var e=this.app.global.EDIT,n=this.bindings.state,a=this,t={id:"owner",name:"picker",options:{picker:"owner",required:!0,autoFill:!0,params:{operatorType:e,rootId:a.module.renderOptions.roodId?a.module.renderOptions.roodId:a.module.renderOptions.organizationId},data:{},selectChanged:function(e){var n=a.module.dispatch("selectOwnerChanged",e);return a.component.questionDepot.clear(),n},clearCallback:function(){a.components&&a.components.questionDepot.clear()}}},i=n.data,l=this.bindings.itemPool.data;return i&&(i.questionDepot&&i.questionDepot.id||i.questionDepotId)&&i.organization&&!n.params.priority?(t.options.data.id=i.organization.id,t.options.data.text=i.organization.name):(i&&(i.questionDepot&&i.questionDepot.id||i.questionDepotId)||n.params.priority)&&n.params.organization&&(t.options.data.id=n.params.organization.id,t.options.data.text=n.params.organization.name),l.entryDepot?t:null},function(){var e=this.bindings.state.params,n=this.bindings.orgs,a=this.bindings.state.data,i=a.questionDepot&&a.questionDepot.id?e.organization&&e.organization.id:null,l=this,s={id:"questionDepot",name:"picker",options:{picker:"question-depot",required:!0,inputName:"questionDepotId",params:{operatorType:this.app.global.EDIT,organizationId:i,state:1,autoFill:!1},data:{},callback:function(e){return!0===l.module.showEncryptionFrom(e,function(){l.components&&l.components.questionDepot.dispatch("selectChanged",e)})}}},r=this.bindings.itemPool.data;return a.questionDepot&&a.questionDepot.id||(e&&e.questionDepot&&e.questionDepot.id?(s.options.data.id=e.questionDepot.id,s.options.data.name=e.questionDepot.name):!s.options.params.organizationId&&n.data.length>0&&(s.options.params.organizationId=t(n.data).id)),r.entryDepot?s:null}],a.mixin={getData:function(){var e=this.components.owner,n=this.components.questionDepot;return e?l.assign({},{organizationId:i(this.$$('[name="organizationId"]')).val(),questionDepotId:i(this.$$('[name="questionDepotId"]')).val(),organization:{id:e.getData().id,name:e.getData().text},questionDepot:{id:n.getData().id,name:n.getData().text}}):null},validate:function(){var e=i(this.$$('[name="organizationId"]')),n=i(this.$$('[name="questionDepotId"]')),a=i(this.$("organization")),t=i(this.$("questionName")),l=!0,s=this.bindings.itemPool.data;return r.text.valid(e),r.text.valid(n),s.entryDepot&&(e.val()||(r.text.invalid(a,o.required.message),l=!1),n.val()||(r.text.invalid(t,o.required.message),l=!1)),l}},t=function(e){var n={map:{},list:[]};return s.map(e,function(e){n.map[e.id]=e}),s.map(e,function(e){e.parentId&&n.map[e.parentId]||n.list.push(n.map[e.id])}),n.list.length?{id:n.list[0].id,text:n.list[0].name}:{}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/add-question/view-main",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection"),l=e("jquery"),s=e("./app/ext/views/form/markers"),r=e("./app/ext/views/form/validators");a.bindings={state:!1},a.large=!0,a.events={"change type":"changeType"},a.handlers={changeType:function(e,n){var a=this;return a.bindings.state.data.type=n.value,a.module.dispatch("refresh")}},a.dataForTemplate={types:function(){var e=t.get("question-types"),n=this.bindings.state.data;return n&&i.map(e,function(e){var a=e;Number(a.key)===Number(n.type)&&(a.selected=!0)}),e},difficultys:function(){var e=t.get("question-difficultys"),n=this.bindings.state.data;return n&&i.map(e,function(e){var a=e;Number(a.key)===Number(n.difficulty)&&(a.selected=!0)}),e}},a.mixin={getData:function(){var e={};return e.type=l(this.$$('[name="type"]')).val(),e.difficulty=l(this.$$('[name="difficulty"]')).val(),e},validate:function(){var e=l(this.$("type")),n=l(this.$("level")),a=!0;return s.text.valid(e),s.text.valid(n),""===e.val()&&(s.text.invalid(e,r.required.message),a=!1),""===n.val()&&(s.text.invalid(n,r.required.message),a=!1),a}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/maps":"./app/util/maps",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/add-question/view-preview",function(e,n,a){var t=e("./app/train/programme/exam/exam-question-types");a.title="试题预览",a.type="dynamic",a.bindings={state:!0},a.getEntity=function(){return this.bindings.state.data},a.getEntityModuleName=function(e,n){return t.get(n.type,2)},a.dataForEntityModule=function(e){return{data:e,multiple:2===e.type,previewMode:1}}},{"./app/train/programme/exam/exam-question-types":"./app/train/programme/exam/exam-question-types"}),loadjs.d("./app/train/programme/exam/question/add-question/view-question",function(e,n,a){var t=e("./app/train/programme/exam/exam-question-types"),i=e("drizzle-zxy");a.type="dynamic",a.bindings={state:!0},a.getEntity=function(){var e=this.module.renderOptions.question;return e&&(e=i.assign({},e,{score:e.score/100})),e},a.getEntityModuleName=function(e){return t.get(e,1)},a.dataForEntityModule=function(e){var n=e?e.type:this.bindings.state.data.type;return{type:n,data:e,multiple:2===Number(n)}}},{"./app/train/programme/exam/exam-question-types":"./app/train/programme/exam/exam-question-types","drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/question/import-data/index",function(e,n,a){var t,i=e("lodash/collection"),l=e("drizzle-zxy");a.items={main:"main",file:""},a.title="导入",a.store={models:{state:{},file:{url:"../human/file/upload-file"},importData:{url:"../exam/question/import"},importDepotData:{url:"../exam/question-depot/import"},exportQuestionTemplate:{url:"../exam/question/export"},exportDepotTemplate:{url:"../exam/question-depot/export"},importResult:{},download:{url:"../file-deal/file/download"},dataModel:{}},callbacks:{init:function(e){this.models.importResult.clear(),this.models.dataModel.data=t.call(this),l.assign(this.models.state.data,{templateType:e.templateType,isOtherModuleType:e.isOtherModuleType,organizationId:e.organizationId})},importData:function(e){var n=this,a=this.models.importResult,i=this.models.state.data,s=1===i.templateType?this.models.importData:this.models.importDepotData;return s.set(l.assign(e,{isOtherModuleType:i.isOtherModuleType,organizationId:i.organizationId,type:t.call(this),uri:this.app.global.uri})),this.post(s,{loading:!0}).then(function(){var e=s.data,t=n.module.renderOptions.callback,i=this.app.global.uri;a.set(l.assign(e,{errorList:JSON.parse(e.errorList)})),a.data.importFinished=!0,e.errorCount>0?(a.data.showErrorUrl=!0,n.app.message.error("导入存在错误数据，请点击下载错误数据链接查看")):"exam/auth-question-depot"===i||"exam/question-depot"===i?n.app.message.success("导入成功"):n.app.message.success("导入成功，请预览导入试卷"),JSON.parse(e.data).length>0&&t&&t(JSON.parse(e.data)),a.changed()})},displayErrorUrl:function(){this.models.importData.data.showErrorUrl=!1,this.models.importData.changed()},clearModels:function(){i.forEach(this.models,function(e){e.clear()})}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},t=function(){var e=this.app.global.uri;return"exam/question-depot"===e?1:"exam/auth-question-depot"===e?2:"exam/group-exam"===e?2:"exam/province-exam"===e?2:1}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/import-data/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'    <form class="vertical">\n        <p>导入步骤</p>\n        <p class="small-font color-error">1.下载标准模板，按示例格式和示例说明填写需要导入的电子表格文件\n            <span>（</span>\n            <a id="download-template" href="'+e.escapeExpression((s=null!=(s=a.downloadTemplateUrl||(null!=n?n.downloadTemplateUrl:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"downloadTemplateUrl",hash:{},data:i}):s))+'">下载导入模板</a>\n            <span>）</span>\n        </p>\n        <p class="small-font color-error">2.点击“导入数据”按钮，选择您要导入的电子表格文件</p>\n        <p class="small-font color-error">3.导入成功后，页面会提示成功数量，失败数量，并显示相关信息</p>\n        <p class="small-font color-error">4.如有失败记录，删掉电子表格里已经成功的记录，然后修正失败的记录，再次上传导入。</p>\n        <div class="text-center layout-mb layout-mt">\n            <div id="import" class="btn">导入数据</div>\n'+(null!=(l=a.if.call(r,null!=(l=null!=n?n.importResult:n)?l.showErrorUrl:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"+(null!=(l=a.if.call(r,null!=(l=null!=n?n.importResult:n)?l.importFinished:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"    </form>\n"},4:function(e,n,a,t,i){var l;return'                <a class="btn" href="'+e.escapeExpression((l=null!=(l=a.errorDataUrl||(null!=n?n.errorDataUrl:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"errorDataUrl",hash:{},data:i}):l))+'" download="导入失败记录.xlsx" target="_blank">下载导入失败记录</a>\n'},6:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return"            <h3>导入成功记录"+r(s(null!=(l=null!=n?n.importResult:n)?l.successCount:l,n))+"条, 导入失败记录"+r(s(null!=(l=null!=n?n.importResult:n)?l.errorCount:l,n))+"条</h3>\n            <div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.errorMsg:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},7:function(e,n,a,t,i){return'                    <p class="error">'+e.escapeExpression(e.lambda(n,n))+"</p>\n"},9:function(e,n,a,t,i){return'    <div id="uploader"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"file",{name:"view",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/import-data/view-file",function(e,n,a){a.bindings={file:"fileUpload"},a.components=[{id:"uploader",name:"uploader",options:{model:"file",chunk_size:"100mb",filters:{max_file_size:"100mb",mime_types:[{title:"files",extensions:"xls,xlsx"}]}}}],a.fileUpload=function(){return this.app.viewport.closeModal(),this.module.dispatch("importData",{fileId:this.bindings.file.data.imgId})}},{}),loadjs.d("./app/train/programme/exam/question/import-data/view-main",function(e,n,a){var t,i=e("./app/util/errors"),l=e("lodash/collection");a.bindings={exportQuestionTemplate:!1,exportDepotTemplate:!1,importResult:!0,state:!1,download:!1,dataModel:!1,file:"fileUpload"},a.events={"click downloadError":"downloadError"},a.handlers={downloadError:function(){var e=this;return this.module.dispatch("displayErrorUrl").then(function(){e.app.viewport.closePopup()})}},a.dataForTemplate={downloadTemplateUrl:function(e){var n=1===e.state.templateType?this.bindings.exportQuestionTemplate:this.bindings.exportDepotTemplate,a=n.getFullUrl()+"?",t=this.app.global.OAuth.token.access_token;return e.state.isOtherModuleType&&(a+="isOtherModuleType="+e.state.isOtherModuleType+"&"),e.state.organizationId&&(a+="organizationId="+e.state.organizationId+"&"),a+="deptType="+this.bindings.dataModel.data+"&",a+="exportType=1&access_token="+t,encodeURI(a)},errorDataUrl:function(e){var n=this.bindings.download,a=this.app.global.OAuth.token.access_token;return n.getFullUrl()+"?id="+e.importResult.errorFileId+"&access_token="+a},errorMsg:function(e){return e.importResult?l.map(e.importResult.errorList,function(e){var n="不能为空";return e.code&&(n=i.get(e.code)),"第"+(Number(e.row)+1)+"行, 第"+t(e.column)+"列有错误。["+n+"]"}):""}},a.components=function(){return[{id:"import",name:"superUpload",options:{model:"file",accept:"xls,xlsx",maxSize:"100M",isProgress:!0}}]},t=function(e){return String.fromCharCode(e+"A".charCodeAt(0))},a.fileUpload=function(){return this.module.dispatch("importData",{fileId:this.bindings.file.data.imgs[0].id})}},{"./app/util/errors":"./app/util/errors","lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.searchView="filter",a.items={content:"content",filter:"",preview:"","train/programme/exam/question/add-question":{isModule:!0},"train/programme/exam/question/import-data":{isModule:!0},recovery:""},a.store={models:{questions:{url:"../exam/question",root:"items",type:"pageable"},question:{url:"../exam/question",mixin:{getQuestionById:function(e){var n=this.module.store.models.questions.data;return t.find(n,["id",e.id])},structQuestion:function(e){var n=e;return n.organizationId=n.organization.id,n.value=JSON.stringify(n.questionAttrs),n}}},publish:{url:"../exam/question/publish"},state:{data:{}},recovery:{},exportQuestion:{url:"../exam/question/export"}},callbacks:{init:function(e){this.models.state.set(e.data)},doSearch:function(e){this.module.setSearchOptions(e)},refreshList:function(e){return i.assign(this.models.questions.params,e),this.get(this.models.questions)},updateStatus:function(e){var n=this.models.publish,a=this;return n.set(e),this.put(this.models.publish).then(function(){var n=1===e.status?"发布成功":"撤销成功";a.app.message.success(n),a.get(a.models.questions)})},deleteQuestion:function(e){var n=this;return this.models.question.set(e),this.del(this.models.question).then(function(){n.app.message.success("删除成功"),n.get(n.models.questions)})},reloadState:function(){this.models.state.changed()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.mixin={refreshList:function(e){return this.dispatch("refreshList",e)},topSearch:function(){var e=this.items.filter;this.app.viewport.popup(e)}}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/random-question/depot-tree/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection"),l=e("./app/util/strings"),s=e("./app/train/programme/exam/askbarevent");a.items={"depot-tree":"depot-tree","train/programme/exam/catalogue-encryption-form":{isModule:!0}},a.store={models:{questionDepots:{url:"../exam/question-depot",mixin:{merge:function(e){var n=this,a={};i.forEach(e,function(e){n.data.push(e)}),i.forEach(this.data,function(e){a[e.id]=e}),this.data=i.map(a,function(e){return e})}}},questionDepot:{url:"../exam/question-depot"},state:{}},callbacks:{init:function(e){var n=this.models.questionDepots;e.callback&&(this.models.state.callback=e.callback),t.assign(n.params,e.data,{organizationId:null,state:1,share:1,type:1})},changeDepot:function(e){this.models.state.callback({questionDepotId:e.id,questionDepot:e.questionDepot})},refreshTree:function(e){var n=this.models.questionDepots;return t.assign(n.params,e),this.get(n,{loading:!0}).then(function(){n.changed()})},remove:function(e){var n=this;return this.models.questionDepot.set(e),this.del(this.models.questionDepot).then(function(){return n.app.message.success(l.get("delete-success")),n.get(n.models.questionDepots)})}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)},a.mixin={refreshTree:function(e){return this.dispatch("refreshTree",e)},showEncryptionFrom:function(e,n){var a=this,t=this.items["train/programme/exam/catalogue-encryption-form"],i=s.commonEncryptDataExam.random,l=e.data.id;return!s.showEncryptionFromExam(e,"random",this.app)||(a.app.viewport.modal(t,{encrypt:i.encrypt,callback:function(e){!0===e&&(i.catalogueID.push(l),n&&n())}}),!1)}}},{"./app/train/programme/exam/askbarevent":"./app/train/programme/exam/askbarevent","./app/util/strings":"./app/util/strings","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/random-question/depot-tree/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="depot-tree"></div>\n'},3:function(e,n,a,t,i){return'    <div id="tree"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"depot-tree",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/random-question/depot-tree/view-depot-tree",function(e,n,a){var t,i=e("jquery"),l="";a.bindings={questionDepots:"updateDepots"},a.components=[function(){var e={id:"tree",name:"tree",options:{model:"questionDepots",templates:{afterText:function(e,n,a){var t=a.renderOptions;return t&&t.getText&&"function"==typeof t.getText?t.getText(e):""}}}};return this.module.renderOptions&&(e.options.renderOptions=this.module.renderOptions),e}],a.events={"change tree":"nodeChanged"},a.handlers={nodeChanged:function(e,n){t.call(this,n)}},t=function(e){if(e){var n=this;return!0!==this.module.showEncryptionFrom(e,function(){return l&&i("[id$=node-"+l).removeClass("dtree-selected"),l="",i("[id$=node-"+e.id).addClass("dtree-selected"),n.module.dispatch("changeDepot",{id:e.id,questionDepot:{id:e.id,name:e.text}})})?(l&&i("[id$=node-"+l).addClass("dtree-selected"),i("[id$=node-"+e.id).removeClass("dtree-selected"),!1):(l=e.id,this.module.dispatch("changeDepot",{id:e.id,questionDepot:{id:e.id,name:e.text}}))}return""},a.updateDepots=function(){this.components.tree.reset(this.bindings.questionDepots.data)}},{jquery:!1}),loadjs.d("./app/train/programme/exam/question/random-question/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection"),l=e("./app/util/maps");a.large=!0,a.title="随机组卷",a.items={organization:"organization",depot:"depot","question-setting":"question-setting","setting-popup":"setting-popup"},a.store={models:{search:{},questions:{url:"../exam/question-depot/random-questions",mixin:{useableAmount:function(e,n){return i.filter(this.data,function(a){return Number(a.type)===Number(e)&&Number(a.difficulty)===Number(n)}).length}}},tactics:{url:"../exam/paper-tactic",type:"localStorage",data:{},mixin:{saveIt:function(e){var n=i.reject(this.data,function(n){return n&&e.organizationId===n.organizationId&&e.questionDepotId===n.questionDepotId&&Number(e.type)===Number(n.type)&&Number(e.difficulty)===Number(n.difficulty)});n.push(e),this.data=n,this.save()},getIt:function(e,n,a,t){return i.find(this.data,function(i){return i&&i.organizationId===e&&i.questionDepotId===n&&Number(i.type)===Number(a)&&Number(i.difficulty)===Number(t)})},removeIt:function(e,n,a,t){this.data=i.reject(this.data,function(i){return i&&i.organizationId===e&&i.questionDepotId===n&&Number(i.type)===Number(a)&&Number(i.difficulty)===Number(t)})},totalAmount:function(){return i.reduce(i.map(this.data,function(e){return e.amount&&Number(e.amount)||0}),function(e,n){return e+n},0)},totalScore:function(){return i.reduce(i.map(this.data,function(e){return e.score&&Number(e.score)*e.amount||0}),function(e,n){return e+n},0)/100}}},
setting:{mixin:{init:function(e,n){var a=this.module.store.models.questions,t=this.module.store.models.tactics;this.data=i.map(l.get("question-types"),function(s){return{id:s.key,title:s.value,diffcults:i.map(l.get("question-difficultys"),function(i){var l=t.getIt(e,n,s.key,i.key);return{id:e+"/"+n+"/"+s.key+"/"+i.key,type:s.key,difficulty:i.key,title:i.value+"难度",useableAmount:a.useableAmount(s.key,i.key),usedAmount:l&&l.amount,totalScore:l&&parseFloat((l.amount*l.score).toFixed(1)),orgId:e,depotId:n,show:a.useableAmount(s.key,i.key)>0,tacticId:l&&l.id||""}})}})},getIt:function(e,n){var a=i.find(this.data,["id",e]);return i.find(a.diffcults,["difficulty",n])},getByTypeAndDifficulty:function(e,n){var a=this.getIt(e,n),i=this.module.store.models.tactics;return t.assign(a,{tactic:i.getIt(a.orgId,a.depotId,a.type,a.difficulty)})},saveIt:function(e){this.data=i.map(this.data,function(n){return e.type===n.id?t.assign(n,{diffcults:i.map(n.diffcults,function(n){return e.difficulty===n.difficulty?t.assign(n,{usedAmount:e.amount,totalScore:e.amount*e.score}):n})}):n})},removeIt:function(e){this.data=i.map(this.data,function(n){return e.type===n.id?t.assign(n,{diffcults:i.map(n.diffcults,function(n){return e.difficulty===n.difficulty?t.assign(n,{usedAmount:0,totalScore:0}):n})}):n})}}},popupCurrent:{},tacticsForm:{url:"../exam/paper-tactic"},removeTactic:{url:"../exam/paper-tactic"}},callbacks:{init:function(e){e.paperClassId&&this.models.tacticsForm.set({id:e.paperClassId})},saveSearch:function(e){var n=this.models.search,a=this.models.questions,i=this.models.tactics,l=this.models.setting,s=this.module.renderOptions.paperClassId;return t.assign(n.data,e),n.data.organizationId&&n.data.questionDepotId?(t.assign(a.params,n.data),i.data&&0!==i.data.length||!s||(t.assign(i.data={},{id:s}),i.data.id&&this.get(i)),this.get(a,{loading:!0}).then(function(){l.init(n.data.organizationId,n.data.questionDepotId),l.changed()})):""},clearDepotId:function(){var e=this.models.search,n=this.models.setting,a=this.models.questions;t.assign(e.data,{questionDepotId:null}),a.clear(),n.init(e.data.organizationId,e.data.questionDepotId),n.changed()},addTactic:function(e){var n=this.models.setting;this.models.popupCurrent.set(n.getByTypeAndDifficulty(e.type,e.difficulty)),this.models.popupCurrent.changed()},clearCurrent:function(){this.models.popupCurrent.clear()},saveTactic:function(e){var n=this.models.search,a=this.models.tactics,t=this.models.setting,i=this.models.popupCurrent;return a.saveIt({organizationId:n.data.organizationId,questionDepotId:n.data.questionDepotId,difficulty:e.difficulty,type:e.type,amount:e.amount,score:e.score}),a.totalScore()>1e3?(this.app.message.error("试卷分数不能超出1000分"),a.removeIt(n.data.organizationId,n.data.questionDepotId,e.type,e.difficulty),!1):(i.clear(),i.changed(),t.saveIt(e),t.changed(),!0)},removeTactic:function(e){var n=this;this.models.tactics.removeIt(e.organizationId,e.questionDepotId,e.type,e.difficulty),this.models.setting.removeIt(e),this.models.setting.changed(),n.app.message.success("删除成功")},saveAll:function(){var e=this.models.tacticsForm,n=this.models.tactics,a=this;return n.data&&0!==n.data.length?n.totalScore()>1e3?(this.app.message.error("试卷分数不能超出1000分"),!1):(t.assign(e.data,{name:this.module.renderOptions.name,totalScore:(100*n.totalScore()).toFixed(0),questionNum:n.totalAmount(),paperClassTactics:JSON.stringify(n.data)}),this.save(e,{loading:!0}).then(function(){a.app.message.success("保存成功"),a.module.renderOptions.callback(e.data.id||""),n.clear()})):(this.app.message.error("请填写试题策略"),!1)}}},a.mixin={nodeChanged:function(e){var n=this.items.depot.getEntities(),a=n&&n[0],t=this;return a?this.dispatch("clearDepotId").then(function(){return t.dispatch("saveSearch",e).then(function(){return a.refreshTree(e)})}):""}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.buttons=[{text:"保存",fn:function(){return this.dispatch("saveAll")}}]},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/random-question/organization-tree/index",function(e,n,a){var t=e("drizzle-zxy");a.items={tree:"tree"},a.store={models:{organizationTree:{url:"../system/organization/company-orgs"},childrenTree:{url:"../system/organization/find-children"}},callbacks:{initPage:function(){return this.models.organizationTree.params={rootId:this.module.renderOptions.organizationId,supportMore:!0},this.models.organizationTree.clear(),this.get(this.models.organizationTree)},getChildren:function(e){return t.assign(this.models.childrenTree.params,{parentId:e.parentId}),this.models.childrenTree.clear(),this.get(this.models.childrenTree,{loading:!0})}}},a.afterRender=function(){return this.dispatch("initPage")}},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/question/random-question/organization-tree/view-tree",function(e,n,a){var t,i=e("lodash/collection"),l=e("./app/util/helpers");a.components=[function(){var e=this;return{id:"tree",name:"tree",options:{model:"organizationTree",openChildren:function(n){return e.module.dispatch("getChildren",n)},openLevel:1}}}],a.events={"change tree":"nodeChanged"},a.bindings={organizationTree:"updateTree"},a.updateTree=function(){this.components.tree.reset(this.bindings.organizationTree.data),t(this,this.components.tree.selectRoot())},a.handlers={nodeChanged:function(e,n){t(this,n)}},t=function(e,n){var a=e.module.module,t=e.module.renderOptions.callback;a&&a.nodeChanged&&n&&n.data?a.nodeChanged(n):t&&"function"==typeof t&&t({organizationId:n.id,organization:{id:n.id,name:n.text}})},a.dataForComponents={tree:function(){var e=l.setting("tree.length.threshold");return i.map(this.bindings.organizationTree.data,function(n){var a=n;return a.title=a.name,a.name.length>e&&(a.name=a.name.slice(0,e)+"..."),a})}}},{"./app/util/helpers":"./app/util/helpers","lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/random-question/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="randomtest-page train-randomtest">\n    <div class="randomtest border around pull-left m-right" style="width: 16%;min-height: 400px;" data-region="organization"></div>\n    <div class="randomtest border around pull-left m-right" style="width: 16%;min-height: 400px;" data-region="depot"></div>\n    <div class="randomtest pull-left m-right" style="width: 65%;">\n        <div data-region="question-setting"></div>\n        <div data-region="setting-popup"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i){return'    <div data-dynamic-key="organization"></div>\n'},5:function(e,n,a,t,i){return'    <div data-dynamic-key="depot"></div>\n'},7:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'<form class="vertical">\n    <div class="list border around add-random-question-list add-random select" style="min-height: 400px;">\n        <div class="total text-right" style="padding: 10px;">共'+r(s(null!=(l=null!=n?n.summary:n)?l.totalAmount:l,n))+"题"+r(s(null!=(l=null!=n?n.summary:n)?l.totalScore:l,n))+"分</div>\n        <ul>"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.setting:n,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n    </div>\n</form>"},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'\n            <li class="clearfix border top" style="padding: 10px;">\n                <div class="pull-left" style="width: 40px;margin: 3px 0 0;line-height: 1;"><strong>'+e.escapeExpression((s=null!=(s=a.title||(null!=n?n.title:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"title",hash:{},data:i}):s))+'</strong></div>\n                <div class="clearfix cont" style="margin-left: 60px;">'+(null!=(l=a.each.call(r,null!=n?n.diffcults:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n            </li>\n        "},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n                    <div class="select-question-item pull-left" style="width: 33.33%;padding-right: 10px;">\n                        <div class="level m-bottom">\n                            <span>'+d((s=null!=(s=a.title||(null!=n?n.title:n))?s:o,"function"==typeof s?s.call(r,{name:"title",hash:{},data:i}):s))+'</span>\n                            <span class="text-tips m-left">共'+d((s=null!=(s=a.useableAmount||(null!=n?n.useableAmount:n))?s:o,"function"==typeof s?s.call(r,{name:"useableAmount",hash:{},data:i}):s))+'题可用</span>\n                        </div>\n                        <div class="inline-block">\n'+(null!=(l=a.if.call(r,null!=n?n.show:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.usedAmount:n,"ge",1,{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"                        </div>\n                    </div>\n                "},10:function(e,n,a,t,i){var l;return'                                <i class="pointer iconfont icon-add-full custom-color-4 p-right" id="add-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></i>\n'},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <span class="inline-block border around small-font radius" style="padding: 2px 5px;">\n                                    已选\n                                    <strong>'+o((l=null!=(l=a.usedAmount||(null!=n?n.usedAmount:n))?l:r,"function"==typeof l?l.call(s,{name:"usedAmount",hash:{},data:i}):l))+"</strong>\n                                    题共\n                                    <strong>"+o((l=null!=(l=a.totalScore||(null!=n?n.totalScore:n))?l:r,"function"==typeof l?l.call(s,{name:"totalScore",hash:{},data:i}):l))+'</strong>\n                                    分\n                                </span>\n                                <i class="pointer iconfont icon-delete-solid custom-color-3 p-left" id="remove-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'"></i>\n'},14:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="setting-popup" id="setting-popup">\n        <form class="vertical">\n            <div style="margin: 7px 0;">\n                <label class="clearfix" style="margin: 7px 0;">\n                    <div class="pull-left small-font">数量</div>\n                    <div class="text-right text-tips">共'+r(s(null!=(l=null!=n?n.popupCurrent:n)?l.useableAmount:l,n))+'题可用</div>\n                </label>\n            </div>\n            <div style="margin: 7px 0;">\n                <label class="clearfix" style="margin: 7px 0;">\n                    <input class="input" style="outline: none;padding: 7px;min-width: 100px;width: 100%;min-height: 28px;" id="popupAmount" name="amount" value="'+r(s(null!=(l=null!=(l=null!=n?n.popupCurrent:n)?l.tactic:l)?l.amount:l,n))+'" x-rule="number,range:0:'+r(s(null!=(l=null!=n?n.popupCurrent:n)?l.useableAmount:l,n))+',keepDecimal:0"/>\n                </label>\n            </div>\n            <div style="margin: 7px 0;">\n                <label class="clearfix" style="margin: 7px 0;"></label>\n            </div>\n            <div style="margin: 7px 0;">\n                <label class="clearfix" style="margin: 7px 0;">\n                    <div class="pull-left small-font">每题分数</div>\n                    <div class="text-right text-tips"></div>\n                </label>\n            </div>\n            <div style="margin: 7px 0;">\n                <label class="clearfix" style="margin: 7px 0;">\n                    <input class="input" style="outline: none;padding: 7px;min-width: 100px;width: 100%;min-height: 28px;" id="popupScore" name="score" value="'+r(s(null!=(l=null!=(l=null!=n?n.popupCurrent:n)?l.tactic:l)?l.score:l,n))+'" x-rule="number,interval:0:1:1000:1,keepDecimal:1"/>\n                    <input type="hidden" name="difficulty" value="'+r(s(null!=(l=null!=n?n.popupCurrent:n)?l.difficulty:l,n))+'"/>\n                    <input type="hidden" name="type" value="'+r(s(null!=(l=null!=n?n.popupCurrent:n)?l.type:l,n))+'"/>\n                </label>\n            </div>\n            <div style="margin: 7px 0;">\n                <label class="clearfix" style="margin: 7px 0;"></label>\n            </div>\n            <label><div class="text-right">\n                <div id="cancel" class="btn">取消</div>\n                <div class="btn" id="save-tactic">添加</div>\n            </div></label>\n        </form>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"organization",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"depot",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"question-setting",{name:"view",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"setting-popup",{name:"view",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/random-question/view-depot",function(e,n,a){a.type="dynamic",a.getEntity=function(){return""},a.getEntityModuleName=function(){return"train/programme/exam/question/random-question/depot-tree"},a.dataForEntityModule=function(){var e=this;return{callback:function(n){return e.module.dispatch("saveSearch",n)}}}},{}),loadjs.d("./app/train/programme/exam/question/random-question/view-organization",function(e,n,a){a.type="dynamic",a.getEntity=function(){return""},a.getEntityModuleName=function(){return"train/programme/exam/question/random-question/organization-tree"},a.dataForEntityModule=function(){var e=this;return{organizationId:this.module.renderOptions.demanOrganizationId,callback:function(n){return e.module.nodeChanged(n)}}}},{}),loadjs.d("./app/train/programme/exam/question/random-question/view-question-setting",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.bindings={setting:!0,tactics:!1},a.events={"click add-*":"addTactic","click remove-*":"removeTactic"},a.handlers={addTactic:function(e){var n=e.split("/");return this.module.dispatch("addTactic",{organizationId:n[0],questionDepotId:n[1],type:n[2],difficulty:n[3]})},removeTactic:function(e){var n=e.split("/"),a=this;this.app.message.confirm("确定要删除该数据？",function(){return a.module.dispatch("removeTactic",{organizationId:n[0],questionDepotId:n[1],type:n[2],difficulty:n[3]})})}},a.dataForTemplate={summary:function(e){var n={};return e.tactics&&e.tactics.length>0&&(n={totalAmount:t.reduce(t.map(e.tactics,function(e){return e.amount&&Number(e.amount)||0}),function(e,n){return e+n},0),totalScore:parseFloat((t.reduce(t.map(e.tactics,function(e){return e.score&&Number(e.score)*e.amount||0}),function(e,n){return e+n},0)/100).toFixed(1))}),n},setting:function(e){return t.map(e.setting,function(e){return i.assign(e,{diffcults:t.map(e.diffcults,function(e){return i.assign(e,{totalScore:parseFloat((e.totalScore/100).toFixed(1))})})})})}}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/random-question/view-setting-popup",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/markers"),l=e("./app/ext/views/form/validators"),s=e("drizzle-zxy"),r=function(e){return e.replace(/^\s+|\s+$/g,"")};a.bindings={popupCurrent:!0},a.events={"click cancel":"cancel"},a.handlers={cancel:function(){return t(this.$("setting-popup")).removeClass("show"),this.module.dispatch("clearCurrent")}},a.actions={"click save-tactic":"saveTactic"},a.dataForActions={saveTactic:function(e){return!!this.validate()&&s.assign(e,{score:(100*e.score).toFixed(0)})}},a.actionCallbacks={saveTactic:function(){this.app.message.success("操作成功"),t(this.$("setting-popup")).removeClass("show")}},a.dataForTemplate={popupCurrent:function(e){var n=e.popupCurrent;return n.tactic?s.assign(n,{tactic:s.assign(n.tactic,{score:parseFloat((n.tactic.score/100).toFixed(1))})}):n}},a.afterRender=function(){this.bindings.popupCurrent.data.title&&t(this.$("setting-popup")).addClass("show")},a.mixin={interval:{fn:function(e,n,a,t,i){var l;return!e||(l=Number(e),"1"===a&&"1"===i?l>=n&&l<=t:"1"===a&&"1"!==i?l>=n&&l<t:"1"!==a&&"1"===i?l>n&&l<=t:"1"===a||"1"===i||l>n&&l<t)},length:4,message:"必须在 {0} ~ {2} 之间"},keepDecimal:{fn:function(e,n){var a;return""===r(e)||(a=e.toString().split("."),!(a.length>1)||a[1].length<=n)},length:1,message:"超出保留小数位"},validate:function(){var e=t(this.$("popupAmount")),n=t(this.$("popupScore")),a=!0,s=this.bindings.popupCurrent.data.useableAmount;return i.text.valid(e),i.text.valid(n),""===n.val()&&(i.text.invalid(n,l.required.message),a=!1),l.number.fn(n.val())&&this.interval.fn(n.val(),0,1,1e3,1)&&!this.keepDecimal.fn(n.val(),0)&&(i.text.invalid(n,this.keepDecimal.message),a=!1),l.number.fn(n.val())&&!this.interval.fn(n.val(),0,1,1e3,1)&&(i.text.invalid(n,"必须在 0 ~ 1000 之间"),a=!1),l.number.fn(n.val())||(i.text.invalid(n,"只能填写数字，必须在 0 ~ 1000 之间"),a=!1),""===e.val()&&(i.text.invalid(e,l.required.message),a=!1),l.number.fn(e.val())&&l.range.fn(e.val(),0,s)&&!this.keepDecimal.fn(e.val(),0)&&(i.text.invalid(e,this.keepDecimal.message),a=!1),l.number.fn(e.val())&&!l.range.fn(e.val(),0,s)&&(i.text.invalid(e,"必须在 0 ~ "+s+" 之间"),a=!1),l.number.fn(e.val())||(i.text.invalid(e,"只能填写数字，必须在 0 ~ "+s+" 之间"),a=!1),a}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","drizzle-zxy":!1,jquery:!1}),loadjs.d("./app/train/programme/exam/question/select-question/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy"),l=e("./app/train/programme/exam/askbarevent");a.title="选择试题",a.items={"search-param":"search-param",questions:"questions","train/programme/exam/catalogue-encryption-form":{isModule:!0}},a.buttons=[{text:"选择"}],a.store={models:{questions:{url:"../exam/question",root:"items",type:"pageable",mixin:{getQuestionById:function(e){return t.find(this.data,["id",e])}}},state:{data:{}},organization:{data:{}},questionQueto:{url:"../exam/question-depot"}},callbacks:{init:function(e){var n=this,a=this.models.questionQueto;return this.models.questions.clear(),i.assign(a.params,{organizationId:this.module.renderOptions.firstId,state:1,share:1,type:1}),this.get(a).then(function(){return i.assign(e,{organizationId:n.module.renderOptions.firstId}),n.module.dispatch("searchQuestion",e)})},searchQuestion:function(e){return i.assign(this.models.state.data,{checkAll:!1}),this.models.questions.params={},i.assign(this.models.questions.params,e,{status:1,share:1,organizationId:e.organizationId?e.organizationId:this.module.renderOptions.organizationId,url:"train/project",depttype:1,depotPath:this.models.state.data.depotPath}),this.get(this.models.questions)},refresh:function(){this.models.questions.changed()}}},a.afterRender=function(){return this.dispatch("init",{type:null})},a.mixin={showEncryptionFrom:function(e,n){var a=this,t=this.items["train/programme/exam/catalogue-encryption-form"],i=l.commonEncryptDataExam.select,s=e.data.id;return!l.showEncryptionFromExam(e,"select",this.app)||(this.app.viewport.closeModal().then(function(){a.app.viewport.modal(t,{encrypt:i.encrypt,callback:function(e){!0===e&&(i.catalogueID.push(s),n&&n())}})}),!1)}}},{"./app/train/programme/exam/askbarevent":"./app/train/programme/exam/askbarevent","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/select-question/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="addexam-page"><div class="temporarypaper2-page">\n    <div class="temporarypaper2-title" data-region="search-param"></div>\n    <div class="temporarypaper2-content" data-region="questions"></div>\n</div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<form class="vertical">\n    \x3c!-- .row > .col-sm-12.text-right > label > .btn#selectQuestions > string(\'exam.buttons.select\') --\x3e\n    <div>\n        <div class="form align-left">\n            <div class="form-row w-full">\n                <label class="tag-height">试题描述</label>\n                <input class="input tag-height" name="content"/>\n            </div>\n            <div class="form-row w-half pull-left row-block r-padding">\n                <label class="tag-height required">归属部门</label>\n                <div class="content">\n                    <div id="owner"></div>\n                    \x3c!--  input.input.tag-height(value=org.name name=\'organizationName\') --\x3e\n                    \x3c!--  .btn.choice#showOrganization 选择 --\x3e\n                    \x3c!--  input(type=\'hidden\' id=\'organizatonId\' name=\'organizationId\' value=org.id) --\x3e\n                </div>\n            </div>\n            <div class="form-row w-half pull-left row-block">\n                <label class="tag-height">归属目录</label>\n                <div class="content">\n                    <div id="question-depot"></div>\n                </div>\n            </div>\n            <div class="form-row w-half pull-left row-block r-padding">\n                <label class="tag-height">试题类型</label>\n                <div class="content">\n                    <select id="type" class="w-full tag-height" name="type">'+(null!=(l=a.each.call(s,null!=n?n.types:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'</select>\n                </div>\n            </div>\n            <div class="form-row w-half pull-left row-block">\n                <label class="tag-height">难易度</label>\n                <div class="content">\n                    <select id="level" class="w-full tag-height" name="difficulty" x-marker="selectize">\n'+(null!=(l=a.each.call(s,null!=n?n.difficultys:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+'                    </select>\n                </div>\n            </div>\n        </div>\n        <div class="text-center"><div id="searchQuestion" class="btn layout-mt-small">查询</div></div>\n    </div>\n</form>'},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                        <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n                    "},5:function(e,n,a,t,i){return' selected="selected"'},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                            <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n"},9:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="layout-mt-small">\n        <ul><div class="test-box">\n            <li class="test-1 clearfix">\n                <input class="pull-left height" '+(null!=(l=a.if.call(s,null!=n?n.checkAll:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="check-all" value="all"/>\n                <label for="check-all"></label>\n                <div class="overflow layout-ml h4">全选</div>\n                <div class="border bottom m-top"></div>\n            </li>\n            '+(null!=(l=a.each.call(s,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+'\n        </div></ul>\n        <div id="pager" class="pagination"></div>\n    </div>\n'},10:function(e,n,a,t,i){return' checked="checked"'},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'<li class="test-1 clearfix">\n                <input class="pull-left height" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" name="selectBox" id="select-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                <label for="select-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"></label>\n                <div class="overflow layout-ml" data-dynamic-key="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"></div>\n            </li>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"search-param",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"questions",{name:"view",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/select-question/view-questions",function(e,n,a){var t=e("./app/train/programme/exam/exam-question-types"),i=e("lodash/collection"),l=e("drizzle-zxy");a.type="dynamic",a.bindings={questions:!0,state:!0},a.events={"click select-*":"selectQuestion","click check-all":"checkAll"},a.handlers={selectQuestion:function(e,n){var a=this.bindings.questions.getQuestionById(e),t=this.module.renderOptions.callback.addQuestionClass,i=this.module.renderOptions.callback.removeQuestionClass;return n.target.checked?t(l.assign(a,{isFromSelected:1})):i(a.id),this.module.dispatch("refresh")},checkAll:function(e,n){var a=this.bindings.questions.data,t=this.bindings.state,s=this.$$('[name="selectBox"]'),r=this.$("check-all"),o=this.module.renderOptions.callback.addQuestionClasses,d=this.module.renderOptions.callback.removeQuestionClasses;n.checked?(t.data.checkAll=!0,o(i.map(a,function(e){return l.assign(e,{isFromSelected:1})}))):(t.data.checkAll=!1,d(a)),r.checked=n.checked,i.map(s,function(e){l.assign(e,{checked:n.checked})})}},a.dataForTemplate={questions:function(e){var n,a=this.module.renderOptions.callback,t={},l=a.getQuestionIds();return l=a.getQuestionIds(),l&&i.map(l,function(e){t[e]=e}),n=i.map(e.questions,function(e,n){var a=e;return t[a.id]&&(a.checked=!0),a.i=n+1,a}),e.questions&&e.questions.length>0&&(this.bindings.state.data.checkAll=i.every(e.questions,function(e){return e.checked})),n},checkAll:function(){return this.bindings.state.data.checkAll}},a.getEntity=function(e){var n=this.module.store.models.questions.getQuestionById(e),a=l.assign({},n),t=i.map(a.subs,function(e){var n=l.assign({},e);return l.assign(n,{score:n.score/100})});return l.assign({},n,{subs:i.map(t,function(e){return l.assign(e,{questionAttrs:i.orderBy(e.questionAttrs,["name","asc"])})}),score:n.score/100,questionAttrs:i.orderBy(n.questionAttrs,["name","asc"])})},a.getEntityModuleName=function(e,n){return t.get(n.type,2)},a.dataForEntityModule=function(e){return{type:e.type,data:e,multiple:2===e.type,previewMode:1}},a.components=[{id:"pager",name:"pager",options:{model:"questions"}}]},{"./app/train/programme/exam/exam-question-types":"./app/train/programme/exam/exam-question-types","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/select-question/view-search-param",function(e,n,a){var t=e("./app/util/maps"),i=e("jquery"),l=e("./app/ext/views/form/markers"),s=e("drizzle-zxy");a.bindings={questions:!1,organization:!0,state:!0},a.actions={"click searchQuestion":"searchQuestion"},a.dataForActions={searchQuestion:function(e){return!!this.validate()&&function(e){return"999"===e.type&&s.assign(e,{type:null}),"999"===e.difficulty&&s.assign(e,{difficulty:null}),s.assign(e,{content:e.content.trim()}),e}(e)}},a.components=[function(){var e=this,n={id:"owner",name:"picker",options:{picker:"owner",required:!0,autoFill:!1,params:{rootId:e.module.renderOptions.organizationId,supportMore:!0},data:{},selectChanged:function(n){var a=e.components["question-depot"].reset({operatorType:e.app.global.EDIT,state:1,organizationId:n.id,share:!0,autoFill:!0,type:1});return e.components&&e.components["question-depot"].clear(),a},clearCallback:function(){e.components&&e.components["question-depot"].clear()}}};return e.module.renderOptions.firstId&&e.module.renderOptions.firstName&&(n.options.data.id=e.module.renderOptions.firstId,n.options.data.text=e.module.renderOptions.firstName),n},function(){var e=this;return{id:"question-depot",name:"picker",options:{picker:"question-depot",required:!1,inputName:"questionDepotId",params:{operatorType:this.app.global.EDIT,state:1,share:!0,autoFill:!1,organizationId:e.module.renderOptions.organizationId,type:1},data:{},canShowModal:function(){return e.components.owner.getValue()},selectChanged:function(n){s.assign(e.bindings.state.data,{depotPath:n.data.path})},clearChanged:function(){s.assign(e.bindings.state.data,{depotPath:""})},callback:function(n){return!0===e.module.showEncryptionFrom(n,function(){s.assign(e.bindings.state.data,{depotPath:n.data.path}),e.components["question-depot"].dispatch("selectChanged",n)})},errorMsg:"请先选择归属部门"}}}],a.dataForTemplate={types:function(){var e=t.get("question-types");return e.unshift({key:"999",value:"全部"}),e},difficultys:function(){var e=t.get("question-difficultys");return e.unshift({key:"999",value:"全部"}),e}},a.mixin={validate:function(){var e=i(this.$("owner")),n=!0,a=this.components.owner.getValue();return l.text.valid(e),a||(this.app.message.error("归属部门为必填项"),n=!1),n}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/util/maps":"./app/util/maps","drizzle-zxy":!1,jquery:!1}),loadjs.d("./app/train/programme/exam/question/senior-editor/index",function(e,n,a){a.items={main:"main",modal:""},a.store={models:{img:{url:"../system/file/upload"},state:{data:{}}}},a.beforeRender=function(){this.store.models.state.set(this.renderOptions.data)}},{}),loadjs.d("./app/train/programme/exam/question/senior-editor/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <span data-region="main"></span>\n'},3:function(e,n,a,t,i){var l;return'    <a class="decoration-none m-right" id="rich-text-'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">高级编辑</a>\n'},5:function(e,n,a,t,i){return'    <div id="rich-text"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"modal",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{
"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/senior-editor/view-main",function(e,n,a){a.events={"click rich-text-*":"showRichText"},a.bindings={state:!0},a.handlers={showRichText:function(){this.app.viewport.modal(this.module.items.modal)}}},{}),loadjs.d("./app/train/programme/exam/question/senior-editor/view-modal",function(e,n,a){a.title="高级编辑",a.buttons=[{text:"确定",fn:function(){var e=this.module.renderOptions.data.id;this.module.renderOptions.callback(e,this.components["rich-text"].html(),this.components["rich-text"].text())}}],a.bindings={img:!0,state:!0},a.components=[{id:"rich-text",name:"rich-text",options:{model:"img",height:"400px"}}],a.afterRender=function(){var e=this.module.renderOptions,n=e.data.value||e.getValue();this.components["rich-text"].html(n)}},{}),loadjs.d("./app/train/programme/exam/question/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="content"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'<form class="vertical">\n    <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.question.content",{name:"setting",hash:{},data:i}))+'</label>\n    <input class="input" name="content" value="'+o(e.lambda(null!=(l=null!=n?n.search:n)?l.content:l,n))+'"/>\n    <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.all.catalog",{name:"setting",hash:{},data:i}))+'</label>\n    <div id="questionDepot"></div>\n    <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.question.type",{name:"setting",hash:{},data:i}))+'</label>\n    <select id="type" class="input" name="type" x-marker="selectize">\n'+(null!=(l=a.each.call(s,null!=n?n.type:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </select>\n    <label>"+o((a.setting||n&&n.setting||r).call(s,"exam.question.difficulty",{name:"setting",hash:{},data:i}))+'</label>\n    <select id="difficulty" class="input" name="difficulty" x-marker="selectize">\n'+(null!=(l=a.each.call(s,null!=n?n.difficultys:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </select>\n    <label>"+o((a.setting||n&&n.setting||r).call(s,"exam.question.status",{name:"setting",hash:{},data:i}))+'</label>\n    <select id="status" class="input" name="status" x-marker="selectize">\n'+(null!=(l=a.each.call(s,null!=n?n.status:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </select>\n    <label>"+o((a.setting||n&&n.setting||r).call(s,"exam.question.subjective",{name:"setting",hash:{},data:i}))+'</label>\n    <select id="subjective" class="input" name="subjective" x-marker="selectize">\n'+(null!=(l=a.each.call(s,null!=n?n.subjective:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </select>\n    <label>"+o((a.setting||n&&n.setting||r).call(s,"exam.exam.start-time",{name:"setting",hash:{},data:i}))+'</label>\n    <input id="start-time" class="input" name="createTimeStart"/>\n    <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.exam.end-time",{name:"setting",hash:{},data:i}))+'</label>\n    <input id="end-time" class="input" name="createTimeEnd"/>\n</form>'},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"            <option "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n"},5:function(e,n,a,t,i){return' checked="checked"'},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'    <div class="buttons">\n        <div id="add-question" class="btn"><i class="icon-plus"></i><span>新增</span></div>\n        <div id="import" class="btn"><span>导入</span></div>\n        <a href="'+d((s=null!=(s=a.exportQuestionUrl||(null!=n?n.exportQuestionUrl:n))?s:o,"function"==typeof s?s.call(r,{name:"exportQuestionUrl",hash:{},data:i}):s))+'"><div class="btn"><span>导出</span></div></a>\n        <div id="questions" class="btn"><span>云题库</span></div>\n    </div>\n    <div class="list">\n        <table class="table">\n            <thead><tr>\n                <th width="10px">'+d((a.string||n&&n.string||o).call(r,"index",{name:"string",hash:{},data:i}))+'</th>\n                <th width="20px">'+d((a.setting||n&&n.setting||o).call(r,"exam.question.content",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+d((a.setting||n&&n.setting||o).call(r,"system.all.organization",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+d((a.setting||n&&n.setting||o).call(r,"exam.all.catalog",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+d((a.setting||n&&n.setting||o).call(r,"exam.question.type",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+d((a.setting||n&&n.setting||o).call(r,"exam.question.error-rate",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+d((a.setting||n&&n.setting||o).call(r,"exam.question.difficulty",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+d((a.setting||n&&n.setting||o).call(r,"exam.question.status",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+d((a.setting||n&&n.setting||o).call(r,"system.all.create-time",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+d((a.setting||n&&n.setting||o).call(r,"system.all.operator",{name:"setting",hash:{},data:i}))+"</th>\n                <tbody>"+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'</tbody>\n            </tr></thead>\n        </table>\n    </div>\n    <div id="pager" class="pagination"></div>\n'},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return"\n                    <tr>\n                        <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+'</td>\n                        <td><div class="td-content"><a id="question-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"</a></div></td>\n                        <td>"+d(c(null!=(l=null!=n?n.organization:n)?l.name:l,n))+"</td>\n                        <td>"+d(c(null!=(l=null!=n?n.questionDepot:n)?l.name:l,n))+"</td>\n                        <td>"+d((a.map||n&&n.map||o).call(r,"question-types",null!=n?n.type:n,{name:"map",hash:{},data:i}))+"</td>\n                        <td>"+d((s=null!=(s=a.errorRate||(null!=n?n.errorRate:n))?s:o,"function"==typeof s?s.call(r,{name:"errorRate",hash:{},data:i}):s))+"</td>\n                        <td>"+d((a.map||n&&n.map||o).call(r,"question-difficultys",null!=n?n.difficulty:n,{name:"map",hash:{},data:i}))+"</td>\n                        <td>"+d((a.map||n&&n.map||o).call(r,"publish-status",null!=n?n.status:n,{name:"map",hash:{},data:i}))+"</td>\n                        <td>"+d((a.dateTime||n&&n.dateTime||o).call(r,null!=n?n.createTime:n,{name:"dateTime",hash:{},data:i}))+'</td>\n                        <td class="operation">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",0,{name:"compare",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",1,{name:"compare",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"                        </td>\n                    </tr>\n                "},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                                <a id="publish-question-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"publish",{name:"string",hash:{},data:i}))+'</a>\n                                 | \n                                <a id="edit-question-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"edit",{name:"string",hash:{},data:i}))+'</a>\n                                 | \n                                <a id="delete-question-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"remove",{name:"string",hash:{},data:i}))+"</a>\n"},11:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <a id="undo-question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((a.string||n&&n.string||r).call(s,"undo",{name:"string",hash:{},data:i}))+"</a>\n"},13:function(e,n,a,t,i){var l;return'    <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.id:l,n))+'"></div>\n'},15:function(e,n,a,t,i){var l;return'    <div class="list m-top">\n        <table class="table table2 text-center">\n            <thead><tr>\n                <th>序号</th>\n                <th>纠错用户</th>\n                <th>账号</th>\n                <th>部门</th>\n                <th>原因</th>\n            </tr></thead>\n            <tbody>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.questionRecoverys:n,{name:"each",hash:{},fn:e.program(16,i,0),inverse:e.program(18,i,0),data:i}))?l:"")+"            </tbody>\n        </table>\n    </div>\n"},16:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return"                    <tr>\n                        <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                        <td>"+d(c(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                        <td>"+d(c(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n                        <td>"+d(c(null!=(l=null!=(l=null!=n?n.member:n)?l.organization:l)?l.name:l,n))+"</td>\n                        <td>"+d((s=null!=(s=a.reason||(null!=n?n.reason:n))?s:o,"function"==typeof s?s.call(r,{name:"reason",hash:{},data:i}):s))+"</td>\n                    </tr>\n"},18:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"filter",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"preview",{name:"view",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"recovery",{name:"view",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/answer/choise/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{mixin:{getOption:function(e){return this.data.options[e]}}},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n,a,l=this.models.state.data={options:[],title:"单选题",answer:"",mutiple:!1,gainScore:0,errorRate:0},s=e.data,r=t.get("question-difficultys"),o=t.get("question-types");if(s){for(i.assign(l,s),a=s.questionAttrs,n=0;n<a.length;n++)l.options.push({content:a[n].value,isAnswer:0===Number(a[n].type),isRichText:!1,mutiple:2===s.type,id:a[n].id,name:a[n].name}),0===Number(a[n].type)&&(l.answer+=String.fromCharCode(n+"A".charCodeAt(0)));s.difficulty&&(l.difficulty=r[Number(s.difficulty)-1].value),l.type=o[Number(s.type)-1].value,2===Number(s.type)&&(l.title="多选题"),s.answerRecord&&(l.gainScore=s.answerRecord.score)}l.detailMode=e.mode,this.models.answer.init(e.answer),this.models.state.changed()},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e)}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/question/types/answer/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="addexam-page"><div class="temporarypaper2-page">\n    <div data-region="content"></div>\n    <div data-region="options"></div>\n</div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <a class="inline-block decoration-none" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">\n        <span class="inline-block pull-left">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+'、</span>\n        <div class="overflow m-left">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n    </a>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<div class="answer">\n    <ul>'+(null!=(l=a.each.call(s,null!=n?n.options:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"+(null!=(l=a.if.call(s,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"</div>"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li class="test-box test-1" id="item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n'+(null!=(l=a.if.call(r,null!=n?n.mutiple:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+'            <div class="inline-block w-96 vertical-top">\n                <label class="answer-item inline-block m-right pull-left" for="answer-item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.code:n,{name:"echoX",hash:{},data:i}))?l:"")+'</label>\n                <div class="sub-text overflow">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n            </div>\n        </li>\n    "},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="checkbox no-margin inline-block">\n                    <input '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="check-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"/>\n                    <label for="check-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"></label>\n                </div>\n'},8:function(e,n,a,t,i){return' checked="checked"'},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <input class="inline-block" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="value-'+d((s=null!=(s=a.questionId||(null!=n?n.questionId:n))?s:o,"function"==typeof s?s.call(r,{name:"questionId",hash:{},data:i}):s))+'" id="radio-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"/>\n'},12:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n                    答案：'+r(s(null!=(l=null!=n?n.state:n)?l.answer:l,n))+'\n                </div></div>\n                <div class="text-right">\n                    <span>本题得分：'+r(s(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"本题易错率: "+r(s(null!=(l=null!=n?n.state:n)?l.errorRate:l,n))+"</span>\n                </div>\n            </div>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/answer/choise/view-options",function(e,n,a){var t=e("lodash/collection");a.bindings={state:!0,answer:!0},a.dataForTemplate={options:function(){var e=this.bindings.answer.data,n=this.bindings.state.data,a=this;return t.map(this.bindings.state.data.options,function(i,l){var s=i;s.index=l,s.code=String.fromCharCode(s.index+"A".charCodeAt(0)),s.questionId=a.bindings.state.data.id,s.isDisabled=n.detailMode>0,t.find(e.value,["id",s.id])&&(s.checked=!0)}),this.bindings.state.data.options},isShowDetail:function(){var e=this.bindings.state.data.detailMode;return e&&e>0&&e<4}},a.events={"click check-*":"check","click radio-*":"radio"},a.handlers={check:function(e){var n,a=this.bindings.answer.data,i=this.bindings.state.getOption(e);return this.$("check-"+e).checked?(a.key=this.bindings.state.data.id,a.value.push({id:i.id,value:i.name})):(n=t.reject(a.value,["id",i.id]),this.bindings.answer.data={key:this.bindings.state.data.id,value:n}),this.module.dispatch("save")},radio:function(e){var n,a=this.bindings.answer.data,i=this.bindings.state.getOption(e);return this.$("radio-"+e).checked?(a.key=this.bindings.state.data.id,a.value=[{id:i.id,value:i.name}]):(n=t.reject(a.value,["id",i.id]),this.bindings.answer.data=n),this.module.dispatch("save")}},a.beforeRender=function(){var e=this.bindings.state.data;1===e.detailMode&&(e.isShowAnswer=!0,e.isShowGainScore=!0),2===e.detailMode?(e.isShowAnswer=!1,e.isShowGainScore=!0):3===e.detailMode&&(e.isShowAnswer=!1,e.isShowGainScore=!0,this.bindings.answer.data={})}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/answer/judgement/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{data:{}},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data={gainScore:0,errorRate:0},l=t.get("judgement"),s=t.get("question-types"),r=t.get("question-difficultys");i.assign(a,n),a.answer=l[Number(n.questionAttrs[0].value)].value,a.type=s[Number(n.type)-1].value,a.difficulty=r[Number(n.difficulty)-1].value,n.answerRecord&&(a.gainScore=n.answerRecord.score),a.detailMode=e.mode,this.models.answer.init(e.answer)},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/question/types/answer/judgement/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="addexam-page"><div class="temporarypaper2-page">\n    <div data-region="content"></div>\n    <div data-region="options"></div>\n</div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <a class="inline-block decoration-none" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">\n        <span class="inline-block pull-left">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+'、</span>\n        <div class="overflow m-left">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n    </a>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<div class="answer" style="padding: 1em 2.5em;">\n'+(null!=(l=a.if.call(s,null!=n?n.isDisabled:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"</div>"},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'        <input class="inline-block" '+(null!=(l=a.if.call(s,null!=n?n.isCorrect:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="value-'+o(r(null!=(l=null!=n?n.state:n)?l.id:l,n))+'" value="1" id="check-0" disabled="disabled"/>\n        <div class="inline-block">正确</div>\n        <input class="inline-block m-left" '+(null!=(l=a.if.call(s,null!=n?n.isError:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="value-'+o(r(null!=(l=null!=n?n.state:n)?l.id:l,n))+'" value="0" id="check-1" disabled="disabled"/>\n        <div class="inline-block">错误</div>\n'},7:function(e,n,a,t,i){return' checked="checked"'},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'        <input class="inline-block" '+(null!=(l=a.if.call(s,null!=n?n.isCorrect:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="value-'+o(r(null!=(l=null!=n?n.state:n)?l.id:l,n))+'" value="1" id="check-0"/>\n        <div class="inline-block">正确</div>\n        <input class="inline-block m-left" '+(null!=(l=a.if.call(s,null!=n?n.isError:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="value-'+o(r(null!=(l=null!=n?n.state:n)?l.id:l,n))+'" value="0" id="check-1"/>\n        <div class="inline-block">错误</div>\n'},11:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'        <div class="col-sm-12 m-top"><div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n                    答案：'+r(s(null!=(l=null!=n?n.state:n)?l.answer:l,n))+'\n                </div></div>\n                <div class="text-right">\n                    <span>本题得分：'+r(s(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"本题易错率: "+r(s(null!=(l=null!=n?n.state:n)?l.errorRate:l,n))+"</span>\n                </div>\n            </div>\n        </div></div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1});loadjs.d("./app/train/programme/exam/question/types/answer/judgement/view-options",function(e,n,a){a.bindings={state:!0,answer:!0},a.dataForTemplate={isCorrect:function(){var e=this.bindings.answer.data;return e.value.length>0&&1===Number(e.value[0].value)},isError:function(){var e=this.bindings.answer.data;return e.value.length>0&&0===Number(e.value[0].value)},isShowDetail:function(){var e=this.bindings.state.data.detailMode;return e&&e>0&&e<4},isDisabled:function(){var e=this.bindings.state.data.detailMode;return e&&e>0}},a.events={"click check-*":"check"},a.handlers={check:function(e){return this.bindings.answer.set({key:this.bindings.state.data.id,value:[{id:this.$("check-"+e).value,value:this.$("check-"+e).value}]}),this.module.dispatch("save")}},a.beforeRender=function(){var e=this.bindings.state.data;1===e.detailMode&&(e.isShowAnswer=!0,e.isShowGainScore=!0),2===e.detailMode?(e.isShowAnswer=!1,e.isShowGainScore=!0):3===e.detailMode&&(e.isShowAnswer=!1,e.isShowGainScore=!0,this.bindings.answer.data={})}},{}),loadjs.d("./app/train/programme/exam/question/types/answer/question-answer/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data={gainScore:0,errorRate:0},l=t.get("question-types"),s=t.get("question-difficultys");i.assign(a,n),a.answer=n.questionAttrs[0].value,a.type=l[Number(n.type)-1].value,n.difficulty&&(a.difficulty=s[Number(n.difficulty)-1].value),n.answerRecord&&(a.gainScore=n.answerRecord.score),a.detailMode=e.mode,this.models.answer.init(e.answer)},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/question/types/answer/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="addexam-page"><div class="temporarypaper2-page">\n    <div data-region="content"></div>\n    <div data-region="options"></div>\n</div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <a class="inline-block decoration-none" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">\n        <span class="pull-left">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+'、</span>\n        <div class="overflow m-left">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n    </a>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<div class="answer"><form class="vertical">\n'+(null!=(l=a.if.call(s,null!=n?n.isDisabled:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"</form>\n</div>"},6:function(e,n,a,t,i){var l;return'        <textarea class="input w-full m-top" id="answer" name="value" rows="5" placeholder="请输入答案" disabled="disabled">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=n?n.answer:n,{name:"echoX",hash:{},data:i}))?l:"")+"</textarea>\n"},8:function(e,n,a,t,i){var l;return'        <textarea class="input w-full m-top" id="answer" name="value" rows="5" placeholder="请输入答案">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=n?n.answer:n,{name:"echoX",hash:{},data:i}))?l:"")+"</textarea>\n"},10:function(e,n,a,t,i){var l;return'        <div class="show-answer">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n                    '+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},"答案：",null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+'\n                </div></div>\n                <div class="text-right">\n                    <span>本题得分：'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"</span>\n                </div>\n            </div>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/answer/question-answer/view-options",function(e,n,a){var t=e("jquery");a.bindings={state:!0,answer:!0},a.events={"change answer":"changeAnswer"},a.handlers={changeAnswer:function(){return this.bindings.answer.set({key:this.bindings.state.data.id,value:[{id:this.bindings.state.data.id,value:t(this.$("answer")).val().trim()}]}),this.module.dispatch("save")}},a.dataForTemplate={answer:function(){var e=this.bindings.answer;return e.data.value.length>0?e.data.value[0].value:""},isShowDetail:function(){var e=this.bindings.state.data.detailMode;return e&&e>0&&e<4},isDisabled:function(){var e=this.bindings.state.data.detailMode;return e&&e>0}},a.beforeRender=function(){var e=this.bindings.state.data;1===e.detailMode&&(e.isShowAnswer=!0,e.isShowGainScore=!0),2===e.detailMode?(e.isShowAnswer=!1,e.isShowGainScore=!0):3===e.detailMode&&(e.isShowAnswer=!1,e.isShowGainScore=!0,this.bindings.answer.data={})}},{jquery:!1}),loadjs.d("./app/train/programme/exam/question/types/answer/reading-comprehension/index",function(e,n,a){var t,i=e("./app/util/maps"),l=e("lodash/collection"),s=e("drizzle-zxy");a.items={content:"content",subs:"subs"},a.store={models:{state:{},sub:{data:{},mixin:{getQuestionById:function(e){return l.find(this.data.questions,["id",e])}}},answer:{data:{},mixin:{init:function(e){this.data=e||{key:this.store.models.state.data.id,type:6,value:[]}},save:function(e){var n,a=this.data.value;n=l.reject(a,["key",e.key]),n.push(e),this.data.value=n},getAnswer:function(e){var n=this.data.value;return l.find(n,["key",e])}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data,l=i.get("question-types");s.assign(a,n),a.type=l[Number(n.type)-1].value,a.mode=e.mode,this.models.sub.data.questions=t(n.subs),this.models.answer.init(e.answer)},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(s.assign(e,{type:6}))}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},t=function(e){return l.orderBy(e,["createTime","type"],["asc","asc"])}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/answer/reading-comprehension/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="content"></div>\n    <div data-region="subs"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression
;return'    <a class="inline-block decoration-none" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">\n        <span class="pull-left">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+'、</span>\n        <div class="overflow m-left">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n    </a>\n"},5:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.subs:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:""},6:function(e,n,a,t,i){var l;return"        \x3c!-- echo('(' index ')') --\x3e\n        <div data-dynamic-key=\""+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"subs",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/answer/reading-comprehension/view-subs",function(e,n,a){var t=e("lodash/collection"),i=e("./app/train/programme/exam/exam-question-types"),l=e("drizzle-zxy");a.type="dynamic",a.bindings={sub:!0,answer:!0,state:!0},a.dataForTemplate={subs:function(){var e=this.bindings.sub.data.questions;return t.map(e,function(e,n){var a=e;return a.index=n+1,a})}},a.getEntity=function(e){var n=this.module.store.models.sub.getQuestionById(e),a=l.assign({},n),i=l.assign({},n.answerRecord);return n.questionAttrs||l.assign(a,{questionAttrs:t.orderBy(n.questionAttrCopys,["name"],["asc"]),answerRecord:l.assign(i,{score:i.score/100})}),a},a.getEntityModuleName=function(e,n){return i.get(n.type,3)},a.dataForEntityModule=function(e){var n=this;return{type:e.type,data:e,multiple:2===e.type,callback:function(e){return n.bindings.answer.save(e),n.module.dispatch("save")},answer:this.bindings.answer.getAnswer(e.id),mode:this.bindings.state.data.mode}}},{"./app/train/programme/exam/exam-question-types":"./app/train/programme/exam/exam-question-types","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/answer/sentence-completion/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data={gainScore:0,errorRate:0},l=t.get("question-types"),s=t.get("question-difficultys");i.assign(a,n),a.answer=n.questionAttrs[0].value,a.type=l[Number(n.type)-1].value,a.difficulty=s[Number(n.difficulty)-1].value,a.detailMode=e.mode,n.answerRecord&&(a.gainScore=n.answerRecord.score),this.models.answer.init(e.answer)},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/question/types/answer/sentence-completion/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="addexam-page"><div class="temporarypaper2-page">\n    <div data-region="content"></div>\n    <div data-region="options"></div>\n</div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <a class="inline-block decoration-none" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">\n        <span class="pull-left">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+'、</span>\n        <div class="overflow m-left">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n    </a>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<div class="answer"><form class="vertical">\n'+(null!=(l=a.if.call(s,null!=n?n.isDisabled:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"</form>\n</div>"},6:function(e,n,a,t,i){var l;return'        <textarea class="input w-full m-top" id="answer" name="value" rows="5" placeholder="请输入答案" disabled="disabled">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=n?n.answer:n,{name:"echoX",hash:{},data:i}))?l:"")+"</textarea>\n"},8:function(e,n,a,t,i){var l;return'        <textarea class="input w-full m-top" id="answer" name="value" rows="5" placeholder="请输入答案">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=n?n.answer:n,{name:"echoX",hash:{},data:i}))?l:"")+"</textarea>\n"},10:function(e,n,a,t,i){var l;return'        <div class="show-answer m-top">\n            <div class="clearfix">\n                <div class="pull-left"><div class="common-title">\n                    '+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},"答案：",null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+'\n                </div></div>\n                <div class="text-right">\n                    <span>本题得分：'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"</span>\n                </div>\n            </div>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/answer/sorting/index",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection"),l=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{data:{}},answer:{data:{},mixin:{init:function(e){this.data=e||{key:"",value:[]}}}}},callbacks:{init:function(e){var n,a=e.data,s=this.models.state.data={gainScore:0,errorRate:0},r=t.get("question-types"),o=t.get("question-difficultys"),d=a.questionAttrs,c=0,u="";for(l.assign(s,a),s.type=i.find(r,["key",a.type.toString()]).value,s.difficulty=o[Number(a.difficulty)-1].value,s.options=[],u=i.find(d,["type","0"]).value,d=i.filter(d,function(e){return 0!==Number(e.type)}),c;c<d.length;c++)n=String.fromCharCode(c+"A".charCodeAt(0)),s.options.push({content:d[c].value,name:d[c].name,code:n,i:c}),u=u.replace(Number(d[c].name)+"|",String.fromCharCode(Number(d[c].name)+"A".charCodeAt(0)));s.answer=u.split("|").join(""),a.answerRecord&&(s.gainScore=a.answerRecord.score),s.detailMode=e.mode,this.models.answer.init(e.answer)},save:function(){var e=this.models.answer.data,n=this.module.renderOptions.callback;n&&n(e),this.models.state.changed()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/answer/sorting/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="addexam-page"><div class="temporarypaper2-page">\n    <div data-region="content"></div>\n    <div data-region="options"></div>\n</div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <a class="inline-block decoration-none" name="question-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">\n        <span class="pull-left">'+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+'、</span>\n        <div class="overflow m-left">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n    </a>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="answer">\n        <ul>'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.state:n)?l.options:l,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'</ul>\n        <form class="vertical">\n'+(null!=(l=a.if.call(s,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+"        </form>\n"+(null!=(l=a.if.call(s,null!=n?n.isShowDetail:n,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n            <li class="test-box test-1" id="item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <label class="answer-item inline-block m-right pull-left" for="answer-item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.code:n,{name:"echoX",hash:{},data:i}))?l:"")+'</label>\n                <div class="sub-text overflow m-left">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n                \x3c!--  label.no-margin(for='answer-item-' + i) --\x3e\n                \x3c!--      .answer-options > .option-num > @echoX(code) --\x3e\n                \x3c!--      .answer-options > @echoX(content) --\x3e\n            </li>\n        "},8:function(e,n,a,t,i){var l;return'                <div class="row">\n                    <div class="col-md-3">\n                        <input class="input w-half m-top" id="answer" name="value" placeholder="请输入顺序" value="'+e.escapeExpression((l=null!=(l=a.answer||(null!=n?n.answer:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"answer",hash:{},data:i}):l))+'" disabled="disabled"/>\n                    </div>\n                    <div class="col-md-3">\n                        <div id="error"></div>\n                    </div>\n                </div>\n'},10:function(e,n,a,t,i){var l;return'                <div class="row">\n                    <div class="col-md-3">\n                        <input class="input w-half m-top" id="answer" name="value" placeholder="请输入顺序" value="'+e.escapeExpression((l=null!=(l=a.answer||(null!=n?n.answer:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"answer",hash:{},data:i}):l))+'"/>\n                    </div>\n                    <div class="col-md-3">\n                        <div id="error"></div>\n                    </div>\n                </div>\n'},12:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'            <div class="show-answer">\n                <div class="clearfix">\n                    <div class="pull-left"><div class="common-title">\n                        答案：'+r(s(null!=(l=null!=n?n.state:n)?l.answer:l,n))+'\n                    </div></div>\n                    <div class="text-right">\n                        <span>本题得分：'+r(s(null!=(l=null!=n?n.state:n)?l.gainScore:l,n))+"本题易错率: "+r(s(null!=(l=null!=n?n.state:n)?l.errorRate:l,n))+"</span>\n                    </div>\n                </div>\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/answer/sorting/view-options",function(e,n,a){var t,i,l,s=e("lodash/collection"),r=e("jquery");a.bindings={state:!0,answer:!0},a.dataForTemplate={options:function(e){return s.map(e.state.options,function(e,n){var a=e;a.index=n,a.code=String.fromCharCode(a.index+"A".charCodeAt(0))}),e.state.options},answer:function(){var e=this.bindings.answer,n=this.bindings.state.data.options,a="";return e.data.value.length>0&&(a=e.data.value[0].value,s.forEach(n,function(e){a=a.replace(e.name+"|",e.code)})),a},isShowDetail:function(){var e=this.bindings.state.data.detailMode;return e&&e>0&&e<4},isDisabled:function(){var e=this.bindings.state.data.detailMode;return e&&e>0}},a.events={"change answer":"changeAnswer","keypress answer":"keypressAnswer"},a.handlers={changeAnswer:function(){var e,n,a=this.bindings.answer,t=this.bindings.state.data.options,i=this.$("answer").value.toLocaleUpperCase(),r=i;if(!l.call(this,r))return!1;for(e=0;e<i.length;e++)n=s.find(t,["code",i.charAt(e)]),r=r.replace(i.charAt(e),n.name+"|");return a.set({key:this.bindings.state.data.id,value:[{id:this.bindings.state.data.id,value:r}]}),this.module.dispatch("save")},keypressAnswer:function(e){var n=e.keyCode,a=String.fromCharCode(n).toLocaleUpperCase(),l=this.$("answer").value;return n>=65&&n<=122&&s.find(this.bindings.state.data.options,["code",a])?l.length>0&&function(e,n){return!e||!s.every(e,function(e){return e!==n})}(l.toLocaleUpperCase(),a)?(t.call(this,"出现重复字母"),e.preventDefault(),!1):(i(),!0):(t.call(this,"输入字母超出范围"),e.preventDefault(),!1)}},t=function(e){r(this.$("error")).html('<span class="error-text">'+e+"</span>"),r(this.$("answer")).addClass("error")},i=function(){r(this.$("error")).html(""),r(this.$("answer")).removeClass("error")},l=function(e){return!/.*[\u4e00-\u9fa5]+.*$/.test(e)||(t.call(this,"非法输入"),this.$("answer").value="",!1)},a.beforeRender=function(){var e=this.bindings.state.data;1===e.detailMode&&(e.isShowAnswer=!0,e.isShowGainScore=!0),2===e.detailMode?(e.isShowAnswer=!1,e.isShowGainScore=!0):3===e.detailMode&&(e.isShowAnswer=!1,e.isShowGainScore=!0,this.bindings.answer.data={})}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/choise/index",function(e,n,a){var t=e("lodash/collection"),i=e("jquery"),l=e("drizzle-zxy");a.items={content:"content",options:"options",score:"score"},a.store={models:{state:{mixin:{isRichText:function(e){return/<[^>]+>/g.test(e)||/&nbsp;/gi.test(e)}}},bottom:{data:{}},img:{url:"../system/file/upload"}},callbacks:{init:function(e){var n,a,t,i=this.models.state.data,s=this.models.bottom,r=e.data,o=this.module.items.content;if(r){if(a=r.questionAttrs,s.data.score=r.score,!i.options)for(l.assign(i,r),i.options=[],n=0;n<a.length;n++)t=this.models.state.isRichText(a[n].value),i.options.push({content:a[n].value,isAnswer:0===Number(a[n].type),isRichText:t});o.components.content.html(r.content)}else{for(i.options=[],n=0;n<4;n++)i.options.push({content:"",isAnswer:!1,isRichText:!1});i.type=this.module.renderOptions.type}i.multiple=e.multiple,this.models.state.changed(),s.changed()},addOption:function(){var e=this.models.state.data.options;if(e.length+1>10)return void this.app.message.error("选项只能添加10个");e.push({content:"",isAnswer:!1,isRichText:!1}),this.models.state.changed()},changeContent:function(e){this.models.state.data.options[Number(e.index)].content=e.content},removeOption:function(e){this.models.state.data.options.splice(Number(e.index),1),this.models.state.changed()},changeAnswer:function(e){var n=this.models.state.data.options,a=this.module.renderOptions.multiple,l=n[Number(e.index)];if(""===i(this.module.items.options.$("content-"+e.index)).val()&&!n[e.index].content)return void this.app.message.error("不能选空选项为答案");a||t.map(n,function(e){var n=e;n.isAnswer&&(n.isAnswer=!1)}),l.isAnswer=!l.isAnswer,this.models.state.changed()}}},a.mixin={getValue:function(){var e=this.items.options,n=this.store.models.state.data.options;return!!e.checkAnswer(n)&&e.getResult(n)},isValidate:function(){return this.items.content.validate()&&this.items.score.validate()},clear:function(){this.renderOptions={}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<form class="vertical">\n    <div data-region="content"></div>\n    <div data-region="options"></div>\n    <div data-region="score"></div>\n</form>'},3:function(e,n,a,t,i){var l;return'    <div class="choosequestion">\n        <div class="form align-left">\n            <div class="form-row">\n                <label class="required">试题信息</label>\n                <textarea id="content" class="w-full" name="content" x-rule="required,maxLength:3000" x-marker="rich-text" x-target="content"></textarea>\n            </div>\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.showDiffculty:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n    </div>\n"},4:function(e,n,a,t,i){var l;return'                <div class="form-row">\n                    <label class="required">难易度</label>\n                    <select id="difficulty" class="input w-full" name="difficulty" x-rule="required" x-marker="selectize" readonly>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.difficultys:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"</select>\n                </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                        <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n                    "},6:function(e,n,a,t,i){return' selected="selected"'},8:function(e,n,a,t,i){var l;return'    <div class="choosequestion-page"><div class="choosequestion"><div class="layout-mt-small">\n        <label>选项</label>\n        <a id="add" class="decoration-none m-left" href="javascript:;">添加选项</a>\n        <ul class="layout-mt-small">\n            '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.options:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"\n        </ul>\n    </div>\n    </div></div>\n"},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'<li class="choosequestion-item w-half inline-block" id="item-'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <div class="relative">\n                    <div class="text"><span class="strong">选项'+c((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,typeof s===d?s.call(r,{name:"code",hash:{},data:i}):s))+":</span></div>\n"+(null!=(l=a.if.call(r,null!=n?n.isRichText:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))?l:"")+'                </div>\n                <div class="set-row answer clearfix">\n                    <div class="pull-left setanswer pointer pointer m-right  '+(null!=(l=a.if.call(r,null!=n?n.isAnswer:n,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+'" id="is-answer-'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'" data-name="index" data-value="'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'">设为答案</div>\n                    <div class="pull-right text-tips m-top">\n                        <span data-dynamic-key="'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'"></span>\n                        <a href="javascript:;" id="remove-'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'" data-name="index" data-value="'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'">删除</a>\n                    </div>\n                </div>\n            </li>'},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                        <div class="input block choise-content" style="padding-left: 5em;">\n                            '+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+'\n                            <input type="hidden" id="content-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'"/>\n                        </div>\n'},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <textarea class="input block" placeholder="输入描述" id="content-'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'" data-name="index" data-value="'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'" rows="3">'+o((l=null!=(l=a.content||(null!=n?n.content:n))?l:r,"function"==typeof l?l.call(s,{name:"content",hash:{},data:i}):l))+"</textarea>\n"},14:function(e,n,a,t,i){return"selected"},16:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.showScore:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:""},17:function(e,n,a,t,i){var l;return'        <div class="choosequestion">\n            <div class="form align-left">\n                <div class="form-row col-sm-6 row-block">\n                    <label class="required">试题分数</label>\n                    <div class="content">\n                        <input class="w-full" id="score" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.bottom:n)?l.score:l,n))+'" x-rule="required,number,interval:0:1:100:1,keepDecimal:1" placeholder="输入0-100之间的分值,可保留一位小数"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"score",{name:"view",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/choise/view-content",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection"),l=e("jquery"),s=e("./app/ext/views/form/markers"),r=e("./app/ext/views/form/validators");a.bindings={img:!0,state:!1},a.components=[{id:"content",name:"rich-text",options:{model:"img"}}],a.dataForTemplate={showDiffculty:function(){return 2===this.module.renderOptions.editMode},difficultys:function(e){var n=t.get("question-difficultys");return e.state&&i.map(n,function(n){var a=n;Number(a.key)===e.state.difficulty&&(a.selected=!0)}),i.orderBy(n,["key"],["desc"])}},a.mixin={validate:function(){var e=l(this.$("content")),n=l(this.$("difficulty")),a=this.components.content.text(),t=!0;return s.text.valid(e),s.text.valid(n),""===a.trim()&&(s.text.invalid(e,r.required.message),t=!1),r.maxLength.fn(a,3e3)||s.text.invalid(e,"最大长度为3000"),""===n.val()&&(s.text.invalid(n,r.required.message),t=!1),t}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/maps":"./app/util/maps",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/choise/view-options",function(e,n,a){var t=e("lodash/collection"),i=e("jquery"),l=e("./app/ext/views/form/validators");a.type="dynamic",a.bindings={state:!0},a.dataForTemplate={options:function(e){return t.map(e.state.options,function(e,n){var a=e;a.index=n,a.code=String.fromCharCode(a.index+"A".charCodeAt(0))}),e.state.options}},a.actions={"click add":"addOption","click remove-*":"removeOption","click is-answer-*":"changeAnswer","change content-*":"changeContent"},a.dataForActions={changeContent:function(e){var n=e;return n.content=this.$("content-"+e.index).value,this.validateOption(),n}},a.getEntity=function(e){return e},a.getEntityModuleName=function(){return"train/programme/exam/question/senior-editor"},a.dataForEntityModule=function(e){var n=this,a=n.bindings.state;return{data:{id:e,value:a.data.options[e].content},callback:function(e,a){n.changeOptionContent(e,a)},getValue:function(){return i(n.$("content-"+e)).val()}}},a.mixin={checkAnswer:function(e){var n,a=this.bindings.state.data;return!!this.validateOption()&&(n=t.filter(e,function(e){return e.isAnswer}),a.multiple&&n.length<2?(this.app.message.error("必须选择两个以上选项作为答案"),!1):!(!a.multiple&&n.length<1)||(this.app.message.error("必须选择一个选项作为答案"),!1))},getResult:function(e){var n,a,t=[],l={},s=this.module.items.content,r=this.module.items.score,o=this.bindings.state.data;for(n=0;n<e.length;n++)a=i(this.$("content-"+n)).val(),a||(a=e[n].content),""!==a&&(e[n].isAnswer?t.push({value:a,name:n,type:0}):t.push({value:a,name:n,type:o.multiple?2:1}));return l.questionAttrs=t,l.content=s.components.content.html(),l.contentText=s.components.content.text(),2===this.module.renderOptions.editMode&&(l.difficulty=s.$("difficulty").value),this.module.renderOptions.hideScore||(l.score=r.$("score").value),l.id=o.id,l},changeOptionContent:function(e,n){var a=this.bindings.state.data.options,t=this.getResult(a),i=this.bindings.state.isRichText(n);return a[e].content=n,a[e].isRichText=i,this.module.dispatch("init",{data:t})},validateOption:function(){var e,n=this.bindings.state.data.options,a=0,t=!0,s=function(e){return i(e).removeClass("error"),l.required.fn(e.value)?!!l.maxLength.fn(e.value,1e3)||(this.app.message.error("选项最大长度;1000"),i(e).addClass("error"),!1):(i(e).addClass("error"),!1)};if(n)for(a;a<n.length&&(e=this.$("content-"+a),t=s.call(this,e));a++);return t}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/choise/view-score",function(e,n,a){var t=function(e){return e.replace(/^\s+|\s+$/g,"")},i=e("jquery"),l=e("./app/ext/views/form/markers"),s=e("./app/ext/views/form/validators");a.bindings={bottom:!0},a.dataForTemplate={showScore:function(){return!this.module.renderOptions.hideScore}},a.mixin={interval:{fn:function(e,n,a,t,i){var l;return!e||(l=Number(e),"1"===a&&"1"===i?l>=n&&l<=t:"1"===a&&"1"!==i?l>=n&&l<t:"1"!==a&&"1"===i?l>n&&l<=t:"1"===a||"1"===i||l>n&&l<t)},length:4,message:"必须在 {0} ~ {2} 之间"},keepDecimal:{fn:function(e,n){var a;return""===t(e)||(a=e.toString().split("."),!(a.length>1)||a[1].length<=n)},length:1,message:"超出保留小数位"},validate:function(){var e=i(this.$("score")),n=!0;return l.text.valid(e),""===e.val()&&(l.text.invalid(e,s.required.message),n=!1),s.number.fn(e.val())&&this.interval.fn(e.val(),0,1,100,1)&&!this.keepDecimal.fn(e.val(),1)&&(l.text.invalid(e,this.keepDecimal.message),n=!1),s.number.fn(e.val())&&!this.interval.fn(e.val(),0,1,100,1)&&(l.text.invalid(e,"必须在 0 ~ 100 之间"),n=!1),s.number.fn(e.val())||(l.text.invalid(e,"只能填写数字，必须在 0 ~ 100 之间"),n=!1),n}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/exam/question/types/edit/judgement/index",function(e,n,a){var t=e("drizzle-zxy");a.items={content:"content",options:"options",score:"score"},a.store={models:{state:{data:{}},img:{url:"../system/file/upload"}},callbacks:{init:function(e){var n,a=this.models.state.data,i=e.data;i&&(n=i.questionAttrs,a.correct="1"===n[0].value,a.error="0"===n[0].value,t.assign(a,i)),a.type=this.module.renderOptions.type}}},a.mixin={getValue:function(){var e=this.items.options;return e.checkAnswer()?e.getResult():(this.app.message.error("请选择正确或者错误"),!1)},isValidate:function(){return this.items.content.validate()&&this.items.score.validate()},clear:function(){this.renderOptions={}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/judgement/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="content"></div>\n    <div data-region="options"></div>\n    <div data-region="score"></div>\n'},3:function(e,n,a,t,i){var l;return'    <div class="choosequestion">\n        <div class="form align-left">\n            <div class="form-row">\n                <label class="required">试题信息</label>\n                <textarea id="content" class="w-full" name="content" x-rule="required,maxLength:3000" x-marker="rich-text" x-target="content">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.content:l,n))+"</textarea>\n            </div>\n        </div>\n    </div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="choosequestion-page"><div class="choosequestion"><div class="layout-mt-small">\n        <input class="inline-block" '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.correct:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="judge" value="1"/>\n        <div class="inline-block">正确</div>\n        <input class="inline-block m-left" '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.error:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="judge" value="0"/>\n        <div class="inline-block">错误</div>\n    </div>\n    </div></div>\n'},6:function(e,n,a,t,i){return' checked="checked"'},8:function(e,n,a,t,i){var l;return'    <div class="choosequestion layout-mt-small">\n        <div class="form align-left">\n            <div class="form-row col-sm-3 row-block">\n                <label class="required">试题分数</label>\n                <div class="content"><input class="w-full" id="score" x-rule="required,number,interval:0:1:100:1,keepDecimal:1" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.score:l,n))+'" placeholder="输入0-100之间的分值，小数点最多保留一位"/></div>\n            </div>\n        </div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),
inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"score",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/judgement/view-content",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/markers"),l=e("./app/ext/views/form/validators");a.bindings={img:!0,state:!0},a.components=[{id:"content",name:"rich-text",options:{model:"img"}}],a.mixin={validate:function(){var e=t(this.$("content")),n=t(this.$("difficulty")),a=this.components.content.text(),s=!0;return i.text.valid(e),i.text.valid(n),""===a.trim()&&(i.text.invalid(e,l.required.message),s=!1),l.maxLength.fn(a,3e3)||i.text.invalid(e,"最大长度为3000"),""===n.val()&&(i.text.invalid(n,l.required.message),s=!1),s}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/exam/question/types/edit/judgement/view-options",function(e,n,a){var t=e("jquery");a.bindings={state:!0},a.mixin={checkAnswer:function(){return t(this.$$('[name="judge"]:checked')).val()},getResult:function(){var e=t(this.$$('[name="judge"]:checked')).val(),n={},a=this.module.items.content,i=this.module.items.score,l=this.bindings.state.data;return n.content=a.components.content.html(),n.contentText=a.components.content.text(),n.questionAttrs=[{value:e,name:e,type:3}],n.score=i.$("score").value,n.id=l.id,n.type=l.type,n}}},{jquery:!1}),loadjs.d("./app/train/programme/exam/question/types/edit/judgement/view-score",function(e,n,a){var t=function(e){return e.replace(/^\s+|\s+$/g,"")},i=e("jquery"),l=e("./app/ext/views/form/markers"),s=e("./app/ext/views/form/validators");a.bindings={state:!0},a.mixin={interval:{fn:function(e,n,a,t,i){var l;return!e||(l=Number(e),"1"===a&&"1"===i?l>=n&&l<=t:"1"===a&&"1"!==i?l>=n&&l<t:"1"!==a&&"1"===i?l>n&&l<=t:"1"===a||"1"===i||l>n&&l<t)},length:4,message:"必须在 {0} ~ {2} 之间"},keepDecimal:{fn:function(e,n){var a;return""===t(e)||(a=e.toString().split("."),!(a.length>1)||a[1].length<=n)},length:1,message:"超出保留小数位"},validate:function(){var e=i(this.$("score")),n=!0;return l.text.valid(e),""===e.val()&&(l.text.invalid(e,s.required.message),n=!1),s.number.fn(e.val())&&this.interval.fn(e.val(),0,1,100,1)&&!this.keepDecimal.fn(e.val(),1)&&(l.text.invalid(e,this.keepDecimal.message),n=!1),s.number.fn(e.val())&&!this.interval.fn(e.val(),0,1,100,1)&&(l.text.invalid(e,"必须在 0 ~ 100 之间"),n=!1),s.number.fn(e.val())||(l.text.invalid(e,"只能填写数字，必须在 0 ~ 100 之间"),n=!1),n}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/exam/question/types/edit/line/index",function(e,n,a){var t=e("drizzle-zxy");a.items={content:"content",options:"options",score:"score"},a.store={models:{state:{},img:{url:"../system/file/upload"}},callbacks:{init:function(e){var n,a,i=this.models.state.data={content:e.content||"",options:[]},l=e.data;if(e.options)return void(i.options=e.options);if(l){for(a=l.questionAttrs,n=0;n<a.length;n++)i.options.push({content:a[n].name,match:a[n].value,isAnswer:!1,isRichText:!1});t.assign(i,l)}else{for(n=0;n<4;n++)i.options.push({content:"",isAnswer:!1,isRichText:!1});i.type=this.module.renderOptions.type}},addOption:function(){this.models.state.data.options.push({content:"",isAnswer:!1,isRichText:!1}),this.models.state.changed()},removeOption:function(e){this.models.state.data.options.splice(Number(e.index),1),this.models.state.changed()},changeContent:function(e){this.models.state.data.options[Number(e.index)].content=e.content}}},a.mixin={getValue:function(){var e=this.items.options,n=this.store.models.state.data.options;return e.checkAnswer(n)?e.getResult(n):(this.app.message.error("存在填写不完整的选项"),!1)},isValidate:function(){return this.items.content.validate()&&this.items.score.validate()},clear:function(){this.renderOptions={}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/line/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n    <div data-region="score"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <div class="row"><div class="col-sm-12">\n        <label class="required">试题信息</label>\n        <textarea id="content" class="input" name="content" x-rule="required,maxLength:3000" x-marker="rich-text" x-target="content">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.content:l,n))+"</textarea>\n    </div></div>\n"},5:function(e,n,a,t,i){var l;return'    <label>\n        选项\n        <a id="add" class="m-left" href="javascript:;">添加选项</a>\n    </label>\n    <ul class="row">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.options:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'\n        <li class="col-sm-6 options" id="item-'+d((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,typeof l===o?l.call(s,{name:"index",hash:{},data:i}):l))+'">\n            <div class="input-box">\n                <div class="text">\n                    <span class="list-option">选项'+d((l=null!=(l=a.code||(null!=n?n.code:n))?l:r,typeof l===o?l.call(s,{name:"code",hash:{},data:i}):l))+':</span>\n                </div>\n                <textarea class="input block" placeholder="输入描述" id="content-'+d((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,typeof l===o?l.call(s,{name:"index",hash:{},data:i}):l))+'" data-name="index" data-value="'+d((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,typeof l===o?l.call(s,{name:"index",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.content||(null!=n?n.content:n))?l:r,typeof l===o?l.call(s,{name:"content",hash:{},data:i}):l))+'</textarea>\n            </div>\n            <div class="input-box">\n                <div class="text">匹配项：</div>\n                <textarea class="input block" placeholder="输入匹配描述" id="match-'+d((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,typeof l===o?l.call(s,{name:"index",hash:{},data:i}):l))+'" value="'+d((l=null!=(l=a.match||(null!=n?n.match:n))?l:r,typeof l===o?l.call(s,{name:"match",hash:{},data:i}):l))+'"></textarea>\n            </div>\n            <div class="pull-right text-tips m-top">\n                <a class="m-right">高级编辑</a>\n                <a href="javascript:;" id="remove-'+d((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,typeof l===o?l.call(s,{name:"index",hash:{},data:i}):l))+'" data-name="index" data-value="'+d((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,typeof l===o?l.call(s,{name:"index",hash:{},data:i}):l))+'">删除</a>\n            </div>\n        </li>\n    '},8:function(e,n,a,t,i){var l;return'    <div class="row">\n        <div class="col-sm-6">\n            <label class="required">试题分数</label>\n            <input class="input" id="score" x-rule="required,number,interval:0:1:100:0,keepDecimal:1" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.score:l,n))+'" placeholder="输入0-100之间的分值，不包括100分，小数点最多保留一位"/>\n        </div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"score",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/line/view-content",function(e,n,a){a.bindings={img:!0,state:!0},a.components=[{id:"content",name:"rich-text",options:{model:"img"}}]},{}),loadjs.d("./app/train/programme/exam/question/types/edit/line/view-options",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.bindings={state:!0},a.dataForTemplate={options:function(e){return t.map(e.state.options,function(e,n){var a=e;a.index=n,a.code=String.fromCharCode(a.index+"A".charCodeAt(0))}),e.state.options}},a.actions={"click add":"addOption","click remove-*":"removeOption","change content-*":"changeContent"},a.dataForActions={changeContent:function(e){var n=e;return n.content=this.$("content-"+e.index).value,n}},a.mixin={checkAnswer:function(e){var n;for(n=0;n<e.length;n++){if(""===i(this.$("content-"+n)).val()&&""!==i(this.$("match-"+n)).val())return!1;if(""!==i(this.$("content-"+n)).val()&&""===i(this.$("match-"+n)).val())return!1}return!0},getResult:function(e){var n,a,t,l=[],s={},r=this.module.items.content,o=this.module.items.score,d=this.bindings.state.data;for(n=0;n<e.length;n++)a=i(this.$("content-"+n)).val(),t=i(this.$("match-"+n)).val(),""!==a&&""!==t&&l.push({value:t,name:a,type:7});return s.questionAttrs=l,s.content=r.components.content.html(),s.score=o.$("score").value,s.type=d.type,s.id=d.id,s}}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/line/view-score",function(e,n,a){a.bindings={state:!0}},{}),loadjs.d("./app/train/programme/exam/question/types/edit/question-answer/index",function(e,n,a){var t=e("drizzle-zxy");a.items={content:"content",score:"score"},a.store={models:{state:{data:{}},img:{url:"../system/file/upload"}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data;n&&(a.answer=n.questionAttrs[0].value,t.assign(a,n)),a.type=this.module.renderOptions.type}}},a.mixin={getValue:function(){return this.items.content.getResult()},isValidate:function(){return this.items.content.validate()&&this.items.score.validate()},clear:function(){this.renderOptions={}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<form class="vertical">\n    <div data-region="content"></div>\n    <div data-region="score"></div>\n</form>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'    <div class="choosequestion"><div class="form align-left">\n        <div class="form-row">\n            <label class="required">试题信息</label>\n            <textarea id="content" class="w-full" name="content" x-rule="required,maxLength:3000" x-marker="rich-text" x-target="content">'+(null!=(l=(a.echoX||n&&n.echoX||r).call(s,null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</textarea>\n        </div>\n"+(null!=(l=a.if.call(s,null!=n?n.showDiffculty:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'        <div class="form-row">\n            <label class="required">参考答案</label>\n            <textarea id="answer" class="w-full" name="answer" x-rule="required" x-marker="rich-text" x-target="answer" rows="5">'+(null!=(l=(a.echoX||n&&n.echoX||r).call(s,null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+"</textarea>\n        </div>\n    </div></div>\n"},4:function(e,n,a,t,i){var l;return'            <div class="form-row">\n                <label class="required">难易度</label>\n                <select id="difficulty" class="input w-full" name="difficulty" x-rule="required" x-marker="selectize" readonly>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.difficultys:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"</select>\n            </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                    <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n                "},6:function(e,n,a,t,i){return' selected="selected"'},8:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.showScore:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:""},9:function(e,n,a,t,i){var l;return'        <div class="choosequestion"><div class="form align-left"><div class="form-row col-sm-3 row-block">\n            <label class="required">试题分数</label>\n            <div class="content"><input class="w-full input" id="score" x-rule="required,number,interval:0:1:100:1,keepDecimal:1" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.score:l,n))+'" placeholder="输入0-100之间的分值，小数点最多保留一位"/></div>\n        </div>\n        </div></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"score",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/question-answer/view-content",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/maps"),l=e("jquery"),s=e("./app/ext/views/form/markers"),r=e("./app/ext/views/form/validators");a.bindings={img:!0,state:!1},a.components=[{id:"content",name:"rich-text",options:{model:"img"}}],a.mixin={getResult:function(){var e={},n=l(this.$$('[name="answer"]')).val(),a=this.module.items.score,t=this.bindings.state.data;return e.questionAttrs=[{value:n,name:n,type:5}],e.content=this.components.content.html(),e.contentText=this.components.content.text(),this.module.renderOptions.hideScore||(e.score=a.$("score").value),e.type=t.type,e.id=t.id,2===this.module.renderOptions.editMode&&(e.difficulty=this.$("difficulty").value),e},validate:function(){var e=l(this.$("content")),n=l(this.$("difficulty")),a=this.components.content.text(),t=l(this.$("answer")),i=!0;return s.text.valid(e),s.text.valid(n),""===a.trim()&&(s.text.invalid(e,r.required.message),i=!1),r.maxLength.fn(a,3e3)||(s.text.invalid(e,"最大长度为3000"),i=!1),t.val().trim()||(s.text.invalid(t,r.required.message),i=!1),""===n.val()&&(s.text.invalid(n,r.required.message),i=!1),i}},a.dataForTemplate={showDiffculty:function(){return 2===this.module.renderOptions.editMode},difficultys:function(e){var n=i.get("question-difficultys");return e.state&&t.map(n,function(n){var a=n;Number(a.key)===Number(e.state.difficulty)&&(a.selected=!0)}),n}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/maps":"./app/util/maps",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/question-answer/view-score",function(e,n,a){var t=function(e){return e.replace(/^\s+|\s+$/g,"")},i=e("jquery"),l=e("./app/ext/views/form/markers"),s=e("./app/ext/views/form/validators");a.bindings={state:!0},a.dataForTemplate={showScore:function(){return!this.module.renderOptions.hideScore}},a.mixin={interval:{fn:function(e,n,a,t,i){var l;return!e||(l=Number(e),"1"===a&&"1"===i?l>=n&&l<=t:"1"===a&&"1"!==i?l>=n&&l<t:"1"!==a&&"1"===i?l>n&&l<=t:"1"===a||"1"===i||l>n&&l<t)},length:4,message:"必须在 {0} ~ {2} 之间"},keepDecimal:{fn:function(e,n){var a;return""===t(e)||(a=e.toString().split("."),!(a.length>1)||a[1].length<=n)},length:1,message:"超出保留小数位"},validate:function(){var e=i(this.$("score")),n=!0;return l.text.valid(e),""===e.val()&&(l.text.invalid(e,s.required.message),n=!1),s.number.fn(e.val())&&this.interval.fn(e.val(),0,1,100,1)&&!this.keepDecimal.fn(e.val(),1)&&(l.text.invalid(e,this.keepDecimal.message),n=!1),s.number.fn(e.val())&&!this.interval.fn(e.val(),0,1,100,1)&&(l.text.invalid(e,"必须在 0 ~ 100 之间"),n=!1),s.number.fn(e.val())||(l.text.invalid(e,"只能填写数字，必须在 0 ~ 100 之间"),n=!1),n}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/exam/question/types/edit/reading-comprehension/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.items={content:"content",modal:"",score:"score",subs:"subs"},a.store={models:{img:{url:"../system/file/upload"},state:{data:{}},sub:{mixin:{getQuestionById:function(e){return t.find(this.data.questions,["id",e])},sumScore:function(){var e=t.map(this.data.questions,function(e){return e.score});this.module.store.models.state.data.score=t.reduce(e,function(e,n){return Number(e)+Number(n)},0)}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data,t=this.module.items.content;this.models.sub.data={questions:[]},n&&(this.models.sub.data.questions=n.subs,i.assign(a,n),t.components.content.html(n.content)),this.models.sub.changed(),this.models.state.changed()},refreshSub:function(){this.models.sub.sumScore(),this.models.state.changed(),this.models.sub.changed()}}},a.mixin={getValue:function(){var e={},n=this.items.content,a=this.items.score,t=this.store.models.state.data;return e.questionAttrs=this.store.models.sub.data.questions,e.content=n.components.content.html(),e.contentText=n.components.content.text(),e.score=a.$("score").value,e.id=t.id,e.type="6",e},isValidate:function(){return this.items.content.validate()&&this.items.score.validate()},clear:function(){this.renderOptions={}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/reading-comprehension/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="content"></div>\n    <div data-region="subs"></div>\n    <div data-region="score"></div>\n'},3:function(e,n,a,t,i){return'    <div class="choosequestion"><div class="form align-left">\n        <div class="form-row">\n            <label class="required">试题信息</label>\n            <textarea id="content" class="w-full" name="content" x-rule="required,maxLength:3000" x-marker="rich-text" x-target="content"></textarea>\n        </div>\n        <div class="form-row">\n            <div id="add-question-1" class="btn">添加单选题</div>\n            <div id="add-question-2" class="btn">添加多选题</div>\n            <div id="add-question-5" class="btn">添加问答题</div>\n        </div>\n    </div></div>\n'},5:function(e,n,a,t,i){var l;return'    <div class="addexam-page"><div class="temporarypaper2-page"><div class="temporarypaper2-content">\n        <ul class="layout-mt-small border around">\n            '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.subs:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"\n        </ul>\n    </div>\n    </div></div>\n"},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'<li class="test-box test-1">\n                <spqn class="heading pull-left m-right">('+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+')</spqn>\n                <div data-dynamic-key="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'"></div>\n                <div class="layout-mt-small clearfix"><div class="icons w-full text-right">\n                    <i class="iconfont icon-trash" id="delete-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="javascript:;"></i>\n                    <i class="iconfont icon-edit-solid custom-color-4" id="edit-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="javascript:;"></i>\n                </div></div>\n            </li>'},8:function(e,n,a,t,i){return'    <form class="vertical" style="font-size: 12px;">\n        <div data-dynamic-key="modal"></div>\n    </form>\n'},10:function(e,n,a,t,i){var l;return'    <div class="choosequestion"><div class="form align-left"><div class="form-row col-sm-4">\n        <label class="required">试题分数</label>\n        <input class="w-full input" id="score" x-rule="required,number,interval:0:1:100:1,keepDecimal:1" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.score:l,n))+'" placeholder="输入0-100之间的分值，不包括100分，小数点最多保留一位"/>\n    </div>\n    </div></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"subs",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"modal",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"score",{name:"view",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/reading-comprehension/view-content",function(e,n,a){var t=e("./app/util/maps"),i=e("jquery"),l=e("./app/ext/views/form/markers"),s=e("./app/ext/views/form/validators");a.bindings={img:!0,state:!1},a.events={"click add-question-*":"addQuestion"},a.handlers={addQuestion:function(e){var n={type:e},a=this.module.items.modal;n.title=t.get("question-types")[Number(n.type)-1].value,n.multiple=2===Number(n.type),n.editMode=2,this.app.viewport.modal(a,n)}},a.components=[{id:"content",name:"rich-text",options:{model:"img"}}],a.mixin={validate:function(){var e=i(this.$("content")),n=this.components.content.text(),a=!0;return l.text.valid(e),""===n.trim()&&(l.text.invalid(e,s.required.message),a=!1),s.maxLength.fn(n,3e3)||l.text.invalid(e,"最大长度为3000"),a}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/maps":"./app/util/maps",jquery:!1}),loadjs.d("./app/train/programme/exam/question/types/edit/reading-comprehension/view-modal",function(e,n,a){var t=e("./app/train/programme/exam/exam-question-types");a.bindings={sub:!0},a.type="dynamic",a.getEntity=function(){return this.renderOptions.data},a.getEntityModuleName=function(e,n){var a=n?n.type:this.renderOptions.type;return t.get(a,1)},a.dataForEntityModule=function(e){var n=e?e.type:this.renderOptions.type;return{data:e,multiple:2===Number(n),editMode:this.renderOptions.editMode||1}},a.buttons=[{text:"确定",fn:function(){var e=this.getEntities()[0],n=e.getValue(),a=this.bindings.sub.data,t=!1,i=0;if(!e.isValidate()||!n)return!1;for(i;i<a.questions.length;i++)a.questions[i].id===n.id&&(n.type=this.renderOptions.type||this.renderOptions.data.type,a.questions[i]=n,t=!0);return t||(n.id="q-"+(a.questions.length+1),n.type=this.renderOptions.type||this.renderOptions.data.type,a.questions.push(n)),this.module.dispatch("refreshSub")}}]},{"./app/train/programme/exam/exam-question-types":"./app/train/programme/exam/exam-question-types"}),loadjs.d("./app/train/programme/exam/question/types/edit/reading-comprehension/view-subs",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy"),l=e("./app/train/programme/exam/exam-question-types");a.type="dynamic",a.bindings={sub:!0},a.events={"click edit-*":"editSub","click delete-*":"deleteSub"},a.handlers={editSub:function(e){var n=this.bindings.sub.getQuestionById(e),a={data:n,multiple:2===Number(n.type),title:1===Number(n.type)?"单选":"多选",editMode:2};this.app.viewport.modal(this.module.items.modal,a)},deleteSub:function(e){var n=this,a=this.bindings.sub.data.questions;n.app.message.confirm("确定要删除该数据?",function(){var l=t.map(t.filter(a,function(n){return n.id!==e}),function(e,n){return i.assign(e,{id:"q-"+n})});return n.bindings.sub.data.questions=l,n.module.dispatch("refreshSub")},function(){return!1})}},a.dataForTemplate={subs:function(){var e=this.bindings.sub.data.questions;return t.map(e,function(e,n){var a=e;return a.index=n+1,a})}},a.getEntity=function(e){return this.module.store.models.sub.getQuestionById(e)},a.getEntityModuleName=function(e,n){return l.get(n.type,2)},a.dataForEntityModule=function(e){return{type:e.type,data:e,multiple:2===e.type,previewMode:1}}},{"./app/train/programme/exam/exam-question-types":"./app/train/programme/exam/exam-question-types","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/sentence-completion/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.items={content:"content",score:"score"},a.store={models:{state:{data:{},mixin:{patch:function(e,n){var a,t=new RegExp(e,"g");return""===n||!!(a=n.match(t))&&a.length}}},img:{url:"../system/file/upload"}},callbacks:{init:function(e){var n=e.data,a=this.models.state,l=a.data;n&&(l.answer=t.map(n.questionAttrs,function(e){return e.value}).join("|"),i.assign(l,n))}}},a.mixin={getValue:function(){var e=this.items.content;return!!e.checkAnswer()&&e.getResult()},isValidate:function(){return this.items.content.validate()&&this.items.score.validate()},clear:function(){this.renderOptions={}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/sentence-completion/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="content"></div>\n    <div data-region="score"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="choosequestion"><div class="form align-left">\n        <div class="form-row">\n            <label class="required">试题信息</label>\n        </div>\n        <div class="form-row">\n            <span class="error">右下角图标代表一个空(中文括号无效)</span>\n            <span>如：在中国古代，“慈”是()对()的道德义务</span>\n            <textarea id="content" class="w-full" name="content" x-rule="required,maxLength:3000" x-marker="rich-text" x-target="content">'+r(s(null!=(l=null!=n?n.state:n)?l.content:l,n))+'</textarea>\n        </div>\n        <div class="form-row">\n            <span class="error">填空题用|来隔开各个填空答案</span>\n            <span>如：父母|子女</span>\n            <textarea id="answer" class="w-full" x-rule="required" rows="3">'+r(s(null!=(l=null!=n?n.state:n)?l.answer:l,n))+"</textarea>\n        </div>\n    </div></div>\n"},5:function(e,n,a,t,i){var l;return'    <div class="choosequestion"><div class="form align-left"><div class="form-row col-sm-3 row-block">\n        <label class="required">试题分数</label>\n        <div class="content"><input class="w-full input" id="score" x-rule="required,number,interval:0:1:100:1,keepDecimal:1" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.score:l,n))+'" placeholder="输入0-100之间的分值，小数点最多保留一位"/></div>\n    </div>\n    </div></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"score",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/sentence-completion/view-content",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/markers"),l=e("./app/ext/views/form/validators");a.bindings={img:!0,state:!0},a.components=[{id:"content",name:"rich-text",options:{model:"img"}}],a.mixin={checkAnswer:function(){var e=t(this.$("answer")).val().split("|"),n=this.components.content.html(),a=this.module.store.models.state;return a.patch("\\（\\）",n)?(this.app.message.error("中文括号无效"),!1):e.length===a.patch("\\(\\)",n)||(this.app.message.error("试题中的()括号数必须与答案数一致"),!1)},getResult:function(){var e=t(this.$("answer")).val().split("|"),n={},a=e.join("|"),i=this.module.items.score;return n.questionAttrs=[{value:a,name:a,type:4}],n.content=this.components.content.html(),n.contentText=this.components.content.text(),n.score=i.$("score").value,n.id=this.bindings.state.data.id,n},validate:function(){var e=t(this.$("content")),n=this.components.content.text(),a=t(this.$("answer")),s=!0;return i.text.valid(e),i.text.valid(a),""===n.trim()&&(i.text.invalid(e,l.required.message),s=!1),l.maxLength.fn(n,3e3)||(i.text.invalid(e,"最大长度为3000"),s=!1),a.val()||(i.text.invalid(a,l.required.message),s=!1),s}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/exam/question/types/edit/sorting/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection");a.items={content:"content",options:"options",score:"score"},a.store={models:{state:{mixin:{isRichText:function(e){return/<[^>]+>/g.test(e)}}},img:{url:"../system/file/upload"}},callbacks:{init:function(e){var n,a,l,s,r,o=this.models.state.data,d=e.data,c=this.module.items.content;if(e.options)return void(o.options=e.options);if(d){if(s=i.find(d.questionAttrs,["type","0"]).value,a=i.filter(d.questionAttrs,function(e){return 0!==Number(e.type)}),!o.options)for(t.assign(o,d),o.options=[],n=0;n<a.length;n++)r=this.models.state.isRichText(a[n].value),l=String.fromCharCode(n+"A".charCodeAt(0)),o.options.push({content:a[n].value,isRichText:r,name:a[n].name,code:l,i:n}),l=String.fromCharCode(n+"A".charCodeAt(0)),s=s.replace(a[n].name,l);o.answer=s.split("|").join(""),c.components.content.html(d.content)}else for(o.options=[],n=0;n<4;n++)l=String.fromCharCode(n+"A".charCodeAt(0)),o.options.push({content:"",isRichText:!1,name:n,code:l,i:n});this.models.state.changed()},addOption:function(){this.models.state.data.options.push({content:"",isRichText:!1}),this.models.state.changed()},changeContent:function(e){this.models.state.data.options[Number(e.index)].content=e.content},removeOption:function(e){this.models.state.data.options.splice(Number(e.index),1),this.models.state.changed()}}},a.mixin={getValue:function(){var e=this.items.options,n=this.store.models.state.data.options;return e.checkAnswer(n)?e.getResult(n):(this.app.message.error("答案的字母与排序项数目不一致"),!1)},isValidate:function(){return this.items.content.validate()&&this.items.score.validate()},clear:function(){this.renderOptions={}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/sorting/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({
1:function(e,n,a,t,i){return'<form class="vertical" style="font-size: 12px;">\n    <div data-region="content"></div>\n    <div data-region="options"></div>\n    <div data-region="score"></div>\n</form>'},3:function(e,n,a,t,i){return'    <div class="choosequestion">\n        <div class="form align-left">\n            <div class="form-row">\n                <label class="required">试题信息</label>\n                <textarea id="content" class="w-full" name="content" x-rule="required,maxLength:3000" x-marker="rich-text" x-target="content"></textarea>\n            </div>\n        </div>\n    </div>\n'},5:function(e,n,a,t,i){var l;return'    <div class="choosequestion-page"><div class="choosequestion"><div class="layout-mt-small">\n        <label>选项</label>\n        <a id="add" class="m-left" href="javascript:;">添加选项</a>\n        <ul class="layout-mt-small">\n            '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.options:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"\n        </ul>\n    </div>\n    </div></div>\n"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'<li class="choosequestion-item w-half inline-block" id="item-'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <div class="relative">\n                    <div class="text"><span class="strong">选项'+c((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,typeof s===d?s.call(r,{name:"code",hash:{},data:i}):s))+":</span></div>\n"+(null!=(l=a.if.call(r,null!=n?n.isRichText:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'                </div>\n                <div class="set-row clearfix">\n                    <div class="pull-right text-tips m-top">\n                        <span data-dynamic-key="'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'"></span>\n                        <a href="javascript:;" id="remove-'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'" data-name="index" data-value="'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'">删除</a>\n                    </div>\n                </div>\n            </li>'},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                        <div class="input block choise-content" style="padding-left: 5em;">\n                            '+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+'\n                            <input type="hidden" id="content-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.cotent||(null!=n?n.cotent:n))?s:o,"function"==typeof s?s.call(r,{name:"cotent",hash:{},data:i}):s))+'"/>\n                        </div>\n'},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <textarea class="input bock" placeholder="输入描述" id="content-'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'" data-name="index" data-value="'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.content||(null!=n?n.content:n))?l:r,"function"==typeof l?l.call(s,{name:"content",hash:{},data:i}):l))+"</textarea>\n"},11:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="choosequestion">\n        <div class="form align-left">\n            <div class="form-row w-half">\n                <span>在此位置选择题目序号,请输入ABCD 答案</span>\n                <input class="input m-top" id="answer" value="'+r(s(null!=(l=null!=n?n.state:n)?l.answer:l,n))+'"/>\n            </div>\n            <div class="form-row w-half">\n                <div id="error"></div>\n            </div>\n            <div class="hr"></div>\n            <div class="form-row col-sm-3 row-block">\n                <label class="required">试题分数</label>\n                <div class="content"><input class="w-full input" id="score" x-rule="required,number,interval:0:1:100:1,keepDecimal:1" value="'+r(s(null!=(l=null!=n?n.state:n)?l.score:l,n))+'" placeholder="输入0-100之间的分值，小数点最多保留一位"/></div>\n            </div>\n        </div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"score",{name:"view",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/sorting/view-content",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/markers"),l=e("./app/ext/views/form/validators");a.bindings={img:!0},a.components=[{id:"content",name:"rich-text",options:{model:"img"}}],a.mixin={validate:function(){var e=t(this.$("content")),n=this.components.content.text(),a=!0;return i.text.valid(e),""===n.trim()&&(i.text.invalid(e,l.required.message),a=!1),l.maxLength.fn(n,3e3)||i.text.invalid(e,"最大长度为3000"),a}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/exam/question/types/edit/sorting/view-options",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.bindings={state:!0},a.type="dynamic",a.dataForTemplate={options:function(e){return t.map(e.state.options,function(e,n){var a=e;a.index=n,a.code=String.fromCharCode(a.index+"A".charCodeAt(0))}),e.state.options}},a.actions={"click add":"addOption","click remove-*":"removeOption","change content-*":"changeContent"},a.dataForActions={changeContent:function(e){var n=e;return n.content=this.$("content-"+e.index).value,this.checkEmptyOption(),n}},a.mixin={checkAnswer:function(e){var n=this,a=this.module.items.score,l=0,s=a.$("answer").value.toLocaleUpperCase();return this.checkEmptyOption()?(this.app.message.error("存在空选项"),!1):(t.forEach(e,function(e,a){""!==i(n.$("content-"+a)).val()&&l++}),l===s.length)},getResult:function(e){var n,a,t,l=[],s=this.module.items.content,r=this.module.items.score,o=r.$("answer").value.toLocaleUpperCase(),d=o,c={};for(n=0;n<e.length;n++)""!==(a=i(this.$("content-"+n)).val())&&l.push({value:a,name:n,type:8});for(n=0;n<o.length;n++)t=o.charAt(n),d=d.replace(t,e[t.charCodeAt(0)-"A".charCodeAt(0)].name+"|");return l.push({value:d,name:0,type:0}),c.questionAttrs=l,c.content=s.components.content.html(),c.contentText=s.components.content.text(),c.score=r.$("score").value,c.id=this.bindings.state.data.id,c},changeOptionContent:function(e,n){var a=this.bindings.state.data.options,t=this.getResult(a),i=this.bindings.state.isRichText(n);return a[e].content=n,a[e].isRichText=i,this.module.dispatch("init",{data:t})},checkEmptyOption:function(){var e,n=this.bindings.state.data.options,a=0,t=!1;if(n)for(a;a<n.length;a++)e=this.$("content-"+a),""===e.value?(t=!0,i(e).parent().addClass("input error")):i(e).parent().removeClass("input error");return t}},a.getEntity=function(e){return e},a.getEntityModuleName=function(){return"train/programme/exam/question/senior-editor"},a.dataForEntityModule=function(e){var n=this,a=n.bindings.state;return{data:{id:e,value:a.data.options[e].content},callback:function(e,a){n.changeOptionContent(e,a)},getValue:function(){return i(n.$("content-"+e)).val()}}}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/edit/sorting/view-score",function(e,n,a){var t,i,l,s=e("jquery"),r=e("lodash/collection"),o=e("./app/ext/views/form/markers"),d=e("./app/ext/views/form/validators"),c=function(e){return e.replace(/^\s+|\s+$/g,"")};a.bindings={state:!0},a.events={"change answer":"changeAnswer","keypress answer":"keypressAnswer"},a.handlers={changeAnswer:function(){var e=this.$("answer").value.toLocaleUpperCase(),n=e;return i.call(this),!!l.call(this,n)},keypressAnswer:function(e){var n=e.keyCode||e.charCode||e.which,a=String.fromCharCode(n).toLocaleUpperCase(),l=this.$("answer").value;return n>=65&&n<=122&&r.find(this.bindings.state.data.options,["code",a])?l.length>0&&function(e,n){return!e||!r.every(e,function(e){return e!==n})}(l.toLocaleUpperCase(),a)?(t.call(this,"出现重复字母"),e.preventDefault(),!1):(i(),!0):(t.call(this,"输入字母超出范围"),e.preventDefault(),!1)}},t=function(e){s(this.$("error")).html('<span class="error-text">'+e+"</span>"),s(this.$("answer")).addClass("error")},i=function(){s(this.$("error")).html(""),s(this.$("answer")).removeClass("error")},l=function(e){return!/.*[\u4e00-\u9fa5]+.*$/.test(e)||(t.call(this,"非法输入"),this.$("answer").value="",!1)},a.mixin={interval:{fn:function(e,n,a,t,i){var l;return!e||(l=Number(e),"1"===a&&"1"===i?l>=n&&l<=t:"1"===a&&"1"!==i?l>=n&&l<t:"1"!==a&&"1"===i?l>n&&l<=t:"1"===a||"1"===i||l>n&&l<t)},length:4,message:"必须在 {0} ~ {2} 之间"},keepDecimal:{fn:function(e,n){var a;return""===c(e)||(a=e.toString().split("."),!(a.length>1)||a[1].length<=n)},length:1,message:"超出保留小数位"},validate:function(){var e=s(this.$("score")),n=!0;return o.text.valid(e),""===e.val()&&(o.text.invalid(e,d.required.message),n=!1),d.number.fn(e.val())&&this.interval.fn(e.val(),0,1,100,1)&&!this.keepDecimal.fn(e.val(),1)&&(o.text.invalid(e,this.keepDecimal.message),n=!1),d.number.fn(e.val())&&!this.interval.fn(e.val(),0,1,100,1)&&(o.text.invalid(e,"必须在 0 ~ 100 之间"),n=!1),d.number.fn(e.val())||(o.text.invalid(e,"只能填写数字，必须在 0 ~ 100 之间"),n=!1),n}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/mark/question-answer/index",function(e,n,a){var t=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{},goal:{mixin:{init:function(e){this.data=e||{key:"",value:""}}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data;t.assign(a,n,{answer:n.questionAttrs[0].value}),a.answer=n.questionAttrs[0].value,this.models.goal.init(e.goal)},save:function(){var e=this.module.renderOptions.callback,n=this.models.goal.data;e&&e.save&&e.save(n)},error:function(e){var n=this.module.renderOptions.callback;n&&n.check&&n.check(e)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.mixin={check:function(){return this.items.options.check()}}},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/question/types/mark/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <p class="question">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</p>\n    答："+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.answerRecord:l)?l.answer:l,n))+"\n"},5:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <form class="vertical">\n        <div class="answer">\n            <div class="row">\n                <div class="col-sm-6">\n                    <p class="question">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},"标准答案：",null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+'</p>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-sm-3"><div class="inline-block m-right"><div class="input-box">\n                    <div class="text">评分:</div>\n                    <input id="goal" class="input-left60 input" value="'+r(s(null!=(l=null!=n?n.goal:n)?l.value:l,n))+'"/>\n                </div>\n                </div></div>\n                <div class="col-sm-3">\n                    <label>分 (本试题'+r(s(null!=(l=null!=n?n.state:n)?l.score:l,n))+'分)</label>\n                </div>\n                <div class="col-sm-3">\n                    <span class="error-text" id="error"></span>\n                </div>\n            </div>\n        </div>\n    </form>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/mark/question-answer/view-options",function(e,n,a){var t=e("./app/ext/views/form/validators"),i=e("./app/ext/views/form/markers"),l=e("jquery");a.bindings={state:!0,goal:!0},a.events={"change goal":"changeGoal"},a.handlers={changeGoal:function(){var e,n=this.$("goal"),a=this.bindings.state.data;return i.text.valid(l(n)),l(this.$("error")).html(""),e=this.check(),e.check||(i.text.invalid(l(n)),l(this.$("error")).html(e.error)),this.bindings.goal.data={key:this.bindings.state.data.id,value:n.value,type:this.bindings.state.data.type,isRight:Number(n.value)===a.score?1:0},this.chain(this.module.dispatch("error",e),this.module.dispatch("save"))}},a.mixin={check:function(){var e=this.bindings.state.data,n=this.$("goal").value,a=!0,i=[];return t.required.fn(n)||(i.push(t.required.message),a=!1),t.number.fn(n)||(i.push(t.number.message),a=!1,a=!1),t.keepDecimal.fn(n,1)||(i.push(t.keepDecimal.message),a=!1),t.range.fn(n,0,e.score)||(i.push("超出分数范围"),a=!1),{check:a,error:i.join(","),id:e.id,content:e.content}}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/exam/question/types/mark/reading-comprehension/index",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection"),l=e("drizzle-zxy");a.items={content:"content",subs:"subs"},a.store={models:{state:{},sub:{data:{},mixin:{getQuestionById:function(e){return i.find(this.data.questions,["id",e])}}},goal:{data:{},mixin:{init:function(e){this.data=e||{key:this.store.models.state.data.id,type:6,value:[]}},save:function(e){var n,a=this.data.value;n=i.reject(a,["key",e.key]),n.push(e),this.data.value=n},getGoal:function(e){var n=this.data.value;return i.find(n,["key",e])}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data,s=t.get("question-types"),r=t.get("question-difficultys");this.models.sub.clear(),l.assign(a,n),a.type=s[Number(n.type)-1].value,a.difficulty=r[Number(n.difficulty)-1].value,this.models.sub.data.questions=i.filter(n.subs,["type",5]),this.models.goal.init(e.goal)},save:function(){var e=this.models.goal.data,n=this.module.renderOptions.callback;n&&n.save&&n.save(e)},error:function(e){var n=this.module.renderOptions.callback;n&&n.check&&n.check(e)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/mark/reading-comprehension/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="subs"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <p class="question">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</p>\n"},5:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.subs:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:""},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"        ("+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+')\n        <div data-dynamic-key="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"subs",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/mark/reading-comprehension/view-subs",function(e,n,a){var t=e("lodash/collection"),i=e("./app/train/programme/exam/exam-question-types"),l=e("drizzle-zxy");a.type="dynamic",a.bindings={sub:!0,goal:!0},a.dataForTemplate={subs:function(){var e=this.bindings.sub.data.questions;return t.map(e,function(e,n){var a=e;return a.index=n+1,a})}},a.getEntity=function(e){var n=this.module.store.models.sub.getQuestionById(e);return l.assign(n,{questionAttrs:n.questionAttrCopys}),n},a.getEntityModuleName=function(e,n){return i.get(n.type,4)},a.dataForEntityModule=function(e){var n=this;return{type:e.type,data:e,multiple:2===e.type,callback:{save:function(e){return n.bindings.goal.save(e),n.module.dispatch("save")},check:function(e){return n.module.dispatch("error",e)}},goal:this.bindings.goal.getGoal(e.id)}}},{"./app/train/programme/exam/exam-question-types":"./app/train/programme/exam/exam-question-types","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/mark/sentence-completion/index",function(e,n,a){var t=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{},goal:{mixin:{init:function(e){this.data=e||{key:"",value:""}}}}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data;t.assign(a,n,{answer:n.questionAttrs[0].value}),this.models.goal.init(e.goal),this.models.state.changed()},save:function(){var e=this.module.renderOptions.callback,n=this.models.goal.data;e&&e.save&&e.save(n)},error:function(e){var n=this.module.renderOptions.callback;n&&n.check&&n.check(e)}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)},a.mixin={check:function(){return this.items.options.check()}}},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/question/types/mark/sentence-completion/view-options",function(e,n,a){var t=e("./app/ext/views/form/validators"),i=e("./app/ext/views/form/markers"),l=e("jquery");a.bindings={state:!0,goal:!0},a.events={"change goal":"changeGoal"},a.handlers={changeGoal:function(){var e,n=this.$("goal"),a=this.bindings.state.data;return i.text.valid(l(n)),l(this.$("error")).html(""),e=this.check(),e.check||(i.text.invalid(l(n)),this.app.message.error(e.error),l(this.$("error")).html(e.error)),this.bindings.goal.data={key:this.bindings.state.data.id,value:n.value,type:this.bindings.state.data.type,isRight:Number(n.value)===a.score?1:0},this.chain(this.module.dispatch("error",e),this.module.dispatch("save"))}},a.mixin={check:function(){var e=this.bindings.state.data,n=this.$("goal").value,a=!0,i=[];return t.required.fn(n)||(i.push(t.required.message),a=!1),t.number.fn(n)||(i.push(t.number.message),a=!1,a=!1),t.keepDecimal.fn(n,1)||(i.push(t.keepDecimal.message),a=!1),t.range.fn(n,0,e.score)||(i.push("超出分数范围"),a=!1),{check:a,error:i.join(","),id:e.id,content:e.content}}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/exam/question/types/preview/choise/index",function(e,n,a){var t=e("./app/util/maps");a.items={content:"content",options:"options"},a.store={models:{state:{}},callbacks:{init:function(e){var n,a,i=this.models.state.data={options:[],title:"单选题",answer:""},l=e.data,s=t.get("question-difficultys"),r=t.get("question-types");if(l){for(a=l.questionAttrs,n=0;n<a.length;n++)i.options.push({content:a[n].value,isAnswer:0===Number(a[n].type),isRichText:!1}),0===Number(a[n].type)&&(i.answer+=String.fromCharCode(n+"A".charCodeAt(0)));i.score=l.score,i.content=l.content,l.difficulty&&(i.difficulty=s[Number(l.difficulty)-1].value),i.type=r[Number(l.type)-1].value,2===Number(l.type)&&(i.title="多选题")}this.models.state.changed()}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps"}),loadjs.d("./app/train/programme/exam/question/types/preview/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="content"></div>\n    <div data-region="options"></div>\n'},3:function(e,n,a,t,i){var l;return'    <div class="h4">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.title:l,n))+'</div>\n    \x3c!--  .col-xs-6 > .m-top.text-right --\x3e\n    \x3c!--      | 本题分数： --\x3e\n    \x3c!--      echo(state.score) --\x3e\n    <div class="h4 m-top">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'    <div class="answer">\n        <ul>'+(null!=(l=a.each.call(s,null!=n?n.options:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'</ul>\n        <span class="text-tips m-top">标准答案:</span>\n        <span>'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(s,null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+'</span>\n    </div>\n    <div class="clearfix">  \n        <div class="pull-right">\n            <span class="m-right">题型:\n                '+o(r(null!=(l=null!=n?n.state:n)?l.type:l,n))+"\n            </span>\n            <span>难度：\n                "+o(r(null!=(l=null!=n?n.state:n)?l.difficulty:l,n))+'\n            </span>\n        </div>\n    </div>\n    <div class="m-top border top dashed m-bottom"></div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n            <li id="item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <label class="answer-item" for="answer-item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.code:n,{name:"echoX",hash:{},data:i}))?l:"")+'</label>\n                <span class="sub-text inline-block">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"</span>\n            </li>\n        "},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/preview/choise/view-options",function(e,n,a){var t=e("lodash/collection");a.bindings={state:!0},a.dataForTemplate={options:function(e){return t.map(e.state.options,function(e,n){var a=e;a.index=n,a.code=String.fromCharCode(a.index+"A".charCodeAt(0))}),e.state.options},showScore:function(){return 1===this.module.renderOptions.previewMode}}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/preview/judgement/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.items={content:"content",options:"options"},a.store={models:{state:{}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data={content:"",answer:"",score:0,type:2,difficulty:""},l=t.get("judgement"),s=t.get("question-types"),r=t.get("question-difficultys");i.assign(a,n),a.answer=l[Number(n.questionAttrs[0].value)].value,a.type=s[Number(n.type)-1].value,a.difficulty=r[Number(n.difficulty)-1].value,a.correct="1"===a.questionAttrs[0].value,a.error="0"===a.questionAttrs[0].value,this.models.state.changed()}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/question/types/preview/judgement/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="content"></div>\n    <div data-region="options"></div>\n'},3:function(e,n,a,t,i){var l;return'    <div class="h4">判断题\n        \x3c!--  .col-xs-6 > .m-top.text-right --\x3e\n        \x3c!--      | 本题分数： --\x3e\n        \x3c!--      echo(state.score) --\x3e\n    </div>\n    <div class="h4 m-top">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'    <div class="m-top">\n        <input class="inline-block" '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.correct:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="judge" value="1"/>\n        <div class="inline-block">正确</div>\n        <input class="inline-block m-left" '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.error:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="judge" value="0"/>\n        <div class="inline-block">错误</div>\n    </div>\n    <div class="inline-block m-top">\n        <span class="text-tips">标准答案:</span>\n        <span>'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(s,null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+'</span>\n    </div>\n    <div class="clearfix">           \n        <div class="pull-right m-bottom">\n            <div class="inline-block m-left">\n                <span class="text-tips">题型:</span>\n                <span>'+o(r(null!=(l=null!=n?n.state:n)?l.type:l,n))+"</span>\n            </div>\n"+(null!=(l=a.if.call(s,null!=n?n.showScore:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'            <div class="inline-block m-left">\n                <span class="text-tips">难度:</span>\n                <span>'+o(r(null!=(l=null!=n?n.state:n)?l.difficulty:l,n))+"</span>\n            </div>\n        </div>\n    </div>\n"},6:function(e,n,a,t,i){return' checked="checked"'},8:function(e,n,a,t,i){var l;return'                <div class="inline-block m-left">\n                    <span class="text-tips">分数:</span>\n                    <span>'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.score:l,n))+"</span>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/preview/judgement/view-options",function(e,n,a){var t=e("lodash/collection");a.bindings={state:!0},a.dataForTemplate={options:function(e){return t.map(e.state.options,function(e,n){var a=e;a.index=n,a.code=String.fromCharCode(a.index+"A".charCodeAt(0))}),e.state.options},showScore:function(){return 1===this.module.renderOptions.previewMode}}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/preview/question-answer/index",function(e,n,a){var t=e("./app/util/maps");a.items={content:"content",options:"options"},a.store={models:{state:{}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data,i=t.get("question-types"),l=t.get("question-difficultys");a.content=n.content,a.answer=n.questionAttrs[0].value,a.score=n.score,a.type=i[Number(n.type)-1].value,n.difficulty&&(a.difficulty=l[Number(n.difficulty)-1].value),this.models.state.changed()}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps"}),loadjs.d("./app/train/programme/exam/question/types/preview/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="content"></div>\n    <div data-region="options"></div>\n'},3:function(e,n,a,t,i){var l;return'    <div class="h4">问答题\n        \x3c!--  .col-xs-6 > .m-top.text-right --\x3e\n        \x3c!--      | 本题分数： --\x3e\n        \x3c!--      echo(state.score) --\x3e\n    </div>\n    <div class="h4 m-top">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'<div class="answer">\n    <ul>'+(null!=(l=a.each.call(s,null!=n?n.options:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'</ul>\n    <div class="inline-block m-top">\n        <span class="text-tips">标准答案:</span>\n        <span>'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(s,null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+'</span>\n    </div>\n    <div class="clearfix">     \n        <div class="pull-right m-bottom">\n            <div class="inline-block m-left">\n                <span class="text-tips">题型:</span>\n                <span>'+o(r(null!=(l=null!=n?n.state:n)?l.type:l,n))+"</span>\n            </div>\n"+(null!=(l=a.if.call(s,null!=n?n.showScore:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'            <div class="inline-block m-left">\n                <span class="text-tips">难度:</span>\n                <span>'+o(r(null!=(l=null!=n?n.state:n)?l.difficulty:l,n))+"</span>\n            </div>\n        </div>\n    </div>\n</div>"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing;return'\n        <li id="item-'+e.escapeExpression((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n            <div class="inline-block"><label class="no-margin" for="answer-item-1">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{
name:"echoX",hash:{},data:i}))?l:"")+"</label></div>\n        </li>\n    "},8:function(e,n,a,t,i){var l;return'                <div class="inline-block m-left">\n                    <span class="text-tips">分数:</span>\n                    <span>'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.score:l,n))+"</span>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/preview/reading-comprehension/index",function(e,n,a){var t,i=e("./app/util/maps"),l=e("drizzle-zxy"),s=e("lodash/collection");a.items={content:"content",score:"score",subs:"subs"},a.store={models:{state:{},sub:{data:{},mixin:{getQuestionById:function(e){return s.find(this.data.questions,["id",e])},changeScore:function(e){s.map(this.data.questions,function(n){n.id===e.id&&l.assign(n,{score:e.score})})},countSummary:function(){return s.reduce(s.map(this.data.questions,"score"),function(e,n){return Number(e)+Number(n)})}}},readingQuestion:{url:"../exam/question"}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data,t=i.get("question-types"),r=i.get("question-difficultys"),o=this.models.state,d=this;if(this.models.sub.clear(),n.subs.length>0)l.assign(o.data,n),a.type=t[Number(n.type)-1].value,a.difficulty=r[Number(n.difficulty)-1].value,this.models.sub.data.questions=s.orderBy(n.subs,["createTime","type"],["asc","asc"]);else if(n&&0===n.subs.length&&n.id)return l.assign(this.models.readingQuestion.data,{id:n.id}),this.get(this.models.readingQuestion).then(function(){var e=d.models.readingQuestion.data,n=s.map(e.subs,function(e){return l.assign({},e)});l.assign(o.data,e,{score:parseFloat((e.score/100).toFixed(1))}),a.type=t[Number(e.type)-1].value,a.difficulty=r[Number(e.difficulty)-1].value,d.models.sub.data.questions=s.orderBy(s.map(n,function(e){return l.assign(e,{score:parseFloat((e.score/100).toFixed(1))})}),["createTime","type"],["asc","asc"]),d.models.sub.changed(),d.module.renderOptions.setReading&&d.module.renderOptions.setReading(e)});return""},changeScore:function(e){var n=this.module.renderOptions.callback,a=this.module.renderOptions.data,i=this.models.sub;this.models.sub.changeScore(e),l.assign(a,{score:i.countSummary(),subs:this.models.sub.data.questions,questionAttrs:this.models.sub.data.questions}),n&&n(t(a))}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},t=function(e){var n=l.assign({},e),a=s.map(n.subs,function(e){var n=e;return l.assign(n,{score:(100*n.score).toFixed(0)})});return l.assign(n,{score:(100*n.score).toFixed(0),subs:a,questionAttrs:a})}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/preview/reading-comprehension/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="content"></div>\n    <div data-region="subs"></div>\n    <div data-region="score"></div>\n'},3:function(e,n,a,t,i){var l;return'    <div class="h4">阅读理解\n        \x3c!--  .col-xs-6 > .m-top.text-right --\x3e\n        \x3c!--      | 本题分数： --\x3e\n        \x3c!--      echo(state.score) --\x3e\n    </div>\n    <div class="h4 m-top">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n"},5:function(e,n,a,t,i){var l;return'    <div class="answer">\n        <ul>\n            '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.subs:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"\n        </ul>\n    </div>\n"},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'<li>\n                <spqn class="pull-left m-right">('+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+')</spqn>\n                <div data-dynamic-key="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'"></div>\n            </li>'},8:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="clearfix">\n        <div class="pull-right m-bottom">\n            <div class="inline-block">\n                <span class="text-tips">题型:</span>\n                <span>'+r(s(null!=(l=null!=n?n.state:n)?l.type:l,n))+"</span>\n            </div>\n"+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.showScore:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+'            <div class="inline-block m-left">\n                <span class="text-tips">难度:</span>\n                <span>'+r(s(null!=(l=null!=n?n.state:n)?l.difficulty:l,n))+"</span>\n            </div>\n        </div>\n    </div>\n"},9:function(e,n,a,t,i){var l;return'                <div class="inline-block m-left">\n                    <span class="text-tips">分数:</span>\n                    <span>'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.score:l,n))+"</span>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"subs",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"score",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/preview/reading-comprehension/view-score",function(e,n,a){a.bindings={state:!0},a.dataForTemplate={showScore:function(){return 1===this.module.renderOptions.previewMode}}},{}),loadjs.d("./app/train/programme/exam/question/types/preview/reading-comprehension/view-subs",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy"),l=e("./app/train/programme/exam/exam-question-types");a.type="dynamic",a.bindings={sub:!0},a.dataForTemplate={subs:function(){var e=this.bindings.sub.data.questions;return t.map(e,function(e,n){var a=e;return a.index=n+1,a})}},a.getEntity=function(e){var n=this.module.store.models.sub.getQuestionById(e);return i.assign(n,{questionAttrs:t.orderBy(n.questionAttrs,["name"],["asc"])})},a.getEntityModuleName=function(e,n){return l.get(n.type,2)},a.dataForEntityModule=function(e){var n=this;return{type:e.type,data:e,multiple:2===e.type,callback:function(e){return n.module.dispatch("changeScore",e)},previewMode:this.module.renderOptions.previewMode}}},{"./app/train/programme/exam/exam-question-types":"./app/train/programme/exam/exam-question-types","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/preview/sentence-completion/index",function(e,n,a){var t=e("./app/util/maps");a.items={content:"content",options:"options"},a.store={models:{state:{}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data,i=t.get("question-types"),l=t.get("question-difficultys");a.content=n.content,a.score=n.score,a.answer=n.questionAttrs[0].value,a.type=i[Number(n.type)-1].value,a.difficulty=l[Number(n.difficulty)-1].value,this.models.state.changed()}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps"}),loadjs.d("./app/train/programme/exam/question/types/preview/sentence-completion/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise">\n    <div data-region="content"></div>\n    <div class="options" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <div class="h4">填空题\n        \x3c!--  .col-xs-6 > .m-top.text-right --\x3e\n        \x3c!--      | 本题分数： --\x3e\n        \x3c!--      echo(state.score) --\x3e\n    </div>\n    <div class="h4 m-top">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.lambda,d=e.escapeExpression;return'    <div class="m-top">'+(null!=(l=(a.echoX||n&&n.echoX||r).call(s,null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+'</div>\n    <div class="inline-block m-top">\n        <span class="text-tips">标准答案:</span>\n        <span>'+(null!=(l=(a.echoX||n&&n.echoX||r).call(s,null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+'</span>\n    </div>\n    <div class="clearfix">\n        <div class="pull-right m-bottom">\n            <div class="inline-block m-left">\n                <span class="text-tips">题型:</span>\n                <span>'+d(o(null!=(l=null!=n?n.state:n)?l.type:l,n))+"</span>\n            </div>\n"+(null!=(l=a.if.call(s,null!=n?n.showScore:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'            <div class="inline-block m-left">\n                <span class="text-tips">难度:</span>\n                <span>'+d(o(null!=(l=null!=n?n.state:n)?l.difficulty:l,n))+"</span>\n            </div>\n        </div>\n    </div>\n"},6:function(e,n,a,t,i){var l;return'                <div class="inline-block m-left">\n                    <span class="text-tips">分数:</span>\n                    <span>'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.score:l,n))+"</span>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/types/preview/sorting/index",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection");a.items={content:"content",options:"options"},a.store={models:{state:{data:{}}},callbacks:{init:function(e){var n,a=e.data,l=this.models.state.data={content:"",score:0,type:8,difficulty:"",options:[]},s=t.get("question-types"),r=t.get("question-difficultys"),o=a.questionAttrs,d=0,c="";for(l.content=a.content,l.score=a.score,l.type=i.find(s,["key",a.type.toString()]).value,l.difficulty=r[Number(a.difficulty)-1].value,l.options=[],c=i.find(i.map(o,function(e){var n=e;return n.type=Number(n.type),n}),["type",0]).value,o=i.filter(o,function(e){return 0!==Number(e.type)}),d;d<o.length;d++)n=String.fromCharCode(d+"A".charCodeAt(0)),l.options.push({content:o[d].value,code:n,i:d}),c=c.replace(o[d].name+"|",String.fromCharCode(Number(o[d].name)+"A".charCodeAt(0)));l.answer=c.split("|").join(""),this.models.state.changed()}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/types/preview/sorting/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="content"></div>\n    <div data-region="options"></div>\n'},3:function(e,n,a,t,i){var l;return'    <div class="h4">排序\n        \x3c!--  .col-xs-6 > .m-top.text-right --\x3e\n        \x3c!--      | 本题分数： --\x3e\n        \x3c!--      echo(state.score) --\x3e\n    </div>\n    <div class="h4 m-top">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'    <div class="answer">\n        <ul>'+(null!=(l=a.each.call(s,null!=n?n.options:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'</ul>\n        <span class="text-tip m-top">标准答案:</span>\n        <span>'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(s,null!=(l=null!=n?n.state:n)?l.answer:l,{name:"echoX",hash:{},data:i}))?l:"")+'</span>\n    </div>\n    <div class="clearfix"><div class="pull-right">\n        <span class="m-right">题型:\n            '+o(r(null!=(l=null!=n?n.state:n)?l.type:l,n))+"\n        </span>\n"+(null!=(l=a.if.call(s,null!=n?n.showScore:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"        <span>难度：\n            "+o(r(null!=(l=null!=n?n.state:n)?l.difficulty:l,n))+'\n        </span>\n    </div></div>\n    <div class="m-top border top dashed m-bottom"></div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n            <li id="item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <label class="answer-item" for="answer-item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.code:n,{name:"echoX",hash:{},data:i}))?l:"")+'</label>\n                <span class="sub-text">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"</span>\n            </li>\n        "},8:function(e,n,a,t,i){var l;return'            <span class="m-right">分数:\n                '+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.score:l,n))+"\n            </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/question/view-content",function(e,n,a){var t=e("lodash/collection");a.bindings={questions:!0,state:!0,question:!0,recovery:!1,exportQuestion:!1},a.events={"click add-question":"addQuestion","click preview-question-*":"previewQuestion","click edit-question-*":"editQuestion","click import":"import","click recovery-*":"showRecovery","click question-*":"previewQuestion"},a.handlers={addQuestion:function(){var e=this.module.items["train/programme/exam/question/add-question"],n=this;e.renderOptions=null,this.app.viewport.popup(e,{params:{organizationId:n.bindings.state.data.rootId},titleType:"add"})},editQuestion:function(e){var n=this.module.items["train/programme/exam/question/add-question"],a=this.bindings.question.getQuestionById({id:e});this.app.viewport.popup(n,{question:a,titleType:"edit"})},previewQuestion:function(e){var n=this;return this.bindings.state.data.id=e,this.module.dispatch("reloadState").then(function(){n.app.viewport.popup(n.module.items.preview)})},import:function(){this.app.viewport.popup(this.module.items["train/programme/exam/question/import-data"])},showRecovery:function(e){var n=this.bindings.question.getQuestionById({id:e});this.bindings.recovery.data=n.questionRecoverys,this.app.viewport.modal(this.module.items.recovery)}},a.actions={"click delete-question-*":"deleteQuestion","click publish-question-*":"updateStatus","click undo-question-*":"updateStatus"},a.dataForActions={deleteQuestion:function(e){var n=this;return this.Promise.create(function(a){n.app.message.confirm("试题删除后无法恢复，是否确定删除该试题",function(){a(e)},function(){a(!1)})})},updateStatus:function(e){var n=this.bindings.question,a=n.getQuestionById(e),t=this;return this.Promise.create(function(n){var i=1===a.status?"试题撤销后将无法引用，是否确定撤销试题":"是否确定发布试题";t.app.message.confirm(i,function(){n({id:e.id,status:1===a.status?0:1})},function(){n(!1)})})}},a.searchChange=function(){this.module.dispatch("refreshList",this.bindings.search.data)},a.dataForTemplate={questions:function(e){var n=this.bindings.questions.getPageInfo().page;return t.map(e.questions||[],function(e,a){var t=e;t.i=a+1+10*(n-1),t.isPublish=1===t.status,t.errorRate>0?t.errorRate=t.errorRate/1e4+"%":t.errorRate="-",t.recoveryCount&&0!==t.recoveryCount||(t.recoveryCount="-")}),e.questions},exportQuestionUrl:function(){var e=this.bindings.exportQuestion,n=e.getFullUrl()+"?",a=this.app.global.OAuth.token.access_token,i={};return i.exportType=2,t.map(i,function(e,a){n+=a+"="+e+"&"}),n+="access_token="+a}},a.components=[{id:"pager",name:"pager",options:{model:"questions"}}]},{"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/view-filter",function(e,n,a){var t,i=e("lodash/collection"),l=e("./app/util/maps");a.title="查找试题",a.buttons=[{text:"确定",action:"refreshList"}],a.events={"click search":"showModal"},a.handlers={showModal:function(){this.app.viewport.modal(this.module.items.modal)}},a.dataForActions={refreshList:function(e){var n={},a=this;return i.map(e,function(e,i){n[i]="999"!==e?e:null,"questionDepotId"===i&&""!==e&&(n[i]=t.call(a,e,i).id)}),n},doSearch:function(e){var n=this;return i.map(e,function(e,a){return"type"===a?"999"!==e?{text:l["question-types"][e],id:e,type:a}:{}:"difficulty"===a?"999"!==e?{text:l["question-difficultys"][e],id:e,type:a}:{}:"status"===a?"999"!==e?{text:l["publish-status"][e],id:e,type:a}:{}:"subjective"===a?"999"!==e?{text:l["question-is-subjective"][e],id:e,type:a}:{}:"questionDepotId"===a&&""!==e?t.call(n,e,a):{type:a,id:e,text:e}})}},a.components=[{id:"type",name:"selectize"},{id:"difficulty",name:"selectize"},{id:"status",name:"selectize"},{id:"subjective",name:"selectize"},{id:"start-time",name:"pickadate"},{id:"end-time",name:"pickadate"},function(){return{id:"questionDepot",name:"picker",options:{module:"train/programme/exam/question-depot",picker:"question-depot",required:!1,inputName:"questionDepotId",params:{operatorType:this.app.global.EDIT},data:{}}}}],a.dataForTemplate={type:function(){var e=l.get("question-types");return e.unshift({key:"999",value:"全部"}),e},difficultys:function(){var e=l.get("question-difficultys");return e.unshift({key:"999",value:"全部"}),e},status:function(){var e=l.get("publish-status");return e.unshift({key:"999",value:"全部"}),e},subjective:function(){var e=l.get("question-is-subjective");return e.unshift({key:"999",value:"全部"}),e}},t=function(e,n){var a=this.components.questionDepot.store.models.list.data;return{text:i.find(a,["id",e]).name,id:e,type:n}}},{"./app/util/maps":"./app/util/maps","lodash/collection":!1}),loadjs.d("./app/train/programme/exam/question/view-preview",function(e,n,a){var t=e("./app/train/programme/exam/exam-question-types"),i=e("drizzle-zxy");a.title="试题预览",a.type="dynamic",a.bindings={question:!0,state:!0},a.getEntity=function(e){var n=this.module.store.models.question.getQuestionById({id:e});return n&&(n=i.assign({},n,{score:n.score/100})),n},a.getEntityModuleName=function(e,n){return t.get(n.type,2)},a.dataForEntityModule=function(e){return{type:e.type,data:e,multiple:2===e.type}}},{"./app/train/programme/exam/exam-question-types":"./app/train/programme/exam/exam-question-types","drizzle-zxy":!1}),loadjs.d("./app/train/programme/exam/question/view-recovery",function(e,n,a){var t=e("lodash/collection");a.bindings={recovery:!0},a.title="纠错详情",a.dataForTemplate={questionRecoverys:function(){return t.map(this.bindings.recovery.data,function(e,n){var a=e;return a.i=n+1,a})}}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'<form class="vertical">\n    <div class="row">\n        <div class="col-sm-4">\n            <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.exam.name",{name:"setting",hash:{},data:i}))+'</label>\n            <input class="input" name="name" x-rule="maxLength:30" x-action="change"/>\n        </div>\n        <div class="col-sm-4">\n            <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.exam.type",{name:"setting",hash:{},data:i}))+'</label>\n            <select id="type" class="input" name="type" x-marker="selectize">\n'+(null!=(l=a.each.call(s,null!=n?n.type:n,{name:"each",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?l:"")+'            </select>\n        </div>\n        <div class="col-sm-4">\n            <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.exam.status",{name:"setting",hash:{},data:i}))+'</label>\n            <select id="status" class="input" name="status" x-marker="selectize">\n'+(null!=(l=a.each.call(s,null!=n?n.status:n,{name:"each",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?l:"")+'            </select>\n        </div>\n    </div>\n    <div class="row hidden">\n        <div class="col-sm-4">\n            <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.exam.owner-organization",{name:"setting",hash:{},data:i}))+'</label>\n            <div id="ownerOrganization"></div>\n        </div>\n        <div class="col-sm-4">\n            <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.exam.start-time",{name:"setting",hash:{},data:i}))+'</label>\n            <input id="start-time" class="input" name="startTime" value="'+o((a.dateTime||n&&n.dateTime||r).call(s,null!=(l=null!=n?n.exam:n)?l.startTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n        </div>\n        <div class="col-sm-4">\n            <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.exam.end-time",{name:"setting",hash:{},data:i}))+'</label>\n            <input id="end-time" class="input" name="endTime" value="'+o((a.dateTime||n&&n.dateTime||r).call(s,null!=(l=null!=n?n.exam:n)?l.endTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n        </div>\n    </div>\n</form>'},2:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <option value="'+o((l=null!=(l=a.key||(null!=n?n.key:n))?l:r,"function"==typeof l?l.call(s,{name:"key",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.value||(null!=n?n.value:n))?l:r,"function"==typeof l?l.call(s,{name:"value",hash:{},data:i}):l))+"</option>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'    <div class="buttons">\n        <div id="add-exam" class="btn"><i class="icon-plus"></i><span>新增</span></div>\n    </div>\n    <div class="list">\n        <table class="table">\n            <thead><tr>\n                <th width="10px">'+o((a.string||n&&n.string||r).call(s,"index",{name:"string",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.exam.name",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.exam.owner-organization",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.exam.start-time",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.exam.end-time",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.exam.type",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.exam.applicant-number",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.exam.join-number",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.exam.pass-percent",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.exam.duration",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"exam.exam.status",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"system.all.operator",{name:"setting",hash:{},data:i}))+"</th>\n            </tr></thead>\n            <tbody>\n                "+(null!=(l=a.each.call(s,null!=n?n.exams:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.program(12,i,0),data:i}))?l:"")+'\n            </tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination"></div>\n'},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return"<tr>\n                    <td>"+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                    <td>"+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                    <td>"+c(e.lambda(null!=(l=null!=n?n.organization:n)?l.name:l,n))+"</td>\n                    <td>"+c((a.dateTime||n&&n.dateTime||o).call(r,null!=n?n.startTime:n,{name:"dateTime",hash:{},data:i}))+"</td>\n                    <td>"+c((a.dateTime||n&&n.dateTime||o).call(r,null!=n?n.endTime:n,{name:"dateTime",hash:{},data:i}))+"</td>\n                    <td>"+c((a.map||n&&n.map||o).call(r,"exam-type",null!=n?n.type:n,{name:"map",hash:{},data:i}))+"</td>\n                    <td>"+c((s=null!=(s=a.applicantNumber||(null!=n?n.applicantNumber:n))?s:o,typeof s===d?s.call(r,{name:"applicantNumber",hash:{},data:i}):s))+"</td>\n                    <td>"+c((s=null!=(s=a.joinNumber||(null!=n?n.joinNumber:n))?s:o,typeof s===d?s.call(r,{name:"joinNumber",hash:{},data:i}):s))+"</td>\n                    <td>"+c((s=null!=(s=a.passPercent||(null!=n?n.passPercent:n))?s:o,typeof s===d?s.call(r,{name:"passPercent",hash:{},data:i}):s))+"</td>\n                    <td>"+c((s=null!=(s=a.duration||(null!=n?n.duration:n))?s:o,typeof s===d?s.call(r,{name:"duration",hash:{},data:i}):s))+"</td>\n                    <td>"+c((a.map||n&&n.map||o).call(r,"exam-status",null!=n?n.status:n,{name:"map",hash:{},data:i}))+'</td>\n                    <td class="operation">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",1,{name:"compare",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",2,{name:"compare",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",3,{name:"compare",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",4,{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq",5,{name:"compare",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'                        <a id="copy-exam-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+c((a.string||n&&n.string||o).call(r,"copy",{name:"string",hash:{},data:i}))+"</a>\n                    </td>\n                </tr>\n"},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                            <a id="publish-exam-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"publish",{name:"string",hash:{},data:i}))+'</a>\n                            |\n                            <a id="delete-exam-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"remove",{name:"string",hash:{},data:i}))+'</a>\n                            |\n                            <a id="edit-exam-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((a.string||n&&n.string||r).call(s,"edit",{name:"string",hash:{},data:i}))+"</a>\n"},8:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <a id="manage-exam-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((a.string||n&&n.string||r).call(s,"manage",{name:"string",hash:{},data:i}))+'</a>\n                            |\n                            <a id="cancel-exam-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((a.string||n&&n.string||r).call(s,"undo",{name:"string",hash:{},data:i}))+"</a>\n"},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <a id="manage-exam-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((a.string||n&&n.string||r).call(s,"manage",{name:"string",hash:{},data:i}))+"</a>\n"},12:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.view||n&&n.view||r).call(s,"filter",{name:"view",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||r).call(s,"content",{name:"view",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/exam/view-content",function(e,n,a){var t=e("lodash/collection");a.bindings={exams:!0,exam:!1,state:!0,search:"searchChange"},a.events={"click add-exam":"addExam","click publish-exam-*":"publishExam","click manage-exam-*":"showManage","click achievement":"showAchievement","click edit-exam-*":"editExam","click copy-exam-*":"copyExam","click add-exam-new":"addExamNew"},a.actions={"click cancel-exam-*":"cancelExam","click delete-exam-*":"delExam"},a.handlers={copyExam:function(e){var n=this.module.items["exam/exam/exam-edit"],a=this;this.app.viewport.ground(n,{id:e,isCopy:!0,callback:function(){a.module.dispatch("refreshList")}})},addExam:function(){var e=this.module.items["exam/exam/exam-edit"],n=this
;this.app.viewport.ground(e,{callback:function(){n.module.dispatch("refreshList")}})},editExam:function(e){var n=this.module.items["exam/exam/exam-edit"],a=this;this.app.round(n,{id:e,callback:function(){a.module.dispatch("refreshList")}})},showAchievement:function(){var e=this.module.items["exam/exam/achievement"];this.app.viewport.ground(e)},showManage:function(e){var n=this.module.items["exam/exam/manage"];this.app.viewport.ground(n,{id:e})},publishExam:function(e){var n=this.module.items["exam/exam/exam-publish"],a=this;return this.Promise.create(function(t){a.app.message.confirm("确认发布该数据吗",function(){this.app.viewport.popup(n,{id:e,callback:function(){a.app.message.success("发布成功"),a.module.dispatch("refreshList")}})},function(){t(!1)})})},addExamNew:function(){var e=this.module.items["exam/exam/exam-edit-new"];this.app.viewport.ground(e)}},a.dataForActions={cancelExam:function(e){var n=this;return this.Promise.create(function(a){n.app.message.confirm("撤销后的考卷前端用户将无法查看，是否确定撤销该考试",function(){a(e)},function(){a(!1)})})},delExam:function(e){var n=this;return this.Promise.create(function(a){n.app.message.confirm("考试删除后将无法恢复，是否确定删除该考试",function(){a(e)},function(){a(!1)})})}},a.components=[{id:"pager",name:"pager",options:{model:"exams"}}],a.dataForTemplate={exams:function(e){var n=this.bindings.exams.getPageInfo().page;return t.map(e.exams||[],function(e,a){e.i=a+1+10*(n-1)}),e.exams}},a.searchChange=function(){this.module.dispatch("refreshList",this.bindings.search.data)}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/exam/view-filter",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/maps");a.dataForTemplate={type:function(){return i.get("exam-type")},status:function(){var e=t.filter(i.get("exam-status"),function(e){return 0!==Number(e.key)});return e.unshift({key:"999",value:"全部"}),e}},a.components=[{id:"type",name:"selectize"},{id:"start-time",name:"flatpickr",options:{enableTime:!0}},{id:"end-time",name:"flatpickr",options:{enableTime:!0}},{id:"status",name:"selectize"},{id:"ownerOrganization",name:"picker",options:{module:"exam/exam",picker:"owner",inputName:"organizationId"}}]},{"./app/util/maps":"./app/util/maps","lodash/collection":!1}),loadjs.d("./app/train/programme/import-data/index",function(e,n,a){a.items={main:"main",file:""},a.title="导入课程",a.store={models:{file:{url:"../train/offline-course-import/export-import"},courseTemplate:{url:"../train/offline-course-import/download-excel"},state:{},download:{url:"../file-deal/file/download"},filedata:{}},callbacks:{init:function(e){var n=this.models.file,a=this.models.state;return n.clear(),n.options.url="../train/offline-course-import/export-import/"+e.classId,a.data.classId=e.classId,this.models.file},importData:function(e){var n=this;return this.models.state.set(e),e.length>0?(n.models.state.changed(),n.app.message.error("导入存在错误数据"),!1):e},changefiledata:function(e){this.models.filedata.set(e)}}},a.beforeRender=function(){return this.dispatch("init",{classId:this.renderOptions.classId})}},{}),loadjs.d("./app/train/programme/import-data/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'    <form class="vertical">\n        <div class="row"><div class="col-sm-12"><span>导入步骤</span></div></div>\n        <p>1.下载标准模板，按示例格式和示例说明填写需要导入的电子表格文件\n            <a id="download-template" class="decoration-none" href="'+e.escapeExpression((s=null!=(s=a.downloadTemplateUrl||(null!=n?n.downloadTemplateUrl:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"downloadTemplateUrl",hash:{},data:i}):s))+'">(下载导入模板)</a>\n        </p>\n        <p>2.点击“导入数据”按钮，选择您要导入的电子表格文件</p>\n        <p>3.导入成功后，页面会提示成功数量，失败数量，并显示相关信息</p>\n        <p>4.如有失败记录，删掉电子表格里已经成功的记录，然后修正失败的记录，再次上传导入。</p>\n        <br/>\n        <div class="row"><div class="col-sm-12">\n            <div id="import" class="btn layout-mb-small">导入数据</div>\n'+(null!=(l=a.if.call(r,null!=(l=null!=n?n.file:n)?l.imgs:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"        </div></div>\n    </form>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=(l=null!=(l=null!=n?n.file:n)?l.imgs:l)?l.errorCount:l,"gt",0,{name:"compare",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"                <h3>\n                    导入成功记录"+o(r(null!=(l=null!=(l=null!=n?n.file:n)?l.imgs:l)?l.successCount:l,n))+"条, 导入失败记录"+o(r(null!=(l=null!=(l=null!=n?n.file:n)?l.imgs:l)?l.errorCount:l,n))+"条\n                </h3>\n                <div>\n"+(null!=(l=a.each.call(s,null!=n?n.errorMsg:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n"},5:function(e,n,a,t,i){var l;return'                    <a class="btn layout-mb-small" href="'+e.escapeExpression((l=null!=(l=a.errorDataUrl||(null!=n?n.errorDataUrl:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"errorDataUrl",hash:{},data:i}):l))+'" download="导入失败记录.xlsx" target="_blank">下载导入失败记录</a>\n'},7:function(e,n,a,t,i){return'                        <p class="error">'+e.escapeExpression(e.lambda(n,n))+"</p>\n"},9:function(e,n,a,t,i){return'    <div class="layout-mt-small">\n        <div id="uploader"></div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"file",{name:"view",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/import-data/view-file",function(e,n,a){var t=e("./app/util/errors");a.bindings={file:"fileUpload"},a.components=[{id:"uploader",name:"uploader",options:{model:"file",chunk_size:"100mb",signle_file:!0,filters:{max_file_size:"100mb",mime_types:[{title:"files",extensions:"xls,xlsx"}]}}}],a.fileUpload=function(){var e=this.bindings.file.data.imgs;return this.app.viewport.closeModal(),e.errorCode?this.app.message.error(t.get(e.errorCode)):e.errorCount>0?this.app.message.error("导入存在错误数据"):this.app.message.success("操作成功 "),this.module.renderOptions.callback()}},{"./app/util/errors":"./app/util/errors"}),loadjs.d("./app/train/programme/import-data/view-main",function(e,n,a){var t=e("./app/util/errors"),i=e("lodash/collection");a.bindings={courseTemplate:!0,file:"fileUpload",state:!0,download:!1,filedata:!0},a.events={"click downloadError":"downloadError"},a.handlers={downloadError:function(){var e=this;return this.module.dispatch("displayErrorUrl").then(function(){e.app.viewport.closePopup()})}},a.dataForTemplate={downloadTemplateUrl:function(){var e=this.bindings.courseTemplate,n=e.getFullUrl()+"?classId="+this.bindings.state.data.classId;return n+="access_token="+this.app.global.OAuth.token.access_token},errorDataUrl:function(e){var n=this.bindings.download;return e.file.imgs?n.getFullUrl()+"?id="+e.file.imgs.errorFileId:null},errorMsg:function(e){return e.file.imgs?i.map(e.file.imgs.errorRow,function(e){var n=t.get(e.code)||"不能为空";return"第"+e.row+"行, 第"+(e.column+1)+"列有错误。["+n+"]"}):[]}},a.components=[{id:"import",name:"superUpload1",options:{model:"file",accept:"xls,xlsx",maxSize:"1024M",isProgress:!0}}],a.fileUpload=function(){var e;return e=this.bindings.file.data.imgs,e.errorCode?this.app.message.error(t.get(e.errorCode)):e.errorCount>0?this.app.message.error("导入存在错误数据"):this.app.message.success("操作成功 "),this.module.dispatch("changefiledata",e),this.bindings.filedata.changed(),this.module.renderOptions.callback()}},{"./app/util/errors":"./app/util/errors","lodash/collection":!1}),loadjs.d("./app/train/programme/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection"),l=e("./app/util/helpers");a.items={offline:"offline",online:"online",questionnaire:"questionnaire",task:"task","config-offline":"","edit-config-offline":"","config-online":"","edit-offline":"","edit-task":"",upload:"","upload-task":"",courseware:"","train/programme/select-course":{isModule:!0},"train/programme/select-member":{isModule:!0},"train/programme/select-research-activity":{isModule:!0},"train/programme/evaluate-questionary/select-evaluate-questionary":{isModule:!0},"train/programme/exam/other-module-exam":{isModule:!0},"edit-qnrtime":"","train/programme/research-activity/add-research-third-party":{isModule:!0},"train/programme/evaluate-questionary/select-evaluate-questionary/add-research-refrence":{isModule:!0},"train/programme/exam/paper/preview-paper":{isModule:!0},"train/programme/research-activity/preview-questionary":{isModule:!0},"train/programme/add-preview-task":{isModule:!0},"train/programme/import-data":{isModule:!0},"train/programme/preview":{isModule:!0},"train/programme/online-group-manage":{isModule:!0},"train/programme/select-lecturer":{isModule:!0},"edit-course-time":""},a.store={models:{classInfo:{url:"../train/class-info/single"},offlineCourseList:{url:"../train/offline-course/find"},onlineCourseList:{url:"../train/online-course/find"},onlineCourse:{url:"../train/online-course"},questionnaireList:{url:"../train/questionnaire"},research:{url:"../train/questionnaire"},taskList:{url:"../train/class-task"},task:{url:"../train/class-task"},addWeek:{url:"../train/theme/add-theme"},downloadexternal:{url:"../train/courseSalary/download-excl-total"},themeList:{url:"../train/theme"},offlineThemeList:{url:"../train/theme/findOfflineTheme"},updateThemeModel:{url:"../train/theme/update-theme"},getThemeModel:{url:"../train/theme/get-theme"},themeModel:{url:"../train/theme"},lecturerSave:{url:"../train/enter-lecturer/lecturer-save"},removeWeek:{url:"../train/theme"},offlineCourse:{url:"../train/offline-course"},classroomList:{url:"../train/config-classroom/findList",params:{type:6},autoLoad:"after"},classroomByClassId:{url:"../train/config-classroom/findByClassId"},file:{url:"../file-deal/file-upload/upload-parse-file"},importFile:{url:"../human/file/upload-file"},attachList:{url:"../train/offline-course/findAttach"},courseAttach:{url:"../train/course-attach"},taskAttach:{url:"../train/task-attach"},download:{url:"../file-deal/file/download"},offlineClickUpdate:{url:"../train/offline-course/click-update"},courseSalary:{url:"../train/courseSalary/updateByCourseId"},import:{url:"../train/offline-course/import"},export:{url:"../train/offline-course/exportData"},fileInfo:{},importInfo:{},downExcel:{url:"../train/offline-course/download-excel"},delThemeList:{data:[]},state:{data:{}},flag:{data:{flag:!1}},lectuereFlag:{data:{flag:!1}},courseSalarySum:{url:"../train/courseSalary/sum"},files:{data:[]},weeks:{data:{}},paperClass:{url:"../exam/paper-class"},phone:{url:"../train/courseSalary/changePhone"},img:{url:"../system/file/upload"},preivew:{url:"../human/file"},findClassRoom:{url:"../train/class-resource"},lecturerData:{url:"../train/lecturer/get-lecturer-detail"},project:{url:"../train/class-info/project"},courseDate:{data:{}},className:{date:{}}},callbacks:{init:function(e){var n=this.models.offlineCourseList,a=this.models.onlineCourseList,t=this.models.questionnaireList,i=this.models.taskList,l=this.models.project,s=this.models.courseSalarySum,r=this.models.classInfo,o=this.models.offlineThemeList,d=this.models.state,c=this.models.weeks,u=this.models.className,m=this;l.params.id=e.id,r.set(e),d.data.role=e.role,d.data.id=e.id,this.get(r).then(function(e){s.params.classId=e[0].id,o.params.classId=e[0].id,u.data.name=e[0].className,m.get(o,{loading:!0}).then(function(a){c.data=a[0],c.changed(),c.data.length>0&&(n.params.startDate=c.data[0].startTime,n.params.endDate=c.data[0].endTime),n.params.classId=e[0].id,m.get(n)}),m.get(s),d.data.classId=e[0].id,a.params.classId=e[0].id,m.get(a),t.params.classId=e[0].id,m.get(t),i.params.classId=e[0].id,m.get(i)})},schedule:function(){var e=this.models.lecturerSave,n=this.models.classInfo,a=this.models.state,t=this.models.lectuereFlag,i={},l={},s=this;i.classId=a.data.classId,l.role=a.data.role,l.id=a.data.id,e.set(i),s.put(e).then(function(){t.data=!1,s.app.message.success("保存成功"),t.changed(),n.set(l)})},exprotSalary:function(){var e=this.models.downloadexternal.getFullUrl(),n=this.app.global.OAuth.token.access_token,a=this.models.offlineCourseList;return a.params.startDate&&a.params.endDate?e+="?classId="+this.models.state.data.classId+"&startDate="+a.params.startDate+"&endDate="+a.params.endDate+"&access_token="+n:e+="?classId="+this.models.state.data.classId+"&access_token="+n,window.location.href=e,!0},showOnlineTheme:function(){var e=this.models.themeList,n=this.models.state,a=this;return e.params.classId=n.data.classId,e.params.type=2,a.get(e)},delTheme:function(e){var n,a=this.models.themeList.data,t=this.models.delThemeList.data,i={};n=a.findIndex(function(n){return n.id===e}),a.splice(n,1),this.models.themeList.changed(),i.id=e,t.push(i)},moveUp:function(e){var n,a,t,i=this.models.themeList.data;(a=i.findIndex(function(n){return n.id===e}))<=0||96!==i[a-1].sort&&(n=i[a],t=i[a-1].sort,i[a]=i[a-1],i[a].sort=n.sort,i[a-1]=n,i[a-1].sort=t,this.models.themeList.changed())},moveDown:function(e){var n,a,t,i=this.models.themeList.data;(a=i.findIndex(function(n){return n.id===e}))>=i.length-1||96!==i[a+1].sort&&(n=i[a],t=i[a+1].sort,i[a]=i[a+1],i[a].sort=n.sort,i[a+1]=n,i[a+1].sort=t,this.models.themeList.changed())},updateName:function(e){var n,a,t=this.models.themeList.data;a=t.findIndex(function(n){return n.id===e.id}),n=t[a],n.name=e.name,this.models.themeList.changed()},addTheme:function(e){var n,a=this.models.themeList.data,t=this.models.state,i={};n=t.data.index||a.length,n++,i.id="new-"+n,i.classId=t.data.classId,i.type=2,i.name=e.name,i.sort=n,a.push(i),this.models.themeList.changed(),t.data.index=n,t.changed()},addWeek:function(e){var n=this.models.state.data.classId,a=this.models.addWeek,t=this.models.offlineThemeList,i=this.models.weeks,l=this.models.offlineCourseList,s=this,r={};return r.classId=n,r.name=e.weekName,r.time=e.weekTime,a.set(r),t.classId=n,this.save(a).then(function(){s.get(t,{loading:!0}).then(function(e){i.data=e[0],i.changed(),i.data.length>0&&(l.params.startDate=i.data[0].startTime,l.params.endDate=i.data[0].endTime),l.params.classId=n,s.get(l)}),s.app.message.success("主题添加成功"),t.checked()})},saveTheme:function(){var e=this.models.themeList,n=this.models.state.data,a=this.models.delThemeList,i=this.models.themeModel,l=this.models.onlineCourseList,s=this;return i.clear(),t.assign(s.models.themeModel.data,{newThemeList:JSON.stringify(e.data),delThemeList:JSON.stringify(a.data),classId:n.classId,type:2}),s.save(s.models.themeModel).then(function(){s.get(l)})},submitOffline:function(e){var n,a=this.models.offlineCourse,i=this.models.offlineCourseList,l=this.models.state,s=this.models.files,r=this,o=e;o.teacherName=e.tName,o.teacherOrganization=e.oName,o.teacherTitle=e.teacherT,o.remarks=e.remark,"add"===l.data.type?(n=o.courseDate.split(" "),t.assign(o,{fileList:JSON.stringify(s.data),id:s.data.length>0?o.id[0]:o.id,classId:l.data.classId,courseDate:n[0],startTime:n[1]})):t.assign(o,{fileList:JSON.stringify(s.data),id:s.data.length>0?o.id[0]:o.id,classId:l.data.classId}),a.clear(),a.set(o),this.save(a).then(function(){this.app.message.success("提交成功"),r.get(i)})},editOfflineCourse:function(e){var n=this.models.offlineCourse,a=this.models.files,t=this.models.classroomByClassId,i=this;t.params={classId:this.models.state.data.classId},n.clear(),n.set(e),a.clear(),i.get(t),this.get(n).then(function(e){var n,t,i,s,r,o,d,c,u,m=e;n=(l.date(m[0].courseDate)+" "+m[0].startTime).split(" "),t=n[0].split("-"),c=n[1].split(":"),i=t[0],s=t[1],r=t[2],o=c[0],d=c[1],u=new Date(i,s-1,r,o,d).getTime(),a.data=m[0].attachList,a.changed(),m[0].courseDate=u})},delOfflineCourse:function(e){var n=this.models.offlineCourse,a=this.models.offlineCourseList,t=this,i=t.models.classInfo.data,l={};l=e,l.className=i.className,n.set(l),this.del(n).then(function(){t.get(a),t.app.message.success("删除成功")})},uploadFile:function(e){var n=e[0],a=this.models.files.data||[],t=this.models.courseAttach,i={},l=this.models.state.data,s=this,r=this.models.offlineCourseList;i.id=n.attachmentId,i.attachId=n.attachmentId,i.attachType=n.contentType,i.attachName=n.name,i.extension=n.extension,l.uploadType?(t.clear(),t.data.courseId=l.courseId,t.data.attachId=n.attachmentId,t.data.attachType=n.contentType,t.data.attachName=n.name,r.clear(),r.set({classId:l.classId}),this.save(t).then(function(e){i.id=e[0].id,a.push(i),s.models.files.changed(),s.get(r)})):(a.push(i),this.models.files.changed())},delAttach:function(e){var n,a=this.models.files.data,t=this.models.state.data,i=this.models.courseAttach;n=a.findIndex(function(n){return n.id===e.id}),a.splice(n,1),this.models.files.changed(),t.delType&&(i.set(e),this.del(i))},showCourseware:function(e){var n=this.models.attachList,a=this.models.files,t=this.models.state;n.params.courseId=e.id,a.clear(),t.data.courseId=e.id,this.get(n).then(function(e){var n=e;a.data=n[0],a.changed()})},updateAttachName:function(e){var n,a,t=this.models.files.data,i=this.models.state.data,l=this.models.courseAttach;a=t.findIndex(function(n){return n.id===e.id}),n=t[a],n.attachName=e.attachName,this.models.files.changed(),i.updateType&&(l.clear(),l.set(e),this.save(l))},updateOThemeWeek:function(e){var n=this.models.state.data.classId,a=this.models.updateThemeModel,t=this.models.offlineThemeList,i=this,l={};return l.id=e.id,l.name=e.weekName,l.time=e.weekTime,a.set(l),t.classId=n,this.save(a).then(function(){i.get(t),i.app.message.success("修改成功"),t.checked()})},saveOfflineTheme:function(){var e=this.models.offlineThemeList,n=this.models.state.data,a=this.models.themeModel,i=this;return a.clear(),t.assign(i.models.themeModel.data,{newThemeList:JSON.stringify(e.data),delThemeList:JSON.stringify([]),classId:n.classId,type:1}),i.save(i.models.themeModel).then(function(){i.models.offlineThemeList.changed()})},searchOffline:function(e){var n,a,t=this.models.offlineThemeList,l=this.models.offlineCourseList;i.map(t.data,function(n){var a=n;a.id===e.id?a.checked=!0:a.checked=!1}),n=t.data.findIndex(function(n){return n.id===e.id}),a=t.data[n],l.params.startDate=a.startTime,l.params.endDate=a.endTime,t.changed(),this.get(l)},saveOnlineCourse:function(e){var n=e.target,a=e.del,i=e.themeId,l=this.models.onlineCourse,s=this.models.onlineCourseList,r=this.models.state.data,o=this;l.clear(),t.assign(l.data,{classId:r.classId,themeId:i,courseList:JSON.stringify(n),delList:JSON.stringify(a)}),this.save(l).then(function(){this.app.message.success("提交成功"),o.get(s)})},delOnlineCourse:function(e){var n=this.models.onlineCourse,a=this.models.onlineCourseList,t=this;n.set(e.id),this.del(n).then(function(){t.get(a)})},updateRequired:function(e){var n,a=this.models.onlineCourse,t=this.models.onlineCourseList,i=this;n={id:e.id,isRequired:e.isRequired},a.set(n),this.save(a).then(function(){i.get(t)})},updateOfflineName:function(e){var n=this.models.offlineClickUpdate,a=this.models.offlineCourseList,t=this,i=this.models.classInfo.data.classId;n.clear(),n.set(e),n.params={classId:i},this.save(n).then(function(){t.models.offlineThemeList.changed(),t.get(a)})},updatePay:function(e){var n=this.models.courseSalary,a=this.models.offlineCourseList,i=this;n.clear(),t.assign(e,{classId:this.models.state.data.classId,isUpdatePay:!0}),n.set(e),this.save(n).then(function(){i.get(a)})},removeWeek:function(e){var n,a=this.models.removeWeek,t=this.models.state.data,l=this.models.offlineThemeList,s=this.models.offlineCourseList,r=this.models.classInfo,o=this.models.weeks,d={},c=this;d.id=e.id,d.classId=t.classId,n=i.filter(l.data||[],{id:e.id})[0],a.set(d),l.data.length<2?c.app.message.error("需要至少存在一个周主题"):r.data.isPartyCadre&&n.startTime<=(new Date).getTime()?c.app.message.error("满意度问卷已生成，无法删除周主题"):this.del(a).then(function(){l.classId=t.classId,c.get(l,{loading:!0}).then(function(e){o.data=e[0],o.changed(),o.data.length>0&&(s.params.startDate=o.data[0].startTime,s.params.endDate=o.data[0].endTime),s.params.classId=t.classId,c.get(s)}),c.app.message.success("主题删除成功")})},importFile:function(e){var n=this,a=n.models.import,t=n.models.importInfo;a.set(e),n.save(a).then(function(e){t.data=e[0],t.data.imported=!0,t.data.failureCount>0&&(t.data.error=!0),t.changed(),n.get(n.models.offlineCourseList)})},delTask:function(e){var n=this.models.task,a=this.models.taskList,t=this.models.className,l=this,s=i.find(a.data,{id:e.id.id});e&&(n.set({id:e.id.id,className:t.data.name,name:s.name}),this.del(n).then(function(){l.get(a)}))},editTask:function(e){var n=this.models.task,a=this.models.files;return n.set(e),a.clear(),this.get(n).then(function(e){var n=e;a.data=n[0].attachList,a.changed()})},saveTask:function(e){var n=this.models.task,a=this.models.taskList,i=this.models.state,l=this.models.files,s=this.models.className,r=this;t.assign(e,{fileList:JSON.stringify(l.data),id:l.data.length>0?e.id[0]:e.id,classId:i.data.classId,className:s.data.name}),n.clear(),n.set(e),this.save(n).then(function(){this.app.message.success("提交成功"),r.get(a)})},uploadTaskFile:function(e){var n=e[0],a=this.models.files.data||[],t=this.models.taskAttach,i={},l=this.models.state.data,s=this;i.id=n.attachmentId,i.attachmentId=n.attachmentId,i.attachmentType=n.contentType,i.attachmentName=n.name,i.extension=n.extension,l.uploadType?(t.clear(),t.data.taskId=l.taskId,t.data.attachmentId=n.attachmentId,t.data.attachmentType=n.contentType,t.data.attachmentName=n.name,this.save(t).then(function(e){i.id=e[0].id,a.push(i),s.models.files.changed()})):(a.push(i),this.models.files.changed())},delTaskAttach:function(e){var n,a=this.models.files.data,t=this.models.state.data,i=this.models.taskAttach;n=a.findIndex(function(n){return n.id===e.id}),a.splice(n,1),this.models.files.changed(),t.delType&&(i.set(e),this.del(i))},updateTaskAttachName:function(e){var n,a,t=this.models.files.data,i=this.models.state.data,l=this.models.taskAttach;a=t.findIndex(function(n){return n.id===e.id}),n=t[a],n.attachmentName=e.attachmentName,this.models.files.changed(),i.updateType&&(l.clear(),l.set(e),this.save(l))},saveResearch:function(e){var n,a=this.models.questionnaireList,l=this.models.research,s=this.models.state.data,r=this.models.classInfo.data,o=this;t.assign(e,{classId:s.classId,className:r.className}),n=i.find(a.data,{resourceId:e.resourceId,classId:e.classId}),n?(a.params.classId=s.classId,o.get(a)):(l.set(e),this.save(l).then(function(){a.params.classId=s.classId,o.get(a)}))},editWeek:function(e){var n=this.models.getThemeModel;n.clear(),n.params=e,this.get(n)},delQuestionnair:function(e){var n,a=this.models.research,t=this.models.questionnaireList,l=this.models.state.data,s=this.models.className.data,r=this,o=i.find(t.data,{id:e.id.id});e&&(n={id:e.id.id,className:s.name,name:o.resourceName,classId:l.classId,type:o.type},a.set(n),this.del(a).then(function(){t.params.classId=l.classId,r.get(t)}))},toEdit:function(e){var n=this.models.research;return n.clear(),this.models.state.data.text=e.text,n.set(e.id),this.get(n)},editQuestionnair:function(e){var n=this.models.questionnaireList,a=this.models.research,t=this.models.state.data,i=this.models.classInfo.data,l=this,s={};a.clear(),s=e.data,s.classId=t.classId,s.className=i.className,a.set(s),l.put(a).then(function(){l.app.message.success("操作成功"),l.get(n)})},editTime:function(e){var n=this.models.research,a=this,t={},l=this.models.state.data.classId,s=this.models.classInfo.data,r=i.find(a.models.questionnaireList.data,["id",e.id]).resourceName,o=i.find(a.models.questionnaireList.data,["id",e.id]).type;t=e,t.classId=l,t.name=r,t.type=o,t.className=s.className,n.clear(),n.set(t),a.put(n).then(function(){a.app.message.success("操作成功"),a.get(a.models.questionnaireList)})},addCourse:function(e){var n=this.models.themeList,a=this.models.state,t=this;return n.params.classId=a.data.classId,n.params.type=2,a.data.text=e,t.get(n)},getPaperClass:function(e){return this.models.paperClass.clear(),t.assign(this.models.paperClass.params,{paperId:e.paperClassId}),this.get(this.models.paperClass)},lecturerData:function(e){var n=this.models.lecturerData;return n.clear(),n.params={phone:e.phone},this.get(n)},refreshList:function(){var e=this.models.offlineCourseList;this.get(e)},getPreview:function(e){var n=this.models.preivew;return n.set(e),this.get(n)},getOnlineCourseList:function(e){var n=this.models.onlineCourseList;return n.clear(),n.params.classId=e.classId,this.get(n)},findClassRoom:function(e){var n=e.classId,a=this.models.findClassRoom;return a.params={classId:n},this.get(a)},editCourseDate:function(e){var n=this.models.courseDate,a=i.find(this.models.offlineCourseList.data,["id",e.id]),t=a.startTime,l=a.endTime,s=a.courseDate;n.clear(),n.set({id:e.id,startTime:t,endTime:l,courseTime:s}),n.changed()}}},a.beforeRender=function(){return this.chain([this.dispatch("init",{id:this.renderOptions.state.id,role:this.renderOptions.state.role}),this.dispatch("findClassRoom",{classId:this.renderOptions.state.classId})])}},{"./app/util/helpers":"./app/util/helpers","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/online-group-manage/index",function(e,n,a){var t=e("lodash/collection");a.title="分组管理",a.items={content:"content",toolbox:"toolbox",list:"list"},a.large=!0,a.store={models:{state:{data:{index:0}},onlineCourseByThemeId:{url:"../train/online-course/find-theme"},waitOnlineCourse:{url:"../train/online-course/front-wait",type:"pageable",root:"items"},saveGroupManage:{url:"../train/online-course/save-group-manage"},deleteList:{data:[]}},callbacks:{init:function(e){var n=this.models.onlineCourseByThemeId,a=this.models.state.data;return a.themeId=e.themeId,a.classId=e.classId,a.flag=e.flag,n.clear(),n.params=a,this.get(n)},wait:function(e){var n=this.models.waitOnlineCourse,a={};return a.classId=e.classId,a.themeId=e.themeId,n.clear(),n.params=a,this.get(n)},themeclear:function(){this.models.waitOnlineCourse.clear()},search:function(e){var n=this.models.waitOnlineCourse;return n.clear(),n.params=e,this.get(n)},delFm:function(e){var n=this.models.updateTraineeGroup;return n.clear(),n.params={id:e.id,groupId:"0"},this.get(n)},save:function(e){var n=this.models.saveGroupManage;return n.clear(),n.set(e),this.post(n)},searchKey:function(e){var n=this.models.waitOnlineCourse;return n.clear(),n.params=e,this.get(n)}}},a.beforeRender=function(){this.renderOptions.flag?this.dispatch("wait",this.renderOptions):this.dispatch("themeclear"),this.dispatch("init",this.renderOptions)},a.buttons=[{text:"保存",fn:function(){var e=this,n=e.store.models.onlineCourseByThemeId.data,a=e.store.models.state.data,i=[];t.map(n,function(e){i.push(e.id)}),e.dispatch("save",{classId:a.classId,themeId:a.themeId,ids:i.join(","),targetList:JSON.stringify(n)}).then(function(n){n&&(e.app.message.success("保存成功!"),e.renderOptions.callback())})}}]},{"lodash/collection":!1}),loadjs.d("./app/train/programme/online-group-manage/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="groupmanage-page">\n    <div class="groupmanage">\n        <div class="page-main-wrapper">\n            <div class="page-side" data-region="list"></div>\n            <div class="page-main">\n                <div data-region="toolbox"></div>\n                <div data-region="content"></div>\n            </div>\n        </div>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <div id="searchKey" class="filter-row train-small">\n        <div class="filter-item">\n            <label>课程名称</label>\n            <input class="input" name="resourceName"/>\n        </div>\n        <div class="filter-item">\n            <label>是否必修</label>\n            <select name="isRequired">\n                <option value="">全部</option>\n                <option value="1">是</option>\n                <option value="0">否</option>\n            </select>\n        </div>\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isFlag:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){return'            <btn id="search" class="btn small">查询</btn>\n'},6:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="layout-mt-small">\n        <table class="table text-center train border around">\n            <thead><tr>\n                <th><input '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.waitOnlineCourse:n)?l.checkStatus:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="checkAll" style="display:inline-block;"/></th>\n                <th>课程名称</th>\n                <th>是否必修</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(s,null!=n?n.waitOnlineCourse:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.program(14,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n        <div id="pager" class="pagination" style="float:none"></div>\n    </div>\n'},7:function(e,n,a,t,i){return' checked="checked"'},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"<tr>\n                <td><input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="course-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" name="courseIds" value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" style="display:inline-block;"/></td>\n                <td title="'+d((s=null!=(s=a.resourceName||(null!=n?n.resourceName:n))?s:o,"function"==typeof s?s.call(r,{name:"resourceName",hash:{},data:i}):s))+'">\n'+(null!=(l=a.if.call(r,null!=n?n.length:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))?l:"")+"                </td>\n                <td>"+d((s=null!=(s=a.isRequired||(null!=n?n.isRequired:n))?s:o,"function"==typeof s?s.call(r,{name:"isRequired",hash:{},data:i}):s))+"\n"},10:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression((l=null!=(l=a.newName||(null!=n?n.newName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"newName",hash:{},data:i}):l))+"\n"},12:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression((l=null!=(l=a.resourceName||(null!=n?n.resourceName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"resourceName",hash:{},data:i}):l))+"\n"},14:function(e,n,a,t,i){return'                    <tr><td colspan="4"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr></td>\n            </tr>\n            '},16:function(e,n,a,t,i){var l;return'    <table class="table text-center train border around">\n        <thead><tr>\n            <th>已选课程</th>\n            <th class="s-width">操作</th>\n        </tr></thead>\n        <tbody>\n            '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.onlineCourseByThemeId:n,{name:"each",hash:{},fn:e.program(17,i,0),inverse:e.program(22,i,0),data:i}))?l:"")+"\n        </tbody>\n    </table>\n"},17:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return"<tr>\n                <td>"+e.escapeExpression((s=null!=(s=a.resourceName||(null!=n?n.resourceName:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"resourceName",hash:{},data:i}):s))+"</td>\n                <td>\n"+(null!=(l=a.if.call(r,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(18,i,0),
inverse:e.program(20,i,0),data:i}))?l:"")+"                </td>\n            </tr>\n"},18:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                        <i class="pointer m-right iconfont icon-arrow-up-solid custom-color-2" id="move-up-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="上移"></i>\n                        <i class="pointer m-right iconfont icon-arrow-down-solid custom-color-2" id="move-down-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="下移"></i>\n                        <i class="pointer iconfont icon-delete-solid custom-color-3" id="del-trainee'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'"></i>\n'},20:function(e,n,a,t,i){return"                        -\n"},22:function(e,n,a,t,i){return'                <tr><td colspan="2"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容</p>\n                </div>\n                </td></tr>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"toolbox",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"list",{name:"view",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/online-group-manage/view-content",function(e,n,a){var t=e("lodash/collection");a.bindings={waitOnlineCourse:!0,onlineCourseByThemeId:!0,deleteList:!0,state:!0},a.events={"click checkAll":"checkAll","click course-*":"checkItem"},a.handlers={checkAll:function(e,n){var a,i,l=this.bindings.waitOnlineCourse.data,s=this.bindings.onlineCourseByThemeId.data,r=this.bindings.state.data,o=[],d=this.bindings.state.data.themeId;t.map(this.$$('input[name="courseIds"]'),function(e){var a=e||{},t=a.value;a.checked=n.checked,o.push(t)}),n.checked?t.map(l,function(e){t.find(s,["id",e.id])||(a={},r.index++,a.id=e.id,a.classId=r.classId,a.type=1,a.resourceId=e.resourceId,i=l.findIndex(function(n){return n.id===e.id}),a.resourceName=l[i].resourceName,a.themeId=d,a.sort=r.index,a.isRequired=1,s.push(a))}):s=t.filter(s,function(e){return-1===o.indexOf(e.id)}),s=t.sortBy(s,["sort"]),this.bindings.onlineCourseByThemeId.data=s,this.bindings.onlineCourseByThemeId.changed()},checkItem:function(e){var n,a,i,l=this.bindings.waitOnlineCourse.data,s=this.bindings.onlineCourseByThemeId.data,r=this.bindings.state.data,o=this.bindings.deleteList.data,d=this.$("course-"+e).checked,c=this.bindings.state.data.themeId;d?(i=t.find(l,["id",e]).resourceId,n={},r.index++,n.id=e,n.classId=r.classId,n.type=1,n.resourceId=i,a=l.findIndex(function(n){return n.id===e}),n.resourceName=l[a].resourceName,n.themeId=c,n.sort=r.index,n.isRequired=1,s.push(n)):(a=s.findIndex(function(n){return n.id===e}),o.push(s[a]),s.splice(a,1)),this.bindings.onlineCourseByThemeId.changed()}},a.actions={},a.components=[{id:"pager",name:"pager",options:{model:"waitOnlineCourse"}}],a.dataForTemplate={waitOnlineCourse:function(e){var n=e.waitOnlineCourse,a=this.bindings.onlineCourseByThemeId.data,i=[],l=0;return t.map(a,function(e){i.push(e.id)}),t.map(n||[],function(e){var n=e||{};-1!==i.indexOf(n.id)&&(n.checked=!0,l++),n.resourceName&&n.resourceName.length>30?(n.length=!0,n.newName=n.resourceName.substring(0,30)+"..."):n.length=!1,1===n.isRequired?n.isRequired="是":n.isRequired="否"}),n.checkStatus=!1,n&&n.length>0&&l===n.length&&(n.checkStatus=!0),n}}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/online-group-manage/view-list",function(e,n,a){var t=e("lodash/collection");a.bindings={onlineCourseByThemeId:!0,waitOnlineCourse:!0,state:!0,deleteList:!0},a.events={"click del-trainee*":"delFm","click move-up-*":"moveUp","click move-down-*":"moveDown"},a.handlers={delFm:function(e){var n,a=this.bindings.onlineCourseByThemeId.data,i=this.bindings.deleteList.data||[];n=this.bindings.onlineCourseByThemeId.data.findIndex(function(n){return n.id===e}),a=t.filter(a,function(n){return n.id!==e}),i.push(this.bindings.onlineCourseByThemeId.data[n]),this.bindings.onlineCourseByThemeId.data=a,this.bindings.onlineCourseByThemeId.changed(),this.bindings.waitOnlineCourse.changed()},moveUp:function(e){var n,a,t,i=this.bindings.onlineCourseByThemeId.data;(a=i.findIndex(function(n){return n.id===e}))<=0||(n=i[a],t=i[a-1].sort,i[a]=i[a-1],i[a].sort=n.sort,i[a-1]=n,i[a-1].sort=t,this.bindings.onlineCourseByThemeId.changed())},moveDown:function(e){var n,a,t,i=this.bindings.onlineCourseByThemeId.data;(a=i.findIndex(function(n){return n.id===e}))>=i.length-1||(n=i[a],t=i[a+1].sort,i[a]=i[a+1],i[a].sort=n.sort,i[a+1]=n,i[a+1].sort=t,this.bindings.onlineCourseByThemeId.changed())}},a.dataForTemplate={onlineCourseByThemeId:function(e){var n=this.bindings.state.data;return t.map(e.onlineCourseByThemeId||[],function(e){e.flag=n.flag}),e.onlineCourseByThemeId}}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/online-group-manage/view-toolbox",function(e,n,a){var t=e("jquery");a.bindings={state:!0},a.actions={"click search":"search","keypress searchKey":"searchKey"},a.dataForActions={search:function(){var e=this.bindings.state.data;return{classId:e.classId,themeId:e.themeId,resourceName:t(this.$$('[name="resourceName"]')).val().trim(),isRequired:t(this.$$('[name="isRequired"]')).val().trim()}},searchKey:function(e){var n=this.bindings.state.data,a=n.classId,i=n.themeId;return 13===(e.keyCode||e.which||e.charCode)&&{classId:a,themeId:i,resourceName:t(this.$$('[name="resourceName"]')).val().trim(),isRequired:t(this.$$('[name="isRequired"]')).val().trim()}}},a.dataForTemplate={isFlag:function(){return this.bindings.state.data.flag}}},{jquery:!1}),loadjs.d("./app/train/programme/preview-task/index",function(e,n,a){var t=e("drizzle-zxy");a.items={head:"head",main:"main",side:"side"},a.store={models:{state:{},mainState:{data:{isExplain:!0}},task:{url:"../train/task"},preview:{url:"../file-deal/file/preview"},download:{url:"../file-deal/file/download"}},callbacks:{init:function(e){var n=this.models.task;return n.set({id:e}),this.get(n)},preview:function(e){var n=this.models.state;t.assign(n.data||{},e),n.changed()}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions.id)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/preview-task/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="taskmarking-content main-side">\n    <div class="taskmarking-side bg-highlight">\n        <div data-region="side"></div>\n    </div>\n    <div class="taskmarking-head" data-region="head"></div>\n    <div class="taskmarking-main" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <div class="pull-left title">作业名称：'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.task:n)?l.name:l,n))+'</div>\n    <div class="pull-right title">\n        <div id="closeTask" class="btn white m">关闭预览</div>\n    </div>\n'},5:function(e,n,a,t,i){var l;return'    <div class="preview-content">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.mainState:n)?l.isExplain:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+"    </div>\n"},6:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.task:n)?l.explain:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:""},7:function(e,n,a,t,i){var l;return'                <div class="h3 m-bottom strong">作业说明:</div>\n                <span class="small-font">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.task:n)?l.explain:l,n))+"</span>\n"},9:function(e,n,a,t,i){return'            <div id="viewPdf"></div>\n'},11:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.task:n)?l.name:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:""},12:function(e,n,a,t,i){var l;return'        <div id="explain" class="btn block layout-mt-small">作业说明</div>\n        <div class="h4 m-top">作业附件：</div>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.task:n)?l.attachList:l,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")},13:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'            <div class="side-item clearfix m-top">\n                <a class="inline-blockr" id="preview-'+o((l=null!=(l=a.attachmentId||(null!=n?n.attachmentId:n))?l:r,"function"==typeof l?l.call(s,{name:"attachmentId",hash:{},data:i}):l))+'" href="javascript:;">'+o((l=null!=(l=a.attachmentName||(null!=n?n.attachmentName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachmentName",hash:{},data:i}):l))+'</a>\n                <a class="inline-block pull-right" href="'+o((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"downUrl",hash:{},data:i}):l))+'" download="'+o((l=null!=(l=a.attachmentName||(null!=n?n.attachmentName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachmentName",hash:{},data:i}):l))+'">下载</a>\n            </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/preview-task/view-head",function(e,n,a){a.bindings={task:!0},a.events={"click closeTask":"closeTask"},a.handlers={closeTask:function(){window.close()}}},{}),loadjs.d("./app/train/programme/preview/audio/index",function(e,n,a){a.items={audio:"audio"},a.store={models:{download:{url:"../file-deal/file/download"},state:{},attachment:{url:"../human/file"}},callbacks:{init:function(e){this.models.state.set(e)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions.state)}},{}),loadjs.d("./app/train/programme/preview/audio/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="audio"></div>\n'},3:function(e,n,a,t,i){var l;return'<div style="padding: 20px 0px;">\n    <audio id="course-audio" controls="controls">\n        <source src="'+e.escapeExpression((l=null!=(l=a.url||(null!=n?n.url:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"url",hash:{},data:i}):l))+'" type="audio/mp3"/>\n    </audio>\n</div>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"audio",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/preview/audio/view-audio",function(e,n,a){var t=e("plyr");a.bindings={download:!1,state:!1},a.dataForTemplate={url:function(){var e="";return this.bindings.state.data.path&&(e=this.bindings.state.data.path),e}},a.afterRender=function(){t.setup(this.$("course-audio"),{autoplay:!0})}},{plyr:!1}),loadjs.d("./app/train/programme/preview/default/index",function(e,n,a){a.items={default:"default"},a.store={models:{state:{}}},a.beforeRender=function(){this.store.models.state.set(this.renderOptions.state)}},{}),loadjs.d("./app/train/programme/preview/default/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="default"></div>\n'},3:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.loading:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:""},4:function(e,n,a,t,i){return'        <div class="empty">加载中，请稍后</div>\n'},6:function(e,n,a,t,i){return'        <div class="layout-mt"><div class="content-empty"><div class="img-box img-type-1"></div><p>暂无内容</p></div></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"default",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/preview/default/view-default",function(e,n,a){a.bindings={state:!1},a.dataForTemplate={state:function(e){return{loading:!e.state.id}}}},{}),loadjs.d("./app/train/programme/preview/epub/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="div" data-region="main"></div>\n'},3:function(e,n,a,t,i){return'    <div id="epubArea"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/preview/epub/view-main",function(e,n,a){a.components=[function(){return{id:"epubArea",name:"picker",options:{picker:"epub",resourceId:this.module.renderOptions.state.id}}}]},{}),loadjs.d("./app/train/programme/preview/index",function(e,n,a){a.items={player:"player"},a.title=function(){return this.renderOptions.name},a.store={models:{section:{},download:{url:"../human/file"},state:{}},callbacks:{init:function(e){var n=this.models.download;this.models.state.set(e),n.set(e)}}},a.beforeRender=function(){this.dispatch("init",{id:this.renderOptions.id,name:this.renderOptions.name,key:this.renderOptions.key,path:this.renderOptions.path})},a.afterClose=function(){this.renderOptions.close.call(this)}},{}),loadjs.d("./app/train/programme/preview/pdf/index",function(e,n,a){a.items={pdf:"pdf"},a.store={models:{download:{url:"../file-deal/file/preview"},state:{}},callbacks:{init:function(e){this.models.state.set(e)}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions.state)}},{}),loadjs.d("./app/train/programme/preview/pdf/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="relative" data-region="pdf"></div>\n'},3:function(e,n,a,t,i){return'    <div id="viewPdf3"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"pdf",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/preview/pdf/view-pdf",function(e,n,a){a.bindings={state:!1,download:!1},a.components=[function(){var e=this.bindings.state.data.id,n=this.bindings.download.getFullUrl()+"/"+e;return{id:"viewPdf3",name:"picker",options:{picker:"pdf",id:e,pageNum:Number(1),pdfUrl:n}}}]},{}),loadjs.d("./app/train/programme/preview/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="player"></div>\n'},3:function(e,n,a,t,i){var l;return'    <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.key:l,n))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"player",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/preview/video/index",function(e,n,a){a.items={video:"video"},a.store={models:{download:{url:"../file-deal/file/download"},state:{},attachment:{url:"../human/file"}},callbacks:{getAttachment:function(e){this.models.state.set(e)}}},a.beforeRender=function(){this.dispatch("getAttachment",this.renderOptions.state)}},{}),loadjs.d("./app/train/programme/preview/video/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="relative knowledge-video" data-region="video"></div>\n'},3:function(e,n,a,t,i){var l;return'    <video id="player" class="video-js vjs-default-skin vjs-big-play-centered vjs-skin-hotdog-stand">\n        <source src="'+e.escapeExpression((l=null!=(l=a.url||(null!=n?n.url:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"url",hash:{},data:i}):l))+'" type="video/mp4"/>\n    </video>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"video",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/preview/video/view-video",function(e,n,a){var t=e("jquery");a.bindings={state:!1,download:!1},a.components=[function(){return{id:"player",name:"videojs",options:{video:{autoplay:!0}}}}],a.dataForTemplate={url:function(e){var n="";return e.state.path&&(n=e.state.path),"/"+n+"?type=mp4"}},a.afterRender=function(){480!==t(this.$("player")).height()&&t(this.$("player")).css("max-height","50em")}},{jquery:!1}),loadjs.d("./app/train/programme/preview/view-player",function(e,n,a){a.type="dynamic",a.bindings={state:!0},a.getEntity=function(){return{state:this.bindings.state.data}},a.getEntityModuleName=function(e){var n=e;return e||(n="default"),"train/programme/preview/"+n},a.dataForEntityModule=function(e){return e}},{}),loadjs.d("./app/train/programme/question-depot/add-question-depot/index",function(e,n,a){var t=e("drizzle-zxy"),i={add:"新增题库",edit:"修改题库"};a.items={main:"main"},a.title=function(){return i[this.renderOptions.titleType]},a.store={models:{state:{},questionDepot:{url:"../exam/question-depot"}},callbacks:{init:function(e){return this.models.questionDepot.clear(),e.organizationId&&this.models.state.set({organizationId:e.organizationId}),e.questionDepotId?(this.models.questionDepot.set({id:e.questionDepotId}),this.get(this.models.questionDepot)):""},saveQuestionDepot:function(e){var n=this;return!!e.validate&&(this.models.questionDepot.set(t.assign(e,{organizationId:this.models.state.data.organizationId||""})),this.save(this.models.questionDepot).then(function(){n.module.renderOptions.callback(),n.app.message.success("保存成功")}))}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.buttons=[{text:"保存",fn:function(e){return this.dispatch("saveQuestionDepot",t.assign(e,{validate:this.items.main.validate()}))}}]},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/question-depot/add-question-depot/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression,d=e.lambda;return'<form class="vertical">\n    <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.question-depot.parent-name",{name:"setting",hash:{},data:i}))+'</label>\n    <div id="question-depot"></div>\n    <br/>\n    <label class="required">'+o((a.setting||n&&n.setting||r).call(s,"exam.question-depot.name",{name:"setting",hash:{},data:i}))+'</label>\n    <br/>\n    <input id="name" class="input" name="name" value="'+o(d(null!=(l=null!=n?n.questionDepot:n)?l.name:l,n))+'" x-rule="required,maxLength:10"/>\n    <input class="input" type="hidden" name="id" value="'+o(d(null!=(l=null!=n?n.questionDepot:n)?l.id:l,n))+'"/>\n    <input class="input" type="hidden" name="organizationId" value="'+o(d(null!=(l=null!=n?n.questionDepot:n)?l.organizationId:l,n))+'"/>\n    <br/>\n    <br/>\n    <label class="required">'+o((a.setting||n&&n.setting||r).call(s,"exam.question-depot.code",{name:"setting",hash:{},data:i}))+'</label>\n    <br/>\n    <input id="code" class="input" name="code" value="'+o(d(null!=(l=null!=n?n.questionDepot:n)?l.code:l,n))+'" x-rule="required,maxLength:20"/>\n    <br/>\n    <br/>\n    <label>'+o((a.setting||n&&n.setting||r).call(s,"course.course.category.category-state",{name:"setting",hash:{},data:i}))+'</label>\n    <div id="state" class="radix" x-target="state" x-marker="radiox" value="'+o(d(null!=(l=null!=n?n.questionDepot:n)?l.state:l,n))+'">\n        <input class="inline-block" '+(null!=(l=a.if.call(s,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="state" value="1" id="state-1"/>\n        <div class="inline-block"><label class="no-margin" for="radio-y">活动</label></div>\n        <input class="inline-block m-left" '+(null!=(l=a.unless.call(s,null!=n?n.checked:n,{name:"unless",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="state" value="0" id="state-0"/>\n        <div class="inline-block"><label class="no-margin" for="radio-n">禁用</label></div>\n    </div>\n    <br/>\n    <br/>\n    <label>'+o((a.setting||n&&n.setting||r).call(s,"exam.share.range",{name:"setting",hash:{},data:i}))+'</label>\n    <div id="auto-to-lower" class="radix" x-target="auto-to-lower" x-marker="radiox" value="'+o(d(null!=(l=null!=n?n.questionDepot:n)?l.authToLower:l,n))+'">\n        <input class="inline-block" '+(null!=(l=a.if.call(s,null!=n?n.authToLower:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="authToLower" value="1" id="authToLower-1"/>\n        <div class="inline-block"><label class="no-margin" for="radio-y">分享给下级使用</label></div>\n        <input class="inline-block m-left" '+(null!=(l=a.unless.call(s,null!=n?n.authToLower:n,{name:"unless",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="authToLower" value="0" id="authToLower-0"/>\n        <div class="inline-block"><label class="no-margin" for="radio-n">公开（该目录下所有试题允许全集团使用）</label></div>\n    </div>\n</form>'},4:function(e,n,a,t,i){return' checked="checked"'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/question-depot/add-question-depot/view-main",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/markers"),l=e("./app/ext/views/form/validators");a.bindings={questionDepot:!0,state:!1},a.components=[function(){var e=this.bindings.questionDepot.data,n={id:"question-depot",name:"picker",options:{picker:"question-depot",required:!1,inputName:"parentId",params:{operatorType:this.app.global.EDIT,organizationId:this.bindings.state.data.organizationId},data:{}}};return e.parentName&&(n.options.data.id=e.parentId,n.options.data.name=e.parentName),n}],a.mixin={validate:function(){var e=t(this.$("name")),n=t(this.$("code")),a=!0,s=new RegExp("\\{0\\}","g");return i.text.valid(e),i.text.valid(n),""===e.val()||l.maxLength.fn(e.val(),10)||(i.text.invalid(e,l.maxLength.message.replace(s,10)),a=!1),""!==e.val().trim()&&null!==e.val().trim()||(i.text.invalid(e,l.required.message),a=!1),""!==n.val().trim()&&null!==n.val().trim()||(i.text.invalid(n,l.required.message),a=!1),""===n.val()||l.maxLength.fn(n.val(),20)||(i.text.invalid(n,l.maxLength.message.replace(s,20)),a=!1),a}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/question-depot/index",function(e,n,a){var t=e("drizzle-zxy");a.title="试题管理",a.searchView="filter",a.type="normal-grid",a.items={content:"content",filter:"","train/programme/exam/question-depot/question-depot-tree":{isModule:!0}},a.store={models:{organization:{url:"../system/grant/granted-organization",params:function(){return{uri:this.app.global.uri,level:"3"}}},questionDepot:{url:"../exam/question-depot"},state:{data:{}},search:{},toolbox:{}},callbacks:{init:function(){var e=this.module.items.content,n=e.getEntities()[0],a=this.models.search.data;"root"===a.questionDepotId&&(a.questionDepotId=null),n.refreshList(a)},edit:function(e){this.models.questionDepot.set(e),this.get(this.models.questionDepot)},save:function(e){var n=this.models.questionDepot;return n.set(e),this.save(n)},delete:function(e){var n=this.models.questionDepot;return n.set(e),this.del(n)},doSearch:function(e){t.assign(this.models.search.data,e),this.models.search.changed()},refreshList:function(e){var n=this.module.items.content,a=n.getEntities()[0],i=this.models.search.data;t.assign(this.models.search.data,e),"root"===i.questionDepotId&&(i.questionDepotId=null),a.refreshList(i)}}},a.beforeRender=function(){var e=this;this.initLeftDynamicData({dynamicEntity:{},moduleName:"exam/question-depot/question-depot-tree",moduleData:{data:{},callback:function(n){return e.dispatch("doSearch",n)}}})},a.afterRender=function(){return this.dispatch("init")}},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/question-depot/organization-selector/index",function(e,n,a){var t=e("drizzle-zxy");a.items={main:"main"},a.store={models:{organizations:{url:"../system/grant/granted-organization"},state:{}},callbacks:{init:function(e){var n=this.models.organizations,a=this;return e.data&&t.assign(n.params,e.data),e.callback&&(this.models.state.callback=e.callback),t.assign(n.params,{uri:"course-study/course-info"}),this.get(n).then(function(){var e=a.app.global.currentUser.rootOrganization.name;a.models.state.data.organizationName=e,a.models.state.changed()})},changeOrganization:function(e){var n=this.models.state;return n.data.organizationName=e.name,n.changed(),this.models.state.callback({organizationId:e.organizationId})}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/question-depot/organization-selector/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div id="btn-toggle-tree" class="btn" style="background: #white;">\n        <p class="text-overflow" title="'+r(s(null!=(l=null!=n?n.state:n)?l.organizationName:l,n))+'">当前部门：'+r(s(null!=(l=null!=n?n.state:n)?l.organizationName:l,n))+'<i class="iconfont icon-arrow-down"></i></p>\n    </div>\n    <div id="toggle-tree-content" class="tree-layer">\n        <div id="tree"></div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/question-depot/organization-selector/view-main",function(e,n,a){var t,i,l=e("./app/util/helpers"),s=e("lodash/collection"),r=e("jquery");a.bindings={state:!0,organizations:"updateTree"},a.events={"click btn-toggle-tree":"showTreeContent","change tree":"nodeChanged"},a.handlers={showTreeContent:function(){r(this.$("toggle-tree-content")).toggleClass("open")},nodeChanged:function(e,n){t.call(this,n)}},a.components=[{id:"tree",name:"tree",options:{model:"organizations"}}],t=function(e){return this.module.dispatch("changeOrganization",{id:e.id,name:e.text,organizationId:e.id})},a.updateTree=function(){this.components.tree.reset(i.call(this)),t.call(this,this.components.tree.selectRoot())},a.dataForComponents={tree:function(){return i.call(this)}},i=function(){var e=l.setting("tree.length.threshold");return s.map(this.bindings.organizations.data,function(n){var a=n;return a.title=a.name,a.name.length>e&&(a.name=a.name.slice(0,e)+"..."),a})}},{"./app/util/helpers":"./app/util/helpers",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/question-depot/question-depot-tree/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("./app/util/strings");a.items={"organization-selector":"organization-selector","depot-tree":"depot-tree","train/programme/question-depot/add-question-depot":{isModule:!0}},a.store={models:{questionDepots:{url:"../exam/question-depot"},questionDepot:{url:"../exam/question-depot"},state:{}},callbacks:{init:function(e){var n=this.models.questionDepots;return e.callback&&(this.models.state.callback=e.callback),t.assign(n.params,e.data,{state:"1",organizationId:this.app.global.organization.id}),this.get(n)},changeOrganization:function(e){return this.models.state.callback(e),t.assign(this.models.questionDepots.params,e),this.get(this.models.questionDepots)},changeDepot:function(e){this.models.state.callback({questionDepotId:e.id})},refreshTree:function(){return this.get(this.models.questionDepots)},remove:function(e){var n=this;return this.models.questionDepot.set(e),this.del(this.models.questionDepot).then(function(){return n.app.message.success(i.get("delete-success")),n.get(n.models.questionDepots)})}}},a.afterRender=function(){this.dispatch("init",this.renderOptions)}},{"./app/util/strings":"./app/util/strings","drizzle-zxy":!1}),
loadjs.d("./app/train/programme/question-depot/question-depot-tree/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="current-sector" data-region="main">\n        <div data-region="organization-selector"></div>\n        <div data-region="depot-tree"></div>\n    </div>\n'},3:function(e,n,a,t,i){return'    <div data-dynamic-key="organization-selector"></div>\n'},5:function(e,n,a,t,i){return'    <div class="col-xs-12 text-center sub-text m-top">\n        <a id="add">新增</a>\n        |\n        <a id="edit">修改</a>\n        |\n        <a id="remove">删除</a>\n        |\n        <a id="import">导入</a>\n        |\n        <a id="export">导出</a>\n    </div>\n    <div class="sector-tree m-top">\n        <div id="tree"></div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"organization-selector",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"depot-tree",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/question-depot/question-depot-tree/view-depot-tree",function(e,n,a){var t,i=e("./app/util/strings");a.bindings={questionDepots:"updateDepots"},a.components=[function(){var e={id:"tree",name:"tree",options:{model:"questionDepots",templates:{afterText:function(e,n,a){var t=a.renderOptions;return t&&t.getText&&"function"==typeof t.getText?t.getText(e):""}}}};return this.module.renderOptions&&(e.options.renderOptions=this.module.renderOptions),e}],a.events={"change tree":"nodeChanged","click add":"add","click remove":"remove","click edit":"edit","click import":"importQ","click export":"exportQ"},a.handlers={nodeChanged:function(e,n){t.call(this,n)},add:function(){var e=this.module.items["train/programme/question-depot/add-question-depot"],n=this;this.app.viewport.modal(e,{organizationId:this.bindings.questionDepots.params.organizationId,titleType:"add",callback:function(){return n.module.dispatch("refreshTree")}})},edit:function(){var e=this.module.items["train/programme/question-depot/add-question-depot"],n=this;this.app.viewport.modal(e,{titleType:"edit",questionDepotId:this.components.tree.getSelected(),callback:function(){return n.module.dispatch("refreshTree")}})},remove:function(){var e=this;this.app.message.confirm(i.getWithParams("delete-warn","试题目录"),function(){return e.module.dispatch("remove",{id:e.components.tree.getSelected()})},function(){return!1})},importQ:function(){},exportQ:function(){}},t=function(e){return this.module.dispatch("changeDepot",{id:e.id})},a.updateDepots=function(){this.components.tree.reset(this.bindings.questionDepots.data),t.call(this,this.components.tree.selectRoot())}},{"./app/util/strings":"./app/util/strings"}),loadjs.d("./app/train/programme/question-depot/question-depot-tree/view-organization-selector",function(e,n,a){a.type="dynamic",a.getEntity=function(){return{}},a.getEntityModuleName=function(){return"train/programme/question-depot/organization-selector"},a.dataForEntityModule=function(e){var n=this;return{data:e,callback:function(e){return n.module.dispatch("changeOrganization",e)}}}},{}),loadjs.d("./app/train/programme/question-depot/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<form class="vertical">\n    <div class="row">\n        <div class="col-sm-4">\n            <label>试题标题</label>\n            <input id="questionName" class="input" x-rule="maxLength:30" name="content"/>\n        </div>\n        <div class="col-sm-4">\n            <label>题型</label>\n            <select id="type" class="input" name="type" x-marker="selectize">\n'+(null!=(l=a.each.call(s,null!=n?n.type:n,{name:"each",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?l:"")+'            </select>\n        </div>\n        <div class="col-sm-4">\n            <label>难易度</label>\n            <select id="difficulty" class="input" name="difficulty" x-marker="selectize">\n'+(null!=(l=a.each.call(s,null!=n?n.difficultys:n,{name:"each",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?l:"")+'            </select>\n        </div>\n    </div>\n    <div class="row hidden">\n        <div class="col-sm-4">\n            <label>状态</label>\n            <select id="status" class="input" name="status" x-marker="selectize">\n'+(null!=(l=a.each.call(s,null!=n?n.status:n,{name:"each",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?l:"")+'            </select>\n        </div>\n        <div class="col-sm-4">\n            <label>创建时间</label>\n            <input id="create-time" class="input" name="createTime"/>\n        </div>\n    </div>\n</form>'},2:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                    <option "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n"},3:function(e,n,a,t,i){return' checked="checked"'},5:function(e,n,a,t,i){return'    <div data-dynamic-key="question"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.view||n&&n.view||r).call(s,"filter",{name:"view",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||r).call(s,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/question-depot/view-content",function(e,n,a){var t=e("lodash/collection");a.type="dynamic",a.bindings={state:!0,search:"searchChanged"},a.getEntity=function(){return{organizationId:this.bindings.state.data.organizationId}},a.getEntityModuleName=function(){return"train/programme/exam/question"},a.dataForEntityModule=function(e){return{data:e}},a.searchChanged=function(){var e=this.bindings.search.data;return t.forEach(e,function(n,a){"999"===e[a]&&(e[a]=null)}),this.module.dispatch("refreshList")}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/question-depot/view-filter",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection"),l=e("drizzle-zxy");a.bindings={search:!1},a.components=[{id:"type",name:"selectize"},{id:"difficulty",name:"selectize"},{id:"status",name:"selectize"},{id:"create-time",name:"flatpickr",options:{mode:"range",enableTime:!0}},function(){var e={id:this.app.global.organization.id,text:this.app.global.organization.name};return{id:"organization",name:"picker",options:{module:"train/programme/question-depot",picker:"owner",required:!0,params:{operatorType:this.app.global.EDIT},inputName:"organizationId",data:e}}}],a.dataForTemplate={type:function(e){var n=t.get("question-types");return n.unshift({key:"999",value:"全部"}),i.map(n,function(n){return l.assign(n,{checked:e.search.type===n.value})})},difficultys:function(e){var n=t.get("question-difficultys");return n.unshift({key:"999",value:"全部"}),i.map(n,function(n){return l.assign(n,{checked:e.search.difficultys===n.value})})},status:function(e){var n=t.get("publish-status");return n.unshift({key:"999",value:"全部"}),i.map(n,function(n){return l.assign(n,{checked:e.search.status===n.value})})}}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/add-dimension/index",function(e,n,a){var t=e("./app/util/strings"),i={add:"新增维度",edit:"编辑维度"},l=e("drizzle-zxy");a.items={main:"main"},a.title=function(){return i[this.renderOptions.titleType]},a.small=!0,a.store={models:{dimension:{url:"../exam/dimension"},state:{}},callbacks:{init:function(e){var n=this.models.state,a=this.models.dimension;return n.set(e.data),n.callback=e.callback,e.data.id?(a.set({id:e.data.id}),this.get(a).then(function(){n.data.order=a.data.order})):(a.clear(),"")},save:function(e){var n=this,a=this.models.state;return this.models.dimension.set(l.assign(e,this.models.state.data)),this.save(this.models.dimension).then(function(){n.app.message.success("操作成功！"),a.callback(n.models.dimension.data),n.models.dimension.clear()})}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.buttons=[{text:function(){return t.get("ok")},fn:function(e){return!!this.items.main.validate()&&this.dispatch("save",e)}}]},{"./app/util/strings":"./app/util/strings","drizzle-zxy":!1}),loadjs.d("./app/train/programme/research-activity/add-dimension/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="addnewevaluation-page">\n    <div class="addnewevaluation" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <form class="form">\n        <div class="form-row">\n            <label class="required">维度名称</label>\n            <div class="content">\n                <input id="name" class="input" name="name" value="'+r(s(null!=(l=null!=n?n.dimension:n)?l.name:l,n))+'" x-rule="required,maxLength:50" maxLength="50"/>\n                <div class="tips">0/50</div>\n            </div>\n        </div>\n        <div class="form-row">\n            <label>维度描述</label>\n            <div class="content">\n                <textarea id="description" class="w-full" placeholder="输入描述" rows="5" name="description" x-rule="maxLength:200" maxLength="200">'+r(s(null!=(l=null!=n?n.dimension:n)?l.description:l,n))+'</textarea>\n                <div class="tips" style="top: inherit;bottom: 0;">0/200</div>\n            </div>\n        </div>\n    </form>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/add-dimension/view-main",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/markers"),l=e("./app/ext/views/form/validators");a.type="form",a.bindings={dimension:!0},a.mixin={validate:function(){var e=t(this.$("name")),n=t(this.$("description")),a=!0,s=new RegExp("\\{0\\}","g");return i.text.valid(e),i.text.valid(n),""===e.val()||l.maxLength.fn(e.val(),50)||(i.text.invalid(e,l.maxLength.message.replace(s,50)),a=!1),""!==e.val().trim()&&null!==e.val().trim()||(i.text.invalid(e,l.required.message),a=!1),l.maxLength.fn(n.val(),200)||(i.text.invalid(n,l.maxLength.message.replace(s,200)),a=!1),a},showInputTips:function(e,n,a){var i,l;0!==n.length&&(i=t(this.$(a)).attr("x-rule").match(/maxLength:(\d+)/)[1],e&&(l=e.length,n.text(l+"/"+i)))}},a.events={"change name":"changeName","input name":"changeNameTips","input description":"changeDescription"},a.handlers={changeName:function(){var e=t(this.$("name")),n=new RegExp("\\{0\\}","g");i.text.valid(e),l.required.fn(e.val())?l.maxLength.fn(e.val(),50)||i.text.invalid(e,l.maxLength.message.replace(n,50)):i.text.invalid(e,l.required.message)},changeNameTips:function(){var e,n,a=this.$("name"),i=t(a).nextAll(".tips");0!==i.length&&(e=t(a).attr("x-rule").match(/maxLength:(\d+)/)[1],n=t(a).val().length,i.text(n+"/"+e))},changeDescription:function(){var e,n,a=this.$("description"),i=t(a).nextAll(".tips");0!==i.length&&(e=t(a).attr("x-rule").match(/maxLength:(\d+)/)[1],n=t(a).val().length,i.text(n+"/"+e))}},a.afterRender=function(){var e=this.module.store.models.dimension.data,n=e.name,a=t(this.$("name")).nextAll(".tips"),i=t(this.$("description")).nextAll(".tips");this.showInputTips(n,a,"name"),this.showInputTips(e.description,i,"description")}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/research-activity/add-research-activity/steps/step-2/index",function(e,n,a){var t=e("lodash/collection"),i=e("jquery"),l=e("drizzle-zxy");a.items={main:"main","train/programme/research-activity/add-dimension":{isModule:!0},"train/programme/research-activity/question/add-question":{isModule:!0},"train/programme/research-activity/preview-questionary":{isModule:!0},"train/programme/research-activity/import-data":{isModule:!0}},a.store={models:{state:{data:{}},research:{},question:{url:"../exam/dimension/question"},dimension:{url:"../exam/dimension"},dimensionDel:{url:"../exam/dimension/question-del"},dimensions:{mixin:{init:function(){this.data=t.orderBy(this.data,["order"],["asc"]),t.forEach(this.data,function(e){l.assign(e,{questions:t.orderBy(e.questions,["order"],["asc"])})})},addDimension:function(e){var n=e,a=i(this.module.items.main.$("questions")).scrollTop();this.module.store.models.state.data.questionsTop=a,t.forEach(this.data,function(e){l.assign(e,{checked:!1})}),n.checked=!0,this.data.push(n)},editDimension:function(e){var n=e,a=this.data.findIndex(function(n){return n.id===e.id}),t=i(this.module.items.main.$("questions")).scrollTop();this.module.store.models.state.data.questionsTop=t,n.questions=this.data[a].questions,this.data[a]=e},addQuestion:function(e){var n=t.find(this.data,["id",e.dimensionId]),a=this.data.findIndex(function(n){return n.id===e.dimensionId}),l=n.questions||[],s=i(this.module.items.main.$("questions")).scrollTop();this.module.store.models.state.data.questionsTop=s,l.push(e),this.data[a].questions=l},sortingDimension:function(e){var n,a=this.data.findIndex(function(n){return n.id===e.id}),t=e.offset,l=i(this.module.items.main.$("questions")).scrollTop();this.module.store.models.state.data.questionsTop=l,t<0&&0!==a&&(n=this.data[a],this.data[a]=this.data[a-1],this.data[a-1]=n,n=this.data[a-1].order,this.data[a-1].order=this.data[a].order,this.data[a].order=n),t>0&&a!==this.data.length-1&&(n=this.data[a],this.data[a]=this.data[a+1],this.data[a+1]=n,n=this.data[a+1].order,this.data[a+1].order=this.data[a].order,this.data[a].order=n)},deleteDimension:function(e){var n=i(this.module.items.main.$("questions")).scrollTop();this.module.store.models.state.data.questionsTop=n,this.data=t.reject(this.data,["id",e])},editQuestion:function(e){var n=this.data.findIndex(function(n){return n.id===e.dimensionId}),a=this.data[n].questions;a[a.findIndex(function(n){return n.id===e.id})]=e,this.data[n].questions=a},deleteQuestion:function(e){var n=this.data.findIndex(function(n){return n.id===e.dimensionId}),a=this.data[n];return this.data[n].questions=t.reject(this.data[n].questions,["id",e.id]),!!(1!==Number(a.isEmpty)||a.questions&&0!==a.questions.length)||this.deleteDimension(a.id)},sortingQuestion:function(e){var n,a=t.find(this.module.store.models.questions.data,["id",e.id]),i=this.data.findIndex(function(e){return e.id===a.dimensionId}),l=this.data[i].questions,s=l.findIndex(function(n){return n.id===e.id}),r=e.offset;r<0&&0!==s&&(n=l[s],l[s]=l[s-1],l[s-1]=n,n=l[s-1].order,l[s-1].order=l[s].order,l[s].order=n),r>0&&s!==l.length-1&&(n=l[s],l[s]=l[s+1],l[s+1]=n,n=l[s].order,l[s].order=l[s+1].order,l[s+1].order=n),this.data[i].questions=l}}},questions:{mixin:{init:function(e){var n=this;this.data=[],t.forEach(e,function(e){e.questions&&t.forEach(e.questions,function(e){n.data.push(e)})})},addQuestion:function(e){this.data.push(e)},getQuestionById:function(e){return t.find(this.data,["id",e])},editQuestion:function(e){var n=this.data.findIndex(function(n){return n.id===e.id});this.data[n]=e},deleteQuestion:function(e){this.data=t.reject(this.data,["id",e.id])}}}},callbacks:{init:function(e){this.models.research.set(e.research),this.models.dimensions.set(e.research.dimensions||[]),this.models.dimensions.init(),this.models.questions.init(e.research.dimensions)},addDimension:function(e){this.models.dimensions.addDimension(e),this.models.dimensions.changed()},editDimension:function(e){this.models.dimensions.editDimension(e),this.models.dimensions.changed()},addQuestion:function(e){var n=e,a=this.models.dimensions,i={},l=t.find(a.data,function(n){return n.id===e.dimensionId});if(!l){if(i=t.find(a.data,function(e){return 1===Number(e.isEmpty)}))return void(n.dimensionId=i.id);l={id:e.dimensionId,order:a.data.length+1,isEmpty:1,researchQuestionaryId:this.models.research.data.id},a.data.push(l)}this.models.dimensions.addQuestion(n),this.models.questions.addQuestion(n),this.models.dimensions.changed()},editQuestion:function(e){this.models.dimensions.editQuestion(e),this.models.questions.editQuestion(e),this.models.dimensions.changed()},deleteQuestion:function(e){var n=t.find(this.models.questions.data,["id",e.id]),a=this;return this.models.dimensionDel.set({questionId:e.id,dimensionId:n.dimensionId}),this.post(this.models.dimensionDel).then(function(){a.app.message.success("删除成功"),a.models.dimensions.deleteQuestion(n),a.models.questions.deleteQuestion(n),a.models.dimensions.changed()})},sortingDimension:function(e){this.models.dimensions.sortingDimension(e),this.models.dimensions.changed()},deleteDimension:function(e){var n=this;return this.models.dimension.set(e),this.del(this.models.dimension).then(function(){n.models.dimensions.deleteDimension(e.id),n.models.dimensions.changed()})},sortingQuestion:function(e){this.models.dimensions.sortingQuestion(e),this.models.dimensions.changed()},insertDimensions:function(e){var n=this.models.dimensions;t.forEach(e,function(e){var a=t.find(n.data,["id",e.id]),i=[];a?(i=a.questions||[],a.questions=i.concat(e.questions)):n.data.push(e)}),this.models.questions.init(this.models.dimensions.data),n.changed()},getDimension:function(e){var n=this.models.dimension,a=this.models.dimensions,i=t.some(a.data,function(e){return 1===Number(e.isEmpty)});return!(!e.id&&!i)||(n.set({order:a.data.length+1,isEmpty:1,researchQuestionaryId:this.models.research.data.id}),!0)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.mixin={getData:function(){return{dimensions:t.map(this.store.models.dimensions.data,function(e){return l.assign(e,{questions:t.map(e.questions,function(e){return l.assign(e,{status:1})})})})}},isValidator:function(e){var n=!0;if(2===e){if(this.store.models.dimensions.data.length<=0)return this.app.message.error("问卷内容不能为空，发布失败，请继续完善或关闭"),!1;n=t.every(this.store.models.dimensions.data,function(e){return e.questions&&e.questions.length>0}),n||this.app.message.error("维度内容不能为空，发布失败，请继续完善或关闭")}return n}}},{"drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/add-research-activity/steps/step-2/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="newevaluation" data-region="main"></div>\n    \x3c!--  .newevaluation(data-region=\'side\') --\x3e\n'},3:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{};return'    <div class="page-main-wrapper layout-mb-small">\n        <div class="page-side">\n            <div class="clearfix m-bottom">\n                <span class="h3 pull-left test-list strong">内容列表</span>\n                \x3c!--  select.pull-right.test-list --\x3e\n                \x3c!--      option 多维度 --\x3e\n                \x3c!--      option 单维度 --\x3e\n            </div>\n            <div class="clearfix m-bottom">\n                <span class="h4 pull-left test-list strong">维度管理</span>\n            </div>\n            <div class="layout-mt-small border bottom"><div class="m-bottom">\n                <span id="add-dimension" class="text-main-color pointer">新增</span>\n                <span class="sub-text m-left m-right">|</span>\n                <span id="edit-dimension" class="text-main-color pointer">编辑</span>\n                <span class="sub-text m-left m-right">|</span>\n                <span id="delete-dimension" class="text-main-color pointer">删除</span>\n            </div></div>\n            <ul class="radio-item">'+(null!=(r=a.each.call(o,null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'</ul>\n            <div class="btn-item layout-mt">\n                <div class="clearfix m-bottom">\n                    <span class="h4 pull-left test-list strong">新增试题</span>\n                </div>\n                <div class="clearfix border bottom m-bottom">\n                    <div id="question-1" class="pull-left m-right m-bottom pointer">\n                        <span>单选</span>\n                        <i class="iconfont icon-add-full custom-color-4"></i>\n                    </div>\n                    <div id="question-2" class="pull-left m-right m-left m-bottom pointer">\n                        <span>多选</span>\n                        <i class="iconfont icon-add-full custom-color-4"></i>\n                    </div>\n                    <div id="question-5" class="pull-left m-right m-left m-bottom pointer">\n                        <span>问答</span>\n                        <i class="iconfont icon-add-full custom-color-4"></i>\n                    </div>\n                    <div id="import" class="pull-left m-right m-left m-bottom pointer">\n                        <span>导入</span>\n                        <i class="iconfont icon-add-full custom-color-4"></i>\n                    </div>\n                </div>\n            </div>\n            <div class="text-center"><div id="preview" class="btn small">预览</div></div>\n        </div>\n        <div class="page-main">\n            <h3>'+e.escapeExpression(e.lambda(null!=(r=null!=n?n.research:n)?r.name:r,n))+'</h3>\n            <div class="temporarypaper2-page"><form class="form align-left">\n                <ul class="layout-mt-small border around question-list">'+(null!=(r=a.each.call(o,null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(9,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"</ul>\n            </form></div>\n        </div>\n    </div>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'\n                <li class="clearfix m-top">\n                    <div class="pull-left">\n                        <input '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" id="d-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" name="dimension-radio" value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                        <label class="small-font">'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'</label>\n                    </div>\n                    <div class="pull-right">\n                        <i class="pointer m-right iconfont icon-arrow-up-solid custom-color-2" id="goup-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"></i>\n                        <i class="pointer m-right iconfont icon-arrow-down-solid custom-color-2" id="godown-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"></i>\n                    </div>\n                </li>\n                <div class="m-top">'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n            "},5:function(e,n,a,t,i){return' checked="checked"'},7:function(e,n,a,t,i){var l;return'\n                    <span class="choice m-top">'+e.escapeExpression((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"questionIndex",hash:{},data:i}):l))+"</span>\n                "},9:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{};return"\n"+(null!=(r=(a.compare||n&&n.compare||a.helperMissing).call(o,null!=n?n.isEmpty:n,"ne",1,{name:"compare",hash:{},fn:e.program(10,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=a.each.call(o,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(12,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"                "},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <div class="h4 m-bottom m-top m-left">\n                            <span>'+o((l=null!=(l=a.dimensionIndex||(null!=n?n.dimensionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"dimensionIndex",hash:{},data:i}):l))+"</span>\n                            <span>"+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+"</span>\n                        </div>\n"},12:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u=e.escapeExpression;return'                        <li class="m-top test-box test-1">\n                            <spqn class="heading pull-left m-right">'+u((o=null!=(o=a.questionIndex||(null!=n?n.questionIndex:n))?o:c,"function"==typeof o?o.call(d,{name:"questionIndex",hash:{},data:i}):o))+'</spqn>\n                            <div data-dynamic-key="'+u((o=null!=(o=a.id||(null!=n?n.id:n))?o:c,"function"==typeof o?o.call(d,{name:"id",hash:{},data:i}):o))+'"></div>\n                        </li>\n                        <div class="layout-mt-small clearfix">\n                            <div class="icons w-full text-right">\n'+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=n?n.questionIndex:n,"ne",1,{name:"compare",hash:{},fn:e.program(13,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||c).call(d,null!=s[1]?s[1].questionsLength:s[1],"ne",null!=n?n.questionIndex:n,{name:"compare",hash:{},fn:e.program(15,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'                                <i class="pointer m-right iconfont icon-edit-solid custom-color-4" id="edit-question-'+u((o=null!=(o=a.id||(null!=n?n.id:n))?o:c,"function"==typeof o?o.call(d,{name:"id",hash:{},data:i}):o))+'"></i>\n                                <i class="iconfont icon-trash pointer" id="delete-question-'+u((o=null!=(o=a.id||(null!=n?n.id:n))?o:c,"function"==typeof o?o.call(d,{name:"id",hash:{},data:i}):o))+'"></i>\n                            </div>\n                        </div>\n'},13:function(e,n,a,t,i){var l;return'                                    <i class="pointer m-right iconfont icon-arrow-up-solid custom-color-2" id="up-question-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></i>\n'},15:function(e,n,a,t,i){var l;return'                                    <i class="pointer m-right iconfont icon-arrow-down-solid custom-color-2" id="down-question-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></i>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i,l,s){var r,o,d,c=null!=n?n:{},u=a.helperMissing,m="";return o=null!=(o=a.module||(null!=n?n.module:n))?o:u,d={name:"module",hash:{},fn:e.program(1,i,0,l,s),inverse:e.noop,data:i},r="function"==typeof o?o.call(c,d):o,a.module||(r=a.blockHelperMissing.call(n,r,d)),null!=r&&(m+=r),m+(null!=(r=(a.view||n&&n.view||u).call(c,"main",{name:"view",hash:{},fn:e.program(3,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"\x3c!--  view('side') --\x3e\n\x3c!--      .page-side --\x3e\n\x3c!--          .clearfix --\x3e\n\x3c!--              span.h4.pull-left.test-list 试题列表 --\x3e\n\x3c!--              select.pull-right.test-list --\x3e\n\x3c!--                  option 多维度 --\x3e\n\x3c!--                  option 单维度 --\x3e\n\x3c!--          .side-item.m-top --\x3e\n\x3c!--              a#add-dimension 新增 --\x3e\n\x3c!--              span | --\x3e\n\x3c!--              a#edit-dimension 编辑 --\x3e\n\x3c!--              span | --\x3e\n\x3c!--              a#delete-dimension 删除 --\x3e\n\x3c!--          ul.radio-item > each(dimensions) --\x3e\n\x3c!--              li.clearfix.m-top --\x3e\n\x3c!--                  .pull-left --\x3e\n\x3c!--                      input(type='radio' id='d-' + id name='dimension-radio' value=id)('checked')&if(checked) --\x3e\n\x3c!--                      label.small-font > echo(name) --\x3e\n\x3c!--                  .pull-right --\x3e\n\x3c!--                      i.pointer.m-right.iconfont.icon-arrow-up-solid.gray-font(id='down-' + id) --\x3e\n\x3c!--                      i.pointer.m-right.iconfont.icon-arrow-down-solid.custom-color-4(id='up-' + id) --\x3e\n\x3c!--              .m-top > each(questions) --\x3e\n\x3c!--                  span.choice.m-top > echo(questionIndex) --\x3e\n\x3c!--          .btn-item.layout-mt --\x3e\n\x3c!--              .tag-btn.radius.pull-left#question-1 --\x3e\n\x3c!--                  | +单选 --\x3e\n\x3c!--              .tag-btn.radius.pull-right#question-2 --\x3e\n\x3c!--                  | +多选 --\x3e\n\x3c!--              .tag-btn.radius.pull-left#question-5 --\x3e\n\x3c!--                  | +问答 --\x3e\n\x3c!--              .tag-btn.radius.pull-right#import --\x3e\n\x3c!--                  | +导入 --\x3e\n\x3c!--          .btn.m-top.w-full.gray#preview 预览 --\x3e\n"},useData:!0,useDepths:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/add-research-activity/steps/step-2/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy"),l=e("./app/train/programme/research-activity/research-question-types"),s=e("./app/util/maps"),r=e("jquery");a.HIDE_SCORE=!0,a.OPTION_SCORE_MODE=0,a.QUESTIONARY_TYPE=2,a.SOURCE_TYPE=3,a.HIDE_SCORE=!0,a.type="dynamic",a.bindings={dimensions:!0,research:!0,questions:!0,dimension:!0},a.events={"click edit-question-*":"editQuestion","click delete-question-*":"deleteQuestion","click up-question-*":"upQuestion","click down-question-*":"downQuestion","click add-dimension":"addDimension","click edit-dimension":"editDimension","click question-*":"addQuestion","click d-*":"chooseDimension","click goup-*":"upDimension","click godown-*":"downDimension","click delete-dimension":"deleteDimension","click preview":"preview","click import":"importResearch"},a.handlers={editQuestion:function(e){var n=this.module.items["train/programme/research-activity/question/add-question"],a=this;this.app.viewport.modal(n,{hideScore:a.options.HIDE_SCORE,question:this.bindings.questions.getQuestionById(e),callback:function(e){return a.module.dispatch("editQuestion",e)}})},deleteQuestion:function(e){var n=this;this.app.message.confirm("试题删除之后将无法恢复，是否确定删除该试题",function(){return n.module.dispatch("deleteQuestion",{id:e})},function(){return!1})},upQuestion:function(e){return this.module.dispatch("sortingQuestion",{id:e,offset:-1})},downQuestion:function(e){return this.module.dispatch("sortingQuestion",{id:e,offset:1})},addDimension:function(){var e=this.module.items["train/programme/research-activity/add-dimension"],n=this;this.app.viewport.modal(e,{titleType:"add",data:{researchQuestionaryId:this.module.renderOptions.id,order:this.bindings.dimensions.data.length+1,type:n.options.QUESTIONARY_TYPE},callback:function(e){return n.module.dispatch("addDimension",e)}})},editDimension:function(){var e=this.module.items["train/programme/research-activity/add-dimension"],n=r(this.$$('[name="dimension-radio"]:checked')).val(),a=this;return n?(this.app.viewport.modal(e,{titleType:"edit",data:{id:n,researchQuestionaryId:this.module.renderOptions.id,
type:a.options.QUESTIONARY_TYPE},callback:function(e){return a.module.dispatch("editDimension",e)}}),!0):(this.app.message.error("请选择维度"),!1)},addQuestion:function(e){var n,a,i=this.module.items["train/programme/research-activity/question/add-question"],l=r(this.$$('[name="dimension-radio"]:checked')).val(),s=this.bindings.dimensions.data,o=this;return this.module.dispatch("getDimension",{id:l}).then(function(){n=t.find(s,["id",l]),n||(n=t.find(s,["isEmpty",1])||{}),a=n.questions||[],this.app.viewport.modal(i,{type:e,hideScore:o.options.HIDE_SCORE,data:{sourceType:o.options.SOURCE_TYPE,order:a.length+1,dimensionId:n.id||""},callback:function(e){return o.module.dispatch("addQuestion",e)}})})},chooseDimension:function(e){t.forEach(this.bindings.dimensions.data,function(n){var a=n;n.id===e&&(a.checked=!0)})},upDimension:function(e){return this.module.dispatch("sortingDimension",{id:e,offset:-1})},downDimension:function(e){return this.module.dispatch("sortingDimension",{id:e,offset:1})},deleteDimension:function(){var e,n=this,a=r(this.$$('[name="dimension-radio"]:checked')).val();return a?(e="维度删除后将无法恢复，是否确定删除该维度",this.app.message.confirm(e,function(){return n.module.dispatch("deleteDimension",{id:a})},function(){return!1}),!0):(this.app.message.error("请选择维度"),!1)},preview:function(){var e=this.module.items["train/programme/research-activity/preview-questionary"],n=this.bindings.research.data,a=this.bindings.dimension.data;n.name&&a?this.app.viewport.modal(e,{hideScore:this.options.HIDE_SCORE,research:i.assign(this.bindings.research.data,{dimensions:this.bindings.dimensions.data})}):this.app.message.error("请完善问卷内容")},importResearch:function(){var e=this,n=this.bindings.research.data,a=this.bindings.dimensions.data;this.app.viewport.modal(this.module.items["train/programme/research-activity/import-data"],{type:n.type,dimensions:a,callback:function(n,a){return e.module.dispatch("insertDimensions",n).then(function(){return a&&a(e.bindings.dimensions.data)})}})}},a.dataForTemplate={dimensions:function(e){var n=s.get("research-question-types"),a=s.get("chineseNumber"),l=e.dimensions.findIndex(function(e){return 1===e.isEmpty});return t.map(e.dimensions,function(e,s){var r=t.find(a,["key",(s+1).toString()]).value;return-1!==l&&l<s&&(r=t.find(a,["key",s.toString()]).value),l===s&&(r=""),i.assign(e,{dimensionIndex:r,questions:t.map(e.questions,function(e,a){return i.assign(e,{questionIndex:a+1,typeDesc:t.find(n,["key",e.type.toString()]).value+"题"})}),questionsLength:e.questions?e.questions.length:0})})}},a.getEntity=function(e){var n=this.bindings.questions.getQuestionById(e),a=JSON.parse(JSON.stringify(n));return a=i.assign({},a,{questionAttrs:t.orderBy(t.map(a.questionAttrs,function(e){return e.score?i.assign(e,{score:e.score/100}):e}),["name"],["asc"]),score:a.score/100})},a.getEntityModuleName=function(e,n){return l.get(n.type,4)},a.dataForEntityModule=function(e){return{type:e.type,data:e,mode:this.options.OPTION_SCORE_MODE}}},{"./app/train/programme/research-activity/research-question-types":"./app/train/programme/research-activity/research-question-types","./app/util/maps":"./app/util/maps","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/add-research-third-party/index",function(e,n,a){var t=e("./app/util/strings"),i=e("drizzle-zxy"),l={add:"新增",edit:"编辑"},s=e("lodash/collection");a.RESEARCH_TYPE=2,a.items={main:"main"},a.large=!0,a.title=function(){return l[this.renderOptions.titleType]},a.store={models:{research:{url:"../exam/research-activity"},form:{url:"../exam/research-activity/insert-of-other-module"},img:{url:"../system/file/upload"},time:{}},callbacks:{init:function(e){var n=this.models.research;return n.clear(),this.models.time.clear(),e.researchId?(n.set({id:e.researchId,sourceType:e.sourceType||1}),this.models.time.data={startTime:e.startTime,endTime:e.endTime,arriveDate:e.arriveDate},this.chain(this.get(n),function(){n.data.name=e.name||n.data.name})):(i.assign(n.data,{sourceType:e.sourceType||1,type:this.module.options.RESEARCH_TYPE}),"")},save:function(e){var n=this;return this.models.form.set(i.assign(e,{sourceType:this.models.research.data.sourceType})),this.save(this.models.form).then(function(){var a=n.module.renderOptions.callback,t=n.models.form.data;t.startTime=e.startTime,t.endTime=e.endTime,a&&a(t),n.app.message.success("保存成功")})},changeInfo:function(e){var n,a,t,l,s,r,o,d,c=this.module.items.main.getEntities()[0],u={};e.startTime&&(n=e.startTime.split(" "),a=n[0].split("-"),d=n[1].split(":"),t=a[0],l=a[1],s=a[2],r=d[0],o=d[1],u.startTime=new Date(t,l-1,s,r,o).getTime()),e.endTime&&(n=e.endTime.split(" "),a=n[0].split("-"),d=n[1].split(":"),t=a[0],l=a[1],s=a[2],r=d[0],o=d[1],u.endTime=new Date(t,l-1,s,r,o).getTime()),i.assign(this.models.research.data,e,c.getData()),i.assign(this.models.time.data,u),this.models.research.changed(),this.models.time.changed()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.buttons=[{text:t.get("ok"),fn:function(){var e=this.items.main.getEntities()[0],n=this.items.main.validate(),a=e.getData().dimensions||[],t=a.length>0&&s.every(a,function(e){return e.questions&&e.questions.length>0});return!!n&&(t?this.dispatch("save",i.assign(this.items.main.getData(),{dimensions:JSON.stringify(e.getData().dimensions),id:this.store.models.research.data.id,type:this.options.RESEARCH_TYPE})):(this.app.message.error("问卷内容不完整，无法保存"),!1))}}]},{"./app/util/strings":"./app/util/strings","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/add-research-third-party/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="newevaluation-page">\n    <div class="newevaluation" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'<form>\n    <div class="form align-left">\n        <div class="form-row r-padding">\n            <label class="required">调研名称</label>\n            <input id="name" class="input" name="name" value="'+r(s(null!=(l=null!=n?n.research:n)?l.name:l,n))+'"/><span id="checkName"></span>\n        </div>\n        <div class="form-row pull-left r-padding w-half">\n            <label class="required">开始时间</label>\n            <input id="start-time" class="input" name="startTime" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.time:n)?l.startTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n        </div>\n        <div class="form-row pull-left r-padding w-half">\n            <label class="required">结束时间</label>\n            <input id="end-time" class="input" name="endTime" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.time:n)?l.endTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n        </div>\n        <div class="form-row r-padding">\n            <label>问卷须知</label>\n            <textarea class="input" name="questionaryDetail" id="questionaryDetail" placeholder="问卷须知..." rows="4">'+r(s(null!=(l=null!=n?n.research:n)?l.questionaryDetail:l,n))+'</textarea>\n        </div>\n    </div>\n    <div data-dynamic-key=""></div>\n</form>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/add-research-third-party/view-main",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/markers"),l=e("./app/ext/views/form/validators");a.ADD_QUESTIONARY="train/programme/research-activity/add-research-activity/steps/step-2",a.bindings={research:!0,img:!1,time:!1},a.type="dynamic",a.events={"change name":"changeInfo","change questionaryDetail":"changeInfo"},a.handlers={changeInfo:function(){return this.module.dispatch("changeInfo",this.getData())}},a.dataForTemplate={research:function(e){var n=e.research;return n&&(n.startTime=this.module.renderOptions.startTime,n.endTime=this.module.renderOptions.endTime),n}},a.components=[function(){var e,n,a,i,l=this,s=this.module.renderOptions.arriveDate;return{id:"start-time",name:"flatpickr",options:{enableTime:!0,onChange:function(r,o){o&&(e=o.split(" "),n=e[0].split("-"),a=e[1].split(":"),i=new Date(n[0],n[1]-1,n[2],a[0],a[1]).getTime(),s+864e5>i&&(l.app.message.error("开始时间不能早于开班日"),t(l.$("start-time")).val(""),l.$("start-time").focus()))}}}},function(){var e=this,n=t(this.$("start-time"));return{id:"end-time",name:"flatpickr",options:{enableTime:!0,onChange:function(a,i){e.$("end-time").focus(),i&&(n.val()?n.val()>=i&&(e.app.message.error("开始时间不能大于或者等于结束时间"),t(e.$("end-time")).val(""),e.$("end-time").focus()):(e.app.message.error("请先填写开始时间"),t(e.$("end-time")).val(""),e.$("end-time").focus()))}}}}],a.getEntity=function(){return this.bindings.research.data},a.getEntityModuleName=function(){return this.options.ADD_QUESTIONARY},a.dataForEntityModule=function(e){return{research:e}},a.mixin={getData:function(){return{name:this.$("name").value,startTime:this.$("start-time").value,endTime:this.$("end-time").value,questionaryDetail:t(this.$("questionaryDetail")).val().trim()}},validate:function(){var e=this.$("name"),n=this.$("start-time"),a=this.$("end-time"),s=this.$("questionaryDetail"),r=!0;return l.required.fn(e.value)||(i.text.invalid(t(e),"调研名称为必填项"),t(e).addClass("error"),2===this.module.options.RESEARCH_TYPE?this.app.message.error("调研名称必填"):3===this.module.options.RESEARCH_TYPE&&this.app.message.error("评估名称必填"),r=!1),l.maxLength.fn(e.value,30)||(t(e).addClass("error"),2===this.module.options.RESEARCH_TYPE?this.app.message.error("调研名称最大长度为:30"):3===this.module.options.RESEARCH_TYPE&&this.app.message.error("评估名称必填最大长度为:30"),r=!1),t(e).removeClass("error"),l.maxLength.fn(s.value,1e3)||(t(s).addClass("error"),this.app.message.error("问卷须知最大长度为:1000"),r=!1),t(s).removeClass("error"),l.required.fn(n.value)||(t(n).addClass("error"),this.app.message.error("开始时间必填"),r=!1),t(n).removeClass("error"),l.required.fn(a.value)||(t(a).addClass("error"),this.app.message.error("结束时间必填"),r=!1),t(a).removeClass("error"),r}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/research-activity/import-data/index",function(e,n,a){var t=e("lodash/collection");a.items={main:"main",file:""},a.title="导入",a.auto=!0,a.store={models:{file:{url:"../human/file/upload-file"},importData:{url:"../exam/dimension/import"},exportQuestionTemplate:{url:"../exam/dimension/export"},download:{url:"../file-deal/file/download"},state:{}},callbacks:{importData:function(e){var n=this;return this.models.importData.set(e),this.post(this.models.importData).then(function(){var e=n.models.importData.data,a=n.models.state,i=n.module.renderOptions.callback,l=JSON.parse(e.data),s="共导入成功"+e.successCount+"条数据, 失败"+e.failCount+"条数据  ";return i&&i(l,function(e){var n=t.map(e,function(e){return e.id}).join(",");a.data.dimensions=JSON.stringify(e),a.data.dimensionIds=n,a.changed()}),0===e.failCount&&0===e.successCount?(this.app.message.error("导入文件不能为空"),!1):(e.failCount<=0?(this.app.message.success("导入成功"),this.app.viewport.closePopup()):(e.showErrorUrl=!0,n.models.importData.changed(),this.app.message.success(s)),!0)})},init:function(e){var n=this.models.state,a=t.map(e.dimensions,function(e){return e.id}).join(",");return this.models.importData.clear(),n.set({type:e.type,dimensions:JSON.stringify(e.dimensions),dimensionIds:a})}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/import-data/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'    <form class="vertical">\n        <div>导入步骤</div>\n        <p class="small-font color-error">1.下载标准模板，按示例格式和示例说明填写需要导入的电子表格文件。\n            <span>（</span>\n            <a id="download-template" href="'+e.escapeExpression((s=null!=(s=a.downloadTemplateUrl||(null!=n?n.downloadTemplateUrl:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"downloadTemplateUrl",hash:{},data:i}):s))+'">下载导入模板</a>\n            <span>）</span>\n        </p>\n        <p class="small-font color-error">2.点击“导入数据”按钮，选择您要导入的电子表格文件</p>\n        <p class="small-font color-error">3.导入成功后，页面会提示成功数量，失败数量，并显示相关信息</p>\n        <p class="small-font color-error">4.如有失败记录，删掉电子表格里已经成功的记录，然后修正失败的记录，再次上传导入。</p>\n        <div class="text-center"><div id="import" class="btn layout-mb-small">导入数据</div></div>\n'+(null!=(l=a.if.call(r,null!=(l=null!=n?n.importData:n)?l.showErrorUrl:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"        "+(null!=(l=a.if.call(r,null!=n?n.errors:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'\n        <div class="error">'+(null!=(l=a.each.call(r,null!=n?n.errorMsg:n,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n    </form>\n"},4:function(e,n,a,t,i){var l;return'            <a href="'+e.escapeExpression((l=null!=(l=a.errorDataUrl||(null!=n?n.errorDataUrl:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"errorDataUrl",hash:{},data:i}):l))+'"><div id="downloadError" class="btn">下载错误的导入数据</div></a>\n'},6:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return"<div>\n            <h3>共导入成功"+r(s(null!=(l=null!=n?n.importData:n)?l.successCount:l,n))+"条数据, 失败"+r(s(null!=(l=null!=n?n.importData:n)?l.failCount:l,n))+"条数据  </h3>\n        </div>"},8:function(e,n,a,t,i){return"\n            <p>"+e.escapeExpression(e.lambda(n,n))+"</p>\n        "},10:function(e,n,a,t,i){return'    <div id="uploader"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"file",{name:"view",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/import-data/view-file",function(e,n,a){a.bindings={file:"fileUpload",state:!1},a.components=[{id:"uploader",name:"uploader",options:{model:"file",chunk_size:"100mb",filters:{max_file_size:"100mb",mime_types:[{title:"files",extensions:"xls,xlsx"}]}}}],a.fileUpload=function(){return this.app.viewport.closeModal(),this.module.dispatch("importData",{fileId:this.bindings.file.data.imgId,type:this.bindings.state.data.type,dimensions:this.bindings.state.data.dimensions})}},{}),loadjs.d("./app/train/programme/research-activity/import-data/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/errors");a.bindings={exportQuestionTemplate:!0,importData:!0,state:!0,download:!1},a.events={"click import":"importData"},a.handlers={importData:function(){this.app.viewport.modal(this.module.items.file)}},a.dataForTemplate={downloadTemplateUrl:function(){var e=this.bindings.exportQuestionTemplate,n=this.bindings.state.data,a=e.getFullUrl()+"?",t=this.app.global.OAuth.token.access_token,i=n.dimensionIds;return a+="exportType=1&type="+n.type+"&dimensionIds="+i+"&access_token="+t},errors:function(e){return!!e.importData&&e.importData.failCount>=0},errorFileUrl:function(){var e=this.bindings.importData.data;return this.bindings.download.getFullUrl()+"?id="+e.errorFileId},errorMsg:function(e){return e.importData?t.map(e.importData.errors,function(e){var n="不能为空";return e.code&&(n=i.get(e.code)),"第"+e.row+"行, 第"+(e.column+1)+"列有错误。["+n+"]"}):""}}},{"./app/util/errors":"./app/util/errors","lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/manage/detail/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.items={title:"title",main:"main",side:"side"},a.title="调研详情",a.store={models:{researchRecord:{url:"../exam/research-record/detail",mixin:{getAnswerRecordsByQuestionId:function(e){var n=this.data.researchQuestionary.researchAnswerRecordMaps;return t.filter(t.map(n,function(n){return t.find(n.researchAnswerRecords,["questionId",e])}),function(e){return e})},getQuestionIndex:function(e,n){var a=this.data.researchQuestionary.dimensions;return a[a.findIndex(function(e){return e.id===n})].questions.findIndex(function(n){return n.id===e})+1}}},questions:{mixin:{init:function(e){var n=this;this.data=[],t.forEach(e,function(e){e.questions&&t.forEach(e.questions,function(e){n.data.push(e)})})},getQuestionById:function(e){var n=t.find(this.data,["id",e]),a=this.module.store.models.researchRecord;return i.assign(n,{answerRecords:a.getAnswerRecordsByQuestionId(n.id),index:a.getQuestionIndex(n.id,n.dimensionId),researchRecordId:a.data.id})}}}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.questions;if(n.clear(),e.researchRecord)n.set(e.researchRecord),a.init(e.researchRecord.researchQuestionary.dimensions),n.changed();else if(e.researchRecordId)return n.params={researchRecordId:e.researchRecordId},this.get(n).then(function(){a.init(n.data.researchQuestionary.dimensions),a.changed()});return""}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/manage/detail/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="exam-base-info add-info-popup">\n        <div data-region="title"></div>\n        <div class="row">\n            <div class="col-sm-9 statistics-left">\n                <div data-region="main"></div>\n            </div>\n            <div class="col-sm-3">\n                <div data-region="side"></div>\n            </div>\n        </div>\n    </div>\n'},3:function(e,n,a,t,i){var l;return'    <div class="statistics-top">'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.researchRecord:n)?l.researchQuestionary:l)?l.name:l,n))+"</div>\n"},5:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:""},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"        <h3>"+d((s=null!=(s=a.dimensionIndex||(null!=n?n.dimensionIndex:n))?s:o,"function"==typeof s?s.call(r,{name:"dimensionIndex",hash:{},data:i}):s))+"、"+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</h3>\n        <ul class="statistics-ul">\n'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"        </ul>\n"},7:function(e,n,a,t,i){var l;return'                <li>\n                    <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n                </li>\n'},9:function(e,n,a,t,i){var l;return'    <ul class="p-top m-top statistics-right">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return"\n        <li>\n            "+e.escapeExpression((s=null!=(s=a.name||(null!=n?n.name:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'\n            <div class="research-list-num clearfix m-top">'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n        </li>\n    "},11:function(e,n,a,t,i){var l;return"\n                <span>"+e.escapeExpression((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"questionIndex",hash:{},data:i}):l))+"</span>\n            "},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"title",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/manage/detail/view-main",function(e,n,a){var t=e("./app/util/business/research-question-types"),i=e("drizzle-zxy"),l=e("lodash/collection"),s=e("./app/util/maps");a.bindings={researchRecord:!0,questions:!0},a.type="dynamic",a.dataForTemplate={dimensions:function(e){var n=s.get("research-question-types"),a=s.get("chineseNumber");return e.researchRecord.researchQuestionary?l.map(e.researchRecord.researchQuestionary.dimensions,function(e,t){return i.assign(e,{dimensionIndex:l.find(a,["key",(t+1).toString()]).value,questions:l.map(e.questions,function(e,a){return i.assign(e,{questionIndex:a+1,typeDesc:l.find(n,["key",e.type.toString()]).value+"题"})})})}):[]}},a.getEntity=function(e){var n=this.bindings.questions.getQuestionById(e);return i.assign({},n,{questionAttrs:l.orderBy(n.questionAttrs,["createTime"],["asc"]),score:n.score/100})},a.getEntityModuleName=function(e,n){return t.get(n.type,1)},a.dataForEntityModule=function(e){return{type:e.type,question:e}}},{"./app/util/business/research-question-types":"./app/util/business/research-question-types","./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/manage/detail/view-side",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy"),l=e("./app/util/maps");a.bindings={researchRecord:!0},a.dataForTemplate={dimensions:function(e){var n=l.get("research-question-types"),a=l.get("chineseNumber");return e.researchRecord.researchQuestionary?t.map(e.researchRecord.researchQuestionary.dimensions,function(e,l){return i.assign(e,{dimensionIndex:t.find(a,["key",(l+1).toString()]).value,questions:t.map(e.questions,function(e,a){return i.assign(e,{questionIndex:a+1,typeDesc:t.find(n,["key",e.type.toString()]).value+"题"})})})}):[]}}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/manage/detail/view-title",function(e,n,a){a.bindings={researchRecord:!0}},{}),loadjs.d("./app/train/programme/research-activity/manage/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection"),l=e("./app/util/strings");a.items={info:"info",search:"search",content:"content","exam/research-activity/manage/summary":{isModule:!0},"picker/members/select-member":{isModule:!0},"train/programme/research-activity/manage/detail":{isModule:!0},"train/programme/research-activity/manage/urge":{isModule:!0}},a.title="调研详情",a.large=!0,a.store={models:{research:{url:"../exam/research-activity/simple-data",mixin:{getResearchRecordById:function(e){var n=this.module.store.models.researchRecords.data;return i.find(n,["id",e])}}},researchRecords:{url:"../exam/research-record",type:"pageable",root:"items"},addMember:{url:"../exam/research-activity/add-member"}},callbacks:{init:function(e){return this.models.research.set({id:e.id}),this.models.researchRecords.params={researchQuestionaryId:e.id},this.chain([this.get(this.models.research),this.get(this.models.researchRecords)])},search:function(e){return t.assign(this.models.researchRecords.params,e),this.chain([this.get(this.models.researchRecords)])},addMember:function(e){var n=this;return this.models.addMember.set(t.assign(e,{researchQuestionaryId:this.models.research.data.id})),this.post(this.models.addMember).then(function(){return n.app.message.success(l.get("exam.research.manage.add-member-success")),n.get(this.models.researchRecords)})}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/strings":"./app/util/strings","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/manage/summary/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.items={title:"title",main:"main",side:"side"},a.title="汇总统计",a.store={models:{summaryDetail:{url:"../exam/research-activity/summary-detail",mixin:{getAnswerRecordsByQuestionId:function(e){var n=this.data.researchAnswerRecordMaps;return t.filter(t.map(n,function(n){return t.find(n.researchAnswerRecords,["questionId",e])}),function(e){return e})},getQuestionIndex:function(e,n){var a=this.data.dimensions;return a[a.findIndex(function(e){return e.id===n})].questions.findIndex(function(n){return n.id===e})+1}}},questions:{mixin:{init:function(e){var n=this;this.data=[],t.forEach(e,function(e){e.questions&&t.forEach(e.questions,function(e){n.data.push(e)})})},getQuestionById:function(e){var n=t.find(this.data,["id",e]),a=this.module.store.models.summaryDetail;return i.assign(n,{answerRecords:a.getAnswerRecordsByQuestionId(n.id),index:a.getQuestionIndex(n.id,n.dimensionId)})}}}},callbacks:{init:function(e){var n=this.models.summaryDetail,a=this.models.questions;if(n.clear(),e.summaryDetail)n.set(e.summaryDetail),a.init(e.summaryDetail.dimensions),n.changed();else if(e.researchQuestionaryId)return n.params={researchQuestionaryId:e.researchQuestionaryId},this.get(n).then(function(){a.init(n.data.dimensions),a.changed()});return""}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/manage/summary/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="exam-base-info add-info-popup">\n        <div data-region="title"></div>\n        <div class="row">\n            <div class="col-sm-9 statistics-left">\n                <div data-region="main"></div>\n            </div>\n            <div class="col-sm-3">\n                <div data-region="side"></div>\n            </div>\n        </div>\n    </div>\n'},3:function(e,n,a,t,i){var l;return'    <div class="statistics-top">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.summaryDetail:n)?l.name:l,n))+"</div>\n"},5:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:""},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"        <h3>"+d((s=null!=(s=a.dimensionIndex||(null!=n?n.dimensionIndex:n))?s:o,"function"==typeof s?s.call(r,{name:"dimensionIndex",hash:{},data:i}):s))+"、"+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</h3>\n        <ul class="statistics-ul">\n'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"        </ul>\n"},7:function(e,n,a,t,i){var l;return'                <li>\n                    <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n                </li>\n'},9:function(e,n,a,t,i){var l;return'    <ul class="p-top m-top statistics-right">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return"\n        <li>\n            "+e.escapeExpression((s=null!=(s=a.name||(null!=n?n.name:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'\n            <div class="research-list-num clearfix m-top">'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n        </li>\n    "},11:function(e,n,a,t,i){var l;return"\n                <span>"+e.escapeExpression((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"questionIndex",hash:{},data:i}):l))+"</span>\n            "},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"title",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/manage/summary/view-main",function(e,n,a){var t=e("./app/util/business/research-question-types"),i=e("drizzle-zxy"),l=e("lodash/collection"),s=e("./app/util/maps");a.bindings={summaryDetail:!0,questions:!0},a.type="dynamic",a.dataForTemplate={dimensions:function(e){var n=s.get("research-question-types"),a=s.get("chineseNumber");return e.summaryDetail?l.map(e.summaryDetail.dimensions,function(e,t){return i.assign(e,{dimensionIndex:l.find(a,["key",(t+1).toString()]).value,questions:l.map(e.questions,function(e,a){return i.assign(e,{questionIndex:a+1,typeDesc:l.find(n,["key",e.type.toString()]).value+"题"})})})}):[]}},a.getEntity=function(e){var n=this.bindings.questions.getQuestionById(e);return i.assign({},n,{questionAttrs:l.orderBy(n.questionAttrs,["createTime"],["asc"]),score:n.score/100})},a.getEntityModuleName=function(e,n){return t.get(n.type,2)},a.dataForEntityModule=function(e){return{type:e.type,question:e}}},{"./app/util/business/research-question-types":"./app/util/business/research-question-types","./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/manage/summary/view-side",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy"),l=e("./app/util/maps");a.bindings={summaryDetail:!0},a.dataForTemplate={dimensions:function(e){var n=l.get("research-question-types"),a=l.get("chineseNumber");return e.summaryDetail?t.map(e.summaryDetail.dimensions,function(e,l){return i.assign(e,{dimensionIndex:t.find(a,["key",(l+1).toString()]).value,questions:t.map(e.questions,function(e,a){return i.assign(e,{questionIndex:a+1,typeDesc:t.find(n,["key",e.type.toString()]).value+"题"})})})}):[]}}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/manage/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="exam-manage">\n        <div class="info" data-region="info"></div>\n        <div data-region="search"></div>\n        <div data-region="content"></div>\n    </div>\n'},
3:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return'<form class="vertical">\n    <div class="row">\n        <div class="col-sm-12 inline-block info-bar">\n            <div class="row"><div class="col-sm-12">\n                <div class="inline-block com-title">'+d((a.setting||n&&n.setting||o).call(r,"exam.research.name",{name:"setting",hash:{},data:i}))+'：</div>\n                <div class="inline-block">'+d(c(null!=(l=null!=n?n.research:n)?l.name:l,n))+'</div>\n            </div></div>\n            <div class="row">\n                <div class="col-sm-6 inline-block">\n                    <div class="inline-block com-title">已参加人数：</div>\n                    <div class="inline-block">'+d(c(null!=(l=null!=n?n.research:n)?l.joinNumber:l,n))+'</div>\n                </div>\n                <div class="col-sm-6 inline-block">\n                    <div class="inline-block com-title">未参加人数：</div>\n                    <div class="inline-block">'+d(c(null!=(l=null!=n?n.research:n)?l.noJoinNumber:l,n))+'</div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-sm-6 inline-block">\n                    <div class="inline-block com-title">调研二维码：</div>\n                    <div class="inline-block"><div id="qrcode"></div></div>\n                </div>\n                <div class="col-sm-6 inline-block">\n                    <div class="inline-block com-title">调研链接：</div>\n                    <div class="inline-block">'+d((s=null!=(s=a.researchUrl||(null!=n?n.researchUrl:n))?s:o,"function"==typeof s?s.call(r,{name:"researchUrl",hash:{},data:i}):s))+"</div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>"},5:function(e,n,a,t,i){var l;return'    <form class="vertical">\n        <div class="row">\n            <div class="col-sm-6">\n                <label>账号:</label>\n                <input class="input" name="name"/>\n            </div>\n            <div class="col-sm-6">\n                <label>姓名:</label>\n                <input class="input" name="fullName"/>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-sm-6">\n                <label>调研状态:</label>\n                <select id="status" class="input" name="status">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.status:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'</select>\n            </div>\n            <div class="col-sm-6">\n                <label>参与时间:</label>\n                <input id="joinTime" class="input mark" name="joinTime"/>\n            </div>\n        </div>\n        <br/>\n        <div class="row">\n            <div class="col-sm-12">\n                <div class="text-right"><div id="search" class="btn inline-block">查询</div></div>\n            </div>\n        </div>\n    </form>\n'},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'\n                    <option value="'+o((l=null!=(l=a.key||(null!=n?n.key:n))?l:r,"function"==typeof l?l.call(s,{name:"key",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.value||(null!=n?n.value:n))?l:r,"function"==typeof l?l.call(s,{name:"value",hash:{},data:i}):l))+"</option>\n                "},8:function(e,n,a,t,i){var l;return'    <div class="hr"></div>\n    <div class="clearfix">\n        <div class="pull-right">\n            <div id="summary" class="btn">汇总统计</div>\n            <div id="member" class="btn">添加人员</div>\n            <div id="one-key-urge" class="btn">一键催办</div>\n            <div class="btn">导出</div>\n        </div>\n    </div>\n    <div class="list m-top">\n        <table class="table table2 text-center">\n            <thead><tr>\n                <th>用户名</th>\n                <th>姓名</th>\n                <th>所属部门</th>\n                <th>参与时间</th>\n                <th>状态</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.researchRecords:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.program(14,i,0),data:i}))?l:"")+'            </tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination"></div>\n'},9:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return"                    <tr>\n                        <td>"+r(s(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n                        <td>"+r(s(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                        <td>"+r(s(null!=(l=null!=(l=null!=n?n.member:n)?l.organization:l)?l.name:l,n))+"</td>\n                        <td>"+r((a.dateTime||n&&n.dateTime||d).call(o,null!=n?n.createTime:n,{name:"dateTime",hash:{},data:i}))+"</td>\n                        <td>"+r((a.map||n&&n.map||d).call(o,"research-record-status",null!=n?n.status:n,{name:"map",hash:{},data:i}))+'</td>\n                        <td class="operation">\n'+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=n?n.status:n,"eq",0,{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=n?n.status:n,"eq",1,{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"                        </td>\n                    </tr>\n"},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <a id="urge-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((a.string||n&&n.string||r).call(s,"exam.exam.urge",{name:"string",hash:{},data:i}))+"</a>\n"},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <a id="detail-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((a.string||n&&n.string||r).call(s,"detail",{name:"string",hash:{},data:i}))+"</a>\n"},14:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"info",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/manage/urge/index",function(e,n,a){var t=e("./app/util/strings"),i=e("lodash/collection");a.items={main:"main"},a.title=function(){return t.get("exam.research.manage.urge-title")},a.store={models:{research:{},researchRecords:{},urge:{url:"../exam/research-activity/get-urge-template"},send:{url:"../exam/research-activity/send-urge-message"}},callbacks:{init:function(e){return this.models.urge.clear(),this.models.research.set(e.data.research),this.models.researchRecords.set(e.data.researchRecords),this.get(this.models.urge)},send:function(){var e=this;return this.models.send.set({memberIds:JSON.stringify(i.map(this.models.researchRecords.data,function(e){return e.member.id}))}),this.post(this.models.send).then(function(){e.app.message.success(t.get("send-success")),e.app.viewport.closePopup()})}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.buttons=[{text:t.get("send"),fn:function(){var e=this;return this.app.message.confirm(t.get("send-warn"),function(){return e.dispatch("send")}),!1}}]},{"./app/util/strings":"./app/util/strings","lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/manage/urge/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'<form class="vertical">\n    <div class="row"><div class="col-sm-12">\n        <span>发送给'+r(s(null!=(l=null!=n?n.members:n)?l.nameStr:l,n))+"等"+r(s(null!=(l=null!=n?n.members:n)?l.count:l,n))+'位用户：</span>\n    </div></div>\n    <div class="row"><div class="col-sm-12">\n        <textarea class="input w-full" name="message" rows="5" x-rule="required,maxLength:1000">\n            '+r(s(null!=(l=null!=n?n.urge:n)?l.content:l,n))+"\n        </textarea>\n    </div></div>\n</form>"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/manage/urge/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={urge:!0,researchRecords:!0},a.dataForTemplate={members:function(){var e=t.map(this.bindings.researchRecords.data,function(e){return e.member.fullName||e.member.name}),n=0,a=[];for(n;n<3;n++)e[n]&&a.push(e[n]);return{nameStr:a.join(",")+"...",count:this.bindings.researchRecords.data.length}}}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/manage/view-content",function(e,n,a){var t=e("lodash/collection");a.bindings={researchRecords:!0,research:!1},a.events={"click summary":"summary","click member":"addMember","click detail-*":"showDetail","click urge-*":"showUrge","click one-key-urge":"showOneKeyUrge"},a.handlers={summary:function(){var e=this.module.items["train/programme/research-activity/manage/summary"],n=this;this.app.viewport.ground(e,{researchQuestionaryId:n.bindings.research.data.id,callback:function(){}})},addMember:function(){var e=this.module.items["picker/members/select-member"],n=this;this.app.viewport.modal(e,{ids:"",singleCallback:function(e){return n.module.dispatch("addMember",{members:JSON.stringify(t.map(e,function(e){return e.member}))})}})},showDetail:function(e){var n=this.module.items["train/programme/research-activity/manage/detail"];this.app.viewport.ground(n,{researchRecordId:e,callback:function(){}})},showUrge:function(e){var n=this.module.items["train/programme/research-activity/manage/urge"];this.app.viewport.popup(n,{data:{researchRecords:[this.bindings.research.getResearchRecordById(e)],research:this.bindings.research.data},callback:function(){}})},showOneKeyUrge:function(){var e=this.module.items["train/programme/research-activity/manage/urge"];this.app.viewport.popup(e,{data:{research:this.bindings.research.data},callback:function(){}})}},a.components=[{id:"pager",name:"pager",options:{model:"researchRecords"}}]},{"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/manage/view-info",function(e,n,a){a.bindings={research:!0},a.components=[function(){return{id:"qrcode",name:"qrcode",options:{text:this.bindings.research.data.id}}}],a.dataForTemplate={researchUrl:function(e){return"https://wangda.chinamobile.com/#/exam/research-activity/index/"+e.research.id}}},{}),loadjs.d("./app/train/programme/research-activity/manage/view-search",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy");a.components=[{id:"status",name:"selectize"},{id:"joinTime",name:"flatpickr",options:{enableTime:!0,mode:"range"}}],a.dataForTemplate={status:function(){var e=t.get("research-record-status");return e.unshift({key:"999",value:"全部"}),e}},a.actions={"click search":"search"},a.dataForActions={search:function(e){var n=e.joinTime||"to";return i.assign(e,{createTimeStart:n.split("to")[0],createTimeEnd:n.split("to")[1],status:"999"===e.status?null:e.status})}}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1}),loadjs.d("./app/train/programme/research-activity/preview-questionary/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.title="问卷预览",a.items={side:"side",main:"main",description:""},a.store={models:{research:{url:"../exam/research-activity"},questions:{mixin:{init:function(e){var n=this;this.data=[],t.forEach(e,function(e){t.forEach(e.questions,function(e){n.data.push(e)})})},getQuestionById:function(e){return t.find(this.data,["id",e])}}},dimensions:{mixin:{init:function(e){this.data=t.map(e.dimensions,function(e,n){var a=e.questions||[];return i.assign(e,{questions:t.map(a,function(e,a){return i.assign(e,{index:a+1,dimensionIndex:n+1,statuss:0===n&&0===a?"current":"init"})}),questionSize:a.length})})},getFirstDimension:function(){return this.data[0]},getDimensionById:function(e){return t.find(this.data,["id",e])},selectQuestion:function(e){var n=this.data.findIndex(function(e){return t.some(e.questions,function(e){return"current"===e.statuss})});i.assign(t.find(this.data[n].questions,["statuss","current"]),{statuss:"init"}),n=this.data.findIndex(function(n){return!!t.find(n.questions,["id",e])}),i.assign(t.find(this.data[n].questions,["id",e]),{statuss:"current"})}}},state:{mixin:{init:function(){var e=this.module.store.models.dimensions,n=e.getFirstDimension();this.data=n?{currentDimension:n,currentQuestion:n.questions[0],totalQuestionsCount:this.module.store.models.questions.data.length}:{}},selectQuestion:function(e){var n=this.module.store.models.dimensions;i.assign(this.data,{currentQuestion:e,currentDimension:n.getDimensionById(e.dimensionId)})}}}},callbacks:{init:function(e){var n=this;return e.researchId?(this.models.research.set({id:e.researchId}),this.get(this.models.research).then(function(){n.models.dimensions.init(n.models.research.data),n.models.questions.init(n.models.dimensions.data),n.models.state.init()})):(e.research&&(this.models.research.set(e.research||{}),this.models.dimensions.init(e.research),this.models.questions.init(this.models.dimensions.data),this.models.state.init()),!0)},selectQuestion:function(e){this.models.state.selectQuestion(this.models.questions.getQuestionById(e.id)),this.models.dimensions.selectQuestion(e.id),this.models.dimensions.changed(),this.models.state.changed()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/preview-questionary/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-modalheight"><div class="achievement-content main-side" style="margin-top:-2.1em;">\n    <div class="achievement-side bg-color pull-left" style="position:relative;padding-bottom: 0;padding-left: 10px;padding-right: 10px;top: 0;bottom: 0;left: 0;border: none;width: 20%;padding: 0 0 90px 10px;overflow: hidden">\n        <div data-region="side"></div>\n    </div>\n    \x3c!--  .achievement-head(style=\'background: #f9f9f9;color: black\')(data-region=\'head\') --\x3e\n    \x3c!--  .achievement-head(data-region=\'head\') --\x3e\n    <div class="pull-right" style="width: 79.5%;" data-region="main"></div>\n</div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <div class="pull-left title">调研名称: '+e.escapeExpression(e.lambda(null!=(l=null!=n?n.research:n)?l.name:l,n))+"</div>\n    \x3c!--  .pull-right.title --\x3e\n    \x3c!--      .btn.white.m#closeResearch 关闭预览 --\x3e\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    \x3c!--  .achievement-preview-top --\x3e\n    \x3c!--      .com-title.text-center 关闭 --\x3e\n    <div class="achievement-preview-top" style="background: #777;color: white;height: 50px;line-height: 50px;margin: 0 -10px 0px;">\n        <div class="text-center">\n            本卷共\n            '+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.totalQuestionsCount:l,n))+'\n            题\n        </div>\n    </div>\n    <ul class="list">\n'+(null!=(l=a.each.call(s,null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"    </ul>\n"+(null!=(l=a.if.call(s,null!=(l=null!=n?n.research:n)?l.questionaryDetail:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'            <li class="border bottom" id="list-item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <div class="list-title"><i class="iconfont icon-type m-right"></i>'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                <div class="min-btn-groups">'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n            </li>\n"},7:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return"\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.statuss:n,"eq","init",{name:"compare",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.statuss:n,"eq","current",{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"                "},8:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item" href="#mlj'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="q-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"questionIndex",hash:{},data:i}):l))+"</a>\n"},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="list-item current" href="#mlj'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="q-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"questionIndex",hash:{},data:i}):l))+"</a>\n"},12:function(e,n,a,t,i){return'        <div id="questionaryDetail" class="text-left pointer" style="position:absolute; left:32px;">\n            问卷须知\n            <i class="iconfont icon-info"></i>\n        </div>\n'},14:function(e,n,a,t,i){var l;return'    \x3c!--  .achievement-main-head --\x3e\n    \x3c!--      .h3 > echo(research.name) --\x3e\n    <div class="achievement-head" style="background: #444">\n        <div class="title col-sm-12"><strong>调研名称: '+e.escapeExpression(e.lambda(null!=(l=null!=n?n.research:n)?l.name:l,n))+'</strong></div>\n    </div>\n    <div class="temporarypaper2-page preview-content border top no-margin">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isMutiple:n,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.program(21,i,0),data:i}))?l:"")+"        \x3c!--  if(isMutiple) --\x3e\n        \x3c!--      div > each(dimensions) --\x3e\n        \x3c!--          if(dimensionIndex) --\x3e\n        \x3c!--              .h3.m-bottom > echo(dimensionIndex '、' name) --\x3e\n        \x3c!--          each(questions) --\x3e\n        \x3c!--              div(data-dynamic-key=id) --\x3e\n        \x3c!--  else --\x3e\n        \x3c!--      .h3 > echo(state.currentDimension.name '(' state.currentQuestion.questionIndex '/' state.currentDimension.questionSize ')') --\x3e\n        \x3c!--      div(data-dynamic-key=state.currentQuestion.id) --\x3e\n    </div>\n"},15:function(e,n,a,t,i){var l;return"            <ul>"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},16:function(e,n,a,t,i){var l,s=null!=n?n:{};return"\n"+(null!=(l=a.if.call(s,null!=n?n.dimensionIndex:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+'                <li class="test-box test-1">'+(null!=(l=a.each.call(s,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+"</li>\n            "},17:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <div class="h4 m-left">\n                        <span>'+o((l=null!=(l=a.dimensionIndex||(null!=n?n.dimensionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"dimensionIndex",hash:{},data:i}):l))+"</span>\n                        <span>"+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'</span>\n                    </div>\n                    <div class="description-con m-left">\n                        <p class="des-con">'+o((l=null!=(l=a.description||(null!=n?n.description:n))?l:r,"function"==typeof l?l.call(s,{name:"description",hash:{},data:i}):l))+'</p>\n                        <span class="btn-des-more" id="desMore'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">\n                            <span class="text">展开</span>\n                            <i class="iconfont icon-arrow-down"></i>\n                        </span>\n                    </div>\n'},19:function(e,n,a,t,i){var l;return'\n                    <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n                '},21:function(e,n,a,t,i){var l,s=null!=n?n:{};return'            <div class="h4 m-bottom m-top">\n                '+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentDimension:l)?l.name:l,n))+"\n"+(null!=(l=a.if.call(s,null!=n?n.hasQuestion:n,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"+(null!=(l=a.if.call(s,null!=n?n.hasQuestion:n,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")+"            \x3c!--  .icon.pe-7s-angle-left-circle.pe-3x.m-right(id='prev') --\x3e\n            \x3c!--  .icon.pe-7s-angle-right-circle.pe-3x(id='next') --\x3e\n            \x3c!--  .preview-content --\x3e\n"},22:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return"                    ("+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.index:l,n))+"/"+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentDimension:l)?l.questionSize:l,n))+")\n"},24:function(e,n,a,t,i){var l;return'                <div class="m-top test-box test-1">\n                    <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n                </div>\n'},26:function(e,n,a,t,i){var l;return"    "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.research:n)?l.questionaryDetail:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"description",{name:"view",hash:{},fn:e.program(26,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/preview-questionary/view-description",function(e,n,a){a.title="问卷须知",a.small=!0,a.bindings={research:!0}},{}),loadjs.d("./app/train/programme/research-activity/preview-questionary/view-head",function(e,n,a){a.bindings={research:!1},a.events={"click closeResearch":"closeResearch"},a.handlers={closeResearch:function(){window.close()}}},{}),loadjs.d("./app/train/programme/research-activity/preview-questionary/view-main",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection"),l=e("drizzle-zxy"),s=e("./app/train/programme/research-activity/research-question-types"),r=e("jquery");a.type="dynamic",a.bindings={research:!0,questions:!0,state:!0},a.dataForTemplate={dimensions:function(e){var n=t.get("research-question-types"),a=t.get("chineseNumber");return i.map(e.research.dimensions,function(e,t){return l.assign(e,{dimensionIndex:i.find(a,["key",(t+1).toString()]).value,questions:i.map(e.questions,function(e,a){return l.assign(e,{questionIndex:a+1,typeDesc:i.find(n,["key",e.type.toString()]).value+"题"})})})})},isMutiple:function(e){return 1===e.research.answerPaperRule},hasQuestion:function(e){return!!e.state.currentQuestion}},a.getEntity=function(e){var n=this.module.store.models.questions.getQuestionById(e)||{},a=JSON.parse(JSON.stringify(n));return a=l.assign({},a,{questionAttrs:i.orderBy(i.map(a.questionAttrs,function(e){return e.score?l.assign(e,{score:e.score/100}):e}),["name"],["asc"]),score:a.score/100})},a.getEntityModuleName=function(e,n){return s.get(n.type,4)},a.dataForEntityModule=function(e){return{data:e,multiple:2===e.type,mode:this.module.store.models.research.data.type<3?0:1}},a.afterRender=function(){r(".description-con").each(function(e,n){var a=r(n).children(".des-con"),t=a.height(),i=r(n);t>30?a.addClass("text-overflow"):a.hasClass("text-overflow")||i.addClass("overflow-hidden")})},a.events={"click desMore*":"handleDesMore"},a.handlers={handleDesMore:function(e,n,a){var t=r(a);t.hasClass("active")?(t.removeClass("active"),t.siblings(".des-con").addClass("text-overflow"),t.children(".text").text("展开")):(t.addClass("active"),t.siblings(".des-con").removeClass("text-overflow"),t.children(".text").text("收起"))}}},{"./app/train/programme/research-activity/research-question-types":"./app/train/programme/research-activity/research-question-types","./app/util/maps":"./app/util/maps","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/preview-questionary/view-side",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection"),l=e("drizzle-zxy");a.bindings={research:!0,dimensions:!0,state:!0},a.dataForTemplate={dimensions:function(e){var n=t.get("research-question-types"),a=t.get("chineseNumber");return i.map(e.research.dimensions,function(e,t){return l.assign(e,{dimensionIndex:i.find(a,["key",(t+1).toString()]).value,questions:i.map(e.questions,function(e,a){return l.assign(e,{questionIndex:a+1,typeDesc:i.find(n,["key",e.type.toString()]).value+"题"})})})})}},a.events={"click q-*":"selectQuestion","click questionaryDetail":"questionaryDetail"},a.handlers={selectQuestion:function(e){return this.module.dispatch("selectQuestion",{id:e})},questionaryDetail:function(){return this.app.viewport.modal(this.module.items.description)}}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/question/add-question/index",function(e,n,a){var t,i,l=e("drizzle-zxy"),s={add:"新增试题",edit:"修改试题"};a.items={main:"main",question:"question",preview:""},a.title=function(){return this.renderOptions.titleType?s[this.renderOptions.titleType]:s.add},a.large=!0,a.store={models:{question:{url:"../exam/dimension/question"},state:{data:{}},itemPool:{data:{}},tempAddQuestionOptions:{},key:{}},callbacks:{init:function(e){var n=e.question||e.data,a=this.models.state;this.models.tempAddQuestionOptions.set(e),a.clear(),a.data.type=e.type||1,this.models.question.set(n),n&&this.models.key.set({id:n.id}),l.assign(a.data,n)},saveQuestion:function(e){var n,a=this,t=a.module.module,s=a.models.question,r=a.models.state,o=a.module.renderOptions.callback,d=a.models.tempAddQuestionOptions;return this.models.question.set(l.assign(r.data,e,this.module.renderOptions.data)),this.save(this.models.question).then(function(e){return a.app.message.success("保存成功"),o?(n=l.assign(r.data,{id:s.data.id,dimensionId:s.data.dimensionId,questionAttrs:r.data.questionAttrs}),o(i(n))):a.get(t.store.models.questions),a.models.state.clear(),a.models.key.clear(),a.renderOptions={},l.assign(d.data.data,{dimensionId:s.data.dimensionId}),e})},refresh:function(){delete this.module.renderOptions.question,this.models.state.changed()}}},a.buttons=function(){var e,n,a=[];return e={text:"保存",fn:function(){var e,n=this.items.question.getEntities()[0],a=this.items.main,i=n.getValue(),s=a.validate(),r=n.isValidate();return!(!s||!r)&&(!!i&&(e=t(l.assign({},i,a.getData(),this.renderOptions.data,{score:i.score?(100*i.score).toFixed(0):null})),n.clear(),this.renderOptions.callback&&l.assign(this.store.models.state.data,e),this.dispatch("saveQuestion",e)))}},n={text:"保存并新增",fn:function(){var n=this;return!!e.fn.call&&this.chain(e.fn.call(this),function(e){return!1!==e?n.dispatch("init",n.store.models.tempAddQuestionOptions.data).then(function(){return n.store.models.state.changed(),!1}):e})}},"edit"===this.renderOptions.titleType?a.push(e):(a.push(e),a.push(n)),a},t=function(e){var n={},a=JSON.stringify(e.questionAttrs);return n.value=a,l.assign(n,e)},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},i=function(e){return 6!==Number(e.type)?e:(l.assign(e,{subs:JSON.parse(e.value)}),e)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/research-activity/question/add-question/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choosequestion-page">\n    <div class="choosequestion" data-region="main"></div>\n    <div class="choosequestion" data-region="question"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <form class="form align-left">\n        <div class="form-row row-block">\n            <input type="hidden"/>\n            <label class="required">试题类型</label>\n            <div class="content">\n                <select id="type" class="col-sm-6" name="type" x-rule="required" x-marker="selectize" readonly>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"</select>\n                \x3c!--  .content --\x3e\n            </div>\n        </div>\n    </form>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                    <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n                "},5:function(e,n,a,t,i){return' selected="selected"'},7:function(e,n,a,t,i){var l
;return'    <form class="vertical">\n        <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.type:l,n))+'"></div>\n    </form>\n'},9:function(e,n,a,t,i){var l;return'    <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.id:l,n))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"question",{name:"view",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"preview",{name:"view",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/question/add-question/view-main",function(e,n,a){var t=e("./app/util/maps"),i=e("lodash/collection"),l=e("jquery"),s=e("./app/ext/views/form/markers"),r=e("./app/ext/views/form/validators");a.bindings={state:!1},a.events={"change type":"changeType"},a.handlers={changeType:function(e,n){var a=this;return a.bindings.state.data.type=n.value,a.module.dispatch("refresh")}},a.dataForTemplate={types:function(){var e=t.get("research-question-types"),n=this.bindings.state.data;return 4===n.sourceType&&(e=t.get("evaluate-question-types")),n&&i.map(e,function(e){var a=e;Number(a.key)===Number(n.type)&&(a.selected=!0)}),e},difficultys:function(){var e=t.get("question-difficultys"),n=this.bindings.state.data;return n&&i.map(e,function(e){var a=e;Number(a.key)===Number(n.difficulty)&&(a.selected=!0)}),e}},a.mixin={getData:function(){var e={};return e.type=l(this.$$('[name="type"]')).val(),e.difficulty=l(this.$$('[name="difficulty"]')).val(),e},validate:function(){var e=l(this.$$('[name="type"]')),n=!0;return s.text.valid(e),""!==e.val()&&null!==e.val()||(s.text.invalid(e,r.required.message),n=!1),n}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/maps":"./app/util/maps",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/question/add-question/view-preview",function(e,n,a){var t=e("./app/exam/exam-question-types");a.title="试题预览",a.type="dynamic",a.bindings={state:!0},a.getEntity=function(){return this.bindings.state.data},a.getEntityModuleName=function(e,n){return t.get(n.type,2)},a.dataForEntityModule=function(e){return{data:e,multiple:2===e.type,previewMode:1}}},{"./app/exam/exam-question-types":"./app/exam/exam-question-types"}),loadjs.d("./app/train/programme/research-activity/question/add-question/view-question",function(e,n,a){var t=e("./app/train/programme/research-activity/research-question-types"),i=e("drizzle-zxy"),l=e("lodash/collection");a.type="dynamic",a.bindings={state:!0},a.getEntity=function(){var e=this.module.renderOptions.question,n={};return e?(n=JSON.parse(JSON.stringify(e)),n=i.assign({},n,{questionAttrs:l.orderBy(l.map(n.questionAttrs,function(e){return e.score?i.assign(e,{score:e.score/100}):e}),["name"],["asc"]),score:n.score/100})):e},a.getEntityModuleName=function(e){return t.get(e,3)},a.dataForEntityModule=function(e){var n=e?e.type:this.bindings.state.data.type;return{type:n,data:e,multiple:2===Number(n),mode:this.module.renderOptions.hideScore?0:1}}},{"./app/train/programme/research-activity/research-question-types":"./app/train/programme/research-activity/research-question-types","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/question/types/detail/choise/index",function(e,n,a){var t=e("lodash/collection");a.items={main:"main"},a.store={models:{question:{mixin:{init:function(){var e=this;this.data.options=t.map(this.data.questionAttrs,function(n,a){return{code:String.fromCharCode(a+"A".charCodeAt(0)),text:n.value,selectPercent:e.countPercent(n.name),checked:e.isChecked(n.name)}})},countPercent:function(e){var n=t.filter(this.data.answerRecords,function(n){return n&&n.answer===e}).length,a=0===this.data.answerRecords.length?0:n/this.data.answerRecords.length;return Number(100*a).toFixed(2)},isChecked:function(e){return e===t.find(this.data.answerRecords,["researchRecordId",this.data.researchRecordId]).answer}}}},callbacks:{init:function(e){this.models.question.set(e.question),this.models.question.init()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/question/types/detail/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div id="main"></div>\n    <p class="question mb-1">\n        '+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".【\n        "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.question:n)?l.type:l,{name:"map",hash:{},data:i}))+'\n        】\n        <a class="normal" name="mlj-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</a>\n    </p>\n"+(null!=(l=a.if.call(o,null!=n?n.mutiple:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(8,i,0),data:i}))?l:"")},4:function(e,n,a,t,i){var l;return'        <div class="layout-mb border bottom dashed">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.question:n)?l.options:l,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"            <br/>\n        </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                <div class="clearfix layout-mb-small">\n                    <div class="pull-left layout-mr-small">\n                        <div class="inline-block">\n                            <div class="checkbox no-margin">\n                                <input '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="checkbox-'+c((s=null!=(s=a.index||i&&i.index)?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'"/>\n                                <label for="checkbox-'+c((s=null!=(s=a.index||i&&i.index)?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'"></label>\n                            </div>\n                        </div>\n                        <b>'+c((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,typeof s===d?s.call(r,{name:"code",hash:{},data:i}):s))+'.</b>\n                    </div>\n                    <div class="overflow">\n                        <div class="m-bottom">'+c((s=null!=(s=a.text||(null!=n?n.text:n))?s:o,typeof s===d?s.call(r,{name:"text",hash:{},data:i}):s))+'</div>\n                        <div class="w-half"><div class="progress-box">\n                            <div class="progress m-right"><div class="progress-bar" style="width:'+c((s=null!=(s=a.selectPercent||(null!=n?n.selectPercent:n))?s:o,typeof s===d?s.call(r,{name:"selectPercent",hash:{},data:i}):s))+'%"></div></div>\n                            <span class="m-left text-left">'+c((s=null!=(s=a.selectPercent||(null!=n?n.selectPercent:n))?s:o,typeof s===d?s.call(r,{name:"selectPercent",hash:{},data:i}):s))+"%</span>\n                        </div></div>\n                    </div>\n                </div>\n"},6:function(e,n,a,t,i){return' checked="checked"'},8:function(e,n,a,t,i){var l;return'        <div class="layout-mb border bottom dashed">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.question:n)?l.options:l,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"            <br/>\n        </div>\n"},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="clearfix layout-mb-small">\n                    <div class="pull-left layout-mr-small">\n                        <input '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio"/>\n                        <b>'+d((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,"function"==typeof s?s.call(r,{name:"code",hash:{},data:i}):s))+'.</b>\n                    </div>\n                    <div class="overflow">\n                        <div class="m-bottom">'+d((s=null!=(s=a.text||(null!=n?n.text:n))?s:o,"function"==typeof s?s.call(r,{name:"text",hash:{},data:i}):s))+'</div>\n                        <div class="w-half"><div class="progress-box">\n                            <div class="progress m-right"><div class="progress-bar" style="width:'+d((s=null!=(s=a.selectPercent||(null!=n?n.selectPercent:n))?s:o,"function"==typeof s?s.call(r,{name:"selectPercent",hash:{},data:i}):s))+'%"></div></div>\n                            <span class="m-left text-left">'+d((s=null!=(s=a.selectPercent||(null!=n?n.selectPercent:n))?s:o,"function"==typeof s?s.call(r,{name:"selectPercent",hash:{},data:i}):s))+"%</span>\n                        </div></div>\n                    </div>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/question/types/detail/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return"    "+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".【\n    "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.question:n)?l.type:l,{name:"map",hash:{},data:i}))+'\n    】\n    <a class="normal" name="mlj-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+'</a>\n    <div class="clearfix statistics-list">\n        <div class="statistics-list-tit">答：'+r(s(null!=(l=null!=(l=null!=n?n.question:n)?l.answerRecord:l)?l.answer:l,n))+'</div>\n        <div class="statistics-list-time">'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=(l=null!=n?n.question:n)?l.answerRecord:l)?l.createTime:l,{name:"dateTime",hash:{},data:i}))+"</div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/question/types/edit/choise/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection");a.items={content:"content",options:"options"},a.store={models:{state:{mixin:{isRichText:function(e){return/<[^>]+>/g.test(e)||/&nbsp;/gi.test(e)}}},bottom:{data:{}},img:{url:"../system/file/upload"}},callbacks:{init:function(e){var n,a,l,s=this.models.state.data,r=this.models.bottom,o=e.data,d=this.module.items.content;if(o){for(a=o.questionAttrs,r.data.score=o.score,t.assign(s,o),s.options=[],a=i.sortBy(a,"name"),n=0;n<a.length;n++)l=this.models.state.isRichText(a[n].value),s.options.push({content:a[n].value,contentText:a[n].valueText,score:a[n].score||0,isRichText:l});d.components.content.html(o.content)}else{for(s.options=[],n=0;n<4;n++)s.options.push({content:"",isRichText:!1});s.type=this.module.renderOptions.type}s.multiple=e.multiple||s.multiple,s.mode=e.mode||s.mode,this.models.state.changed(),r.changed()},addOption:function(){var e=this.models.state.data.options;if(e.length+1>10)return void this.app.message.error("选项只能添加10个");e.push({content:"",isRichText:!1}),this.models.state.changed()},changeContent:function(e){this.models.state.data.options[Number(e.index)].content=e.content},removeOption:function(e){var n=this.models.state.data.options;return n.length<=2?(this.app.message.error("至少需要两个选项"),!1):(n.splice(Number(e.index),1),this.models.state.changed())}}},a.mixin={getValue:function(){var e=this.items.options;return!!e.checkAnswer()&&e.getResult()},isValidate:function(){return this.items.content.validate()},clear:function(){this.renderOptions={}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/question/types/edit/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<form class="vertical">\n    <div class="choosequestion" data-region="content"></div>\n    <div class="choosequestion" data-region="options"></div>\n    <div class="choosequestion" data-region="score"></div>\n</form>'},3:function(e,n,a,t,i){var l;return'    <div class="form align-left">\n        <div class="form-row">\n            <label class="required">试题信息</label>\n            <textarea id="content" class="w-full" name="content" rows="5"></textarea>\n        </div>\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.showDiffculty:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){var l;return'            <div class="form-row">\n                <label class="required">难易度</label>\n                <select id="difficulty" class="input" name="difficulty" x-rule="required" x-marker="selectize" readonly>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.difficultys:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"</select>\n            </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                    <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n                "},6:function(e,n,a,t,i){return' selected="selected"'},8:function(e,n,a,t,i){var l;return'    <div class="layout-mt-small">\n        <label>选项</label>\n        <a id="add" class="decoration-none m-left" href="javascript:;">添加选项</a>\n        <ul class="layout-mt-small">\n            '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.options:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"\n        </ul>\n    </div>\n"},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'<li class="choosequestion-item w-half inline-block" id="item-'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <div class="relative">\n                    <div class="text"><span class="strong">选项'+c((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,typeof s===d?s.call(r,{name:"code",hash:{},data:i}):s))+":</span></div>\n"+(null!=(l=a.if.call(r,null!=n?n.isRichText:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))?l:"")+'                </div>\n                <div class="set-row clearfix">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.mode:n,"eq",1,{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+'                    <div class="pull-right text-tips m-top">\n                        <span data-dynamic-key="'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'"></span>\n                        <a class="decoration-none" href="javascript:;" id="remove-'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'" data-name="index" data-value="'+c((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,typeof s===d?s.call(r,{name:"index",hash:{},data:i}):s))+'">删除</a>\n                    </div>\n                </div>\n            </li>'},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                        <div class="input block choise-content" style="padding-left: 5em;">\n                            '+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+'\n                            <input type="hidden" id="content-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'"/>\n                        </div>\n'},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <textarea class="input block" placeholder="输入描述" id="content-'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'" data-name="index" data-value="'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'" rows="3">'+o((l=null!=(l=a.content||(null!=n?n.content:n))?l:r,"function"==typeof l?l.call(s,{name:"content",hash:{},data:i}):l))+"</textarea>\n"},14:function(e,n,a,t,i){var l;return'                        <div class="pull-left"><input class="input" placeholder="输入分数" id="score-'+e.escapeExpression((l=null!=(l=a.index||(null!=n?n.index:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"index",hash:{},data:i}):l))+'" x-rule="required,number,interval:0:1:10:0,keepDecimal:0"/></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/question/types/edit/choise/view-content",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/markers"),l=e("./app/ext/views/form/validators"),s=e("./app/util/maps"),r=e("lodash/collection");a.bindings={img:!0,state:!1},a.components=[{id:"content",name:"rich-text",options:{model:"img"}},{id:"difficulty",name:"selectize"}],a.dataForTemplate={showDiffculty:function(){return 2===this.module.renderOptions.editMode},difficultys:function(e){var n=s.get("question-difficultys");return e.state&&r.map(n,function(n){var a=n;Number(a.key)===e.state.difficulty&&(a.selected=!0)}),n}},a.events={"change content":"changeContent"},a.handlers={changeContent:function(){var e=t(this.$("content")),n=this.components.content.text(),a=new RegExp("\\{0\\}","g");i.text.valid(e),l.required.fn(n)?l.maxLength.fn(n,5e3)||i.text.invalid(e,l.maxLength.message.replace(a,5e3)):i.text.invalid(e,l.required.message)}},a.mixin={validate:function(){var e=t(this.$("content")),n=this.components.content.text(),a=!0,s=new RegExp("\\{0\\}","g");return i.text.valid(e),""!==n.trim()&&null!==n.trim()||(i.text.invalid(e,l.required.message),a=!1),l.maxLength.fn(n,5e3)||(i.text.invalid(e,l.maxLength.message.replace(s,5e3)),a=!1),a}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/maps":"./app/util/maps",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/question/types/edit/choise/view-options",function(e,n,a){var t=e("lodash/collection"),i=e("jquery"),l=e("./app/ext/views/form/validators"),s=e("drizzle-zxy"),r=function(e){return e.replace(/^\s+|\s+$/g,"")};a.type="dynamic",a.bindings={state:!0},a.dataForTemplate={options:function(e){var n=this;return t.map(e.state.options,function(e,a){var t=e;t.index=a,t.code=String.fromCharCode(t.index+"A".charCodeAt(0)),t.mode=n.bindings.state.data.mode}),e.state.options}},a.actions={"click add":"addOption","click remove-*":"removeOption"},a.dataForActions={addOption:function(e){return this.setResult(),e},removeOption:function(e){return this.setResult(),e}},a.getEntity=function(e){return e},a.getEntityModuleName=function(){return"train/programme/exam/question/senior-editor"},a.dataForEntityModule=function(e){var n=this,a=n.bindings.state;return{data:{id:e,value:a.data.options[e].content},callback:function(e,a,t){n.changeOptionContent(e,a,t)},getValue:function(){return i(n.$("content-"+e)).val()}}},a.mixin={checkAnswer:function(){return!this.checkEmptyOption()&&!this.checkMaxLengthOption()},setResult:function(){var e,n,a=[],t=this.bindings.state.data;for(e=0;e<t.options.length;e++)n=i(this.$("content-"+e)).val(),a.push(s.assign(t.options[e],{content:n,score:1===t.mode?i(this.$("score-"+e)).val():0}));t.options=a},getResult:function(){var e,n,a=[],t={},l=this.module.items.content,s=this.bindings.state.data,r=s.options;for(this.setResult(),e=0;e<r.length;e++)n=i(this.$("content-"+e)).val(),a.push({value:n,valueText:r[e].contentText||n,name:e,type:s.multiple?2:1,score:1===s.mode?100*i(this.$("score-"+e)).val():0});return t.questionAttrs=a,t.content=l.components.content.html(),t.contentText=l.components.content.text(),2===this.module.renderOptions.editMode&&(t.difficulty=l.$("difficulty").value),t.id=s.id,t},changeOptionContent:function(e,n,a){var t=this.bindings.state.isRichText(n);this.setResult(),this.bindings.state.data.options[e].content=n,this.bindings.state.data.options[e].contentText=a,this.bindings.state.data.options[e].isRichText=t,this.bindings.state.changed()},checkEmptyOption:function(){var e,n,a,t=this.bindings.state.data.options,l=0,s=!1,r=this.bindings.state.data,o="";if(t){for(l;l<t.length;l++)a=String.fromCharCode(l+"A".charCodeAt(0)),e=this.$("content-"+l),""===i.trim(e.value)?(s=!0,i(e).addClass("error"),o+=a):i(e).removeClass("error"),1===r.mode&&(n=this.$("score-"+l),i(n).removeClass("error"),this.checkScore(n.value,a)?i(n).removeClass("error"):(s=!0,i(n).addClass("error")));o&&this.app.message.error("选项"+o+"为必填项")}return s},checkMaxLengthOption:function(){var e,n,a=this.bindings.state.data.options,t=0,l=!1;if(a)for(t;t<a.length;t++)n=String.fromCharCode(t+"A".charCodeAt(0)),e=i(this.$("content-"+t)),e.val().length>5e3?(l=!0,i(e).addClass("error"),this.app.message.error("选项"+n+"内容超出最大长度：5000")):i(e).removeClass("error");return l},checkScore:function(e,n){return l.required.fn(e)?l.number.fn(e)?this.interval.fn(e,0,1,9999999.99,0)?this.keepDecimal.fn(e,2)?!new RegExp("^0").test(e)||(this.app.message.error("选项"+n+"分数不能以0开头"),!1):(this.app.message.error("选项"+n+"分数最多保留两位小数"),!1):(this.app.message.error("选项"+n+"分数范围为0-9999999.99"),!1):(this.app.message.error("选项"+n+"分数"+l.number.message),!1):(this.app.message.error("选项"+n+"分数"+l.required.message),!1)},interval:{fn:function(e,n,a,t,i){var l;return!e||(l=Number(e),"1"===a&&"1"===i?l>=n&&l<=t:"1"===a&&"1"!==i?l>=n&&l<t:"1"!==a&&"1"===i?l>n&&l<=t:"1"===a||"1"===i||l>n&&l<t)},length:4,message:"必须在 {0} ~ {2} 之间"},keepDecimal:{fn:function(e,n){var a;return""===r(e)||(a=e.toString().split("."),!(a.length>1)||a[1].length<=n)},length:1,message:"超出保留小数位"}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/question/types/edit/question-answer/index",function(e,n,a){var t=e("drizzle-zxy");a.items={content:"content"},a.store={models:{state:{data:{}},img:{url:"../system/file/upload"}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data;n&&(a.answer=n.questionAttrs[0].value,t.assign(a,n)),a.type=this.module.renderOptions.type}}},a.mixin={getValue:function(){return this.items.content.getResult()},isValidate:function(){return this.items.content.validate()},clear:function(){this.renderOptions={}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/programme/research-activity/question/types/edit/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="choise"><form class="vertical">\n    <div data-region="content"></div>\n</form>\n</div>'},3:function(e,n,a,t,i){var l;return'    <div class="form align-left">\n        <div class="form-row r-padding">\n            <label class="required">试题信息</label>\n            <textarea id="content" class="w-full" name="content" x-rule="required,maxLength:5000" x-marker="rich-text" x-target="content" maxlength="5000">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</textarea>\n        </div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/question/types/edit/question-answer/view-content",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/markers"),l=e("./app/ext/views/form/validators");a.bindings={img:!0,state:!1},a.components=[{id:"content",name:"rich-text",options:{model:"img"}}],a.events={"change content":"changeContent"},a.handlers={changeContent:function(){var e=t(this.$("content")),n=this.components.content.text(),a=new RegExp("\\{0\\}","g");i.text.valid(e),l.required.fn(n)?l.maxLength.fn(n,5e3)||i.text.invalid(e,l.maxLength.message.replace(a,5e3)):i.text.invalid(e,l.required.message)}},a.mixin={getResult:function(){var e={},n=this.bindings.state.data;return e.questionAttrs=[{value:"",name:"",type:5}],e.content=this.components.content.html(),e.contentText=this.components.content.text(),e.type=n.type,e.id=n.id,e},validate:function(){var e=t(this.$("content")),n=this.components.content.text(),a=!0,s=new RegExp("\\{0\\}","g");return i.text.valid(e),""!==n.trim()&&null!==n.trim()||(i.text.invalid(e,l.required.message),a=!1),l.maxLength.fn(n,5e3)||(i.text.invalid(e,l.maxLength.message.replace(s,5e3)),a=!1),a}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/research-activity/question/types/preview/choise/index",function(e,n,a){var t=e("./app/util/maps"),i=e("drizzle-zxy"),l=e("lodash/collection");a.items={content:"content",options:"options"},a.store={models:{state:{}},callbacks:{init:function(e){var n,a,s=this.models.state.data={options:[],title:"单选题",answer:"",id:e.data.id,index:e.data.index},r=e.data,o=t.get("question-difficultys"),d=t.get("question-types");if(r){for(i.assign(s,r),a=r.questionAttrs,a=l.sortBy(a,"name"),n=0;n<a.length;n++)s.options.push({content:a[n].value,score:a[n].score||0,isAnswer:0===Number(a[n].type),isRichText:!1}),0===Number(a[n].type)&&(s.answer+=String.fromCharCode(n+"A".charCodeAt(0)));s.score=r.score,s.content=r.content,r.difficulty&&(s.difficulty=o[Number(r.difficulty)-1].value),s.type=d[Number(r.type)-1].value,2===Number(r.type)&&(s.title="多选题")}s.mode||(s.mode=e.mode||0),this.models.state.changed()}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/question/types/preview/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="newevaluation-page">\n    <div class="newevaluation" data-region="content"></div>\n    <div class="newevaluation" data-region="options"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return"    <span>\n        "+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+"\n        [\n        "+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.state:n)?l.title:l,{name:"echoX",hash:{},data:i}))?l:"")+'\n        ] &nbsp;\n    </span>\n    <a class="normal" name="mlj-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</a>\n"},5:function(e,n,a,t,i){var l;return'    <div class="answer">\n        <ul>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.options:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n    </div>\n"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n            <li id="item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                <label class="answer-item">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.code:n,{name:"echoX",hash:{},data:i}))?l:"")+'</label>\n                <label class="m-right" for="answer-item-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.mode:n,"eq",1,{name:"compare",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+'                </label>\n                <span class="sub-text inline-block">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"\n                    \x3c!--  .answer-options > --\x3e</span>\n            </li>\n        "},7:function(e,n,a,t,i){var l;return"                        [\n                        "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=n?n.score:n,"分",{name:"echoX",hash:{},data:i}))?l:"")+"\n                        ]\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),
loadjs.d("./app/train/programme/research-activity/question/types/preview/choise/view-options",function(e,n,a){var t=e("lodash/collection");a.bindings={state:!0},a.dataForTemplate={options:function(e){var n=this;return t.map(e.state.options,function(e,a){var t=e;t.index=a,t.code=String.fromCharCode(t.index+"A".charCodeAt(0)),t.mode=n.bindings.state.data.mode}),e.state.options},showScore:function(){return 1===this.module.renderOptions.previewMode}}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/question/types/preview/question-answer/index",function(e,n,a){var t=e("./app/util/maps");a.items={content:"content",options:"options"},a.store={models:{state:{}},callbacks:{init:function(e){var n=e.data,a=this.models.state.data,i=t.get("question-types"),l=t.get("question-difficultys");a.content=n.content,a.answer=n.questionAttrs[0].value,a.score=n.score,a.type=i[Number(n.type)-1].value,a.id=n.id,a.index=n.index,n.difficulty&&(a.difficulty=l[Number(n.difficulty)-1].value),this.models.state.changed()}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps"}),loadjs.d("./app/train/programme/research-activity/question/types/preview/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="newevaluation" data-region="content"></div>\n    <div class="newevaluation" data-region="options"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return"    \x3c!-- .row --\x3e\n    \x3c!--   .col-xs-6 > .com-title 问答题 --\x3e\n    \x3c!--   .col-xs-6 > .m-top.text-right --\x3e\n    \x3c!--      | 本题分数： --\x3e\n    \x3c!--      echo(state.score) --\x3e\n    <spqn>\n        "+r(s(null!=(l=null!=n?n.state:n)?l.index:l,n))+'\n        [\n        问答题\n        ] &nbsp;\n    </spqn>\n    <a class="normal" name="mlj-'+r(s(null!=(l=null!=n?n.state:n)?l.id:l,n))+'">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</a>\n"},5:function(e,n,a,t,i){var l;return'    <ul class="layout-mt-small">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.options:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"</ul>\n"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing;return'\n        <li id="item-'+e.escapeExpression((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n            <div class="inline-block"><label class="no-margin" for="answer-item-1">'+(null!=(l=(a.echoX||n&&n.echoX||o).call(r,null!=n?n.content:n,{name:"echoX",hash:{},data:i}))?l:"")+"</label></div>\n        </li>\n    "},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"options",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/question/types/preview/question-answer/view-options",function(e,n,a){var t=e("lodash/collection");a.bindings={state:!0},a.dataForTemplate={options:function(e){return t.map(e.state.options,function(e,n){var a=e;a.index=n,a.code=String.fromCharCode(a.index+"A".charCodeAt(0))}),e.state.options}}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/question/types/summary/choise/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.items={main:"main"},a.store={models:{question:{mixin:{init:function(){var e=this;this.data.options=t.map(this.data.questionAttrs,function(n,a){return i.assign({code:String.fromCharCode(a+"A".charCodeAt(0)),text:n.value},e.getSelectData(n.name))}),this.data.answerCount=this.data.answerRecords.length},getSelectData:function(e){var n=t.filter(this.data.answerRecords,function(n){return n&&n.answer===e}).length,a=0===this.data.answerRecords.length?0:n/this.data.answerRecords.length;return{selectPercent:Number(100*a).toFixed(2),selectCount:n}}}}},callbacks:{init:function(e){this.models.question.set(e.question),this.models.question.init()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/research-activity/question/types/summary/choise/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div id="main"></div>\n    '+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".【\n    "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.question:n)?l.type:l,{name:"map",hash:{},data:i}))+'\n    】\n    <a class="normal" name="mlj-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+'</a>\n    <table class="table m-top">\n        <tr>\n            <th width="45%"> 选项</th>\n            <th width="10%">  计数</th>\n            <th width="45%">  比例</th>\n        </tr>\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.question:n)?l.options:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'    </table>\n    <div class="statistics-table-footer">本题有效填写人数    '+r(s(null!=(l=null!=n?n.question:n)?l.answerCount:l,n))+"</div>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return"            <tr>\n                <td>"+d((l=null!=(l=a.code||(null!=n?n.code:n))?l:r,typeof l===o?l.call(s,{name:"code",hash:{},data:i}):l))+"."+d((l=null!=(l=a.text||(null!=n?n.text:n))?l:r,typeof l===o?l.call(s,{name:"text",hash:{},data:i}):l))+"</td>\n                <td>"+d((l=null!=(l=a.selectCount||(null!=n?n.selectCount:n))?l:r,typeof l===o?l.call(s,{name:"selectCount",hash:{},data:i}):l))+'</td>\n                <td>\n                    <div class="progress-box">\n                        <div class="progress m-right"><div class="progress-bar" style="width:'+d((l=null!=(l=a.selectPercent||(null!=n?n.selectPercent:n))?l:r,typeof l===o?l.call(s,{name:"selectPercent",hash:{},data:i}):l))+'%"></div></div>\n                    </div>\n                    '+d((l=null!=(l=a.selectPercent||(null!=n?n.selectPercent:n))?l:r,typeof l===o?l.call(s,{name:"selectPercent",hash:{},data:i}):l))+"%\n                </td>\n            </tr>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/question/types/summary/question-answer/index",function(e,n,a){a.items={main:"main","train/programme/research-activity/question/types/summary/question-answer/more":{isModule:!0}},a.store={models:{question:{mixin:{init:function(){}}}},callbacks:{init:function(e){this.models.question.set(e.question)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/programme/research-activity/question/types/summary/question-answer/more/index",function(e,n,a){a.items={main:"main"},a.title="查看答题明细",a.large=!0,a.store={models:{question:{}},callbacks:{init:function(e){this.models.question.set(e.question)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/programme/research-activity/question/types/summary/question-answer/more/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="row"><div class="col-sm-12">\n        '+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.question:n)?l.researchQuestionary:l)?l.name:l,n))+'\n    </div></div>\n    <div class="row"><div class="col-sm-12">\n        '+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(s,"问题:  ",null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+'\n    </div></div>\n    <hr/>\n    <div class="row"><div class="col-sm-12">\n        <input class="input"/>\n        <button class="btn">查询</button>\n    </div></div>\n    <div class="row"><div class="col-sm-12">\n        <table class="table table2 text-center">\n            <thead><tr>\n                <th>姓名</th>\n                <th>答案内容</th>\n                <th>答题时间</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(s,null!=(l=null!=n?n.question:n)?l.answerRecords:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"</tbody>\n        </table>\n    </div></div>\n"},4:function(e,n,a,t,i){var l,s,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return"\n                <tr>\n                    <td>"+r(e.lambda(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                    <td>"+r((s=null!=(s=a.answer||(null!=n?n.answer:n))?s:d,"function"==typeof s?s.call(o,{name:"answer",hash:{},data:i}):s))+"</td>\n                    <td>"+r((a.dateTime||n&&n.dateTime||d).call(o,null!=n?n.createTime:n,{name:"dateTime",hash:{},data:i}))+"</td>\n                </tr>\n            "},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/question/types/summary/question-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return"    "+r(s(null!=(l=null!=n?n.question:n)?l.index:l,n))+".【\n    "+r((a.map||n&&n.map||d).call(o,"research-question-types",null!=(l=null!=n?n.question:n)?l.type:l,{name:"map",hash:{},data:i}))+'\n    】\n    <a class="normal" name="mlj-'+r(s(null!=(l=null!=n?n.question:n)?l.id:l,n))+'">'+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.question:n)?l.content:l,{name:"echoX",hash:{},data:i}))?l:"")+"</a>\n"+(null!=(l=a.each.call(o,null!=n?n.answerRecords:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(o,null!=n?n.biggerThan:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")},4:function(e,n,a,t,i){var l,s,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'        <div class="clearfix statistics-list">\n            <div class="statistics-list-tit">'+r(e.lambda(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"的回答："+r((s=null!=(s=a.answer||(null!=n?n.answer:n))?s:d,"function"==typeof s?s.call(o,{name:"answer",hash:{},data:i}):s))+'</div>\n            <div class="statistics-list-time">'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=n?n.createTime:n,{name:"dateTime",hash:{},data:i}))+"</div>\n        </div>\n"},6:function(e,n,a,t,i){return'        <a id="more" class="center-text">查看更多</a>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/question/types/summary/question-answer/view-main",function(e,n,a){a.bindings={question:!0},a.events={"click more":"viewMore"},a.handlers={viewMore:function(){var e=this.module.items["train/programme/research-activity/question/types/summary/question-answer/more"];this.app.viewport.modal(e,{question:this.bindings.question.data})}},a.dataForTemplate={biggerThan:function(e){return e.question.answerRecords.length>0},answerRecords:function(e){var n=[],a=e.question.answerRecords,t=0;for(t=0;t<a.length&&(n.push(a[t]),!(t+1>0));t++);return n}}},{}),loadjs.d("./app/train/programme/research-activity/research-publish/index",function(e,n,a){a.title="通知",a.items={main:"main"},a.store={models:{state:{},publishResearch:{url:"../exam/research-activity/publish"}},callbacks:{init:function(e){this.models.state.set({id:e.id,noticeTemplate:"您好，XXX 于 2016-04-05 23:45 发布了《调研名称》邀请来调研。",researchUrl:"https://wangda.chinamobile.com/#/exam/research-activity/index/"+e.id})},publishResearch:function(){var e=this;return this.models.publishResearch.set({id:this.models.state.data.id}),this.put(this.models.publishResearch).then(function(){e.app.message.success("发布成功"),e.module.renderOptions.callback()})}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.buttons=[{text:"确定",fn:function(){return this.dispatch("publishResearch")}}]},{}),loadjs.d("./app/train/programme/research-activity/research-publish/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <form class="vertical" data-region="main"></form>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="row">\n        <div class="col-sm-12">\n            <label>\n                <div class="inline-block m-right"></div>\n                <div class="checkbox inline-block no-margin">\n                    <input type="checkbox" id="isNoticeUser" value="1"/>\n                    <label for="isNoticeUser">是否通知相关用户</label>\n                </div>\n            </label>\n        </div>\n        <div class="col-sm-12">\n            <textarea class="col-sm-12">\n                '+r(s(null!=(l=null!=n?n.state:n)?l.noticeTemplate:l,n))+'\n            </textarea>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-sm-3">\n            <label>\n                <div class="inline-block m-right">调研链接</div>\n            </label>\n        </div>\n        <div class="col-sm-9">\n            '+r(s(null!=(l=null!=n?n.state:n)?l.researchUrl:l,n))+'\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-sm-3">\n            <label>\n                <div class="inline-block m-right">调研二维码</div>\n            </label>\n        </div>\n        <div class="col-sm-9">\n            <div id="code"></div>\n        </div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/research-activity/research-publish/view-main",function(e,n,a){a.bindings={state:!0},a.components=[function(){return{id:"code",name:"qrcode",options:{text:this.bindings.state.data.id}}}]},{}),loadjs.d("./app/train/programme/research-activity/research-question-types",function(e,n,a){var t={1:"choise",2:"choise",3:"judgement",4:"sentence-completion",5:"question-answer",6:"reading-comprehension",7:"line",8:"sorting"},i={1:"detail",2:"summary",3:"edit",4:"preview"},l=function(e,n){return"train/programme/research-activity/question/types/"+i[n]+"/"+t[e]};a.get=function(e,n){return l(e,n)},a.map=t},{}),loadjs.d("./app/train/programme/research-activity/validators",function(e,n,a){var t=function(e){return e.replace(/^\s+|\s+$/g,"")};n.exports={required:{fn:function(e){return t(e)&&t(e).length>0&&function(e){return e.replace(/&nbsp;/g,"")&&e.replace(/&nbsp;/g,"").length>0}(e)},length:0,message:"为必填项"},idCard:{fn:function(e){return""===t(e)||/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/.test(e)},length:0,message:"格式不正确"},number:{fn:function(e){return""===t(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t(e))},length:0,message:"只能填数字"},chinese:{fn:function(e){return""===t(e)||/^[\u4e00-\u9fa5]+$/.test(e)},length:0,message:"只能填汉字"},digits:{fn:function(e){return""===t(e)||/^\d+$/.test(t(e))},length:0,message:"只能填整数"},length:{fn:function(e,n){return t(e).length===Number(n)},length:1,message:"长度应该为: {0}"},minLength:{fn:function(e,n){return""===t(e)||t(e).length>=Number(n)},length:1,message:"最小长度为: {0}"},maxLength:{fn:function(e,n){return""===t(e)||t(e).length<=Number(n)},length:1,message:"最大长度为: {0}"},lessThan:{fn:function(e,n){return Number(e)<=Number(n)},length:1,message:"超出"},min:{fn:function(e,n){return""===t(e)||Number(e)>=Number(n)},length:1,message:"最小值为: {0}"},range:{fn:function(e,n,a){var t;return!e||(t=Number(e))>=Number(n)&&t<=Number(a)},length:2,message:"必须在 {0} ~ {1} 之间"},interval:{fn:function(e,n,a,t,i){var l;return!e||(l=Number(e),"1"===a&&"1"===i?l>=n&&l<=t:"1"===a&&"1"!==i?l>=n&&l<t:"1"!==a&&"1"===i?l>n&&l<=t:"1"===a||"1"===i||l>n&&l<t)},length:4,message:"必须在 {0} ~ {2} 之间"},equalTo:{fn:function(e,n){return e===n},length:1,message:"不一致"},phone:{fn:function(e){return""===t(e)||/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57]|19[1589])[0-9]{8}$/.test(e)},length:0,message:"格式不正确"},email:{fn:function(e){return""===t(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},length:0,message:"格式不正确"},url:{fn:function(e){return/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*/.test(e)},length:0,message:"格式不正确"},regexp:{fn:function(e,n){return""===t(e)||n.test(e)},length:1,message:"格式不正确"},keepDecimal:{fn:function(e,n){var a;return""===t(e)||(a=e.toString().split("."),!(a.length>1)||a[1].length<=n)},length:1,message:"超出保留小数位"}}},{}),loadjs.d("./app/train/programme/select-course/index",function(e,n,a){a.items={selected:"selected","train/programme/course-category":{isModule:!0}},a.title="添加课程",a.large=!0,a.store={models:{themeList:{url:"../train/theme"},selectedList:{url:"../train/online-course"},courseList:{url:"../course-study/course-info/select-for-train",type:"pageable",root:"items"},state:{data:{index:0}},targetList:{data:[]},delList:{data:[]},search:{}},callbacks:{init:function(e){var n=this.models.state.data,a=this.models.courseList,t=this.models.themeList,i=this.models.selectedList,l=this.models.targetList.data,s=this;n.classId=e.classId,t.params.classId=e.classId,t.params.type=2,this.models.courseList.clear(),this.get(a),this.models.search.clear(),i.params.classId=n.classId,this.get(i).then(function(e){s.models.targetList.data=[],l=[],l=e[0],s.models.targetList.data=l,s.models.targetList.changed()})},doSearch:function(e){var n=this.models.courseList,a=this.models.search;n.clear(),n.params=e,a.data=e,a.changed(),this.get(n)},searchKey:function(e){var n=this.models.courseList,a=this.models.search;n.clear(),n.params=e,a.data=e,a.changed(),this.get(n)},changeSearch:function(e){var n=this.models.search,a=this.models.state;n.clear(),n.set(e),a.changed(),n.changed()}}},a.beforeRender=function(){return this.dispatch("init",{classId:this.renderOptions.id})},a.buttons=[{text:"保存",fn:function(){var e=this.store.models.targetList.data,n=this.store.models.delList.data,a=this.store.models.state.data,t=a.themeId;this.renderOptions.callback(t,e,n)}}]},{}),loadjs.d("./app/train/programme/select-course/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="addtopicclass-page">\n    <div class="addtopicclass" data-region="selected"></div>\n</div>'},3:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=e.escapeExpression;return'    <div class="page-main-wrapper">\n        <div class="page-side bg-highlight layout-ml-small" style="overflow-y:scroll;">\n            <h4 class="m-top">已选课程</h4>\n            <table class="table"><div class="m-top">\n'+(null!=(l=a.each.call(r,null!=n?n.targetList:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'            </div></table>\n        </div>\n        <div class="page-main">\n            \x3c!--  .clearfix.filter-row.train-small --\x3e\n            \x3c!--      label.pull-left.m-right.tag-height 选择主题 --\x3e\n            \x3c!--      .content.overflow --\x3e\n            \x3c!--          select.w-full.choosetopic-title.tag-height#selectTheme(name=\'themeId\') --\x3e\n            \x3c!--              each(themeList) --\x3e\n            \x3c!--                  option(value=id)(\'selected\')&if(selected) > echo(name) --\x3e\n            <div id="searchKey" class="filter-row clearfix relative train-small">\n                <div class="pull-left">\n                    <div class="filter-item classname">\n                        <label class="m-right pull-left tag-height">课程名称</label>\n                        <div class="pull-left">\n                            <input id="name" class="input" name="name" value="'+o(e.lambda(null!=(l=null!=n?n.search:n)?l.name:l,n))+'"/>\n                        </div>\n                    </div>\n                    <div class="filter-item clearfix">\n                        <label class="pull-left m-right tag-height">课程分类</label>\n                        <div class="pull-left">\n'+(null!=(l=a.if.call(r,null!=(l=null!=n?n.search:n)?l.categoryName:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.program(14,i,0),data:i}))?l:"")+'                        </div>\n                        <div id="showCategory" class="small-btn pull-left" style="margin-bottom: 0;">选择</div>\n                    </div>\n                    <div class="filter-item clearfix"><div id="btnSearch" class="small-btn pull-left" style="margin-bottom: 0;">查询</div></div>\n                </div>\n            </div>\n            <table class="table text-center border around train">\n                <tr>\n                    <th>\n                        <input '+(null!=(l=a.if.call(r,null!=(l=null!=n?n.courseList:n)?l.checkAll:l,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" name="checkAll" value="'+o((s=null!=(s=a.id||(null!=n?n.id:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" id="checkAll" style="display:inline-block;"/>\n                    </th>\n                    <th>课程名称</th>\n                    <th>归属部门</th>\n                    <th>课程分类</th>\n                    <th>适用终端</th>\n                </tr>\n                '+(null!=(l=a.each.call(r,null!=n?n.courseList:n,{name:"each",hash:{},fn:e.program(18,i,0),inverse:e.program(27,i,0),data:i}))?l:"")+'\n            </table>\n            <div id="pager" class="pagination" style="float:none"></div>\n        </div>\n    </div>\n'},4:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.odd:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(10,i,0),data:i}))?l:""},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                        <tr class="bg-color-3">\n'+(null!=(l=a.if.call(r,null!=n?n.length:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+'                            <td>\n                                <i class="pointer m-right iconfont icon-arrow-up-solid custom-color-2" id="move-up-'+c((s=null!=(s=a.resourceId||(null!=n?n.resourceId:n))?s:o,typeof s===d?s.call(r,{name:"resourceId",hash:{},data:i}):s))+'" data-name="resourceId" data-value="'+c((s=null!=(s=a.resourceId||(null!=n?n.resourceId:n))?s:o,typeof s===d?s.call(r,{name:"resourceId",hash:{},data:i}):s))+'"></i>\n                                <i class="pointer m-right iconfont icon-arrow-down-solid custom-color-2" id="move-down-'+c((s=null!=(s=a.resourceId||(null!=n?n.resourceId:n))?s:o,typeof s===d?s.call(r,{name:"resourceId",hash:{},data:i}):s))+'" data-name="resourceId" data-value="'+c((s=null!=(s=a.resourceId||(null!=n?n.resourceId:n))?s:o,typeof s===d?s.call(r,{name:"resourceId",hash:{},data:i}):s))+'"></i>\n                                <i class="pointer m-right iconfont icon-delete-solid custom-color-3" id="del-target-'+c((s=null!=(s=a.resourceId||(null!=n?n.resourceId:n))?s:o,typeof s===d?s.call(r,{name:"resourceId",hash:{},data:i}):s))+'" data-name="resourceId" data-value="'+c((s=null!=(s=a.resourceId||(null!=n?n.resourceId:n))?s:o,typeof s===d?s.call(r,{name:"resourceId",hash:{},data:i}):s))+'"></i>\n                            </td>\n                        </tr>\n'},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <td title="'+o((l=null!=(l=a.resourceName||(null!=n?n.resourceName:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceName",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.newName||(null!=n?n.newName:n))?l:r,"function"==typeof l?l.call(s,{name:"newName",hash:{},data:i}):l))+"</td>\n"},8:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <td title="'+o((l=null!=(l=a.resourceName||(null!=n?n.resourceName:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceName",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.resourceName||(null!=n?n.resourceName:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceName",hash:{},data:i}):l))+"</td>\n"},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return"                        <tr>\n"+(null!=(l=a.if.call(r,null!=n?n.length:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+'                            <td>\n                                <i class="pointer m-right iconfont icon-arrow-up-solid custom-color-2" id="move-up-'+c((s=null!=(s=a.resourceId||(null!=n?n.resourceId:n))?s:o,typeof s===d?s.call(r,{name:"resourceId",hash:{},data:i}):s))+'" data-name="resourceId" data-value="'+c((s=null!=(s=a.resourceId||(null!=n?n.resourceId:n))?s:o,typeof s===d?s.call(r,{name:"resourceId",hash:{},data:i}):s))+'"></i>\n                                <i class="pointer m-right iconfont icon-arrow-down-solid custom-color-2" id="move-down-'+c((s=null!=(s=a.resourceId||(null!=n?n.resourceId:n))?s:o,typeof s===d?s.call(r,{name:"resourceId",hash:{},data:i}):s))+'" data-name="resourceId" data-value="'+c((s=null!=(s=a.resourceId||(null!=n?n.resourceId:n))?s:o,typeof s===d?s.call(r,{name:"resourceId",hash:{},data:i}):s))+'"></i>\n                                <i class="pointer m-right iconfont icon-delete-solid custom-color-3" id="del-target-'+c((s=null!=(s=a.resourceId||(null!=n?n.resourceId:n))?s:o,typeof s===d?s.call(r,{name:"resourceId",hash:{},data:i}):s))+'" data-name="resourceId" data-value="'+c((s=null!=(s=a.resourceId||(null!=n?n.resourceId:n))?s:o,typeof s===d?s.call(r,{name:"resourceId",hash:{},data:i}):s))+'"></i>\n                            </td>\n                        </tr>\n'},12:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                                <div class="relative train-verify">\n                                    <input id="categoryName" class="input" placeholder="全部" name="categoryName" disabled value="'+r(s(null!=(l=null!=n?n.search:n)?l.categoryName:l,n))+'"/>\n                                    <div id="clearCategory" class="iconfont icon-close pointer icon"></div>\n                                </div>\n                                <input id="categoryId" type="hidden" name="category" value="'+r(s(null!=(l=null!=n?n.search:n)?l.categoryId:l,n))+'"/>\n'},14:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                                <input id="categoryName" class="input" placeholder="全部" name="categoryName" disabled value="'+r(s(null!=(l=null!=n?n.search:n)?l.categoryName:l,n))+'"/>\n                                <input id="categoryId" type="hidden" name="category" value="'+r(s(null!=(l=null!=n?n.search:n)?l.categoryId:l,n))+'"/>\n'},16:function(e,n,a,t,i){return' checked="checked"'},18:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return"<tr>\n                    <td><input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" name="ids" value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" id="course-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" style="display:inline-block;"/></td>\n                    <td title="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'">\n'+(null!=(l=a.if.call(r,null!=n?n.length:n,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.program(21,i,0),data:i}))?l:"")+'                    </td>\n                    <td title="'+d(c(null!=(l=null!=n?n.organization:n)?l.name:l,n))+'">\n'+(null!=(l=a.if.call(r,null!=n?n.org:n,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.program(25,i,0),data:i}))?l:"")+"                    </td>\n                    <td>"+d(c(null!=(l=null!=n?n.category:n)?l.name:l,n))+"</td>\n                    <td>"+d((a.map||n&&n.map||o).call(r,"compatible-client",null!=n?n.publishClient:n,{name:"map",hash:{},data:i}))+"</td>\n                </tr>\n"},19:function(e,n,a,t,i){var l;return"                            "+e.escapeExpression((l=null!=(l=a.newName||(null!=n?n.newName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"newName",hash:{},data:i}):l))+"\n"},21:function(e,n,a,t,i){var l;return"                            "+e.escapeExpression((l=null!=(l=a.name||(null!=n?n.name:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"name",hash:{},data:i}):l))+"\n"},23:function(e,n,a,t,i){var l;return"                            "+e.escapeExpression((l=null!=(l=a.newOrgName||(null!=n?n.newOrgName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"newOrgName",hash:{},data:i}):l))+"\n"},25:function(e,n,a,t,i){var l
;return"                            "+e.escapeExpression(e.lambda(null!=(l=null!=n?n.organization:n)?l.name:l,n))+"\n"},27:function(e,n,a,t,i){return'                    <tr><td colspan="5"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"selected",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/select-course/view-selected",function(e,n,a){var t=e("lodash/collection");a.bindings={targetList:!0,state:!1,courseList:!0,themeList:!0,delList:!1,selectedList:!1,search:!0},a.components=[{id:"pager",name:"pager",options:{model:"courseList"}},{id:"owner",name:"picker",options:{picker:"owner"}}],a.events={"click move-up-*":"moveUp","click move-down-*":"moveDown","click course-*":"selected","change selectTheme":"changeTheme","click submitOffline":"save","click showCategory":"showCategory","click del-target-*":"delTarget","click clearCategory":"clearCategory","click checkAll":"checkAll"},a.handlers={checkAll:function(e,n){var a,i,l=this.bindings.courseList.data,s=this.bindings.targetList.data,r=this.bindings.state.data,o=[],d=this.bindings.delList.data;t.map(this.$$('input[name="ids"]'),function(e){var a=e||{},t=a.value;a.checked=n.checked,o.push(t)}),n.checked?t.map(l,function(e){t.find(s,["resourceId",e.id])||(a={},r.index++,a.id=e.id,a.classId=r.classId,a.type=1,a.resourceId=e.id,i=l.findIndex(function(n){return n.id===e.id}),a.resourceName=l[i].name,a.sort=r.index,a.isRequired=1,s.push(a))}):s=t.filter(s,function(e){return-1!==o.indexOf(e.resourceId)&&d.push(e),-1===o.indexOf(e.resourceId)}),s=t.sortBy(s,["sort"]),this.bindings.targetList.data=s,this.bindings.targetList.changed()},moveUp:function(e){var n,a,t,i=this.bindings.targetList.data;(a=i.findIndex(function(n){return n.resourceId===e}))<=0||(n=i[a],t=i[a-1].sort,i[a]=i[a-1],i[a].sort=n.sort,i[a-1]=n,i[a-1].sort=t,this.bindings.targetList.changed())},moveDown:function(e){var n,a,t,i=this.bindings.targetList.data;(a=i.findIndex(function(n){return n.resourceId===e}))>=i.length-1||(n=i[a],t=i[a+1].sort,i[a]=i[a+1],i[a].sort=n.sort,i[a+1]=n,i[a+1].sort=t,this.bindings.targetList.changed())},selected:function(e){var n,a,t=this.bindings.courseList.data,i=this.bindings.targetList.data,l=this.bindings.state.data,s=this.bindings.delList.data,r=this.bindings.selectedList.data;this.$("course-"+e).checked?(a=r.findIndex(function(n){return n.resourceId===e}),n={},l.index++,n.id=e,n.classId=l.classId,n.type=1,n.resourceId=e,a=t.findIndex(function(n){return n.id===e}),n.resourceName=t[a].name,n.sort=l.index,n.isRequired=1,i.push(n)):(a=i.findIndex(function(n){return n.resourceId===e}),s.push(i[a]),i.splice(a,1)),this.bindings.targetList.changed()},changeTheme:function(){var e=this.bindings.selectedList,n=this.bindings.targetList.data,a=this.bindings.state.data,i=this.$("selectTheme").value;a.themeId=i,n=[],t.map(e.data||[],function(e){var a=e;a.themeId===i&&n.push(a)}),this.bindings.targetList.data=n,this.bindings.targetList.changed()},save:function(){var e=this.bindings.targetList.data,n=this.bindings.delList.data;this.module.renderOptions.callback(e,n),this.app.viewport.closeModal()},showCategory:function(){var e=this.module.items["train/programme/course-category"],n=this;n.app.viewport.modal(e,{callback:function(e){var a={};a.categoryId=e.id,a.categoryName=e.name,a.name=n.$("name").value,n.module.dispatch("changeSearch",a)}})},delTarget:function(e){var n,a=this.bindings.targetList.data,i=this.bindings.delList.data;n=this.bindings.targetList.data.findIndex(function(n){return n.resourceId===e}),a=t.filter(a,function(n){return n.resourceId!==e}),i.push(this.bindings.targetList.data[n]),this.bindings.targetList.data=a,this.bindings.targetList.changed(),this.bindings.courseList.changed()},clearCategory:function(){var e=this.bindings.search.data;e.categoryId="",e.categoryName="",e.name=this.$("name").value,this.module.dispatch("changeSearch",e)}},a.dataForTemplate={targetList:function(){var e=this.bindings.targetList.data;return t.map(e||[],function(e,n){var a=e,t=n;a.resourceName&&a.resourceName.length>10?(a.length=!0,a.newName=a.resourceName.substring(0,10)+"..."):a.length=!1,t%2==0&&(a.odd=!0)}),e},search:function(){return this.bindings.search.data},courseList:function(){var e,n=this.bindings.courseList,a=this.bindings.targetList.data,i=[],l=0;return t.map(a,function(e){i.push(e.resourceId)}),t.map(n.data||[],function(n){var t=n;e=a.findIndex(function(e){return e.resourceId===t.id}),t.name&&t.name.length>10?(t.length=!0,t.newName=t.name.substring(0,10)+"..."):t.length=!1,t.organization.name&&t.organization.name.length>10?(t.org=!0,t.newOrgName=t.organization.name.substring(0,10)+"..."):t.org=!1,t.checked=e>-1,-1!==i.indexOf(t.id)&&l++}),n.data.checkAll=!1,n.data&&n.data.length>0&&n.data.length===l&&(n.data.checkAll=!0),n.data},themeList:function(){var e=this.bindings.themeList,n=this.bindings.state.data;return t.map(e.data||[],function(e){var a=e;a.id===n.themeId?a.selected=!0:a.selected=!1}),e.data}},a.actions={"click btnSearch":"doSearch","keypress searchKey":"searchKey"},a.dataForActions={doSearch:function(){return{name:this.$("name").value.trim(),category:this.$("categoryId").value.trim(),businessType:0,categoryName:this.$("categoryName").value.trim()}},searchKey:function(e){return 13===(e.keyCode||e.which||e.charCode)&&{name:this.$("name").value.trim(),category:this.$("categoryId").value.trim(),businessType:0,categoryName:this.$("categoryName").value.trim()}}},a.actionCallbacks={}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/select-lecturer/index",function(e,n,a){a.title="选择讲师",a.items={content:"content",filter:"filter"},a.store={models:{lecturers:{url:"../train/lecturer/find-external-lecturer",type:"pageable",root:"items"},state:{}},callbacks:{init:function(){var e=this.models.lecturers;return e.clear(),e.params={name:"",page:1,pageSize:10},this.get(e)},refreshList:function(e){var n=this.models.lecturers;return n.clear(),n.params=e,this.get(n)},searchKey:function(e){var n=this.models.lecturers;return n.clear(),n.params=e,this.get(n)}}},a.buttons=[{text:"确定",fn:function(){return this.renderOptions.callback(this.store.models.state.data.lecturer),!0}}],a.afterRender=function(){return this.dispatch("init")}},{}),loadjs.d("./app/train/programme/select-lecturer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="div" data-region="filter"></div>\n    <div class="div" data-region="content"></div>\n'},3:function(e,n,a,t,i){return'<form id="searchKey" class="vertical layout-mb-small">\n    <div class="filter-row train-small">\n        <div class="filter-item">\n            <leabel>讲师姓名</leabel>\n            <input class="input" name="name"/>\n        </div>\n        <div class="filter-item">\n            <btn id="searchMember" class="btn">查询</btn>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l;return'    <div class="list">\n        <table class="table text-center border around train">\n            <thead><tr>\n                <th></th>\n                <th>讲师姓名</th>\n                <th>讲师来源</th>\n                <th>单位</th>\n                <th>职务/职称</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.lecturers:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(19,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination" style="float:none"></div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'<tr>\n                <td><input class="input" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' name="lecturerId" type="radio" id="select-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"/></td>\n                <td>'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                <td>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.sourceType:n,"eq",0,{name:"compare",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+"                </td>\n                <td>\n"+(null!=(l=a.if.call(r,null!=n?n.unit:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+"                </td>\n                <td>\n"+(null!=(l=a.if.call(r,null!=n?n.jobName:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.program(15,i,0),data:i}))?l:"")},7:function(e,n,a,t,i){return' checked="checked"'},9:function(e,n,a,t,i){return"                        自建\n"},11:function(e,n,a,t,i){return"                        班级\n"},13:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression((l=null!=(l=a.unit||(null!=n?n.unit:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"unit",hash:{},data:i}):l))+"\n"},15:function(e,n,a,t,i){return"                        -\n"},17:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression((l=null!=(l=a.jobName||(null!=n?n.jobName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"jobName",hash:{},data:i}):l))+"\n"},19:function(e,n,a,t,i){return'                    <tr><td colspan="6"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n                </td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"filter",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/select-lecturer/view-content",function(e,n,a){var t=e("lodash/collection");a.components=[{id:"pager",name:"pager",options:{model:"lecturers"}}],a.bindings={state:!0,lecturers:!0},a.dataForTemplate={lecturers:function(e){var n=this.bindings.lecturers.getPageInfo().page;return t.map(e.lecturers||[],function(e,a){e.i=a+1+10*(n-1)}),e.lecturers}},a.events={"click select-*":"select"},a.handlers={select:function(e){var n=t.find(this.bindings.lecturers.data,function(n){return n.id===e});this.bindings.state.data.lecturer=n}},a.searchChange=function(){this.module.dispatch("refreshList",this.bindings.search.getQueryParams())}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/select-lecturer/view-filter",function(e,n,a){a.bindings={state:!0},a.actions={"click searchMember":"refreshList","keypress searchKey":"searchKey"},a.dataForActions={refreshList:function(e){return{name:e.name.trim()}},searchKey:function(e,n){return 13===(n.keyCode||n.which||n.charCode)&&{name:e.name.trim()}}}},{}),loadjs.d("./app/train/programme/select-member/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection");a.title="选择用户",a.large=!0,a.items={content:"content",toolbox:"toolbox","human/organization/navigate-tree":{isModule:!0,region:"left",uri:"human/member"}},a.store={models:{members:{url:"../human/member/picker-for-train",type:"pageable",root:"items"},state:{data:{},mixin:{keepCheckedMembers:function(e,n){var a=this.data.checkedMembers||[];a.push({member:e,checked:n}),this.data.checkedMembers=a}}},search:{data:{},mixin:{getQueryParams:function(){return this.data.organizationId?{organizationId:this.data.organizationId}:{}}}}},callbacks:{refreshList:function(e){var n=t.assign({status:1},this.models.search.getQueryParams()),a=this.models.members;e&&t.assign(n,{name:e.name.trim(),fullName:e.fullName.trim()}),a.clear(),a.params=n,this.get(a)},searchKey:function(e){var n=t.assign({status:1},this.models.search.getQueryParams(),e),a=this.models.members;a.clear(),a.params=n,this.get(a)}}},a.mixin={nodeChanged:function(e){var n=this.store.models.search;n.data.organizationId=e.id,n.changed(),this.dispatch("refreshList")}},a.buttons=[{text:"确定",fn:function(){var e,n=this.renderOptions.callback,a=this.renderOptions.singleCallback,t=this.store.models.state.data.checkedMembers||[];return!(a&&void 0!==(e=a(t))&&!e)&&(n&&i.map(t,function(e){n(e.member,e.checked)}),this.store.models.state.data.checkedMembers=[],!0)}}]},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/select-member/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="toolbox" data-region="toolbox"></div>\n    <div class="content-left" data-region="left"></div>\n    <div class="content-main" data-region="content"></div>\n'},3:function(e,n,a,t,i){return'<form id="searchKey" class="vertical layout-mb-small">\n    <div class="filter-row train-small">\n        <div class="filter-item">\n            <leabel>员工编号</leabel>\n            <input class="input" name="name"/>\n        </div>\n        <div class="filter-item">\n            <label>姓名</label>\n            <input class="input" name="fullName"/>\n        </div>\n        <div class="filter-item">\n            <btn id="searchMember" class="btn">查询</btn>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'    <div class="list">\n        <table class="table text-center border around train">\n            <thead><tr>\n                <th>选择</th>\n                <th>'+o((a.setting||n&&n.setting||r).call(s,"human.member.full-name",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.name",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.sex",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.position-alias",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"system.all.organization",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"system.all.company",{name:"setting",hash:{},data:i}))+"</th>\n            </tr></thead>\n            <tbody>"+(null!=(l=a.each.call(s,null!=n?n.members:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination" style="float:none"></div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return"<tr>\n                <td>\n                    <input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                    <label for="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"></label>\n                </td>\n                <td>'+c((s=null!=(s=a.fullName||(null!=n?n.fullName:n))?s:o,typeof s===d?s.call(r,{name:"fullName",hash:{},data:i}):s))+"</td>\n                <td>"+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                <td>"+c((s=null!=(s=a.sexText||(null!=n?n.sexText:n))?s:o,typeof s===d?s.call(r,{name:"sexText",hash:{},data:i}):s))+"</td>\n                <td>"+c(u(null!=(l=null!=n?n.majoyPosition:n)?l.name:l,n))+"</td>\n                <td>"+c(u(null!=(l=null!=n?n.organization:n)?l.name:l,n))+"</td>\n                <td>"+c(u(null!=(l=null!=n?n.organization:n)?l.companyName:l,n))+"\n"},7:function(e,n,a,t,i){return' checked="checked"'},9:function(e,n,a,t,i){return'                    <tr><td colspan="7"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr></td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"toolbox",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/select-member/view-content",function(e,n,a){var t=e("lodash/collection");a.components=[{id:"pager",name:"pager",options:{model:"members"}}],a.title="选择用户",a.bindings={members:!0,state:!1},a.events={"click select_*":"checkMember"},a.handlers={checkMember:function(e,n,a){var i=t.find(this.bindings.members.data,function(n){return n.id===e});this.bindings.state.keepCheckedMembers(i,a.checked)}},a.dataForTemplate={members:function(e){var n=this.module.renderOptions.ids;return t.map(e.members||[],function(e){var a=e||{};n&&-1!==n.indexOf(a.id)&&(a.checked=!0),a.sexText=1===a.sex?"女":"男"}),e.members}},a.searchChange=function(){this.module.dispatch("refreshList",this.bindings.search.getQueryParams())}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/select-research-activity/index",function(e,n,a){var t=e("drizzle-zxy"),i={ADD:"add",EDIT:"edit"},l=e("lodash/collection");a.RESEARCH_TYPE=2,a.SELECT_MODULE="train/programme/research-activity/add-research-third-party",a.items={search:"search",content:"content","train/trainee/select-member-radio":{isModule:!0},"train/programme/research-activity/add-research-third-party":{isModule:!0},"train/programme/research-activity/preview-questionary":{isModule:!0}},a.large=!0,a.title="选择问卷",a.store={models:{search:{},researchActivities:{url:"../exam/research-activity/front/find-for-train",type:"pageable",root:"items"},research:{},state:{},questionnaireList:{url:"../train/questionnaire"},copyBusiness:{url:"../exam/research-activity/copy-business"}},callbacks:{init:function(e){var n=this.models.research,a=this.models.state.data,i=e.classId,l=this.models.questionnaireList;return this.models.researchActivities.clear(),l.clear(),e.researchId&&this.models.research.set({id:e.researchId}),a.organizationId=e.organizationId,t.assign(this.models.researchActivities.params,{type:this.module.options.RESEARCH_TYPE,publishTimeEnd:"",publishTimeStart:"",organizationId:e.organizationId,name:"",publishMember:""}),t.assign(l.params,{classId:i}),t.assign(n.data,{sourceType:e.sourceType||1}),this.chain([this.get(this.models.researchActivities),this.get(l)])},search:function(e){var n,a,i,l,s,r,o,d,c,u,m,p,h=e.createTime||"to";a=h.split("to")[1].trim(),n=h.split("to")[0].trim(),n&&(s=n.split(" "),r=s[0].split("-"),p=s[1].split(":"),o=r[0],d=r[1],c=r[2],u=p[0],m=p[1],i=new Date(o,d-1,c,u,m).getTime()),a&&(s=a.split(" "),r=s[0].split("-"),p=s[1].split(":"),o=r[0],d=r[1],c=r[2],u=p[0],m=p[1],l=new Date(o,d-1,c,u,m).getTime()),i=new Date(n).getTime(),l=new Date(a).getTime(),t.assign(this.models.researchActivities.params||{},e,{publishTimeStart:i||"",publishTimeEnd:l||""}),this.get(this.models.researchActivities)},copyBusiness:function(e){var n=this.models.copyBusiness;return n.set({id:e.id,sourceType:this.module.renderOptions.sourceType}),this.save(n)}}},a.buttons=[{text:"选择",fn:function(){var e,n=this.renderOptions.callback,a=this.items.content,i=this.store.models.questionnaireList.data,s=this;return a.getData()?(e=l.find(i,["sourceId",a.getData().id]),e?(this.app.message.error("您选择的问卷已存在该班级，请重新选择"),!1):this.dispatch("copyBusiness",{id:a.getData().id}).then(function(){n&&n(t.assign(s.store.models.copyBusiness.data,{isAdd:0}))})):(this.app.message.error("请选择数据"),!1)}},{text:"新增",fn:function(){var e=this.items[this.options.SELECT_MODULE],n=this.store.models.research.data,a=this,l=this.store.models.state.data.organizationId;return this.app.viewport.modal(e,{researchId:n.id,sourceType:n.sourceType||1,titleType:n.id?i.EDIT:i.ADD,arriveDate:a.renderOptions.arriveDate,callback:function(e){var n=a.renderOptions.callback;return a.dispatch("init",{organizationId:l,classId:a.renderOptions.classId}).then(function(){n&&n(t.assign(e,{isAdd:1}))})}}),!1}}],a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/select-research-activity/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="addevaluation-page">\n    <div class="addevaluation" data-region="search"></div>\n    <div class="addevaluation" data-region="content"></div>\n</div>'},3:function(e,n,a,t,i){return'<form class="vertical">\n    <div>\n        <div class="form align-left">\n            <div class="form-row pull-left w-half r-padding row-block">\n                <label class="label tag-height">调研名称</label>\n                <input id="name" class="input tag-height" name="name"/>\n            </div>\n            <div class="form-row pull-left w-half row-block">\n                <label class="label tag-height">发布人</label>\n                <input id="publishMemberName" class="input tag-height" name="publishMember"/>\n            </div>\n            <label class="label tag-height">发布时间</label>\n            <input id="create-time" class="input date w-full tag-height" name="createTime"/>\n        </div>\n        <div class="pull-right m-top m-bottom"><div id="search" class="btn small">查询</div></div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l;return'    <table class="table layout-mt-small text-center train border around">\n        <thead><tr>\n            <th>选择</th>\n            <th>调研名称</th>\n            <th>发布人</th>\n            <th>发布时间</th>\n            <th>操作</th>\n        </tr></thead>\n        <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.researchActivities:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'</tbody>\n    </table>\n    <div id="pager" class="pagination"></div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n            <tr>\n                <td><input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="select-research" value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"/></td>\n                <td>'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                <td>"+d(e.lambda(null!=(l=null!=n?n.publishMember:n)?l.fullName:l,n))+"</td>\n                <td>"+d((a.dateTime||n&&n.dateTime||o).call(r,null!=n?n.publishTime:n,{name:"dateTime",hash:{},data:i}))+'</td>\n                <td>\n                    <span class="text-main-color pointer" id="preview-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+"\">预览</span>\n                    \x3c!--  a(href='#/train/programme/research-activity/preview-questionary/' + id target='_blank') 预览 --\x3e\n                </td>\n"},7:function(e,n,a,t,i){return' checked="checked"'},9:function(e,n,a,t,i){return'                <tr><td colspan="5"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容</p>\n                </div>\n                </td></tr>\n            </tr>\n        '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1});loadjs.d("./app/train/programme/select-research-activity/view-content",function(e,n,a){var t=e("jquery"),i=e("drizzle-zxy"),l=e("lodash/collection");a.bindings={researchActivities:!0,research:!1},a.dataForTemplate={researchActivities:function(e){var n=this;return l.map(e.researchActivities,function(e){var a=n.bindings.research.data.id;return a&&a===e.id?i.assign(e,{checked:!0}):e})}},a.components=[{id:"pager",name:"pager",options:{model:"researchActivities"}}],a.mixin={getData:function(){return l.find(this.bindings.researchActivities.data,["id",t(this.$$('[name="select-research"]:checked')).val()])}},a.events={"click preview-*":"previewResearch"},a.handlers={previewResearch:function(e){var n=this.module.items["train/programme/research-activity/preview-questionary"];this.app.viewport.modal(n,{researchId:e,callback:function(){}})}}},{"drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/select-research-activity/view-search",function(e,n,a){a.bindings={search:!0},a.components=[{id:"create-time",name:"flatpickr",options:{mode:"range",enableTime:!0}}],a.events={"click search":"search","click btnMember":"openMember"},a.handlers={search:function(){var e={name:this.$("name").value.trim(),publishMember:this.$("publishMemberName").value.trim(),createTime:this.$("create-time").value.trim()};this.module.dispatch("search",e)},openMember:function(){var e=this,n=e.module.items["train/trainee/select-member-radio"];e.app.viewport.modal(n,{memberIds:[],callback:function(n){e.$("publishMemberId").value=n.id,e.$("publishMemberName").value=n.fullName}})}}},{}),loadjs.d("./app/train/programme/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="addwork-page">\n    <div class="main" data-region="offline"></div>\n    <div class="main" data-region="online"></div>\n    <div class="main" data-region="questionnaire"></div>\n    <div class="addwork" data-region="task"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="dateplan container overflow dateplan-padding layout-mt-small">\n        <section>\n            <div class="clearfix">\n'+(null!=(l=a.if.call(s,null!=n?n.isLectuereFlag:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'                <a id="exprotSalary" class="btn small pull-right bg-main-color m-right">导出讲师表</a>\n                <a id="preview" class="btn small pull-right m-right custom-bg-color-1">一键预览</a>\n                \x3c!--  compare(classInfo.isOverproof \'eq\' 0) --\x3e\n                \x3c!--      .pull-left.m-left --\x3e\n                \x3c!--          span.m-right 单门课程课酬超标，请下载审批表 --\x3e\n                \x3c!--              a(href=downloadSimpleUrl) > echo(\'（下载）\') --\x3e\n                \x3c!--          span.m-left 课酬总额超标，请下载审批表 --\x3e\n                \x3c!--              a(href=downloadTotalUrl) > echo(\'（下载）\') --\x3e\n                \x3c!--  compare(classInfo.isOverproof \'eq\' 1) --\x3e\n                \x3c!--      .pull-left.m-left --\x3e\n                \x3c!--          p 单门课程课酬超标，请下载审批表 --\x3e\n                \x3c!--              a(href=downloadSimpleUrl) > echo(\'（下载）\') --\x3e\n                \x3c!--  compare(classInfo.isOverproof \'eq\' 2) --\x3e\n                \x3c!--      .pull-left.m-left --\x3e\n                \x3c!--          p 课酬总额超标，请下载审批表 --\x3e\n                \x3c!--              a(href=downloadTotalUrl) > echo(\'（下载）\') --\x3e\n            </div>\n            <div class="m-top">\n                <div id="train-title-1" class="train-title border top left right clearfix">\n                    <div class="pull-left col-sm-8">\n                        <label class="m-right h4 title-color">课程安排</label>\n'+(null!=(l=a.if.call(s,null!=n?n.isShowWeeks:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+'                        <label>（点击课程名称、讲师名称可以修改信息）</label>\n                    </div>\n                    <div class="pull-right">\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+'                        <div class="inline-block">\n'+(null!=(l=a.if.call(s,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.program(20,i,0),data:i}))?l:"")+"                        </div>\n                    </div>\n                </div>\n            </div>\n"+(null!=(l=a.if.call(s,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+"        </section>\n    </div>\n"},4:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isFlag:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:""},5:function(e,n,a,t,i){var l;return'                        <div id="schedule" class="btn small pull-right bg-main-color">确定日程</div>\n                        <a id="exportCourse" class="btn small pull-right m-right bg-main-color" href="'+e.escapeExpression((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"downUrl",hash:{},data:i}):l))+'">导出安排</a>\n'},7:function(e,n,a,t,i){var l;return'                        <a id="exportCourse" class="btn small pull-right bg-main-color" href="'+e.escapeExpression((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"downUrl",hash:{},data:i}):l))+'">导出安排</a>\n'},9:function(e,n,a,t,i){var l;return'                    <a id="exportCourse" class="btn small pull-right bg-main-color" href="'+e.escapeExpression((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"downUrl",hash:{},data:i}):l))+'">导出安排</a>\n'},11:function(e,n,a,t,i){var l;return'                            <select id="selectOffline" class="input tag-height" name="selectOffline">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.offlineThemeList:n,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"                            </select>\n"},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                    <option "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},
fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.weekly||(null!=n?n.weekly:n))?s:o,"function"==typeof s?s.call(r,{name:"weekly",hash:{},data:i}):s))+"</option>\n"},13:function(e,n,a,t,i){return' selected="selected"'},15:function(e,n,a,t,i){var l;return(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isShowWeeks:n,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+'                            <div id="addOfflineCourse" class="tag-btn radius heavyborder pointer active">添加课程</div>\n                            <div id="importOffline" class="tag-btn radius heavyborder pointer active">导入课程</div>\n'},16:function(e,n,a,t,i){return'                                <div id="theme-offline" class="tag-btn radius heavyborder pointer active">配置周主题</div>\n'},18:function(e,n,a,t,i){return'                                <span id="min-1">收起</span>\n                                <i id="minimize-1" class="iconfont icon-minus-full text-main-color m-right pointer"></i>\n'},20:function(e,n,a,t,i){return'                                <span id="min-1">展开</span>\n                                <i id="minimize-1" class="iconfont icon-add-full text-main-color m-right pointer"></i>\n'},22:function(e,n,a,t,i){var l;return'                <table id="minitable-1" class="table border left right bottom train" style="margin-top:0px;">\n                    <tr>\n                        <th>日期</th>\n                        <th>时间</th>\n                        <th>课程名称</th>\n                        <th>课程类型</th>\n                        <th>讲师</th>\n                        <th>讲师单位</th>\n                        <th>讲师职务</th>\n                        \x3c!--  th 实付 --\x3e\n                        <th>课件</th>\n                        <th>操作</th>\n                    </tr>\n                    '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.offlineCourseList:n,{name:"each",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+"\n                </table>\n"},23:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return"<tr>\n"+(null!=(l=a.if.call(r,null!=n?n.isRowspan:n,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")+'                        <td class="train-width"><label '+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(26,i,0),inverse:e.noop,data:i}))?l:"")+' data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.startTime||(null!=n?n.startTime:n))?s:o,typeof s===d?s.call(r,{name:"startTime",hash:{},data:i}):s))+"-"+c((s=null!=(s=a.endTime||(null!=n?n.endTime:n))?s:o,typeof s===d?s.call(r,{name:"endTime",hash:{},data:i}):s))+'</label></td>\n                        <td class="nowrap">\n'+(null!=(l=a.if.call(r,null!=n?n.name:n,{name:"if",hash:{},fn:e.program(28,i,0),inverse:e.program(31,i,0),data:i}))?l:"")+'                            <input id="input-name-offline-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                            \x3c!--  .sub-title(id=\'div-name-offline-\' + id)&if(isGrant) （点击可修改） --\x3e\n                        </td>\n                        <td class="nowrap">\n                            <label '+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(33,i,0),inverse:e.noop,data:i}))?l:"")+' data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+c((a.map||n&&n.map||o).call(r,"class-offline-types",null!=n?n.type:n,{name:"map",hash:{},data:i}))+'</label>\n                            <select id="input-type-offline-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">\n                                <option '+(null!=(l=a.if.call(r,null!=n?n.type1:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">'+c((a.map||n&&n.map||o).call(r,"class-offline-types","1",{name:"map",hash:{},data:i}))+"</option>\n                                <option "+(null!=(l=a.if.call(r,null!=n?n.type2:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">'+c((a.map||n&&n.map||o).call(r,"class-offline-types","2",{name:"map",hash:{},data:i}))+"</option>\n                                <option "+(null!=(l=a.if.call(r,null!=n?n.type3:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">'+c((a.map||n&&n.map||o).call(r,"class-offline-types","3",{name:"map",hash:{},data:i}))+"</option>\n                                <option "+(null!=(l=a.if.call(r,null!=n?n.type6:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="6">'+c((a.map||n&&n.map||o).call(r,"class-offline-types","6",{name:"map",hash:{},data:i}))+"</option>\n                                <option "+(null!=(l=a.if.call(r,null!=n?n.type5:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="5">'+c((a.map||n&&n.map||o).call(r,"class-offline-types","5",{name:"map",hash:{},data:i}))+"</option>\n                                <option "+(null!=(l=a.if.call(r,null!=n?n.type4:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="4">'+c((a.map||n&&n.map||o).call(r,"class-offline-types","4",{name:"map",hash:{},data:i}))+'</option>\n                            </select>\n                        </td>\n                        <td class="nowrap">\n'+(null!=(l=a.if.call(r,null!=n?n.teacherName:n,{name:"if",hash:{},fn:e.program(35,i,0),inverse:e.program(38,i,0),data:i}))?l:"")+'                            <input id="input-teacher-offline-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.teacherName||(null!=n?n.teacherName:n))?s:o,typeof s===d?s.call(r,{name:"teacherName",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                            \x3c!--  .sub-title(id=\'div-teacher-offline-\' + id)&if(isGrant) （点击可修改） --\x3e\n                        </td>\n                        <td class="nowrap">\n'+(null!=(l=a.if.call(r,null!=n?n.teacherOrganization:n,{name:"if",hash:{},fn:e.program(40,i,0),inverse:e.program(43,i,0),data:i}))?l:"")+'                            <input id="input-torg-offline-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.teacherOrganization||(null!=n?n.teacherOrganization:n))?s:o,typeof s===d?s.call(r,{name:"teacherOrganization",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                            \x3c!--  .sub-title(id=\'div-torg-offline-\' + id)&if(isGrant) （点击可修改） --\x3e\n                        </td>\n                        <td class="nowrap">\n'+(null!=(l=a.if.call(r,null!=n?n.teacherTitle:n,{name:"if",hash:{},fn:e.program(45,i,0),inverse:e.program(48,i,0),data:i}))?l:"")+'                            <input id="input-title-offline-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.teacherTitle||(null!=n?n.teacherTitle:n))?s:o,typeof s===d?s.call(r,{name:"teacherTitle",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+"\"/>\n                            \x3c!--  .sub-title(id='div-title-offline-' + id)&if(isGrant) （点击可修改） --\x3e\n                        </td>\n                        \x3c!--  td.nowrap --\x3e\n                        \x3c!--      if(showPaidPay) --\x3e\n                        \x3c!--          label(data-name='id' data-value=id)(id='label-paidPay-offline-' + id)&if(isGrant) > echo(courseSalary.paidPay) --\x3e\n                        \x3c!--      else --\x3e\n                        \x3c!--          label(data-name='id' data-value=id)(id='label-paidPay-offline-' + id class='pointer')&if(isGrant) > echo('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;') --\x3e\n                        \x3c!--      input(id='input-paidPay-offline-' + id value=courseSalary.paidPay style='display:none;' data-name='id' data-value=id) --\x3e\n                        <td>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.attachStatus:n,"eq",0,{name:"compare",hash:{},fn:e.program(50,i,0),inverse:e.program(52,i,0),data:i}))?l:"")+"                        </td>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(54,i,0),inverse:e.program(59,i,0),data:i}))?l:"")+"                    </tr>"},24:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <td class="train-width" rowspan="'+o((l=null!=(l=a.rowspan||(null!=n?n.rowspan:n))?l:r,"function"==typeof l?l.call(s,{name:"rowspan",hash:{},data:i}):l))+'">'+o((a.date||n&&n.date||r).call(s,null!=n?n.courseDate:n,{name:"date",hash:{},data:i}))+"</td>\n"},26:function(e,n,a,t,i){var l;return' id="edit-offline-time-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'" class="pointer"'},28:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                <label "+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))?l:"")+' data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</label>\n"},29:function(e,n,a,t,i){var l;return' id="label-name-offline-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'" class="pointer"'},31:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return"                                <label "+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))?l:"")+' data-name="id" data-value="'+e.escapeExpression((s=null!=(s=a.id||(null!=n?n.id:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>\n'},33:function(e,n,a,t,i){var l;return' id="label-type-offline-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"'},35:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                <label "+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.teacherName||(null!=n?n.teacherName:n))?s:o,"function"==typeof s?s.call(r,{name:"teacherName",hash:{},data:i}):s))+"</label>\n"},36:function(e,n,a,t,i){var l;return' id="label-teacher-offline-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'" class="pointer"'},38:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return"                                <label "+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' data-name="id" data-value="'+e.escapeExpression((s=null!=(s=a.id||(null!=n?n.id:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>\n'},40:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                <label "+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(41,i,0),inverse:e.noop,data:i}))?l:"")+' data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.teacherOrganization||(null!=n?n.teacherOrganization:n))?s:o,"function"==typeof s?s.call(r,{name:"teacherOrganization",hash:{},data:i}):s))+"</label>\n"},41:function(e,n,a,t,i){var l;return' id="label-torg-offline-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'" class="pointer"'},43:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return"                                <label "+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(41,i,0),inverse:e.noop,data:i}))?l:"")+' data-name="id" data-value="'+e.escapeExpression((s=null!=(s=a.id||(null!=n?n.id:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>\n'},45:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                <label "+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(46,i,0),inverse:e.noop,data:i}))?l:"")+' data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.teacherTitle||(null!=n?n.teacherTitle:n))?s:o,"function"==typeof s?s.call(r,{name:"teacherTitle",hash:{},data:i}):s))+"</label>\n"},46:function(e,n,a,t,i){var l;return' id="label-title-offline-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'" class="pointer"'},48:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return"                                <label "+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(46,i,0),inverse:e.noop,data:i}))?l:"")+' data-name="id" data-value="'+e.escapeExpression((s=null!=(s=a.id||(null!=n?n.id:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>\n'},50:function(e,n,a,t,i){return"                                已上传\n"},52:function(e,n,a,t,i){return"                                无\n"},54:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isFlag:n,{name:"if",hash:{},fn:e.program(55,i,0),inverse:e.program(57,i,0),data:i}))?l:""},55:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <td>\n                                    <i class="iconfont icon-add-full text-main-color m-right pointer" id="courseware-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+"\"></i>\n                                    \x3c!--  i.pointer.m-right.iconfont.icon-edit-solid.custom-color-4(id='edit-offline-'+id data-name='id' data-value=id title='编辑') --\x3e\n                                    <i class=\"pointer iconfont icon-delete-solid custom-color-3\" id=\"del-offline-"+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="删除"></i>\n                                </td>\n'},57:function(e,n,a,t,i){return"                                <td>--</td>\n"},59:function(e,n,a,t,i){return"                            <td>--</td>\n"},61:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="dateplan container overflow dateplan-padding layout-mt-small">\n        <section class="layout-mt-small">\n            <div id="train-title-2" class="train-title border top left right clearfix">\n                <label class="pull-left h4 title-color">在线资源</label>\n                <div class="pull-right">\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(62,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(64,i,0),inverse:e.program(66,i,0),data:i}))?l:"")+"                </div>\n            </div>\n"+(null!=(l=a.if.call(s,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(68,i,0),inverse:e.noop,data:i}))?l:"")+"        </section>\n    </div>\n"},62:function(e,n,a,t,i){return'                        <div id="addCourse" class="tag-btn radius heavyborder pointer active">添加课程</div>\n                        <div id="theme-online" class="tag-btn radius heavyborder pointer active">课程分组</div>\n'},64:function(e,n,a,t,i){return'                        <span id="min-2">收起</span>\n                        <i id="minimize-2" class="iconfont icon-minus-full text-main-color m-right pointer"></i>\n'},66:function(e,n,a,t,i){return'                        <span id="min-2">展开</span>\n                        <i id="minimize-2" class="iconfont icon-add-full text-main-color m-right pointer"></i>\n'},68:function(e,n,a,t,i){var l;return'                <table id="minitable-2" class="table border around train">\n                    <tr>\n                        <th>课程名称</th>\n                        <th>是否必修</th>\n                        <th>分组</th>\n                        <th>操作</th>\n                    </tr>\n                    '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.onlineCourseList:n,{name:"each",hash:{},fn:e.program(69,i,0),inverse:e.noop,data:i}))?l:"")+"\n                </table>\n"},69:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'<tr>\n                        <td title="'+d((s=null!=(s=a.resourceName||(null!=n?n.resourceName:n))?s:o,"function"==typeof s?s.call(r,{name:"resourceName",hash:{},data:i}):s))+'">\n'+(null!=(l=a.if.call(r,null!=n?n.length:n,{name:"if",hash:{},fn:e.program(70,i,0),inverse:e.program(72,i,0),data:i}))?l:"")+'                        </td>\n                        <td class="train-width">\n                            <label '+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(74,i,0),inverse:e.noop,data:i}))?l:"")+' data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((a.map||n&&n.map||o).call(r,"yes-or-no",null!=n?n.isRequired:n,{name:"map",hash:{},data:i}))+'</label>\n                            <select class="col-sm-4" id="input-online-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">\n                                <option '+(null!=(l=a.if.call(r,null!=n?n.isRequired1:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">'+d((a.map||n&&n.map||o).call(r,"yes-or-no","1",{name:"map",hash:{},data:i}))+"</option>\n                                <option "+(null!=(l=a.if.call(r,null!=n?n.isRequired0:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="0">'+d((a.map||n&&n.map||o).call(r,"yes-or-no","0",{name:"map",hash:{},data:i}))+"</option>\n                            </select>\n                        </td>\n"+(null!=(l=a.if.call(r,null!=n?n.isRowspan:n,{name:"if",hash:{},fn:e.program(76,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(81,i,0),inverse:e.program(84,i,0),data:i}))?l:"")+"                    </tr>"},70:function(e,n,a,t,i){var l;return"                                "+e.escapeExpression((l=null!=(l=a.newName||(null!=n?n.newName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"newName",hash:{},data:i}):l))+"\n"},72:function(e,n,a,t,i){var l;return"                                "+e.escapeExpression((l=null!=(l=a.resourceName||(null!=n?n.resourceName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"resourceName",hash:{},data:i}):l))+"\n"},74:function(e,n,a,t,i){var l;return' id="label-online-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"'},76:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                            <td rowspan="'+d((s=null!=(s=a.rowspan||(null!=n?n.rowspan:n))?s:o,"function"==typeof s?s.call(r,{name:"rowspan",hash:{},data:i}):s))+'" title="'+d((s=null!=(s=a.themeName||(null!=n?n.themeName:n))?s:o,"function"==typeof s?s.call(r,{name:"themeName",hash:{},data:i}):s))+'">\n'+(null!=(l=a.if.call(r,null!=n?n.theme:n,{name:"if",hash:{},fn:e.program(77,i,0),inverse:e.program(79,i,0),data:i}))?l:"")+"                            </td>\n"},77:function(e,n,a,t,i){var l;return"                                    "+e.escapeExpression((l=null!=(l=a.newThemeName||(null!=n?n.newThemeName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"newThemeName",hash:{},data:i}):l))+"\n"},79:function(e,n,a,t,i){var l;return"                                    "+e.escapeExpression((l=null!=(l=a.themeName||(null!=n?n.themeName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"themeName",hash:{},data:i}):l))+"\n"},81:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                            <td class="train-width">\n                                <i class="pointer m-right iconfont icon-preview custom-color-5" id="view-online-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" title="预览"></i>\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.deleteFlag:n,"eq",0,{name:"compare",hash:{},fn:e.program(82,i,0),inverse:e.noop,data:i}))?l:"")+"                            </td>\n"},82:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <i class="pointer iconfont icon-delete-solid custom-color-3" id="del-online-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="删除"></i>\n'},84:function(e,n,a,t,i){return'                            <td class="train-width">--</td>\n'},86:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="dateplan container overflow dateplan-padding layout-mt-small">\n        <section class="layout-mt-small">\n            <div id="train-title-3" class="train-title border top left right clearfix">\n                <label class="pull-left h4 title-color">调研与考试</label>\n                <div class="pull-right">\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(87,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(89,i,0),inverse:e.program(91,i,0),data:i}))?l:"")+"                </div>\n            </div>\n"+(null!=(l=a.if.call(s,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(93,i,0),inverse:e.noop,data:i}))?l:"")+"        </section>\n    </div>\n"},87:function(e,n,a,t,i){return'                        <div id="addExam" class="tag-btn radius heavyborder pointer active">添加考试</div>\n                        <div id="addSurvey" class="tag-btn radius heavyborder pointer active">添加调研</div>\n                        <div id="addEva" class="tag-btn radius heavyborder pointer active">添加评估</div>\n'},89:function(e,n,a,t,i){return'                        <span id="min-3">收起</span>\n                        <i id="minimize-3" class="iconfont icon-minus-full text-main-color m-right pointer"></i>\n'},91:function(e,n,a,t,i){return'                        <span id="min-3">展开</span>\n                        <i id="minimize-3" class="iconfont icon-add-full text-main-color m-right pointer"></i>\n'},93:function(e,n,a,t,i){var l;return'                <table id="minitable-3" class="table border around">\n                    <tr>\n                        <th class="border right bottom">序号</th>\n                        <th class="border right bottom">问卷名称</th>\n                        <th class="border right bottom">类型</th>\n                        <th class="border right bottom">开始时间</th>\n                        <th class="border right bottom">结束时间</th>\n                        <th class="border right bottom">操作</th>\n                    </tr>\n                    '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.questionnaireList:n,{name:"each",hash:{},fn:e.program(94,i,0),inverse:e.noop,data:i}))?l:"")+"\n                </table>\n"},94:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'<tr class="border bottom">\n                        <td class="border right">'+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+'</td>\n                        <td class="border right">'+d((s=null!=(s=a.resourceName||(null!=n?n.resourceName:n))?s:o,"function"==typeof s?s.call(r,{name:"resourceName",hash:{},data:i}):s))+'</td>\n                        <td class="border right">'+d((a.map||n&&n.map||o).call(r,"class-questionnaire-type",null!=n?n.type:n,{name:"map",hash:{},data:i}))+'</td>\n                        <td class="border right">'+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+'</td>\n                        <td class="border right">'+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+"</td>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(95,i,0),inverse:e.program(97,i,0),data:i}))?l:"")+"                    </tr>"},95:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                            <td>\n                                <i class="pointer m-right iconfont icon-edit-solid custom-color-4" id="edit-qnr-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" startTime="'+d((l=null!=(l=a.startTime||(null!=n?n.startTime:n))?l:r,typeof l===o?l.call(s,{name:"startTime",hash:{},data:i}):l))+'" endTime="'+d((l=null!=(l=a.endTime||(null!=n?n.endTime:n))?l:r,typeof l===o?l.call(s,{name:"endTime",hash:{},data:i}):l))+'" title="编辑"></i>\n                                <i class="pointer m-right iconfont icon-preview custom-color-5" id="view-qnr-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="预览"></i>\n                                <i class="pointer iconfont icon-delete-solid custom-color-3" id="del-qnr-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="删除"></i>\n                            </td>\n'},97:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <td>\n                                <i class="pointer iconfont icon-preview custom-color-5" id="view-qnr-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="预览"></i>\n                            </td>\n'},99:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="dateplan container overflow dateplan-padding layout-mt-small">\n        <section class="layout-mt-small">\n            <div id="train-title-4" class="train-title border top left right clearfix">\n                <label class="pull-left h4 title-color">作业</label>\n                <div class="pull-right">\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(100,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(102,i,0),inverse:e.program(104,i,0),data:i}))?l:"")+"                </div>\n            </div>\n"+(null!=(l=a.if.call(s,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(106,i,0),inverse:e.noop,data:i}))?l:"")+"        </section>\n    </div>\n"},100:function(e,n,a,t,i){return'                        <div id="addTask" class="tag-btn radius heavyborder pointer active">添加作业</div>\n'},102:function(e,n,a,t,i){return'                        <span id="min-4">收起</span>\n                        <i id="minimize-4" class="iconfont icon-minus-full text-main-color m-right pointer"></i>\n'},104:function(e,n,a,t,i){return'                        <span id="min-4">展开</span>\n                        <i id="minimize-4" class="iconfont icon-add-full text-main-color m-right pointer"></i>\n'},106:function(e,n,a,t,i){var l;return'                <table id="minitable-4" class="table border around">\n                    <tr>\n                        <th class="border right bottom">序号</th>\n                        <th class="border right bottom">作业名称</th>\n                        <th class="border right bottom">开始时间</th>\n                        <th class="border right bottom">结束时间</th>\n                        <th class="border right bottom">操作</th>\n                    </tr>\n                    '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.taskList:n,{name:"each",hash:{},fn:e.program(107,i,0),inverse:e.noop,data:i}))?l:"")+"\n                </table>\n"},107:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'<tr class="border bottom">\n                        <td class="border right">'+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+'</td>\n                        <td class="border right">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</td>\n                        <td class="border right">'+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+'</td>\n                        <td class="border right">'+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+"</td>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(108,i,0),inverse:e.program(59,i,0),data:i
}))?l:"")+"                    </tr>"},108:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <td>\n                                <i class="pointer m-right iconfont icon-edit-solid custom-color-4" id="edit-task-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="编辑"></i>\n                                <i class="pointer iconfont icon-delete-solid custom-color-3" id="del-task-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="删除"></i>\n                            </td>\n'},110:function(e,n,a,t,i){var l;return'    <div class="form clearfix">\n        <div class="form-row pull-left col-sm-5">\n            <label class="label required">主题名称</label>\n            <div class="content"><input class="input" name="weekName" x-rule="maxLength:20,required" maxlength="20"/></div>\n        </div>\n        <div class="form-row pull-left" style="width:43%;">\n            <label class="label required">主题时间</label>\n            <div class="content"><div class="date"><input id="data-week" class="input" name="reportDay"/></div></div>\n        </div>\n        <div class="form-row pull-left" style="width:14.666667%;"><div id="addWeek" class="btn layout-ml-small heavyborder pointer active">添加</div></div>\n    </div>\n    <section>\n        <table class="table border around text-center train">\n            <tr>\n                <th>序号</th>\n                <th>\n                    主题名称\n                </th>\n                <th>\n                    主题时间\n                </th>\n                <th>\n                    操作\n                </th>\n            </tr>\n            '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.offlineThemeList:n,{name:"each",hash:{},fn:e.program(111,i,0),inverse:e.noop,data:i}))?l:"")+"\n        </table>\n    </section>\n"},111:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return"<tr>\n                <td>"+d((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,typeof l===o?l.call(s,{name:"i",hash:{},data:i}):l))+'</td>\n                <td>\n                    <label id="label-week-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.weekly||(null!=n?n.weekly:n))?l:r,typeof l===o?l.call(s,{name:"weekly",hash:{},data:i}):l))+"</label>\n                </td>\n                <td>\n                    "+d((l=null!=(l=a.startDate||(null!=n?n.startDate:n))?l:r,typeof l===o?l.call(s,{name:"startDate",hash:{},data:i}):l))+" 至\n                    "+d((l=null!=(l=a.endDate||(null!=n?n.endDate:n))?l:r,typeof l===o?l.call(s,{name:"endDate",hash:{},data:i}):l))+'\n                </td>\n                <td>\n                    <a id="edit-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">编辑</a>\n                    |\n                    <a id="remove-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">删除</a>\n                </td>\n            </tr>'},113:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="form">\n        <div class="form-row inline-block col-sm-5">\n            <label class="label required">主题名称</label>\n            <div class="content"><input class="input" name="name" value="'+r(s(null!=(l=null!=n?n.getThemeModel:n)?l.name:l,n))+'" x-rule="maxLength:20,required" maxlength="20"/></div>\n        </div>\n        <div class="form-row inline-block vertical-top" style="width:43%;">\n            <label class="label required">主题时间</label>\n            <div class="content"><input class="input" '+(null!=(l=a.unless.call(null!=n?n:{},null!=n?n.canEdit:n,{name:"unless",hash:{},fn:e.program(114,i,0),inverse:e.noop,data:i}))?l:"")+' id="weekDate" name="weekDate" value="'+r(s(null!=(l=null!=n?n.getThemeModel:n)?l.time:l,n))+'" x-rule="required"/></div>\n            <div class="inline-block"><input class="input" type="hidden" name="id" id="themeId" value="'+r(s(null!=(l=null!=n?n.getThemeModel:n)?l.id:l,n))+'"/></div>\n        </div>\n    </div>\n'},114:function(e,n,a,t,i){return" disabled"},116:function(e,n,a,t,i){var l;return'<form class="vertical">\n    <div class="form">\n        <div class="form-row row-block col-sm-5">\n            <div class="content">\n                <input class="input tag-height" id="group-name" placeholder="请输入分组名称"/>\n                <div id="addTheme" class="btn choice">添加分组</div>\n            </div>\n        </div>\n    </div>\n    <table class="table border around text-center train">\n        <tr>\n            <th>序号</th>\n            <th>分组名称</th>\n            <th>排序</th>\n            <th>操作</th>\n        </tr>\n        '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.themeList:n,{name:"each",hash:{},fn:e.program(117,i,0),inverse:e.program(126,i,0),data:i}))?l:"")+"\n    </table>\n    \x3c!--  .add-topic.text-center.clearfix --\x3e\n    \x3c!--      .btn.addtopic-btn.layout-mb-small#addTheme 添加分组 --\x3e\n</form>"},117:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return"<tr>\n            <td>"+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n            <td>\n"+(null!=(l=a.if.call(r,null!=n?n.name:n,{name:"if",hash:{},fn:e.program(118,i,0),inverse:e.program(120,i,0),data:i}))?l:"")+'                <input id="input-theme-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+"\"/>\n                \x3c!-- .sub-title(id='div-theme-' + id) （点击可修改） --\x3e\n            </td>\n            <td>\n"+(null!=(l=a.if.call(r,null!=n?n.state:n,{name:"if",hash:{},fn:e.program(122,i,0),inverse:e.noop,data:i}))?l:"")+'            </td>\n            <td>\n                <a class="text-main-color decoration-none" id="manage-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" href="javascript:;" group-name="'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'">管理</a>\n'+(null!=(l=a.if.call(r,null!=n?n.state:n,{name:"if",hash:{},fn:e.program(124,i,0),inverse:e.noop,data:i}))?l:"")+"            </td>\n        </tr>\n"},118:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <label class="pointer" id="label-theme-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+"</label>\n"},120:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <label class="pointer" id="label-theme-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>\n'},122:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <i class="pointer m-right iconfont icon-arrow-up-solid custom-color-2" id="move-theme-up-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="下移"></i>\n                    <i class="pointer iconfont icon-arrow-down-solid custom-color-2" id="move-theme-down-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="上移"></i>\n'},124:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <span class="text-main-color">|</span>\n                    <a class="text-main-color decoration-none" id="del-theme-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="javascript:;">删除</a>\n'},126:function(e,n,a,t,i){return'            <tr><td colspan="4"><div class="text-center">\n                <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                <div>暂无内容</div>\n            </div>\n            </td></tr>\n            \x3c!--  i.pointer.iconfont.icon-delete-solid.custom-color-3(id=\'del-theme-\'+id data-name=\'id\' data-value=id title=\'删除\') --\x3e'},128:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'<form class="vertical">\n    <div class="form">\n        <input id="id" class="input" type="hidden" name="id" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.offlineCourse:n)?l.id:l,n))+'"/>\n'+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.type:l,"eq","add",{name:"compare",hash:{},fn:e.program(129,i,0),inverse:e.noop,data:i}))?l:"")+'        <div class="form-row col-sm-6 inline-block vertical-top">\n            <label>讲师类别</label>\n            <div class="content">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.offlineCourse:n)?l.flag:l,{name:"if",hash:{},fn:e.program(131,i,0),inverse:e.program(133,i,0),data:i}))?l:"")+"            </div>\n        </div>\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.offlineCourse:n)?l.teacherType:l,"eq",0,{name:"compare",hash:{},fn:e.program(135,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.offlineCourse:n)?l.teacherType:l,"eq",1,{name:"compare",hash:{},fn:e.program(147,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.type3:l,{name:"if",hash:{},fn:e.program(149,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.type6:l,{name:"if",hash:{},fn:e.program(149,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.type5:l,{name:"if",hash:{},fn:e.program(151,i,0),inverse:e.noop,data:i}))?l:"")+'    </div>\n    <div class="layout-mt-small">\n        <div class="train-title clearfix border top left right">\n            <div class="pull-left"><label class="label">课件（最多上传5个）</label></div>\n            <div class="pull-right position-right">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.offlineCourse:n)?l.flag:l,{name:"if",hash:{},fn:e.program(153,i,0),inverse:e.noop,data:i}))?l:"")+'            </div>\n        </div>\n    </div>\n    <table class="table border around train text-center">\n        <tr>\n            <th> 序号</th>\n            <th class="col-sm-9"> 附件名字</th>\n            <th> 类型</th>\n            <th> 操作</th>\n        </tr>\n        '+(null!=(l=a.each.call(s,null!=n?n.files:n,{name:"each",hash:{},fn:e.program(158,i,0),inverse:e.program(168,i,0),data:i}))?l:"")+"\n    </table>\n</form>"},129:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression,d=e.lambda;return'            <div class="form-row col-sm-6 inline-block vertical-top">\n                <label class="required">课程类型</label>\n                <div class="content">\n                    <select id="type" class="input" name="type" x-rule="required">\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.type1:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">'+o((a.map||n&&n.map||r).call(s,"class-offline-types","1",{name:"map",hash:{},data:i}))+"</option>\n                        <option "+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.type2:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">'+o((a.map||n&&n.map||r).call(s,"class-offline-types","2",{name:"map",hash:{},data:i}))+"</option>\n                        <option "+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.type3:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">'+o((a.map||n&&n.map||r).call(s,"class-offline-types","3",{name:"map",hash:{},data:i}))+"</option>\n                        <option "+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.type6:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="6">'+o((a.map||n&&n.map||r).call(s,"class-offline-types","6",{name:"map",hash:{},data:i}))+"</option>\n                        <option "+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.type5:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="5">'+o((a.map||n&&n.map||r).call(s,"class-offline-types","5",{name:"map",hash:{},data:i}))+"</option>\n                        <option "+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.type4:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="4">'+o((a.map||n&&n.map||r).call(s,"class-offline-types","4",{name:"map",hash:{},data:i}))+'</option>\n                    </select>\n                </div>\n            </div>\n            <div class="form-row col-sm-6 inline-block vertical-top">\n                <label class="required">课程名称</label>\n                <div class="content">\n                    <input id="name" class="input" name="name" value="'+o(d(null!=(l=null!=n?n.offlineCourse:n)?l.name:l,n))+'" x-rule="required,maxLength:30"/>\n                </div>\n            </div>\n            <div class="clearfix">\n                <div class="row">\n                    <div class="form-row col-sm-6 inline-block vertical-top">\n                        <label class="required">开始时间</label>\n                        <div class="content">\n                            <input id="courseDate" class="input" name="courseDate" value="'+o((a.dateTime||n&&n.dateTime||r).call(s,null!=(l=null!=n?n.offlineCourse:n)?l.courseDate:l,{name:"dateTime",hash:{},data:i}))+'"/>\n                        </div>\n                    </div>\n                    <div class="form-row col-sm-6 inline-block vertical-top">\n                        <label class="required">结束时间</label>\n                        <div class="content">\n                            <input id="endTime" class="input" name="endTime" value="'+o(d(null!=(l=null!=n?n.offlineCourse:n)?l.endTime:l,n))+"\"/>\n                        </div>\n                    </div>\n                    \x3c!--  .form-row.col-sm-6.inline-block.vertical-top --\x3e\n                    \x3c!--      label.required 教室 --\x3e\n                    \x3c!--      .content --\x3e\n                    \x3c!--          select.w-full#classroomId(name='classroomId' x-rule='required') --\x3e\n                    \x3c!--              each(classroomList) --\x3e\n                    \x3c!--                  option(value=id)('selected')&if(selected) > echo(classroom) --\x3e\n                </div>\n            </div>\n"},131:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <select id="teacherType" class="w-full" x-rule="required" name="teacherType">\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.teacherType0:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="0">'+o((a.map||n&&n.map||r).call(s,"lecturer-type","0",{name:"map",hash:{},data:i}))+"</option>\n                        <option "+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.teacherType1:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">'+o((a.map||n&&n.map||r).call(s,"lecturer-type","1",{name:"map",hash:{},data:i}))+'</option>\n                    </select>\n                    <input id="teacher" type="hidden" name="teacherType" value="'+o(e.lambda(null!=(l=null!=n?n.offlineCourse:n)?l.teacherType:l,n))+'"/>\n'},133:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <select id="teacherType" class="w-full" x-rule="required" name="teacherType" disabled>\n                        <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.teacherType0:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="0">'+o((a.map||n&&n.map||r).call(s,"lecturer-type","0",{name:"map",hash:{},data:i}))+"</option>\n                        <option "+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.teacherType1:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">'+o((a.map||n&&n.map||r).call(s,"lecturer-type","1",{name:"map",hash:{},data:i}))+'</option>\n                    </select>\n                    <input id="teacher" type="hidden" name="teacherType" value="'+o(e.lambda(null!=(l=null!=n?n.offlineCourse:n)?l.teacherType:l,n))+'"/>\n'},135:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'            <div class="form-row col-sm-6 inline-block">\n                <label>联系电话</label>\n                <div class="content">\n                    <div class="col-sm-12">\n                        <div class="pull-left col-sm-half5">\n                            <input id="teacherPhone" class="input col-sm-12 pull-left" name="teacherPhone" value="'+r(s(null!=(l=null!=n?n.offlineCourse:n)?l.teacherPhone:l,n))+'" x-rule="phone"/>\n                        </div>\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.offlineCourse:n)?l.flag:l,{name:"if",hash:{},fn:e.program(136,i,0),inverse:e.noop,data:i}))?l:"")+'                    </div>\n                </div>\n            </div>\n            <div class="form-row col-sm-6 inline-block">\n                <label>讲师</label>\n                <div class="content">\n                    <input id="teacherName" class="input" name="teacherName" value="'+r(s(null!=(l=null!=n?n.offlineCourse:n)?l.teacherName:l,n))+'" x-rule="maxLength:15"/>\n                </div>\n            </div>\n            <div class="form-row col-sm-6 inline-block vertical-top">\n                <label>讲师职务</label>\n                <div class="content">\n                    <input id="teacherTitle" class="input" name="teacherTitle" value="'+r(s(null!=(l=null!=n?n.offlineCourse:n)?l.teacherTitle:l,n))+'" x-rule="maxLength:25"/>\n                </div>\n            </div>\n            <div class="form-row col-sm-6 inline-block">\n                <label>讲师单位</label>\n                <div class="content">\n                    <input id="teacherOrganization" class="input" name="teacherOrganization" value="'+r(s(null!=(l=null!=n?n.offlineCourse:n)?l.teacherOrganization:l,n))+'" x-rule="maxLength:30"/>\n                </div>\n            </div>\n'+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.state:n)?l.type:l,"eq","update",{name:"compare",hash:{},fn:e.program(138,i,0),inverse:e.noop,data:i}))?l:"")+'            <div class="form-row col-sm-6 inline-block vertical-top">\n                <label class="required">教室</label>\n                <div class="content">\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.offlineCourse:n)?l.flag:l,{name:"if",hash:{},fn:e.program(140,i,0),inverse:e.program(143,i,0),data:i}))?l:"")+"                </div>\n            </div>\n"+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.state:n)?l.type:l,"eq","update",{name:"compare",hash:{},fn:e.program(145,i,0),inverse:e.noop,data:i}))?l:"")},136:function(e,n,a,t,i){return'                            <div id="lecturerData" class="small-btn input-height col-sm-60 no-margin no-padding">从讲师库读取数据</div>\n'},138:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                <div class="form-row col-sm-6 inline-block">\n                    <label>身份证号</label>\n                    <div class="content">\n                        <input id="lecturerIdCard" class="input" name="lecturerIdCard" autocomplete="off" value="'+r(s(null!=(l=null!=(l=null!=n?n.offlineCourse:n)?l.courseSalary:l)?l.lecturerCardT:l,n))+'" x-rule="maxLength:100"/>\n                        <input id="bankIdentity" class="input" data-identity="1" type="hidden" name="bankIdentity" x-rule="maxLength:100" value="'+r(s(null!=(l=null!=(l=null!=n?n.offlineCourse:n)?l.courseSalary:l)?l.lecturerCard:l,n))+"\"/>\n                    </div>\n                </div>\n                \x3c!--  .form-row.col-sm-6.inline-block --\x3e\n                \x3c!--      label 银行账号 --\x3e\n                \x3c!--      .content --\x3e\n                \x3c!--          input.input#lecturerBankCard(name='lecturerBankCard' value=offlineCourse.courseSalary.lecturerBankCard x-rule='maxLength:100,specialCharacter') --\x3e\n                \x3c!--  .form-row.col-sm-6.inline-block --\x3e\n                \x3c!--      label 开户银行 --\x3e\n                \x3c!--      .content --\x3e\n                \x3c!--          input.input#lecturerBankName(name='lecturerBankName' value=offlineCourse.courseSalary.lecturerBankName x-rule='maxLength:50') --\x3e\n"},140:function(e,n,a,t,i){var l;return'                        <select id="classroomId" class="w-full" name="classroomId" x-rule="required">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.classroomList:n,{name:"each",hash:{},fn:e.program(141,i,0),inverse:e.noop,data:i}))?l:"")+"                        </select>\n"},141:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.classroom||(null!=n?n.classroom:n))?s:o,"function"==typeof s?s.call(r,{name:"classroom",hash:{},data:i}):s))+"</option>\n"},143:function(e,n,a,t,i){var l;return'                        <select id="classroomId" class="w-full" name="classroomId" x-rule="required" disabled>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.classroomList:n,{name:"each",hash:{},fn:e.program(141,i,0),inverse:e.noop,data:i}))?l:"")+"                        </select>\n"},145:function(e,n,a,t,i){var l;return'                <div class="form-row col-sm-6 inline-block vertical-top">\n                    <label>备注</label>\n                    <div class="content">\n                        <input id="remarks" class="input" name="remarks" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.offlineCourse:n)?l.remarks:l,n))+'" x-rule="maxLength:40"/>\n                    </div>\n                </div>\n'},147:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'            <div class="form-row col-sm-6 inline-block">\n                <label>讲师</label>\n                <div class="content">\n                    <div class="col-sm-12">\n                        <div class="pull-left col-sm-half5">\n                            <input id="teacherName" class="input col-sm-12 pull-left" name="teacherName" value="'+r(s(null!=(l=null!=n?n.offlineCourse:n)?l.teacherName:l,n))+'" x-rule="maxLength:15"/>\n                        </div>\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.offlineCourse:n)?l.flag:l,{name:"if",hash:{},fn:e.program(136,i,0),inverse:e.noop,data:i}))?l:"")+'                    </div>\n                </div>\n            </div>\n            <div class="form-row col-sm-6 inline-block vertical-top">\n                <label>讲师职务</label>\n                <div class="content">\n                    <input id="teacherTitle" class="input" name="teacherTitle" value="'+r(s(null!=(l=null!=n?n.offlineCourse:n)?l.teacherTitle:l,n))+'" x-rule="maxLength:25"/>\n                </div>\n            </div>\n            <div class="form-row col-sm-6 inline-block">\n                <label>讲师单位</label>\n                <div class="content">\n                    <input id="teacherOrganization" class="input" name="teacherOrganization" value="'+r(s(null!=(l=null!=n?n.offlineCourse:n)?l.teacherOrganization:l,n))+'" x-rule="maxLength:30"/>\n                </div>\n            </div>\n            <div class="form-row col-sm-6 inline-block">\n                <label>联系电话</label>\n                <div class="content">\n                    <input id="teacherPhone" class="input" name="teacherPhone" value="'+r(s(null!=(l=null!=n?n.offlineCourse:n)?l.teacherPhone:l,n))+'" x-rule="phone"/>\n                </div>\n            </div>\n'+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.state:n)?l.type:l,"eq","update",{name:"compare",hash:{},fn:e.program(138,i,0),inverse:e.noop,data:i}))?l:"")+'            <div class="form-row col-sm-6 inline-block vertical-top">\n                <label class="required">教室</label>\n                <div class="content">\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.offlineCourse:n)?l.flag:l,{name:"if",hash:{},fn:e.program(140,i,0),inverse:e.program(143,i,0),data:i}))?l:"")+"                </div>\n            </div>\n"+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.state:n)?l.type:l,"eq","update",{name:"compare",hash:{},fn:e.program(145,i,0),inverse:e.noop,data:i}))?l:"")},149:function(e,n,a,t,i){var l;return'            <div class="form-row m-right">\n                <label class="required">直播路径</label>\n                <div class="content">\n                    <input id="genseeUrl" class="input" name="genseeUrl" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.offlineCourse:n)?l.genseeUrl:l,n))+'" x-rule="required,maxLength:450,httpsUrl"/>\n                </div>\n            </div>\n'},151:function(e,n,a,t,i){var l;return'            <div class="form-row m-right">\n                <label class="required">课程路径</label>\n                <div class="content">\n                    <input id="genseeUrl" class="input" name="genseeUrl" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.offlineCourse:n)?l.genseeUrl:l,n))+'" x-rule="required,maxLength:450,httpsUrl"/>\n                </div>\n            </div>\n'},153:function(e,n,a,t,i){var l;return(null!=(l=a.unless.call(null!=n?n:{},null!=n?n.isMaxlength:n,{name:"unless",hash:{},fn:e.program(154,i,0),inverse:e.program(156,i,0),data:i}))?l:"")+'                    <div class="inline-block ask-help decoration-none" title="上传附件支持格式：xls/xlsx/doc/docx/ppt/pptx/zip/txt/rar/pdf/epub/mp3/mp4   (大小<100M)">?</div>\n'},154:function(e,n,a,t,i){return'                        <div id="chooseFile" class="tag-btn radius active pointer">选择</div>\n'},156:function(e,n,a,t,i){return'                        <div id="choosemsgErr" class="tag-btn radius active pointer">选择</div>\n'},158:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"<tr>\n            <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n            <td>\n"+(null!=(l=a.if.call(r,null!=n?n.attachName:n,{name:"if",hash:{},fn:e.program(159,i,0),inverse:e.program(161,i,0),data:i}))?l:"")+'                <input class="inline-block" id="input-attach-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.updateName||(null!=n?n.updateName:n))?s:o,"function"==typeof s?s.call(r,{name:"updateName",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n            </td>\n            <td>'+d((a.map||n&&n.map||o).call(r,"class-file-type",null!=n?n.fileType:n,{name:"map",hash:{},data:i}))+"</td>\n            <td>\n"+(null!=(l=a.if.call(r,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(163,i,0),inverse:e.noop,data:i}))?l:"")+"            </td>\n        </tr>\n"},159:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <label class="pointer" id="label-attach-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.attachName||(null!=n?n.attachName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachName",hash:{},data:i}):l))+"</label>\n"},161:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <label class="pointer" id="label-attach-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>\n'},163:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return(null!=(l=a.if.call(r,null!=n?n.canPreview:n,{name:"if",hash:{},fn:e.program(164,i,0),inverse:e.program(166,i,0),data:i}))?l:"")+'                    <i class="pointer iconfont icon-delete-solid custom-color-3" id="del-attach-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" title="删除"></i>\n'},164:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <i class="pointer m-right iconfont icon-preview custom-color-5" href="javascript:;" id="preview-attach-'+o((l=null!=(l=a.attachId||(null!=n?n.attachId:n))?l:r,"function"==typeof l?l.call(s,{name:"attachId",hash:{},data:i}):l))+'" data-attachName="'+o((l=null!=(l=a.attachName||(null!=n?n.attachName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachName",hash:{},data:i}):l))+'" data-fileType="'+o((l=null!=(l=a.fileType||(null!=n?n.fileType:n))?l:r,"function"==typeof l?l.call(s,{name:"fileType",hash:{},data:i}):l))+'" title="预览"></i>\n'},166:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="i pointer m-right iconfont icon-arrow-down-solid custom-color-2" href="'+o((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"downUrl",hash:{},data:i}):l))+'" download="'+o((l=null!=(l=a.attachName||(null!=n?n.attachName:n))?l:r,"function"==typeof l?l.call(s,{
name:"attachName",hash:{},data:i}):l))+'" title="下载"></a>\n'},168:function(e,n,a,t,i){return'            <tr><td colspan="4"><div class="text-center">\n                <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                <div>暂无内容</div>\n            </div>\n            </td></tr>'},170:function(e,n,a,t,i){return'    <div class="row">\n        <div id="uploader"></div>\n    </div>\n'},172:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="list">\n        <div class="clearfix">\n            <div class="pull-left">\n                <div></div>\n                <span class="strong h4">课件</span>\n                <span>（最多上传5个）</span>\n            </div>\n            <div class="pull-right">\n'+(null!=(l=a.unless.call(s,null!=n?n.isMaxlength:n,{name:"unless",hash:{},fn:e.program(173,i,0),inverse:e.program(175,i,0),data:i}))?l:"")+'            </div>\n        </div>\n        <table class="table border around train text-center">\n            <thead><tr>\n                <th>序号</th>\n                <th width="50%">课件名称</th>\n                <th>类型</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>\n                '+(null!=(l=a.each.call(s,null!=n?n.files:n,{name:"each",hash:{},fn:e.program(177,i,0),inverse:e.program(189,i,0),data:i}))?l:"")+"\n            </tbody>\n        </table>\n    </div>\n"},173:function(e,n,a,t,i){return'                    <div id="uploadFile" class="small btn">上传</div>\n'},175:function(e,n,a,t,i){return'                    <div id="choosemsgErr" class="small btn">上传</div>\n'},177:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"<tr>\n                    <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                    <td>\n"+(null!=(l=a.if.call(r,null!=n?n.attachName:n,{name:"if",hash:{},fn:e.program(178,i,0),inverse:e.program(181,i,0),data:i}))?l:"")+'                        <input id="input-courseware-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+d((s=null!=(s=a.updateName||(null!=n?n.updateName:n))?s:o,"function"==typeof s?s.call(r,{name:"updateName",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                    </td>\n                    <td>'+d((a.map||n&&n.map||o).call(r,"class-file-type",null!=n?n.fileType:n,{name:"map",hash:{},data:i}))+"</td>\n                    <td>\n"+(null!=(l=a.if.call(r,null!=n?n.canPreview:n,{name:"if",hash:{},fn:e.program(183,i,0),inverse:e.program(185,i,0),data:i}))?l:"")+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(187,i,0),inverse:e.noop,data:i}))?l:"")+"                    </td>\n                </tr>\n"},178:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                            <label "+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(179,i,0),inverse:e.noop,data:i}))?l:"")+' data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.attachName||(null!=n?n.attachName:n))?s:o,"function"==typeof s?s.call(r,{name:"attachName",hash:{},data:i}):s))+"</label>\n"},179:function(e,n,a,t,i){var l;return' id="label-courseware-'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'" class="pointer"'},181:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return"                            <label "+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(179,i,0),inverse:e.noop,data:i}))?l:"")+' data-name="id" data-value="'+e.escapeExpression((s=null!=(s=a.id||(null!=n?n.id:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>\n'},183:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <i class="pointer m-right iconfont icon-preview custom-color-5" href="javascript:;" id="preview-'+o((l=null!=(l=a.attachId||(null!=n?n.attachId:n))?l:r,"function"==typeof l?l.call(s,{name:"attachId",hash:{},data:i}):l))+'" data-attachName="'+o((l=null!=(l=a.attachName||(null!=n?n.attachName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachName",hash:{},data:i}):l))+'" data-fileType="'+o((l=null!=(l=a.fileType||(null!=n?n.fileType:n))?l:r,"function"==typeof l?l.call(s,{name:"fileType",hash:{},data:i}):l))+'" title="预览"></i>\n'},185:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <a class="i pointer m-right iconfont icon-arrow-down-solid custom-color-2" href="'+o((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"downUrl",hash:{},data:i}):l))+'" download="'+o((l=null!=(l=a.attachName||(null!=n?n.attachName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachName",hash:{},data:i}):l))+'" title="下载"></a>\n'},187:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <div class="pointer iconfont icon-delete-solid custom-color-3" id="del-courseware-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="删除"></div>\n'},189:function(e,n,a,t,i){return'                    <tr><td colspan="4"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <div>暂无内容</div>\n                    </div>\n                    </td></tr>'},191:function(e,n,a,t,i){var l;return'    <div><form method="post" id="importCourse">\n        <input type="hidden" id="importType" name="importType" value="1"/>\n        <input type="hidden" id="access_token" name="access_token"/>\n    </form></div>\n    <div><h3>第一步：下载模板</h3></div>\n    <div><div id="downloadExcel-1" class="btn"><span>下载模板</span></div></div>\n    <div><h3>第二步：导入模板</h3></div>\n    <div><div id="uploadExcel" class="btn"><span>导入模板</span></div></div>\n    '+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.errors:n,{name:"if",hash:{},fn:e.program(192,i,0),inverse:e.noop,data:i}))?l:"")+"\n    <div><h3>步骤说明</h3></div>\n    <div><ul>\n        <li>1.下载标准模板，按示例格式和示例说明填写需要导入的电子表格文件。</li>\n        <li>2.导入模板，导入成功后，页面会提示成功数量，失败数量，并显示相关信息。</li>\n        <li>3.如有失败记录，删掉电子表格里已经成功的记录，然后修正失败的记录，再次上传导入。</li>\n    </ul></div>\n"},192:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return"<div>\n        <h3>共导入成功"+r(s(null!=(l=null!=(l=null!=n?n.uploadExcel:n)?l.imgs:l)?l.successCount:l,n))+"条数据, 失败"+r(s(null!=(l=null!=(l=null!=n?n.uploadExcel:n)?l.imgs:l)?l.failCount:l,n))+'条数据  <div id="downloadExcel-0" class="btn"><span>下载失败记录</span></div></h3>\n    </div>'},194:function(e,n,a,t,i){return'    <div class="row">\n        <div id="uploader2"></div>\n    </div>\n'},196:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'<form class="vertical">\n    <div class="form align-left">\n        <div class="form-row row-block">\n            <label class="label required">作业名称</label>\n            <div class="content">\n                <input id="name" class="input" name="name" value="'+r(s(null!=(l=null!=n?n.task:n)?l.name:l,n))+'" x-rule="required,maxLength:30"/><div class="tips">0/30</div>\n                \x3c!--  .tips 0/30 --\x3e\n                <input id="id" class="input" type="hidden" name="id" value="'+r(s(null!=(l=null!=n?n.task:n)?l.id:l,n))+'"/>\n            </div>\n        </div>\n        <div class="clearfix">\n            <div class="form-row pull-left w-half start-time row-block r-padding">\n                <label class="label required">开始时间</label>\n                <div class="content"><input id="startTime" class="input" name="startTime" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.task:n)?l.startTime:l,{name:"dateTime",hash:{},data:i}))+'"/></div>\n            </div>\n            <div class="form-row pull-left w-half row-block">\n                <label class="label required">结束时间</label>\n                <div class="content"><input id="endTime" class="input" name="endTime" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.task:n)?l.endTime:l,{name:"dateTime",hash:{},data:i}))+'"/></div>\n            </div>\n        </div>\n        <div class="form-row">\n            <div class="clearfix">\n                <div class="pull-right tag-height small-font sub-title"></div>\n                <label class="label required pull-left">作业说明</label>\n                <textarea id="explain" class="input" name="explain" rows="3" x-rule="required,maxLength:5000" x-marker="rich-text" x-target="explain" x-action="change">'+r(s(null!=(l=null!=n?n.task:n)?l.explain:l,n))+'</textarea>\n            </div>\n        </div>\n        <div class="task-table layout-mt-small">\n            <div class="train-title clearfix border top left right">\n                <div class="pull-left">\n                    <span>添加附件（最多添加三个）</span>\n                </div>\n                '+(null!=(l=a.unless.call(o,null!=n?n.isMaxlength:n,{name:"unless",hash:{},fn:e.program(197,i,0),inverse:e.program(199,i,0),data:i}))?l:"")+'\n            </div>\n            <table class="table border around text-center train">\n                <thead><tr>\n                    <th>序号</th>\n                    <th>附件名称</th>\n                    <th>类型</th>\n                    <th>操作</th>\n                </tr></thead>\n                <tbody>\n                    '+(null!=(l=a.each.call(o,null!=n?n.files:n,{name:"each",hash:{},fn:e.program(201,i,0),inverse:e.program(210,i,0),data:i}))?l:"")+'\n                </tbody>\n            </table>\n        </div>\n        <div class="form layout-mt-small align-left">\n            <div class="form-choice">\n                <div class="form-row margin-none train">\n                    <label class="label required">审核人</label>\n                    <div class="inline-block introduce sub-title input-height">（审核采用百分制，低于60分学员可重新提交）</div>\n                </div>\n            </div>\n            <div class="form-choice clearfix layout-mb-small">\n                <div class="from-row">\n                    <div id="validate" class="input btn-right-bottom" x-rule="required" x-action="change" x-marker="text" x-target="tags" style="padding-bottom: 35px;position: relative;">\n                        <div id="test" class="div" style="padding: 5px 10px 10px;color: gray;">\n                            <div id="tags"></div>\n                        </div>\n                        <div class="btn-group" style="position: absolute;right: 10px;bottom: 10px;">\n                            <div id="clearMembers" class="btn small">清空</div>\n                            <div id="selectMember" class="btn small">添加</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>'},197:function(e,n,a,t,i){return'<div class="pull-right position-right">\n                    <a id="chooseFile" class="tag-btn m-right radius active">上传</a>\n                    <div class="inline-block ask-help" title="上传附件支持格式：xls/xlsx/doc/docx/ppt/pptx/zip/txt/rar/pdf/epub/mp3/mp4   (大小<100M)">?</div>\n                </div>\n                '},199:function(e,n,a,t,i){return'<div class="pull-right position-right">\n                    <a id="choosemsgErr" class="tag-btn m-right radius active">上传</a>\n                    <div class="inline-block ask-help" title="上传附件支持格式：xls/xlsx/doc/docx/ppt/pptx/zip/txt/rar/pdf/epub/mp3/mp4   (大小<100M)">?</div>\n                </div>'},201:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return"<tr>\n                        <td>"+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                        <td>\n"+(null!=(l=a.if.call(r,null!=n?n.attachmentName:n,{name:"if",hash:{},fn:e.program(202,i,0),inverse:e.program(204,i,0),data:i}))?l:"")+'                            <input id="input-attach-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.updateAttachName||(null!=n?n.updateAttachName:n))?s:o,typeof s===d?s.call(r,{name:"updateAttachName",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                        </td>\n                        <td>'+c((a.map||n&&n.map||o).call(r,"class-file-type",null!=n?n.fileType:n,{name:"map",hash:{},data:i}))+"</td>\n                        <td>\n"+(null!=(l=a.if.call(r,null!=n?n.canPreview:n,{name:"if",hash:{},fn:e.program(206,i,0),inverse:e.program(208,i,0),data:i}))?l:"")+'                            <i class="pointer iconfont icon-delete-solid custom-color-3" id="del-attach-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" title="删除"></i>\n                        </td>\n                    </tr>\n'},202:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <label class="pointer" id="label-attach-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.attachmentName||(null!=n?n.attachmentName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachmentName",hash:{},data:i}):l))+"</label>\n"},204:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <label class="pointer" id="label-attach-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>\n'},206:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <i class="pointer m-right iconfont icon-preview custom-color-5" href="javascript:;" id="preview-attach-'+o((l=null!=(l=a.attachmentId||(null!=n?n.attachmentId:n))?l:r,"function"==typeof l?l.call(s,{name:"attachmentId",hash:{},data:i}):l))+'" data-attachName="'+o((l=null!=(l=a.attachmentName||(null!=n?n.attachmentName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachmentName",hash:{},data:i}):l))+'" data-fileType="'+o((l=null!=(l=a.fileType||(null!=n?n.fileType:n))?l:r,"function"==typeof l?l.call(s,{name:"fileType",hash:{},data:i}):l))+'" title="预览"></i>\n'},208:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <a class="i pointer m-right iconfont icon-arrow-down-solid custom-color-2" href="'+o((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:r,"function"==typeof l?l.call(s,{name:"downUrl",hash:{},data:i}):l))+'" download="'+o((l=null!=(l=a.attachmentName||(null!=n?n.attachmentName:n))?l:r,"function"==typeof l?l.call(s,{name:"attachmentName",hash:{},data:i}):l))+'" title="下载"></a>\n'},210:function(e,n,a,t,i){return'                        <tr><td colspan="5"><div class="text-center">\n                            <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                            <div>暂无内容</div>\n                        </div>\n                        </td></tr>'},212:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <form class="vertical form label-mt-small">\n        <div class="form-row">\n            <label>问卷名称</label>\n            <div class="content">\n                <label class="input-height" name="resourceName">'+r(s(null!=(l=null!=n?n.research:n)?l.resourceName:l,n))+'</label>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="label required">开始时间</label>\n            <div class="content">\n                <input type="hidden" id="focus"/>\n                <input class="input" id="startTime" name="startTime" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.research:n)?l.startTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="label required">结束时间</label>\n            <div class="content">\n                <input class="input" id="endTime" name="endTime" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.research:n)?l.endTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n            </div>\n        </div>\n        <input name="id" value="'+r(s(null!=(l=null!=n?n.research:n)?l.id:l,n))+'" type="hidden"/>\n    </form>\n'},214:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <form class="vertical form label-mt-small">\n        <div class="form">\n            <div class="clearfix">\n                <div class="row"><div class="form-row w-full inline-block vertical-top">\n                    <input type="hidden" name="id" value="'+r(s(null!=(l=null!=n?n.courseDate:n)?l.id:l,n))+'"/>\n                    <label class="required">上课日期</label>\n                    <div class="content">\n                        <input id="startDate" class="input date" name="startDate" x-rule="required" value="'+r((a.dateTime||n&&n.dateTime||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.courseDate:n)?l.courseTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n                    </div>\n                </div></div>\n                <div class="row">\n                    <div class="form-row col-sm-6 inline-block vertical-top">\n                        <label class="required">开始时间</label>\n                        <div class="content">\n                            <input id="startTime" class="input" name="startTime" value="'+r(s(null!=(l=null!=n?n.courseDate:n)?l.startTime:l,n))+'"/>\n                            <span class="small-font">(时间格式为 HH:mm)</span>\n                        </div>\n                    </div>\n                    <div class="form-row col-sm-6 inline-block vertical-top">\n                        <label class="required">结束时间</label>\n                        <div class="content">\n                            <input id="endTime" class="input" name="endTime" value="'+r(s(null!=(l=null!=n?n.courseDate:n)?l.endTime:l,n))+'"/>\n                            <span class="small-font">(时间格式为 HH:mm)</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </form>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"offline",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"online",{name:"view",hash:{},fn:e.program(61,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"questionnaire",{name:"view",hash:{},fn:e.program(86,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"task",{name:"view",hash:{},fn:e.program(99,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"config-offline",{name:"view",hash:{},fn:e.program(110,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"edit-config-offline",{name:"view",hash:{},fn:e.program(113,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"config-online",{name:"view",hash:{},fn:e.program(116,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"edit-offline",{name:"view",hash:{},fn:e.program(128,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"upload",{name:"view",hash:{},fn:e.program(170,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"courseware",{name:"view",hash:{},fn:e.program(172,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"import",{name:"view",hash:{},fn:e.program(191,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"import-upload",{name:"view",hash:{},fn:e.program(194,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"edit-task",{name:"view",hash:{},fn:e.program(196,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"upload-task",{name:"view",hash:{},fn:e.program(170,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"edit-qnrtime",{name:"view",hash:{},fn:e.program(212,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"edit-course-time",{name:"view",hash:{},fn:e.program(214,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/programme/view-config-offline",function(e,n,a){var t=e("lodash/collection"),i=e("jquery"),l=e("./app/ext/views/form/validators");a.bindings={themeList:!0,state:!1,offlineThemeList:!0},a.actions={"click addWeek":"addWeek","click edit-*":"editWeek","click remove-*":"removeWeek"},a.title="配置主题",a.buttons=[{text:"保存"}],a.components=[{id:"data-week",name:"flatpickr",options:{mode:"range",notansform:!0}}],a.dataForTemplate={offlineThemeList:function(){var e=this.bindings.offlineThemeList;return t.map(e.data||[],function(e,n){var a=e;a.i=n+1,a.weekly=a.name}),e.data}},a.dataForActions={addWeek:function(){var e=i(this.$$('[name="weekName"]')).val(),n=i(this.$("data-week")).val(),a={},t=!1;return e?l.required.fn(e)?e.length>20?(t=!0,this.app.message.error("主题名称最大长度为20")):a.weekName=e:(this.app.message.error("主题名称不能为空"),t=!0):(t=!0,this.app.message.error("主题名称不能为空")),n&&l.required.fn(n)?a.weekTime=n:(t=!0,this.app.message.error("主题时间不能为空")),!t&&a},removeWeek:function(e){return e},editWeek:function(e){return e}},a.actionCallbacks={editWeek:function(){this.app.viewport.modal(this.module.items["edit-config-offline"])}},a.mixin={trim:function(e){return e?e.replace(/^\s+|\s+$/g,""):e}},a.afterClose=function(){this.module.dispatch("saveOfflineTheme")}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/view-config-online",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.bindings={themeList:!0,state:!1},a.title="添加分组",a.buttons=[{text:"保存",fn:function(){return this.module.dispatch("saveTheme",{text:this.bindings.state.data.text})}}],a.dataForTemplate={themeList:function(e){return t.map(e.themeList||[],function(e,n){var a=e,t=!0;a.i=n+1,a.week&&(t=!1),a.state=t}),e.themeList}},a.events={"click move-theme-up-*":"moveUp","click move-theme-down-*":"moveDown","click label-theme-*":"changeName","change input-theme-*":"updateName","click del-theme-*":"delTheme","click addTheme":"addTheme","click manage-*":"showGroup"},a.handlers={moveUp:function(e){this.module.dispatch("moveUp",e)},moveDown:function(e){this.module.dispatch("moveDown",e)},changeName:function(e){var n=this.$("input-theme-"+e),a=t.find(this.bindings.themeList.data,["id",e]);a.week||(i(this.$("input-theme-"+e)).css("display","inline-block"),i(this.$("label-theme-"+e)).css("display","none"),n.focus(),this.onBlur(n,this.$("label-theme-"+e),a.name))},updateName:function(e){var n=i(this.$("input-theme-"+e)).val(),a=t.find(this.bindings.themeList.data,["id",e]),l=a.name;n?n.length>30?(this.app.message.alert("分组名称最大长度为30"),i(this.$("input-theme-"+e)).val(l)):t.find(this.bindings.themeList.data,["name",n])?this.app.message.alert("分组名称不能重复"):this.module.dispatch("updateName",{id:e,name:n}):this.app.message.alert("分组名称不能为空")},delTheme:function(e){var n=this;return this.Promise.create(function(a){n.app.message.confirm("主题删除后将无法恢复，是否确定删除该主题?",function(){n.module.dispatch("delTheme",e)},function(){a(!1)})})},addTheme:function(){var e=this,n=i(this.$("group-name")).val(),a=this.bindings.themeList.data;n?t.find(a,["name",n])?e.app.message.alert("分组名称不能重复!"):n.length>30?e.app.message.error("分组名称最大长度为30"):e.module.dispatch("addTheme",{name:n}):(e.app.message.alert("分组名称不能为空!"),i(e.$("group-name")).val(""))},showGroup:function(e,n,a){var i=e,l=this.bindings.state.data.classId,s=this,r=a.getAttribute("group-name"),o=this.bindings.state.data.text,d=this.bindings.themeList.data,c=!0;t.find(d,["id",i]).week&&(c=!1),"new-"===e.substring(0,4)?s.module.dispatch("saveTheme",{text:s.bindings.state.data.text}).then(function(){s.module.dispatch("showOnlineTheme",{text:s.bindings.state.data.text}).then(function(){var e=s.bindings.themeList.data,n=t.find(e,["name",r]).id;s.app.viewport.modal(s.module.items["train/programme/online-group-manage"],{classId:l,themeId:n,flag:c,callback:function(){s.module.dispatch("getOnlineCourseList",{classId:l,text:o})}})})}):s.app.viewport.modal(this.module.items["train/programme/online-group-manage"],{classId:l,themeId:i,flag:c,callback:function(){s.module.dispatch("getOnlineCourseList",{classId:l,text:o})}})}},a.mixin={onBlur:function(e,n,a){e.addEventListener?e.addEventListener("blur",function(){var t=i(e).val();"number"==typeof a&&t&&(t=Number(t)),a===t?(i(e).css("display","none"),i(n).css("display","inline-block")):t||a||(i(e).css("display","none"),i(n).css("display","inline-block"))},!1):e.attachEvent&&e.attachEvent("onblur",function(){var t=i(e).val();"number"==typeof a&&t&&(t=Number(t)),t===a?(i(e).css("display","none"),i(n).css("display","inline-block")):a||t||(i(e).css("display","none"),i(n).css("display","inline-block"))})}}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/view-courseware",function(e,n,a){var t,i,l=e("lodash/collection"),s=e("jquery");a.title="课件",a.bindings={offlineCourse:!0,files:!0,offlineCourseList:!0,state:!0,download:!1,file:"changeFile"},a.dataForTemplate={files:function(e){var n=this,a=this.bindings.state.data.role;return l.map(e.files||[],function(e,i){var l,s=e;return l=s.attachName.split(".").pop().toLowerCase(),s.fileType=t.call(n,l),s.downUrl=n.bindings.download.getFullUrl()+"?id="+s.attachId,s.i=i+1,s.canPreview=2!==s.fileType,s.updateName=s.attachName.substring(0,s.attachName.lastIndexOf(".")),s.isGrant=4!==a,s}),e.files},isGrant:function(){return 4!==this.bindings.state.data.role},isMaxlength:function(e){return e.files&&e.files.length>=5}},a.events={"click choosemsgErr":"choosemsgErr","click label-courseware-*":"changeName","change input-courseware-*":"updateAttachName","click preview-*":"preview","click uploadErr":"uploadErr"},a.handlers={choosemsgErr:function(){this.app.message.error("课件最多只能上传5个")},uploadErr:function(){this.app.message.error("课件最多只能上传5个")},changeName:function(e){var n=this.$("input-courseware-"+e),a=this.$("label-courseware-"+e),t=l.find(this.bindings.files.data,["id",e]).attachName;s(this.$("input-courseware-"+e)).css("display","inline-block"),s(this.$("label-courseware-"+e)).css("display","none"),this.$("input-courseware-"+e).focus(),this.onBlur(n,a,t.substring(0,t.lastIndexOf(".")))},updateAttachName:function(e){var n=this.bindings.state.data,a=s(this.$("input-courseware-"+e)).val(),t=l.find(this.bindings.files.data,["id",e]),i=t.attachName.split("."),r=i[i.length-1];return n.updateType=!0,""===a?(this.app.message.alert("课件名称不能为空"),!1):a.length>30?(this.app.message.alert("课件名称最大长度为30"),s(this.$("input-courseware-"+e)).val(t.attachName.substring(0,t.attachName.lastIndexOf("."))),!1):this.module.dispatch("updateAttachName",{id:e,attachName:a+"."+r})},preview:function(e,n,a){var t=a.getAttribute("data-attachName"),l=a.getAttribute("data-fileType"),r=this.module.items["train/programme/preview"],o=this;this.module.dispatch("getPreview",{id:e}).then(function(n){var a=n[0].path;o.app.viewport.modal(r,{id:e,name:t,key:i[l],path:a,close:function(){s(".dialog-content").css("overflow-y","auto")}})})}},a.actions={"click del-courseware-*":"delAttach"},a.dataForActions={delAttach:function(e){return this.bindings.state.data.delType=!0,e}},a.actionCallbacks={},t=function(e){var n,a="xls,xlsx,doc,docx,ppt,pptx,txt,pdf",t="zip,rar",i="mp3",l="mp4",s="epub";return a.indexOf(e)>-1&&(n=1),t.indexOf(e)>-1&&(n=2),i.indexOf(e)>-1&&(n=3),l.indexOf(e)>-1&&(n=4),s.indexOf(e)>-1&&(n=5),n},i={1:"pdf",2:"zip",3:"audio",4:"video",5:"epub"},a.mixin={onBlur:function(e,n,a){e.addEventListener?e.addEventListener("blur",function(){var t=s(e).val();"number"==typeof a&&t&&(t=Number(t)),a===t?(s(e).css("display","none"),s(n).css("display","inline-block")):t||a||(s(e).css("display","none"),s(n).css("display","inline-block"))},!1):e.attachEvent&&e.attachEvent("onblur",function(){var t=s(e).val();"number"==typeof a&&t&&(t=Number(t)),t===a?(s(e).css("display","none"),s(n).css("display","inline-block")):a||t||(s(e).css("display","none"),s(n).css("display","inline-block"))})}},a.components=[function(){return{id:"uploadFile",name:"superUpload",options:{model:"file",accept:"xls,xlsx,doc,docx,ppt,pptx,zip,txt,rar,pdf,epub,mp3,mp4",maxSize:"1024M",isProgress:!0,filter:function(e,n){var a=n.name.split(".").pop(),t=new RegExp('[/\\\\|<>\\*:\\?\\"]+'),i=new RegExp("[~!@#$%\\^\\&]+");t.test(n.name)||i.test(n.name)?(e.removeFile(),this.app.message.error("文件名称不能包含特殊符号")):-1!==["mp3","mp4"].indexOf(a)?n.size>1073741824&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G")):n.size>104857600&&(e.removeFile(n),this.app.message.error(a+"文件不能超过100M"))}}}}],a.changeFile=function(){var e=this.bindings.file.data.imgs,n=l.map(e,function(e){return{contentType:e.contentType,attachmentId:e.id,name:e.filename}});this.bindings.state.data.uploadType=!0,this.module.dispatch("uploadFile",n)}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/view-edit-config-offline",function(e,n,a){var t=e("./app/util/helpers"),i=e("jquery"),l=e("./app/ext/views/form/validators");a.title="编辑主题",a.bindings={getThemeModel:!0,classInfo:!0,offlineThemeList:!0},a.components=[{id:"weekDate",name:"flatpickr",options:{mode:"range",notansform:!0}}],a.buttons=[{text:"保存",action:"updateOThemeWeek"}],a.dataForTemplate={getThemeModel:function(){var e=this.bindings.getThemeModel.data;return e&&(e.time=t.dateString(e.startTime)+" 至 "+t.dateString(e.endTime)),e},canEdit:function(){var e=this.bindings.classInfo.data,n=this.bindings.offlineThemeList.data[0];return!(e.isPartyCadre&&1===e.isPartyCadre&&n.startTime<=(new Date).getTime())}},a.dataForActions={updateOThemeWeek:function(){var e=i(this.$$('[name="name"]')).val(),n=i(this.$("weekDate")).val(),a=i(this.$("themeId")).val(),t={},s=!1;return t.id=a,e?l.required.fn(e)?e.length>20?(s=!0,this.app.message.error("主题名称最大长度为20")):t.weekName=e:(this.app.message.error("主题名称不能为空"),s=!0):(s=!0,this.app.message.error("主题名称不能为空")),n&&l.required.fn(n)?t.weekTime=n:(s=!0,this.app.message.error("主题时间不能为空")),!s&&t}},a.actionCallbacks={updateOThemeWeek:function(){this.app.message.success("操作成功")}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/helpers":"./app/util/helpers",jquery:!1}),
loadjs.d("./app/train/programme/view-edit-course-time",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/markers"),l=e("./app/ext/views/form/validators");a.title="编辑时间",a.bindings={courseDate:!0,classInfo:!0},a.small=!0,a.buttons=[{text:"确定",fn:function(e){var n=e.startDate.split(" "),a=n[0].split("-"),t=new Date(a[0],a[1]-1,a[2]).getTime(),i=e;return i.courseDate=t,!!this.validate()&&this.module.dispatch("updateOfflineName",i)}}],a.components=[function(){return{id:"startDate",name:"flatpickr",options:{minDate:this.bindings.classInfo.data.arriveDate,maxDate:this.bindings.classInfo.data.returnDate}}}],a.mixin={validate:function(){var e,n,a,s,r=t(this.$("startTime")),o=t(this.$("endTime")),d=!0,c=/^[0-2][0-9]:[0-5][0-9]$/;return i.text.valid(r),i.text.valid(o),""===r.val()||null===r.val()?(i.text.invalid(r,l.required.message),d=!1):c.test(r.val())||(i.text.invalid(r,"开始时间格式不正确，请输入正确格式（HH:mm）"),d=!1),""===o.val()||null===o.val()?(i.text.invalid(o,l.required.message),d=!1):c.test(o.val())||(i.text.invalid(o,"结束时间格式不正确，请输入正确格式（HH:mm）"),d=!1),r.val()&&o.val()&&c.test(r.val())&&c.test(o.val())&&(e=r.val().split(":")[0],n=r.val().split(":")[1],a=o.val().split(":")[0],s=o.val().split(":")[1],e>a?(i.text.invalid(o,"开始时间不能大于等于结束时间"),d=!1):e===a&&Number(n)>=Number(s)&&(i.text.invalid(o,"开始时间不能大于等于结束时间"),d=!1)),d}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/view-edit-offline",function(e,n,a){var t,i,l=e("lodash/collection"),s=e("jquery"),r=e("./app/ext/views/form/markers"),o=e("./app/ext/views/form/validators"),d=e("./app/util/helpers"),c={add:"添加课程",update:"编辑课程"};a.buttons=function(){var e=[],n=this.courseSalary(),a=this,t={text:"保存",fn:function(e){var n=a.bindings.classInfo.data,t=a.bindings.classInfo.data.submitNum,i=s(this.$("courseDate")),l=s(this.$("endTime")),d=this.validate(),c=this.bindings.state.data,u=e;return u.teacherName&&(u.tName=e.teacherName.replace(/^\s+|\s+$/g,"")),u.teacherOrganization&&(u.oName=e.teacherOrganization.replace(/^\s+|\s+$/g,"")),u.remarks&&(u.remark=e.remarks.replace(/^\s+|\s+$/g,"")),u.teacherTitle&&(u.teacherT=e.teacherTitle.replace(/^\s+|\s+$/g,"")),"add"===c.type&&(r.text.valid(i),r.text.valid(l),o.required.fn(i.val())||(r.text.invalid(i,o.required.message),d=!1),o.required.fn(l.val())||(r.text.invalid(l,o.required.message),d=!1)),null===e.classroomId?(a.app.message.error("请先填写教室"),!1):!!d&&(t>0?this.Promise.create(function(e){var t;t=n.arriveDate-15575904e5>=0?"该班级已有学员参加满意度问卷，您修改的课程信息将影响到学员满意度统计结果":"该班级已有学员参加满意度问卷，您修改的课程信息将无法同步到学员满意度统计结果中",this.app.message.confirm(t,function(){a.module.dispatch("submitOffline",u),e(!0)},function(){e(!1)})}):this.module.dispatch("submitOffline",u))}};return n&&e.push(t),e},a.type="form",a.title=function(){return c[this.bindings.state.data.type]},a.bindings={state:!0,offlineCourse:!0,classroomList:!0,files:!0,download:!1,classInfo:!1,offlineCourseList:!1,findClassRoom:!1,classroomByClassId:!0,file:"changeFile"},a.dataForTemplate={checked:function(e){var n=e.offlineCourse;return{type1:"1"===n.type||1===n.type,type2:"2"===n.type||2===n.type,type3:"3"===n.type||3===n.type,type4:"4"===n.type||4===n.type,type5:"5"===n.type||5===n.type,type6:"6"===n.type||6===n.type,teacherType0:"0"===n.teacherType||0===n.teacherType,teacherType1:"1"===n.teacherType||1===n.teacherType}},classroomList:function(e){var n=this.bindings.offlineCourse.data||{},a=e.classroomByClassId||[],t=e.classroomList||[],i=0;if(n.classroomId){for(;i<t.length;i++)if(n.classroomId===t[i].id){t[i].selected=!0;break}}else if(a)for(;i<t.length;i++)if(a.length>0&&a[0].id===t[i].id){t[i].selected=!0;break}return e.classroomList},files:function(e){var n=this,a=this.courseSalary();return l.map(e.files||[],function(e,i){var l,s=e;l=s.attachName.split(".").pop().toLowerCase(),s.fileType=t.call(n,l),s.downUrl=n.bindings.download.getFullUrl()+"?id="+s.attachId,s.i=i+1,s.canPreview=2!==s.fileType,s.updateName=s.attachName.substring(0,s.attachName.lastIndexOf(".")),s.flag=a}),e.files},offlineCourse:function(){var e=this.courseSalary(),n=this.bindings.offlineCourse.data;return n&&n.teacherType||(n.teacherType=0),n.flag=e,n.courseSalary?n.courseSalary.lecturerCardT=d.idCardT(n.courseSalary.lecturerCard||""):(n.courseSalary={},n.courseSalary.lecturerCardT=""),n},isMaxlength:function(e){return e.files&&e.files.length>=5}},a.events={"click choosemsgErr":"choosemsgErr","click label-attach-*":"changeName","change input-attach-*":"updateAttachName","click preview-attach-*":"preview","click lecturerData":"lecturerData","change type":"changeType","change teacherType":"changeTeacherType","click lecturerIdCard":"inputIdCard"},a.handlers={inputIdCard:function(){var e=this.$("lecturerIdCard"),n=this.$("bankIdentity");"false"!==s(e).attr("data-fouse")&&s(e).attr("data-fouse")||s(e).val(s(n).val()),s(e).attr("data-fouse","true"),e.focus(),this.onBankIdentityBlur(e)},choosemsgErr:function(){this.app.message.error("课件最多只能上传5个")},changeName:function(e){var n=this.courseSalary(),a=this.$("input-attach-"+e),t=this.$("label-attach-"+e),i=l.find(this.bindings.files.data,["id",e]).attachName;n&&(s(this.$("input-attach-"+e)).css("display","inline-block"),s(this.$("label-attach-"+e)).css("display","none"),this.$("input-attach-"+e).focus(),this.onBlur(a,t,i.substring(0,i.lastIndexOf("."))))},updateAttachName:function(e){var n=this.bindings.state.data,a=s(this.$("input-attach-"+e)).val(),t=l.find(this.bindings.files.data,["id",e]),i=t.attachName.split("."),r=i[i.length-1];return n.updateType=!1,""===a?(this.app.message.alert("课件名称不能为空"),!1):a.length>30?(this.app.message.alert("课件名称最大长度为30"),s(this.$("input-attach-"+e)).val(t.attachName.substring(0,t.attachName.lastIndexOf("."))),!1):this.module.dispatch("updateAttachName",{id:e,attachName:a+"."+r})},preview:function(e,n,a){var t=a.getAttribute("data-attachName"),l=this.module.items["train/programme/preview"],r=a.getAttribute("data-fileType"),o=this;this.module.dispatch("getPreview",{id:e}).then(function(n){var a=n[0].path;o.app.viewport.modal(l,{id:e,name:t,key:i[r],path:a,close:function(){s(".dialog-content").css("overflow-y","auto")}})})},lecturerData:function(){var e,n,a,t,i=this.bindings.offlineCourse.data,l=s(this.$("teacherPhone")).val(),r=this,d=s(r.$("name")).val(),c=s(r.$("classroomId")).val(),u=s(r.$("type")).val()||i.type,m=s(r.$("endTime")).val(),p=i.id,h=s(r.$("courseDate")).val(),f=3===u||"3"===u||6===u||"6"===u?s(this.$("genseeUrl")).val().trim():null,v="",g="",b="",x=this.module.items["train/programme/select-lecturer"];0===Number(s(this.$("teacherType")).val())&&l&&o.phone.fn(l)?this.module.dispatch("lecturerData",{phone:l}).then(function(i){var s=i[0];return s?(e=s.name,n=s.organizationName,a=s.jobName,t=0,v=s.bankIdentity,g=s.bankCard,b=s.bank,r.changeOfflineDate(p,u,d,h,m,c,l,e,n,a,t,f,v,g,b),r.bindings.offlineCourse.changed()):(e="",n="",a="",t=0,r.app.message.error("该手机号不存在内部讲师库中"),r.changeOfflineDate(p,u,d,h,m,c,l,e,n,a,t,f,v,g,b),r.bindings.offlineCourse.changed()),i}):0!==Number(s(this.$("teacherType")).val())||l&&o.phone.fn(l)?1===Number(s(this.$("teacherType")).val())&&this.app.viewport.modal(x,{callback:function(i){e=i.name,n=i.unit,a=i.jobName,t=1,v=i.bankIdentity,g=i.bankCard,b=i.bank,l=i.mobile,r.changeOfflineDate(p,u,d,h,m,c,l,e,n,a,t,f,v,g,b),r.bindings.offlineCourse.changed()}}):this.app.message.error("请输入正确的手机号码")},changeType:function(){var e,n,a,t,i,l,r=s(this.$("type")).val(),o=this.bindings.state.data,d=s(this.$("courseDate")).val();"update"===o.type&&(n=s(this.$("lecturerBankCard")).val(),a=s(this.$("lecturerBankName")).val(),e=s(this.$("lecturerIdCard")).val(),this.bindings.offlineCourse.data.courseSalary.lecturerCard=e,this.bindings.offlineCourse.data.courseSalary.lecturerBankCard=n,this.bindings.offlineCourse.data.courseSalary.lecturerBankName=a),d?(l=s(this.$("courseDate")).val(),i=Date.parse(l.replace(/-/g,"/")),t=new Date(i).getTime()):t=d,this.bindings.offlineCourse.data.type=Number(r),this.bindings.offlineCourse.data.name=s(this.$("name")).val(),this.bindings.offlineCourse.data.courseDate=t,this.bindings.offlineCourse.data.teacherName=s(this.$("teacherName")).val(),this.bindings.offlineCourse.data.teacherOrganization=s(this.$("teacherOrganization")).val(),this.bindings.offlineCourse.data.teacherPhone=s(this.$("teacherPhone")).val(),this.bindings.offlineCourse.data.teacherTitle=s(this.$("teacherTitle")).val(),this.bindings.offlineCourse.data.endTime=s(this.$("endTime")).val(),this.bindings.offlineCourse.data.classroomId=s(this.$("classroomId")).val(),this.bindings.offlineCourse.data.teacherType=Number(s(this.$("teacherType")).val()),this.bindings.offlineCourse.changed()},changeTeacherType:function(){var e,n,a,t,i,l,r=this.bindings.offlineCourse,o=s(this.$("teacherType")).val(),d=this.bindings.state.data,c=s(this.$("courseDate")).val();"update"===d.type&&(n=s(this.$("lecturerBankCard")).val(),l=s(this.$("lecturerBankName")).val(),e=s(this.$("lecturerIdCard")).val(),this.bindings.offlineCourse.data.courseSalary.lecturerCard=e,this.bindings.offlineCourse.data.courseSalary.lecturerBankCard=n,this.bindings.offlineCourse.data.courseSalary.lecturerBankName=l),c?(i=s(this.$("courseDate")).val(),t=Date.parse(i.replace(/-/g,"/")),a=new Date(t).getTime()):a=c,r.data.type=Number(s(this.$("type")).val())||r.data.type,r.data.name=s(this.$("name")).val(),r.data.courseDate=a,r.data.teacherName=s(this.$("teacherName")).val(),r.data.teacherOrganization=s(this.$("teacherOrganization")).val(),r.data.teacherPhone=s(this.$("teacherPhone")).val(),r.data.teacherTitle=s(this.$("teacherTitle")).val(),r.data.endTime=s(this.$("endTime")).val(),r.data.classroomId=s(this.$("classroomId")).val(),r.data.teacherType=Number(o),r.changed()}},a.actions={"click submitOffline":"submitOffline","click del-attach-*":"delAttach"},a.dataForActions={submitOffline:function(e){return!!this.validate()&&e},delAttach:function(e){var n,a,t,i=this.bindings.offlineCourse.data,l=this.bindings.state.data;return"update"===l.type&&(a=s(this.$("lecturerBankCard")).val(),t=s(this.$("lecturerBankName")).val(),n=s(this.$("lecturerIdCard")).val(),this.bindings.offlineCourse.data.courseSalary.lecturerCard=n,this.bindings.offlineCourse.data.courseSalary.lecturerBankCard=a,this.bindings.offlineCourse.data.courseSalary.lecturerBankName=t),i.type=e.type||i.type,i.name=e.name,i.courseDate=e.courseDate,i.endTime=e.endTime,i.classroomId=e.classroomId,i.teacherName=e.teacherName,i.teacherOrganization=e.teacherOrganization,i.teacherTitle=e.teacherTitle,i.teacherPhone=e.teacherPhone,i.teacherType=Number(e.teacherType),l.delType=!1,e}},a.actionCallbacks={submitOffline:function(){this.app.viewport.closeModal()}},t=function(e){var n,a="xls,xlsx,doc,docx,ppt,pptx,txt,pdf",t="zip,rar",i="mp3",l="mp4",s="epub";return a.indexOf(e)>-1&&(n=1),t.indexOf(e)>-1&&(n=2),i.indexOf(e)>-1&&(n=3),l.indexOf(e)>-1&&(n=4),s.indexOf(e)>-1&&(n=5),n},a.components=[function(){var e=this;return{id:"courseDate",name:"flatpickr",options:{enableTime:!0,onChange:function(n,a){e.changeCourseDate(a)}}}},function(){var e=this;return{id:"endTime",name:"flatpickr",options:{enableTime:!0,noCalendar:!0,onChange:function(n,a){e.changeEndTime(a)}}}},function(){return{id:"chooseFile",name:"superUpload",options:{model:"file",accept:"xls,xlsx,doc,docx,ppt,pptx,zip,txt,rar,pdf,epub,mp3,mp4",maxSize:"1024M",isProgress:!0,filter:function(e,n){var a=n.name.split(".").pop(),t=new RegExp('[/\\\\|<>\\*:\\?\\"]+'),i=new RegExp("[~!@#$%\\^\\&]+");t.test(n.name)||i.test(n.name)?(e.removeFile(),this.app.message.error("文件名称不能包含特殊符号")):-1!==["mp3","mp4"].indexOf(a)?n.size>1073741824&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G")):n.size>104857600&&(e.removeFile(n),this.app.message.error(a+"文件不能超过100M"))}}}}],a.mixin={onBankIdentityBlur:function(e){var n=this;e.addEventListener?(e.removeEventListener("blur",n.bankIdentityBlurHandler,!1),e.addEventListener("blur",n.bankIdentityBlurHandler,!1)):e.attachEvent&&(e.detachEvent("onblur",n.bankIdentityBlurHandler),e.attachEvent("onblur",n.bankIdentityBlurHandler))},bankIdentityBlurHandler:function(){var e=s("input[name='lecturerIdCard']"),n=e.siblings('[data-identity="1"]');e.val().indexOf("*")>-1||(e.attr("data-fouse","false"),n.val(e.val()),e.val(d.idCardT(e.val())))},changeCourseDate:function(e){var n=s(this.$("courseDate")),a=s(this.$("endTime")).val();r.text.valid(n),o.required.fn(e)||r.text.invalid(n,o.required.message),this.validateDate(e,a)},changeEndTime:function(e){var n=s(this.$("endTime")),a=s(this.$("courseDate")).val();r.text.valid(n),o.required.fn(e)||r.text.invalid(n,o.required.message),this.validateDate(a,e)},validateDate:function(e,n){var a,t,i,l,r,o,d=this.bindings.classInfo.data.arriveDate,c=this.bindings.classInfo.data.returnDate;e&&(a=e.split(" "),t=a[0].split("-"),i=a[1].split(":"),r=new Date(t[0],t[1]-1,t[2],i[0],i[1]).getTime()),e&&n&&(l=n.split(":"),o=new Date(t[0],t[1]-1,t[2],l[0],l[1]).getTime()),e&&(r<d||r>=c+864e5)&&(this.app.message.error("开始时间必须在班级的报到日和返程日之间"),s(this.$("courseDate")).val(""),s(this.$("endTime")).val("")),e&&n&&r>=o&&(this.app.message.error("结束时间不能小于开始时间"),s(this.$("endTime")).val(""))},changeOfflineDate:function(e,n,a,t,i,l,s,r,o,d,c,u,m,p,h){var f,v,g,b,x,y,w,k,I=this.bindings.offlineCourse.data,q=this.bindings.state.data;I.type=n,I.name=a,t&&(f=t.split(" "),v=f[0].split("-"),k=f[1].split(":"),g=v[0],b=v[1],x=v[2],y=k[0],w=k[1],I.courseDate=new Date(g,b-1,x,y,w).getTime()),I.endTime=i,I.classroomId=l,I.teacherName=r,I.teacherOrganization=o,I.teacherTitle=d,I.teacherPhone=s,I.teacherType=Number(c),I.genseeUrl=u,"update"===q.type&&(I.courseSalary.lecturerCard=m,I.courseSalary.lecturerBankCard=p,I.courseSalary.lecturerBankName=h)},onBlur:function(e,n,a){e.addEventListener?e.addEventListener("blur",function(){var t=s(e).val();"number"==typeof a&&t&&(t=Number(t)),a===t?(s(e).css("display","none"),s(n).css("display","inline-block")):t||a||(s(e).css("display","none"),s(n).css("display","inline-block"))},!1):e.attachEvent&&e.attachEvent("onblur",function(){var t=s(e).val();"number"==typeof a&&t&&(t=Number(t)),t===a?(s(e).css("display","none"),s(n).css("display","inline-block")):a||t||(s(e).css("display","none"),s(n).css("display","inline-block"))})},courseSalary:function(){var e=this.bindings.state.data,n=this.bindings.classInfo.data,a=!1;return 3!==e.role&&2!==e.role||0!==n.courseSalary||(a=!0),1===e.role&&(a=!0),a}},i={1:"pdf",2:"zip",3:"audio",4:"video",5:"epub"},a.afterRender=function(){this.courseSalary()||(s(this.$("teacherPhone")).attr("disabled","disabled"),s(this.$("teacherName")).attr("disabled","disabled"),s(this.$("teacherTitle")).attr("disabled","disabled"),s(this.$("teacherOrganization")).attr("disabled","disabled"),s(this.$("lecturerIdCard")).attr("disabled","disabled"),s(this.$("lecturerBankCard")).attr("disabled","disabled"),s(this.$("lecturerBankName")).attr("disabled","disabled"),s(this.$("genseeUrl")).attr("disabled","disabled"))},a.changeFile=function(){var e,n,a,t=this.bindings.file.data.imgs,i=l.map(t,function(e){return{contentType:e.contentType,attachmentId:e.id,name:e.filename}}),r=this.bindings.offlineCourse.data,o=this.bindings.state,d=s(this.$("teacherPhone")).val(),c=this,u=s(c.$("name")).val(),m=s(c.$("classroomId")).val(),p=s(c.$("type")).val()||r.type,h=s(c.$("endTime")).val(),f=s(this.$("teacherName")).val(),v=s(this.$("teacherOrganization")).val(),g=s(this.$("teacherTitle")).val(),b=Number(s(this.$("teacherType")).val()),x=r.id,y=s(c.$("courseDate")).val(),w=3===p||"3"===p||6===p||"6"===p?s(this.$("genseeUrl")).val().trim():null;this.courseSalary()&&("update"===o.data.type&&(n=s(this.$("lecturerBankCard")).val(),a=s(this.$("lecturerBankName")).val(),e=s(this.$("lecturerIdCard")).val()),o.data.uploadType=!1,c.changeOfflineDate(x,p,u,y,h,m,d,f,v,g,b,w,e,n,a),c.module.dispatch("uploadFile",i))}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/helpers":"./app/util/helpers",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/view-edit-qnrtime",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/markers"),l=e("./app/ext/views/form/validators");a.title="编辑时间",a.bindings={state:!0,research:!0,classInfo:!1},a.small=!0,a.buttons=[{text:"保存",action:"editTime"}],a.dataForActions={editTime:function(e){var n=e.startTime.split(" "),a=n[0].split("-"),t=n[1].split(":"),i=this,l=new Date(a[0],a[1]-1,a[2],t[0],t[1]).getTime(),s=e.endTime.split(" "),r=s[0].split("-"),o=s[1].split(":");return l>=new Date(r[0],r[1]-1,r[2],o[0],o[1]).getTime()?(i.app.message.error("开始时间不能大于或者等于结束时间"),!1):!!this.validate()&&e}},a.actionCallbacks={},a.components=[function(){var e,n,a,i,l=this,s=this.bindings.classInfo.data.arriveDate;return{id:"startTime",name:"flatpickr",options:{enableTime:!0,onChange:function(r,o){o&&(e=o.split(" "),n=e[0].split("-"),a=e[1].split(":"),i=new Date(n[0],n[1]-1,n[2],a[0],a[1]).getTime(),s+864e5>i&&(l.app.message.error("开始时间不能早于开班日"),t(l.$("startTime")).val("")))}}}},function(){var e=this,n=t(this.$("startTime"));return{id:"endTime",name:"flatpickr",options:{enableTime:!0,onChange:function(a,i){e.$("endTime").focus(),i&&(n.val()?n.val()>=i&&(e.app.message.error("开始时间不能大于或者等于结束时间"),t(e.$("endTime")).val("")):(e.app.message.error("请先填写开始时间"),t(e.$("endTime")).val("")))}}}}],a.mixin={validate:function(){var e=t(this.$("startTime")),n=t(this.$("endTime")),a=!0;return i.text.valid(e),i.text.valid(n),""!==e.val()&&null!==e.val()||(i.text.invalid(e,l.required.message),a=!1),""!==n.val()&&null!==n.val()||(i.text.invalid(n,l.required.message),a=!1),a}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/programme/view-edit-task",function(e,n,a){var t,i=e("lodash/collection"),l=e("jquery"),s=e("drizzle-zxy"),r=e("./app/ext/views/form/markers"),o=e("./app/ext/views/form/validators"),d={1:"pdf",2:"zip",3:"audio",4:"video",5:"epub"},c={add:"添加作业",update:"编辑作业"};a.type="form",a.title=function(){return c[this.bindings.state.data.type]},a.buttons=[{text:"确定",action:"saveTask"},{text:"预览",fn:function(){var e=this.module.items["train/programme/add-preview-task"],n=this.bindings.task.data,a=this.bindings.files.data,t=l(this.$("name")).val(),i=l(this.$("startTime")).val(),r=l(this.$("endTime")).val(),o=this.components.explain.html();return n.id?this.app.viewport.modal(e,{id:n.id}):this.validate()&&this.app.viewport.modal(e,{task:s.assign({name:t,startTime:i,endTime:r,explain:o,attachList:a})}),!1}}],a.bindings={state:!0,task:!0,files:!0,download:!1,classInfo:!1,img:!0,file:"changeFile"},a.dataForTemplate={files:function(e){var n=this;return i.map(e.files||[],function(e,a){var i,l=e;i=l.attachmentName.split(".").pop().toLowerCase(),l.fileType=t.call(n,i),l.downUrl=n.bindings.download.getFullUrl()+"?id="+l.attachmentId,l.i=a+1,l.canPreview=2!==l.fileType,l.updateAttachName=l.attachmentName.substring(0,l.attachmentName.lastIndexOf("."))}),e.files},task:function(e){var n=e.task||{},a=n.taskReviewer||[];return i.map(a||[],function(e){var n=e;return n.memberId=n.approvalMemberId,n}),n},isMaxlength:function(e){return e.files&&e.files.length>=3}},a.events={"click choosemsgErr":"choosemsgErr","click label-attach-*":"changeTaskName","change input-attach-*":"updateTaskAttachName","click preview-attach-*":"preview","click selectMember":"showMember","click clearMembers":"clearMembers","input name":"changeNameTips","input explain":"changeExplainTips","click preview":"previewAdd","input startTime":"changeStartTime","input endTime":"changeEndTime"},a.handlers={choosemsgErr:function(){this.app.message.error("课件最多只能上传3个")},showMember:function(){var e=this,n=e.module.items["train/programme/select-member"],a=l(this.$("validate"));e.app.viewport.modal(n,{ids:e.components.tags.getValue(),singleCallback:function(n){var t=[],l=[];i.map(n,function(e){e.checked?l.push({value:e.member.id,text:e.member.fullName}):t.push({value:e.member.id,text:e.member.fullName})}),e.components.tags.removeItems(t),e.components.tags.addItems(l),r.text.valid(a)}})},clearMembers:function(){this.components.tags.clear()},changeTaskName:function(e){var n=this.$("input-attach-"+e),a=this.$("label-attach-"+e),t=i.find(this.bindings.files.data,["id",e]).attachmentName;l(this.$("input-attach-"+e)).css("display","inline-block"),l(this.$("label-attach-"+e)).css("display","none"),this.$("input-attach-"+e).focus(),this.onBlur(n,a,t.substring(0,t.lastIndexOf(".")))},updateTaskAttachName:function(e){var n=this.bindings.state.data,a=l(this.$("input-attach-"+e)).val(),t=i.find(this.bindings.files.data,["id",e]),s=t.attachmentName.split("."),r=s[s.length-1],o=t.attachmentName.substring(0,t.attachmentName.lastIndexOf(".")),d=this.components.tags.getData(),c=this.bindings.task.data;return n.updateType=!1,""===a?(this.app.message.alert("附件名称不能为空"),!1):a.length>30?(this.app.message.alert("附件名称最大长度为30"),l(this.$("input-attach-"+e)).val(o),!1):(c.taskReviewer=d,this.module.dispatch("updateTaskAttachName",{id:e,attachmentName:a+"."+r}))},preview:function(e,n,a){var t=a.getAttribute("data-attachName"),i=this.module.items["train/programme/preview"],s=a.getAttribute("data-fileType"),r=this;this.module.dispatch("getPreview",{id:e}).then(function(n){var a=n[0].path;r.app.viewport.modal(i,{id:e,name:t,key:d[s],path:a,close:function(){l(".dialog-content").css("overflow-y","auto")}})})},changeNameTips:function(){var e,n,a=this.$("name"),t=l(a).nextAll(".tips");0!==t.length&&(e=l(a).attr("x-rule").match(/maxLength:(\d+)/)[1],n=l(a).val().length,t.text(n+"/"+e))},changeExplainTips:function(){var e,n,a=this.components.explain.html(),t=l(this.$("tips"));0!==t.length&&(e=l(this.$("explain")).attr("x-rule").match(/maxLength:(\d+)/)[1],n=a.length,t.text(n+"/"+e))},changeStartTime:function(){l(this.$("startTime")).val()&&l(this.$("startTime")).next().hide()},changeEndTime:function(){l(this.$("endTime")).val()&&l(this.$("endTime")).next().hide()}},a.actions={"click saveTask":"saveTask","click del-attach-*":"delTaskAttach"},a.dataForActions={saveTask:function(e){var n,a,t,i,s,d=l(this.$("startTime")),c=l(this.$("endTime")),u=this.bindings.classInfo.data.arriveDate,m=this.validate();return r.text.valid(d),r.text.valid(c),o.required.fn(d.val())||r.text.invalid(d,o.required.message),o.required.fn(c.val())||r.text.invalid(c,o.required.message),d.val()&&(n=d.val().split(" "),a=n[0].split("-"),t=n[1].split(":"),i=new Date(a[0],a[1]-1,a[2],t[0],t[1]).getTime(),u>i&&(this.app.message.error("作业的开始时间不能早于开班日"),d.addClass("error"),m=!1),d.removeClass("error")),e.startTime>e.endTime&&(this.app.message.error("结束时间必须大于开始时间"),m=!1),s=e,s.explain=this.components.explain.html(),!!m&&e},delTaskAttach:function(e){var n=this.bindings.task.data,a=this.bindings.state.data;return n.name=e.name,n.startTime=e.startTime,n.endTime=e.endTime,n.explain=e.explain,a.delType=!1,e}},a.actionCallbacks={},a.afterRender=function(){var e,n,a,t,i=this.module.store.models.task.data,s=i.name,r=i.explain,o=l(this.$("name")).nextAll(".tips"),d=l(this.$("tips"));0!==o.length&&0!==d.length&&(e=l(this.$("name")).attr("x-rule").match(/maxLength:(\d+)/)[1],a=l(this.$("explain")).attr("x-rule").match(/maxLength:(\d+)/)[1],s&&(n=s.length,o.text(n+"/"+e)),r&&(t=r.length,d.text(t+"/"+a)))},t=function(e){var n,a="xls,xlsx,doc,docx,ppt,pptx,txt,pdf",t="zip,rar",i="mp3",l="mp4",s="epub";return a.indexOf(e)>-1&&(n=1),t.indexOf(e)>-1&&(n=2),i.indexOf(e)>-1&&(n=3),l.indexOf(e)>-1&&(n=4),s.indexOf(e)>-1&&(n=5),n},a.components=[{id:"explain",name:"rich-text",options:{model:"img",items:["fontname","fontsize","|","forecolor","bold","italic","underline","justifyleft","|","justifycenter","justifyright","insertorderedlist","insertunorderedlist","|","image","link"]}},function(){var e=this;return{id:"startTime",name:"flatpickr",options:{enableTime:!0,onChange:function(n,a){e.changeStartTime(a)}}}},function(){var e=this;return{id:"endTime",name:"flatpickr",options:{enableTime:!0,onChange:function(n,a){e.changeEndTime(a)}}}},function(){var e=this.bindings.state.data,n=e.inputName||"memberIds",a=this.bindings.task.data,t=[];return a.taskReviewer&&i.map(a.taskReviewer,function(e){t.push({text:e.memberFullName||e.text,value:e.memberId||e.value})}),{id:"tags",name:"picker",options:{picker:"audit-member",name:n,emptyText:"请选择人员",tags:t,enableInput:!1}}},function(){return{id:"chooseFile",name:"superUpload",options:{model:"file",accept:"xls,xlsx,doc,docx,ppt,pptx,zip,txt,rar,pdf,epub,mp3,mp4",maxSize:"1024M",isProgress:!0,filter:function(e,n){var a=n.name.split(".").pop(),t=new RegExp('[/\\\\|<>\\*:\\?\\"]+'),i=new RegExp("[~!@#$%\\^\\&]+");t.test(n.name)||i.test(n.name)?(e.removeFile(),this.app.message.error("文件名称不能包含特殊符号")):-1!==["mp3","mp4"].indexOf(a)?n.size>1073741824&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G")):n.size>104857600&&(e.removeFile(n),this.app.message.error(a+"文件不能超过100M"))}}}}],a.mixin={changeStartTime:function(e){var n,a,t,i,s=l(this.$("startTime")),d=this.bindings.classInfo.data.arriveDate;r.text.valid(s),o.required.fn(e)||r.text.invalid(s,o.required.message),e&&(n=e.split(" "),a=n[0].split("-"),t=n[1].split(":"),i=new Date(a[0],a[1]-1,a[2],t[0],t[1]).getTime(),d>i&&(this.app.message.error("作业的开始时间不能早于开班日"),s.addClass("error")),s.removeClass("error"))},changeEndTime:function(e){var n=l(this.$("endTime"));r.text.valid(n),o.required.fn(e)||r.text.invalid(n,o.required.message)},onBlur:function(e,n,a){e.addEventListener?e.addEventListener("blur",function(){var t=l(e).val();"number"==typeof a&&t&&(t=Number(t)),a===t?(l(e).css("display","none"),l(n).css("display","inline-block")):t||a||(l(e).css("display","none"),l(n).css("display","inline-block"))},!1):e.attachEvent&&e.attachEvent("onblur",function(){var t=l(e).val();"number"==typeof a&&t&&(t=Number(t)),t===a?(l(e).css("display","none"),l(n).css("display","inline-block")):a||t||(l(e).css("display","none"),l(n).css("display","inline-block"))})}},a.changeFile=function(){var e,n,a,t,s,r,o,d,c=this.bindings.file.data.imgs,u=i.map(c,function(e){return{contentType:e.contentType,attachmentId:e.id,name:e.filename}}),m=this.bindings.task.data,p=this.bindings.state,h=this.components.tags.getData();p.data.uploadType=!1,m.name=l(this.$("name")).val(),l(this.$("startTime")).val()&&(e=l(this.$("startTime")).val().split(" "),n=e[0].split("-"),d=e[1].split(":"),a=n[0],t=n[1],s=n[2],r=d[0],o=d[1],m.startTime=new Date(a,t-1,s,r,o).getTime()),l(this.$("endTime")).val()&&(e=l(this.$("endTime")).val().split(" "),n=e[0].split("-"),d=e[1].split(":"),a=n[0],t=n[1],s=n[2],r=d[0],o=d[1],m.endTime=new Date(a,t-1,s,r,o).getTime()),m.explain=this.components.explain.html(),m.taskReviewer=h,this.module.dispatch("uploadTaskFile",u)}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/view-import-upload",function(e,n,a){var t=e("lodash/collection");a.title="文件上传",a.bindings={importFile:"changeFile",fileInfo:!0,state:!1},a.components=[{id:"uploader2",name:"uploader",options:{model:"importFile",chunk_size:"100mb",filters:{max_file_size:"100mb",mime_types:[{title:"files",extensions:"xls,xlsx"}]}}}],a.changeFile=function(){var e=this.bindings.importFile.data.imgs,n=this.bindings.fileInfo,a=this.bindings.state.data.classId,i=t.map(e,function(e){return{contentType:e.contentType,attachmentId:e.id,name:e.filename}});n.data=i[0],this.module.dispatch("importFile",{attachmentId:i[0].attachmentId,classId:a})}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/view-import",function(e,n,a){a.title="导入课程",a.bindings={downExcel:!0},a.events={"click downloadExcel-*":"downExcel","click uploadExcel":"uploadExcel"},a.handlers={downExcel:function(e){var n=this.$("importCourse"),a=this.app.global.OAuth.token.access_token;n.action=this.bindings.downExcel.getFullUrl(),this.$("importType").value=e,this.$("access_token").value=a,n.submit()},uploadExcel:function(){var e=this.module.items["import-upload"];this.app.viewport.modal(e)}}},{}),loadjs.d("./app/train/programme/view-offline",function(e,n,a){var t=e("jquery"),i=e("lodash/collection");a.bindings={offlineCourseList:!0,state:!1,offlineCourse:!1,offlineThemeList:!0,export:!1,courseSalarySum:!0,files:!1,classInfo:!1,download:!1,lectuereFlag:!0},a.events={"click addOfflineCourse":"addOfflineCourse","click theme-offline":"showOfflineTheme","click label-name-offline-*":"changeOfflineName","change input-name-offline-*":"updateOfflineName","click label-torg-offline-*":"changeTorgName","change input-torg-offline-*":"updateTorgName","click label-title-offline-*":"changeTitleName","change input-title-offline-*":"updateTitleName","click label-paidPay-offline-*":"changePay","change input-paidPay-offline-*":"updatePay","click importOffline":"importCourse","click minimize-*":"showMinimize","click label-type-offline-*":"changeCourseType","change input-type-offline-*":"updateCourseType","click preview":"oneKeyPreview"},a.handlers={addOfflineCourse:function(){var e=this.courseSalary(),n=this.module.items["edit-offline"],a=this.bindings.files,t=this.bindings.offlineCourse,i=this;e?(this.bindings.state.data.type="add",t.clear(),a.clear(),i.app.viewport.modal(n)):i.app.message.error("班级已经确定日程无法添加课程")},showOfflineTheme:function(){this.app.viewport.modal(this.module.items["config-offline"])},changeOfflineName:function(e){var n=this.$("input-name-offline-"+e),a=this.$("label-name-offline-"+e),l=this.bindings.offlineCourseList.data,s=i.find(l,["id",e]);this.courseSalary()&&(t(this.$("input-name-offline-"+e)).css("display","inline-block"),t(this.$("label-name-offline-"+e)).css("display","none"),n.focus(),this.onBlur(n,a,s.name))},updateOfflineName:function(e){var n=t(this.$("input-name-offline-"+e)).val().replace(/^\s+|\s+$/g,""),a=this.bindings.classInfo.data,l=this.bindings.classInfo.data.submitNum,s=this,r=this.bindings.offlineCourseList.data,o=i.find(r,["id",e]),d=this.bindings.state.data;return""===n?(this.app.message.error("课程名称不能为空"),!1):n.length>50?(this.app.message.error("课程名称最大长度为50"),!1):l>0?this.Promise.create(function(i){var l;l=a.arriveDate-15575904e5>=0?"该班级已有学员参加满意度问卷，您修改的课程信息将影响到学员满意度统计结果":"该班级已有学员参加满意度问卷，您修改的课程信息将无法同步到学员满意度统计结果中",this.app.message.confirm(l,function(){s.module.dispatch("updateOfflineName",{id:e,name:n,classId:d.classId})},function(){t(s.$("input-name-offline-"+e)).css("display","none"),t(s.$("label-name-offline-"+e)).css("display","inline-block"),t(s.$("div-name-offline-"+e)).css("display","block"),s.$("input-name-offline-"+e).value=o.name,i(!1)})}):this.module.dispatch("updateOfflineName",{id:e,name:n,classId:d.classId})},changeTeacherName:function(e){var n=this.$("input-teacher-offline-"+e),a=this.$("label-teacher-offline-"+e),l=this.bindings.offlineCourseList.data,s=i.find(l,["id",e]);t(this.$("input-teacher-offline-"+e)).css("display","inline-block"),t(this.$("label-teacher-offline-"+e)).css("display","none"),n.focus(),this.onBlur(n,a,s.teacherName)},updateTeacherName:function(e){var n=t(this.$("input-teacher-offline-"+e)).val(),a=this.bindings.classInfo.data,l=this.bindings.classInfo.data.submitNum,s=this,r=this.bindings.offlineCourseList.data,o=i.find(r,["id",e]),d=this.bindings.state.data;return""===n?(this.app.message.error("讲师名称不能为空"),!1):n.length>25?(this.app.message.error("讲师名称最大长度为25"),!1):l>0?this.Promise.create(function(i){var l;l=a.arriveDate-15575904e5>=0?"该班级已有学员参加满意度问卷，您修改的课程信息将影响到学员满意度统计结果":"该班级已有学员参加满意度问卷，您修改的课程信息将无法同步到学员满意度统计结果中",this.app.message.confirm(l,function(){s.module.dispatch("updateOfflineName",{id:e,teacherName:n,classId:d.classId})},function(){t(s.$("input-teacher-offline-"+e)).css("display","none"),t(s.$("label-teacher-offline-"+e)).css("display","inline-block"),s.$("input-teacher-offline-"+e).value=o.teacherName,i(!1)})
}):this.module.dispatch("updateOfflineName",{id:e,teacherName:n,classId:d.classId})},changeTorgName:function(e){var n=this.courseSalary(),a=this.$("input-torg-offline-"+e),l=this.$("label-torg-offline-"+e),s=this.bindings.offlineCourseList.data,r=i.find(s,["id",e]);n&&(t(this.$("input-torg-offline-"+e)).css("display","inline-block"),t(this.$("label-torg-offline-"+e)).css("display","none"),a.focus(),this.onBlur(a,l,r.teacherOrganization))},updateTorgName:function(e){var n=t(this.$("input-torg-offline-"+e)).val().replace(/^\s+|\s+$/g,""),a=this.bindings.state.data;return""===n?(this.app.message.error("讲师单位不能为空"),!1):n.length>30?(this.app.message.error("讲师单位最大长度为30"),!1):this.module.dispatch("updateOfflineName",{id:e,teacherOrganization:n,classId:a.classId})},changeTitleName:function(e){var n=this.$("input-title-offline-"+e),a=this.$("label-title-offline-"+e),l=this.bindings.offlineCourseList.data,s=i.find(l,["id",e]);this.courseSalary()&&(t(this.$("input-title-offline-"+e)).css("display","block"),t(this.$("label-title-offline-"+e)).css("display","none"),this.$("input-title-offline-"+e).focus(),this.onBlur(n,a,s.teacherTitle))},updateTitleName:function(e){var n=t(this.$("input-title-offline-"+e)).val(),a=this.bindings.state.data;return""===n?(this.app.message.error("讲师职称不能为空"),!1):n.length>25?(this.app.message.error("讲师职称最大长度为25"),!1):this.module.dispatch("updateOfflineName",{id:e,teacherTitle:n,classId:a.classId})},importCourse:function(){var e=this,n=this.courseSalary(),a=this.module.items["train/programme/import-data"],t=this.bindings.classInfo.data.submitNum;if(n){if(t>0)return this.Promise.create(function(n){e.app.message.confirm("该班级已有学员参加满意度问卷,您修改的课程信息将无法同步到学员满意度统计结果中,导入成功后将会删除之前原有课程,确认要进行此操作么?",function(){n(e.app.viewport.modal(a,{classId:e.bindings.state.data.classId,callback:function(){return e.chain(e.module.dispatch("refreshList"))}}))},function(){n(!1)})})}else e.app.message.error("班级已经确定日程无法导入课程");return n?this.Promise.create(function(n){e.app.message.confirm("导入成功后将会删除之前原有课程,确认要进行此操作么?",function(){n(e.app.viewport.modal(a,{classId:e.bindings.state.data.classId,callback:function(){return e.chain(e.module.dispatch("refreshList"))}}))},function(){n(!1)})}):(n||e.app.message.error("班级已经确定日程无法导入课程"),!1)},showMinimize:function(e){t(this.$("minitable-"+e)).toggle(),"收起"===t(this.$("min-"+e)).text()?(t(this.$("min-"+e)).text("展开"),t(this.$("minimize-"+e)).addClass("icon-add-full").removeClass("icon-minus-full"),t(this.$("train-title-"+e)).addClass("bottom"),t(this.$("train-title-"+e)).css("margin-bottom","0")):(t(this.$("min-"+e)).text("收起"),t(this.$("minimize-"+e)).addClass("icon-minus-full").removeClass("icon-add-full"))},changePay:function(e){var n=this.$("input-paidPay-offline-"+e),a=this.$("label-paidPay-offline-"+e),l=this.bindings.offlineCourseList.data,s=i.find(l,["id",e]);this.courseSalary()&&(t(this.$("input-paidPay-offline-"+e)).css("display","inline-block"),t(this.$("label-paidPay-offline-"+e)).css("display","none"),n.focus(),this.onBlur(n,a,s.courseSalary.paidPay))},updatePay:function(e){var n=t(this.$("input-paidPay-offline-"+e)).val(),a=this.bindings.classInfo.data,l=this.bindings.classInfo.data.submitNum,s=this,r=this.bindings.offlineCourseList.data,o=i.find(r,["id",e]);return l>0?this.Promise.create(function(i){var l;l=a.arriveDate-15575904e5>=0?"该班级已有学员参加满意度问卷，您修改的课程信息将影响到学员满意度统计结果":"该班级已有学员参加满意度问卷，您修改的课程信息将无法同步到学员满意度统计结果中",this.app.message.confirm(l,function(){s.module.dispatch("updatePay",{courseId:e,paidPay:n})},function(){t(s.$("input-paidPay-offline-"+e)).css("display","none"),t(s.$("label-paidPay-offline-"+e)).css("display","inline-block"),t(s.$("div-paidPay-offline-"+e)).css("display","block"),s.$("input-paidPay-offline-"+e).value=o.courseSalary.paidPay,i(!1)})}):this.module.dispatch("updatePay",{courseId:e,paidPay:n})},changeCourseType:function(e){var n=this.$("input-type-offline-"+e),a=this.$("label-type-offline-"+e),l=this.bindings.offlineCourseList.data,s=i.find(l,["id",e]);this.courseSalary()&&(t(this.$("input-type-offline-"+e)).css("display","inline-block"),t(this.$("label-type-offline-"+e)).css("display","none"),n.focus(),this.onBlur(n,a,s.type))},updateCourseType:function(e){var n=t(this.$("input-type-offline-"+e)).val(),a=this.bindings.classInfo.data,l=this.bindings.classInfo.data.submitNum,s=this,r=this.bindings.offlineCourseList.data,o=i.find(r,["id",e]),d=this.bindings.state.data;return l>0?this.Promise.create(function(i){var l;l=a.arriveDate-15575904e5>=0?"该班级已有学员参加满意度问卷，您修改的课程信息将影响到学员满意度统计结果":"该班级已有学员参加满意度问卷，您修改的课程信息将无法同步到学员满意度统计结果中",this.app.message.confirm(l,function(){s.module.dispatch("updateOfflineName",{id:e,type:n,classId:d.classId})},function(){t(s.$("input-type-offline-"+e)).css("display","none"),t(s.$("label-type-offline-"+e)).css("display","inline-block"),s.$("input-type-offline-"+e).value=o.type,i(!1)})}):this.module.dispatch("updateOfflineName",{id:e,type:n,classId:d.classId})},oneKeyPreview:function(){var e=this.bindings.state.data.classId;window.open("#/train/programme/enterpreview/"+e,"_blank")}},a.actions={"click label-teacher-offline-*":"editOfflineCourse","click del-offline-*":"delOfflineCourse","click courseware-*":"showCourseware","change selectOffline":"searchOffline","click edit-offline-time-*":"editCourseDate","click schedule":"schedule","click exprotSalary":"exprotSalary"},a.dataForActions={editOfflineCourse:function(e){return this.bindings.state.data.type="update",e},exprotSalary:function(){var e=this.bindings.courseSalarySum.data,n=this;return null!==e||(n.app.message.error("暂无导出数据，如有疑问请与班主任联系"),!1)},delOfflineCourse:function(e){var n=this,a=this.bindings.classInfo.data,t=this.bindings.classInfo.data.submitNum;return this.Promise.create(function(i){n.app.message.confirm("课程删除后将无法恢复，是否确定删除该课程?",function(){i(t>0?n.Promise.create(function(t){var i;i=a.arriveDate-15575904e5>=0?"该班级已有学员参加满意度问卷，您修改的课程信息将影响到学员满意度统计结果":"该班级已有学员参加满意度问卷，您修改的课程信息将无法同步到学员满意度统计结果中",n.app.message.confirm(i,function(){t(e)},function(){t(!1)})}):e)},function(){i(!1)})})},searchOffline:function(){return{id:t(this.$("selectOffline")).val()}},editCourseDate:function(e){return e},schedule:function(){var e=this;return this.Promise.create(function(n){e.app.message.confirm("点击【确定】后，日程安排无法修改。",function(){e.module.dispatch("schedule")},function(){n(!1)})})}},a.actionCallbacks={editOfflineCourse:function(){this.app.viewport.modal(this.module.items["edit-offline"])},showCourseware:function(){this.app.viewport.modal(this.module.items.courseware)},editCourseDate:function(){this.courseSalary()&&this.app.viewport.modal(this.module.items["edit-course-time"])},exprotSalary:function(){}},a.dataForTemplate={flag:function(){return(this.bindings.offlineCourseList.data||[]).length>0},weeks:function(){var e=this.bindings.offlineThemeList;return i.map(e.data||[],function(e,n){var a=e;a.i=n+1,a.weekly=a.name}),e.data},offlineCourseList:function(e){var n,a=e.offlineCourseList,t=this.bindings.state.data,l=this.bindings.classInfo.data,s=0;return n=i.groupBy(a,"courseDate"),i.map(a||[],function(e){var a=e;a.isGrant=4!==t.role,3!==t.role&&2!==t.role||0!==l.courseSalary||(a.isFlag=!0),1===t.role&&(a.isFlag=!0),s!==a.courseDate&&(s=a.courseDate,a.isRowspan=!0,a.rowspan=n[a.courseDate].length),a.type1=1===a.type,a.type2=2===a.type,a.type3=3===a.type,a.type4=4===a.type,a.type5=5===a.type,null!=a.courseSalary.paidPay&&a.courseSalary.paidPay>=0?a.showPaidPay=!0:a.showPaidPay=!1,a.weekly=a.name}),e.offlineCourseList},isShowWeeks:function(){return this.bindings.offlineThemeList.data.length>0},isLectuereFlag:function(){var e=this.bindings.state.data,n=this.bindings.lectuereFlag;return 1===e.role||n},downUrl:function(){var e=this.bindings.export,n=this.bindings.state.data,a=e.getFullUrl()+"?",t=this.app.global.OAuth.token.access_token;return a+="classId="+n.classId,a+="&access_token="+t},isGrant:function(){return 4!==this.bindings.state.data.role},isFlag:function(){var e=this.bindings.state.data,n=this.bindings.classInfo.data;return 3===e.role&&0===n.courseSalary||1===e.role},downloadSimpleUrl:function(){var e=this.bindings.download.getFullUrl();return e+="?id=train_course_simple_overproof"},downloadTotalUrl:function(){var e=this.bindings.download.getFullUrl();return e+="?id=train_course_total_overproof"}},a.mixin={onBlur:function(e,n,a){e.addEventListener?e.addEventListener("blur",function(){var i=t(e).val();"number"==typeof a&&i&&(i=Number(i)),a===i?(t(e).css("display","none"),t(n).css("display","inline-block")):i||a||(t(e).css("display","none"),t(n).css("display","inline-block"))},!1):e.attachEvent&&e.attachEvent("onblur",function(){var i=t(e).val();"number"==typeof a&&i&&(i=Number(i)),i===a?(t(e).css("display","none"),t(n).css("display","inline-block")):a||i||(t(e).css("display","none"),t(n).css("display","inline-block"))})},courseSalary:function(){var e=this.bindings.state.data,n=this.bindings.classInfo.data,a=!1;return 3!==e.role&&2!==e.role||0!==n.courseSalary||(a=!0),1===e.role&&(a=!0),a}},a.afterRender=function(){"展开"===t(this.$("min-1")).text()&&(t(this.$("train-title-1")).addClass("bottom"),t(this.$("train-title-1")).css("margin-bottom","0"))}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/view-online",function(e,n,a){var t=e("jquery"),i=e("lodash/collection");a.bindings={onlineCourseList:!0,state:!0,themeList:!0,flag:!1},a.actions={"click theme-online":"showOnlineTheme","click del-online-*":"delOnlineCourse","click addCourse":"addCourse"},a.dataForActions={delOnlineCourse:function(e){var n,a=this,i=t(this.$("min-2")).text();return n={id:e,text:i,classId:a.bindings.state.data.classId},this.Promise.create(function(e){a.app.message.confirm("课程删除后将无法恢复，是否确定删除该课程?",function(){a.module.dispatch("delOnlineCourse",n)},function(){e(!1)})})},showOnlineTheme:function(){return t(this.$("min-2")).text()},addCourse:function(){return t(this.$("min-2")).text()}},a.actionCallbacks={showOnlineTheme:function(){var e=t(this.$("min-2")).text();this.bindings.state.data.text=e,this.app.viewport.modal(this.module.items["config-online"])},addCourse:function(){var e=this.module.items["train/programme/select-course"],n=this.bindings.state,a=this,t=n.data.text;a.app.viewport.modal(e,{id:n.data.classId,callback:function(e,n,i){a.module.dispatch("saveOnlineCourse",{themeId:e,target:n,del:i,text:t})}})}},a.dataForTemplate={flag:function(){return(this.bindings.onlineCourseList.data||[]).length>0},state:function(){return this.bindings.state.data},onlineCourseList:function(){var e,n=this.bindings.onlineCourseList,a=this.bindings.state.data,t="",l=[];return e=i.groupBy(n.data,"themeId"),Object.keys(e).map(function(n){return i.forEach(e[n],function(e){return l.push(e),l}),l}),i.map(l||[],function(n){var i=n;i.isRequired1=1===i.isRequired,i.isRequired0=0===i.isRequired,i.isGrant=4!==a.role,t!==i.themeId&&(t=i.themeId,i.isRowspan=!0,i.rowspan=e[i.themeId].length),i.resourceName&&i.resourceName.length>20?(i.length=!0,i.newName=i.resourceName.substring(0,19)+"..."):i.length=!1,i.themeName&&i.themeName.length>20?(i.theme=!0,i.newThemeName=i.themeName.substring(0,19)+"..."):i.theme=!1}),l},isGrant:function(){return 4!==this.bindings.state.data.role}},a.events={"click label-online-*":"changeRequired","change input-online-*":"updateRequired","click minimize-*":"showMinimize","click view-online-*":"viewCourse"},a.handlers={changeRequired:function(e){var n=this.$("input-online-"+e),a=this.$("label-online-"+e),l=this.bindings.onlineCourseList.data,s=i.find(l,["id",e]);t(this.$("input-online-"+e)).css("display","inline-block"),t(this.$("label-online-"+e)).css("display","none"),n.focus(),this.onBlur(n,a,s.isRequired)},updateRequired:function(e){var n=this.$("input-online-"+e).value,a=t(this.$("min-2")).text();this.module.dispatch("updateRequired",{id:e,isRequired:n,text:a})},showMinimize:function(e){t(this.$("minitable-"+e)).toggle(),"收起"===t(this.$("min-"+e)).text()?(t(this.$("min-"+e)).text("展开"),t(this.$("minimize-"+e)).addClass("icon-add-full").removeClass("icon-minus-full"),t(this.$("train-title-"+e)).addClass("bottom"),t(this.$("train-title-"+e)).css("margin-bottom","0")):(t(this.$("min-"+e)).text("收起"),t(this.$("minimize-"+e)).addClass("icon-minus-full").removeClass("icon-add-full"))},viewCourse:function(e){var n=this.bindings.onlineCourseList.data||[],a=i.find(n,["id",e]);window.open("#/study/course/detail/"+a.resourceId,"_blank")}},a.mixin={onBlur:function(e,n,a){e.addEventListener?e.addEventListener("blur",function(){var i=t(e).val();!isNaN(a)&&i&&(i=Number(i)),a!==i&&(i||a)||(t(e).css("display","none"),t(n).css("display","inline-block"))},!1):e.attachEvent&&e.attachEvent("onblur",function(){var i=t(e).val();!isNaN(a)&&i&&(i=Number(i)),(a||i)&&i!==a||(t(e).css("display","none"),t(n).css("display","inline-block"))})}},a.afterRender=function(){"展开"===t(this.$("min-2")).text()&&(t(this.$("train-title-2")).addClass("bottom"),t(this.$("train-title-2")).css("margin-bottom","0"))}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/view-questionnaire",function(e,n,a){var t,i,l=e("lodash"),s=e("jquery");a.bindings={questionnaireList:!0,state:!1,research:!0,classInfo:!1},a.events={"click addSurvey":"addSurvey","click addEva":"addEva","click addExam":"addExam","click minimize-*":"showMinimize","click view-qnr-*":"viewQuestionar"},a.handlers={addSurvey:function(){var e=this.module.items["train/programme/select-research-activity"],n=this,a=this.module.renderOptions.state.organizationId,t=s(this.$("min-3")).text(),i=this.bindings.classInfo.data.arriveDate,l=this.module.renderOptions.state.classId;n.app.viewport.modal(e,{sourceType:4,organizationId:a,arriveDate:i,classId:l,callback:function(e){var a={type:2,resourceId:e.id,resourceName:e.name,startTime:e.startTime,endTime:e.endTime,isAdd:e.isAdd,text:t,sourceId:e.sourceId};return n.module.dispatch("saveResearch",a)}})},addEva:function(){var e=this.module.items["train/programme/evaluate-questionary/select-evaluate-questionary"],n=this,a=this.module.renderOptions.state.organizationId,t=s(this.$("min-3")).text(),i=this.bindings.classInfo.data.arriveDate,l=this.module.renderOptions.state.classId;n.app.viewport.modal(e,{sourceType:4,organizationId:a,arriveDate:i,classId:l,callback:function(e){var a={type:3,resourceId:e.id,resourceName:e.name,startTime:e.startTime,endTime:e.endTime,isAdd:e.isAdd,text:t,sourceId:e.sourceId};n.module.dispatch("saveResearch",a)}})},addExam:function(){var e=this.module.items["train/programme/exam/other-module-exam"],n=this,a=s(this.$("min-3")).text(),t=this.bindings.classInfo.data.arriveDate,i=this.bindings.classInfo.data.organizationId;n.app.viewport.modal(e,{id:null,sourceType:4,arriveDate:t,organizationId:i,callback:function(e){var t={type:1,resourceId:e.id,resourceName:e.name,startTime:e.startTime,endTime:e.endTime,isAdd:e.isAdd,paperClassId:e.paperClassId,duration:e.duration,markConfig:e.markConfig,text:a,showAnswerRule:e.showAnswerRule};n.module.dispatch("saveResearch",t)}})},showMinimize:function(e){s(this.$("minitable-"+e)).toggle(),"收起"===s(this.$("min-"+e)).text()?(s(this.$("min-"+e)).text("展开"),s(this.$("minimize-"+e)).addClass("icon-add-full").removeClass("icon-minus-full"),s(this.$("train-title-"+e)).addClass("bottom"),s(this.$("train-title-"+e)).css("margin-bottom","0")):(s(this.$("min-"+e)).text("收起"),s(this.$("minimize-"+e)).addClass("icon-minus-full").removeClass("icon-add-full"))},viewQuestionar:function(e){var n,a,t,s=this.bindings.questionnaireList,r=this;n=l.find(s.data,{id:e}),a=n.type,t=n.paperClassId,1===a?this.module.dispatch("getPaperClass",{paperClassId:t}).then(function(e){3===e[0].type?this.app.message.error("随机组卷不提供预览 "):i[a]&&i[a].call(r,{id:n.resourceId,questionary:n})}):2!==a&&3!==a||i[a]&&i[a].call(this,{id:n.resourceId,questionary:n})}},a.dataForTemplate={questionnaireList:function(e){var n=e,a=this.bindings.state.data;return l.map(n.questionnaireList||[],function(e,n){var t=e;t.i=n+1,t.isGrant=4!==a.role}),n.questionnaireList=l.filter(n.questionnaireList,function(e){return 8!==e.type}),n.questionnaireList},isGrant:function(){return 4!==this.bindings.state.data.role},flag:function(e){return(e.questionnaireList||[]).length>0}},a.actions={"click del-qnr-*":"delQuestionnair","click edit-qnr-*":"toEdit"},a.dataForActions={delQuestionnair:function(e){var n,a=this,t=this.bindings.questionnaireList.data,i=l.find(t,["id",e.id]);return n={id:e,text:s(this.$("min-3")).text()},0===i.recorde?a.Promise.create(function(e){a.app.message.confirm("问卷删除后将无法恢复，是否确定删除该问卷?",function(){a.module.dispatch("delQuestionnair",n)},function(){e(!1)})}):(this.app.message.error("已有学员参加，不能被删除"),!1)},toEdit:function(e){return{id:e,text:s(this.$("min-3")).text()}}},a.actionCallbacks={toEdit:function(){var e,n=this.bindings.research.data.isAdd,a=this.bindings.research.data.type,i=this.bindings.research.data.id,l=this,s=function(e){return l.module.dispatch("editQuestionnair",{id:i,data:e,text:l.bindings.state.data.text,type:a})};return this.bindings.research.data.recorde>0?(this.app.message.error("已有学员参与，无法被修改"),!1):(1===n&&(e=t[a].call(this,{id:i,questionnaire:this.bindings.research.data},s)),0===n&&(e=this.app.viewport.modal(this.module.items["edit-qnrtime"])),e)}},t={1:function(e,n){var a=this.module.items["train/programme/exam/other-module-exam"],t=e.questionnaire,i=this.bindings.classInfo.data.arriveDate,l=this.bindings.classInfo.data.organizationId;return this.app.viewport.modal(a,{id:t.resourceId,sourceType:4,startTime:t.startTime,endTime:t.endTime,arriveDate:i,organizationId:l,callback:function(a){return n({id:e.id,resourceName:a.name,startTime:a.startTime,endTime:a.endTime,item:a,paperClassId:a.paperClassId})}})},2:function(e,n){var a=this.module.items["train/programme/research-activity/add-research-third-party"],t=e.questionnaire,i=this.bindings.classInfo.data.arriveDate;return this.app.viewport.modal(a,{researchId:t.resourceId,titleType:t.resourceId?"edit":"add",sourceType:4,startTime:t.startTime,endTime:t.endTime,arriveDate:i,callback:function(a){return n({id:e.id,resourceName:a.name,startTime:a.startTime,endTime:a.endTime,item:a})}})},3:function(e,n){var a=this.module.items["train/programme/evaluate-questionary/select-evaluate-questionary/add-research-refrence"],t=e.questionnaire,i=this.bindings.classInfo.data.arriveDate;return this.app.viewport.modal(a,{researchId:t.resourceId,name:t.name,startTime:t.startTime,endTime:t.endTime,titleType:t.resourceId?"edit":"add",sourceType:4,arriveDate:i,callback:function(a){return n({id:e.id,resourceName:a.name,startTime:a.startTime,endTime:a.endTime,item:a})}})}},i={1:function(e){var n=e.questionary,a=this.module.items["train/programme/exam/paper/preview-paper"];this.app.viewport.modal(a,{paperId:n.paperClassId,exam:{name:n.resourceName}})},2:function(e){var n=e.questionary,a=this.module.items["train/programme/research-activity/preview-questionary"];this.app.viewport.modal(a,{researchId:n.resourceId,name:n.resourceName})},3:function(e){var n=e.questionary,a=this.module.items["train/programme/research-activity/preview-questionary"];this.app.viewport.modal(a,{researchId:n.resourceId,name:n.resourceName})}},a.afterRender=function(){"展开"===s(this.$("min-3")).text()&&(s(this.$("train-title-3")).addClass("bottom"),s(this.$("train-title-3")).css("margin-bottom","0"))}},{jquery:!1,lodash:696}),loadjs.d("./app/train/programme/view-task",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.bindings={taskList:!0,task:!1,state:!1,files:!1},a.events={"click addTask":"addTask","click minimize-*":"showMinimize"},a.handlers={addTask:function(){var e=this.module.items["edit-task"];this.bindings.state.data.type="add",this.bindings.state.data.text=i(this.$("min-4")).text(),this.bindings.task.clear(),this.bindings.files.clear(),this.app.viewport.modal(e)},showMinimize:function(e){i(this.$("minitable-"+e)).toggle(),"收起"===i(this.$("min-"+e)).text()?(i(this.$("min-"+e)).text("展开"),i(this.$("minimize-"+e)).addClass("icon-add-full").removeClass("icon-minus-full"),i(this.$("train-title-"+e)).addClass("bottom"),i(this.$("train-title-"+e)).css("margin-bottom","0")):(i(this.$("min-"+e)).text("收起"),i(this.$("minimize-"+e)).addClass("icon-minus-full").removeClass("icon-add-full"))}},a.actions={"click del-task-*":"delTask","click edit-task-*":"editTask"},a.dataForActions={delTask:function(e){var n,a=this,l=this.bindings.taskList.data,s=t.find(l,["id",e.id]);return n={id:e,text:i(this.$("min-4")).text()},0===s.recorde?a.Promise.create(function(e){a.app.message.confirm("作业删除后将无法恢复，是否确定删除该作业?",function(){a.module.dispatch("delTask",n)},function(){e(!1)})}):(a.app.message.error("已有学员参加，无法被删除"),!1)},editTask:function(e){var n=this.bindings.taskList.data,a=t.find(n,["id",e.id]);return this.bindings.state.data.type="update",this.bindings.state.data.text=i(this.$("min-4")).text(),0===a.recorde?e:(this.app.message.error("已有学员参与，无法被修改"),!1)}},a.actionCallbacks={editTask:function(){return this.app.viewport.modal(this.module.items["edit-task"])}},a.dataForTemplate={taskList:function(e){var n=this.bindings.state.data;return t.map(e.taskList||[],function(e,a){var t=e;t.i=a+1,t.isGrant=4!==n.role}),e.taskList},isGrant:function(){return 4!==this.bindings.state.data.role},flag:function(e){return(e.taskList||[]).length>0}},a.afterRender=function(){"展开"===i(this.$("min-4")).text()&&(i(this.$("train-title-4")).addClass("bottom"),i(this.$("train-title-4")).css("margin-bottom","0"))}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/programme/view-upload-task",function(e,n,a){var t=e("lodash/collection");a.title="文件上传",a.bindings={file:"changeFile"},a.components=function(){return[{id:"uploader",name:"uploader",options:{model:"file",chunk_size:"1024mb",multi_selection:!1,filters:{mime_types:[{title:"files",extensions:"xls,xlsx,doc,docx,ppt,pptx,zip,txt,rar,pdf,epub,mp3,mp4"}]},filter:function(e,n){var a=n.name.split(".").pop(),t=new RegExp('[/\\\\|<>\\*:\\?\\"]+'),i=new RegExp("[~!@#$%\\^\\&]+");t.test(n.name)||i.test(n.name)?(e.removeFile(),this.app.message.error("文件名称不能包含特殊符号")):-1!==["mp3","mp4"].indexOf(a)?n.size>1073741824&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G")):n.size>104857600&&(e.removeFile(n),this.app.message.error(a+"文件不能超过100M"))},signle_file:!1,resize:null}}]},a.changeFile=function(){var e=this.bindings.file.data.imgs,n=this.components.uploader,a=n.files.length,i=t.map(e,function(e){return{contentType:e.contentType,attachmentId:e.id,name:e.filename}});this.module.dispatch("uploadTaskFile",i),n.uploadCount+=1,n.uploadCount>=a&&this.app.viewport.closeModal()},a.afterRender=function(){var e=this,n=this.components.uploader,a=this.renderOptions.size||0;n.uploadCount=0,n.bind("QueueChanged",function(n){n.files.length+a>3&&(e.app.message.error("最多只能上传三个附件"),n.files.forEach(function(e,t){t+a>2&&n.removeFile(e)}))})}},{"lodash/collection":!1}),loadjs.d("./app/train/programme/view-upload",function(e,n,a){var t=e("lodash/collection");a.title="文件上传",a.bindings={file:"changeFile"},a.components=function(){return[{id:"uploader",name:"uploader",options:{model:"file",chunk_size:"1024mb",multi_selection:!0,filters:{mime_types:[{title:"files",extensions:"xls,xlsx,doc,docx,ppt,pptx,zip,txt,rar,pdf,epub,mp3,mp4"}]},filter:function(e,n){var a=n.name.split(".").pop();-1!==["mp3","mp4"].indexOf(a)?n.size>1073741824&&(e.removeFile(n),this.app.message.error("音频视频不能超过1G")):n.size>104857600&&(e.removeFile(n),this.app.message.error(a+"文件不能超过100M"))},signle_file:!1,resize:null}}]},a.changeFile=function(){var e=this.bindings.file.data.imgs,n=this.components.uploader,a=n.files.length,i=t.map(e,function(e){return{contentType:e.contentType,attachmentId:e.id,name:e.filename}});this.module.dispatch("uploadFile",i),n.uploadCount+=1,n.uploadCount>=a&&this.app.viewport.closeModal()},a.afterRender=function(){var e=this,n=this.components.uploader,a=this.renderOptions.size||0;n.uploadCount=0,n.bind("QueueChanged",function(n){n.files.length+a>5&&(e.app.message.error("最多只能上传五个附件"),n.files.forEach(function(e,t){t+a>4&&n.removeFile(e)}))})}},{"lodash/collection":!1}),loadjs.d("./app/train/projects/index",function(e,n,a){a.items={search:"search",main:"main"},a.large=!0,a.store={models:{state:{},projects:{url:"../train/project/frontend",type:"pageable",root:"items"}},callbacks:{init:function(){var e=this.models.projects;return this.get(e,{loading:!0})},search:function(e){var n=this.models.projects;return n.clear(),n.params=e,this.get(n)}}},a.beforeRender=function(){return this.dispatch("init")}},{}),loadjs.d("./app/train/projects/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="demand-page">\n    <div class="demand-title" data-region="search"></div>\n    <div class="demand-table" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){return'<form>\n    <section class="section container"></section>\n    <div class="filter-row container filter-block clearfix">\n        <div class="filter-item train">\n            <span>MIS编号</span>\n            <input class="input" name="MIScode"/>\n        </div>\n        <div class="filter-item train">\n            <span>班级名称</span>\n            <input class="input" name="className"/>\n        </div>\n        <div class="filter-item train">\n            <span>实施年月</span>\n            <input id="month" class="input" name="startTime" style="width:200px"/>\n        </div>\n        <div class="filter-item train">\n            <button id="search" class="btn">查询</button>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l;return'    <div class="container layout-mt-small">\n        <table class="table train border around text-center">\n            <thead><tr>\n                <th>MIS编号</th>\n                <th>培训班名称</th>\n                <th>计划人数</th>\n                <th>计划时间</th>\n                <th>班主任</th>\n                <th>计划月份</th>\n                <th>报到日</th>\n                <th>返程日</th>\n                <th>审核状态</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.projects:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n        <div id="pager" class="pagination"></div>\n    </div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'<tr>\n                <td><span title="'+c((s=null!=(s=a.codes||(null!=n?n.codes:n))?s:o,typeof s===d?s.call(r,{name:"codes",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,typeof s===d?s.call(r,{name:"code",hash:{},data:i}):s))+'</span></td>\n                <td><span title="'+c((s=null!=(s=a.names||(null!=n?n.names:n))?s:o,typeof s===d?s.call(r,{name:"names",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+"</span></td>\n                <td>"+c((s=null!=(s=a.amount||(null!=n?n.amount:n))?s:o,typeof s===d?s.call(r,{name:"amount",hash:{},data:i}):s))+"</td>\n                <td>"+c((s=null!=(s=a.days||(null!=n?n.days:n))?s:o,typeof s===d?s.call(r,{name:"days",hash:{},data:i}):s))+'</td>\n                <td><span title="'+c((s=null!=(s=a.teacherNames||(null!=n?n.teacherNames:n))?s:o,typeof s===d?s.call(r,{name:"teacherNames",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.teacherName||(null!=n?n.teacherName:n))?s:o,typeof s===d?s.call(r,{name:"teacherName",hash:{},data:i}):s))+"</span></td>\n                <td>"+c((s=null!=(s=a.year||(null!=n?n.year:n))?s:o,typeof s===d?s.call(r,{name:"year",hash:{},data:i}):s))+"-"+c((s=null!=(s=a.month||(null!=n?n.month:n))?s:o,typeof s===d?s.call(r,{name:"month",hash:{},data:i}):s))+"</td>\n                <td>"+c((a.date||n&&n.date||o).call(r,null!=(l=null!=n?n.classInfo:n)?l.arriveDate:l,{name:"date",hash:{},data:i}))+"</td>\n                <td>"+c((a.date||n&&n.date||o).call(r,null!=(l=null!=n?n.classInfo:n)?l.returnDate:l,{name:"date",hash:{},data:i}))+"</td>\n                <td>"+c((a.map||n&&n.map||o).call(r,"project-approval-result",null!=n?n.status:n,{name:"map",hash:{},data:i}))+'</td>\n                <td><a class="decoration-none" href="#/train/sponsor/'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">进入管理</a>\n'},8:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr></td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/projects/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={projects:!0},a.components=[{id:"pager",name:"pager",options:{model:"projects"}}],a.dataForTemplate={projects:function(e){return t.map(e.projects||[],function(e){var n=e;n.codes=n.code,n.names=n.name,n.teacherNames=n.teacherName,n.code&&n.code.length>12&&(n.code=n.code.substring(0,11)+"..."),n.name&&n.name.length>12&&(n.name=n.name.substring(0,11)+"..."),n.teacherName&&n.teacherName.length>12&&(n.teacherName=n.teacherName.substring(0,11)+"...")}),e.projects}}},{"lodash/collection":!1}),loadjs.d("./app/train/projects/view-search",function(e,n,a){var t=e("jquery");a.actions={"click search":"search"},a.components=[{id:"month",name:"monthpicker"}],a.dataForActions={search:function(){return{MIScode:t(this.$$('[name="MIScode"]')).val().trim(),className:t(this.$$('[name="className"]')).val().trim(),startTime:t(this.$$('[name="startTime"]')).val().trim()}}}},{jquery:!1}),loadjs.d("./app/train/questionaire/companys",function(e,n,a){n.exports=[{title:"标题",contents:[{index:1,con:"培训前掌握程度"},{index:2,con:"培训后掌握程度"},{index:3,con:"对实际工作的价值"}]},{title:"标题",contents:[{index:1,con:"培训前掌握程度"},{index:2,con:"培训后掌握程度"},{index:3,con:"对实际工作的价值"}]}]},{}),loadjs.d("./app/train/questionaire/forms",function(e,n,a){n.exports=[{con:"面授培训",index:0},{con:"互动交流",index:1},{con:"案例教学",index:2},{con:"在线学习",index:3},{con:"引导技术",index:4},{con:"实操演练",index:5},{con:"其他（可选填）",index:6}]},{}),loadjs.d("./app/train/questionaire/improve",function(e,n,a){n.exports=[{con:"有明显改善",index:0},{con:"有改善",index:1},{con:"不能确定",index:2},{con:"没有明显改善",index:3},{con:"完全没有改善",index:4}]},{}),loadjs.d("./app/train/questionaire/index",function(e,n,a){var t=e("./times.js"),i=e("./forms.js"),l=e("./relatives.js"),s=e("./improve.js"),r=e("./companys.js");a.items={main:"main"},a.store={models:{times:{data:t},forms:{data:i},relatives:{data:l},improve:{data:s},companys:{data:r}}}},{"./companys.js":"./app/train/questionaire/companys","./forms.js":"./app/train/questionaire/forms","./improve.js":"./app/train/questionaire/improve","./relatives.js":"./app/train/questionaire/relatives","./times.js":"./app/train/questionaire/times"}),loadjs.d("./app/train/questionaire/relatives",function(e,n,a){n.exports=[{title:"战略相关度",contents:[{index:1,con:"加深了对集团战略思想的理解及未来工作的发展方向。"},{index:2,con:"明晰了集团战略目标的实施策略，为工作提供了行动指南。"},{index:3,con:"提升了执行公司战略的能力和执行力。"}]},{title:"工作指导度",contents:[{index:1,con:"与工作实践联系紧密，有利于未来工作开展，掌握了新的工作技能和方法。"},{index:2,con:"分享了同行的先进经验，促进了相互学习和帮助。"},{index:3,con:"加深了对工作流程、规范和要求的理解。"}]},{title:"知识前瞻度",contents:[{index:1,con:"学习了行业前瞻技术和理念，了解了新趋势、新动态和新知识。"},{index:2,con:"提升了本领域技术业务的前沿知识。"},{index:3,con:"加深了宏观政策的认识，了解了政策对业务发展的影响。"}]},{title:"业务紧迫度",contents:[{index:1,con:"提升了开展重点工作的技巧和能力，有利于重点工作的开展。"},{
index:2,con:"解决了完成工作目标过程中的关键问题，对目标顺利达成有重要作用。"},{index:3,con:"提升了关键能力，有助于高效完成工作任务。"}]}]},{}),loadjs.d("./app/train/questionaire/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="questionaire">\n    <div class="main" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="satification-new">\n        <div class="title layout-mb-small">\n            <div class="left">培训班培训评估问卷</div>\n            <div class="text-right"><div class="btn">关闭</div></div>\n        </div>\n        <div class="col-sm-8 margin-auto m-top">\n            <span>预览链接：https://cmuwangda.chinamobile.com/#/train/questionaire</span>\n            <span class="btn small white border layput-ml-small">复制</span>\n            <img class="layout-ml-small vertical-top" src="images/0.png" width="50" height="50"/>\n            <div class="text-center h3 strong m-top">评估问卷模板</div>\n            <div class="layout-mt-small">亲爱的学员：</div>\n            <div>科学的评估是提高培训质量的重要手段，为了解您对本次培训效果的反馈和建议，我们将从本次培训内容的战略相关度、工作指导度、知识前瞻度、业务紧迫度四个主要方面来评估效果。非常希望能得到您的宝贵意见，为培训工作的持续改进提供支持，请您完整而如实地回答，感谢您的支持与合作。</div>\n            <div class="h4 strong m-top">培训时间和形式</div>\n            <p>1、在培训时间方面，您感觉集团组织的具体培训项目的时间长度安排是否合适？</p>\n            <table class="table border around train text-center">\n                <tr>'+(null!=(l=a.each.call(s,null!=n?n.attr1:n,n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'</tr>\n            </table>\n            <p>2018年您更倾向于哪种培训形式？（可多选）</p>\n            <table class="table border around train text-center margin-none">\n                <tr>'+(null!=(l=a.each.call(s,null!=n?n.forms:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'</tr>\n            </table>\n            <div id="more" class="hide col-sm-12"><input class="input w-full" placeholder="请填写其他培训形式"/></div>\n'+(null!=(l=a.each.call(s,null!=n?n.relatives:n,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'            <div class="text-center h3 strong m-top">绩效改进度</div>\n            <table class="table border around train text-center">\n                <tr>'+(null!=(l=a.each.call(s,null!=n?n.improve:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+'</tr>\n            </table>\n            <div class="text-center h3 strong m-top">能力习得评估试题</div>\n            <p>以下描述针对您所参加的集团公司培训，从1-5，同意程度逐渐提高，请结合您的感受作出评价</p>\n'+(null!=(l=a.each.call(s,null!=n?n.companys:n,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n    </div>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'\n                    <td>\n                        <input type="radio" checked id="time-'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"/>\n                        <label for="time-'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"></label>\n                        <span>'+o((l=null!=(l=a.con||(null!=n?n.con:n))?l:r,"function"==typeof l?l.call(s,{name:"con",hash:{},data:i}):l))+"</span>\n                    </td>\n                "},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'\n                    <td>\n                        <input type="radio" checked id="form-'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"/>\n                        <label for="form-'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"></label>\n                        <span>'+o((l=null!=(l=a.con||(null!=n?n.con:n))?l:r,"function"==typeof l?l.call(s,{name:"con",hash:{},data:i}):l))+"</span>\n                    </td>\n                "},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                <div class="h4 strong m-top">'+e.escapeExpression((s=null!=(s=a.title||(null!=n?n.title:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"title",hash:{},data:i}):s))+'</div>\n                <table class="table train text-center">\n                    <tr>\n                        <th>编号</th>\n                        <th>内容</th>\n                        <th>非常同意</th>\n                        <th>比较同意</th>\n                        <th>一般同意</th>\n                        <th>比较不同意</th>\n                        <th>很不同意</th>\n                    </tr>\n'+(null!=(l=a.each.call(r,null!=n?n.contents:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"                </table>\n"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <tr>\n                            <td class="w-5">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</td>\n                            <td>"+o((l=null!=(l=a.con||(null!=n?n.con:n))?l:r,"function"==typeof l?l.call(s,{name:"con",hash:{},data:i}):l))+'</td>\n                            <td class="w-7">\n                                <input type="radio"/>\n                                <label></label>\n                            </td>\n                            <td class="w-7">\n                                <input type="radio"/>\n                                <label></label>\n                            </td>\n                            <td class="w-7">\n                                <input type="radio"/>\n                                <label></label>\n                            </td>\n                            <td class="w-8">\n                                <input type="radio"/>\n                                <label></label>\n                            </td>\n                            <td class="w-7">\n                                <input type="radio"/>\n                                <label></label>\n                            </td>\n                        </tr>\n'},11:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'\n                    <td>\n                        <input type="radio" checked id="improve-'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"/>\n                        <label for="improve-'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'"></label>\n                        <span>'+o((l=null!=(l=a.con||(null!=n?n.con:n))?l:r,"function"==typeof l?l.call(s,{name:"con",hash:{},data:i}):l))+"</span>\n                    </td>\n                "},13:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                <div class="h4">'+e.escapeExpression((s=null!=(s=a.title||(null!=n?n.title:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"title",hash:{},data:i}):s))+'</div>\n                <table class="table border around train text-center">\n                    <tr>\n                        <th>编号</th>\n                        <th>内容</th>\n                        <th>5</th>\n                        <th>4</th>\n                        <th>3</th>\n                        <th>2</th>\n                        <th>1</th>\n                    </tr>\n'+(null!=(l=a.each.call(r,null!=n?n.contents:n,{name:"each",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"                </table>\n"},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"                        <tr>\n                            <td>"+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</td>\n                            <td>"+o((l=null!=(l=a.con||(null!=n?n.con:n))?l:r,"function"==typeof l?l.call(s,{name:"con",hash:{},data:i}):l))+'</td>\n                            <td>\n                                <input type="radio"/>\n                                <label></label>\n                            </td>\n                            <td>\n                                <input type="radio"/>\n                                <label></label>\n                            </td>\n                            <td>\n                                <input type="radio"/>\n                                <label></label>\n                            </td>\n                            <td>\n                                <input type="radio"/>\n                                <label></label>\n                            </td>\n                            <td>\n                                <input type="radio"/>\n                                <label></label>\n                            </td>\n                        </tr>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/questionaire/times",function(e,n,a){n.exports=[{con:"时间过长",index:0},{con:"时间偏长",index:1},{con:"时间合适",index:2},{con:"时间偏短",index:3},{con:"时间过短",index:4}]},{}),loadjs.d("./app/train/questionaire/view-main",function(e,n,a){var t=e("jquery");a.bindings={times:!0,forms:!0,relatives:!0,improve:!0,companys:!0},a.events={"click form-6":"showMore"},a.handlers={showMore:function(){t(this.$("more")).addClass("show").removeClass("hide")}}},{jquery:!1}),loadjs.d("./app/train/quota/index",function(e,n,a){a.items={main:"main",company:""},a.store={models:{quotaInfo:{url:"../train/class-quota/info"},quotaList:{url:"../train/class-quota/list"},quota:{url:"../train/class-quota"},delMulti:{url:"../train/class-quota/del-multi"},groupList:{url:"../train/group-configuration",params:{typeId:9}},orgList:{url:"../train/group-configuration-value"},orgListAll:{url:"../train/group-configuration-value/all"},state:{data:{}},check:{data:[]},orgs:{data:[]},classInfo:{url:"../train/class-info/single"},traineeNum:{url:"../train/trainee/find-trainee-num"},updateDetail:{url:"../train/class-quota/update-detail"},updateNum:{url:"../train/class-quota/update"},findBase:{url:"../train/class-quota/find-base"},sumQuantity:{url:"../train/class-quota/count"}},callbacks:{init:function(e){var n=this.models.state,a=this.models.quotaInfo,t=this.models.quotaList,i=this.models.orgListAll,l=this,s=this.models.classInfo,r=this.models.findBase;n.data.classId=e.id,n.data.role=e.role,a.clear(),a.params.classId=e.id,s.clear(),s.set({id:e.projectId}),r.clear(),r.params.classId=e.id,t.clear(),t.params.classId=e.id,this.chain([l.get(r,{loading:!0}).then(function(){l.get(a)}),this.get(s),this.get(t),this.get(i)])},del:function(e){var n=this.models.quota,a=this.models.quotaList,t=this.models.state.data,i=this;n.set({id:e,classId:t.classId}),this.del(n).then(function(){a.params.classId=t.classId,i.get(a)})},deleteMulti:function(e){var n=this.models.delMulti,a=this.models.state.data,t=this.models.quotaList,i=this;n.set({ids:e.ids,classId:a.classId}),this.post(n).then(function(){t.params.classId=a.classId,i.get(t),i.models.check.clear()})},changeType:function(e){var n=this.models.quotaInfo,a=this.models.quota,t=this.models.updateDetail,i=this;n.data.type=e.type,a.data=n.data,t.data=n.data,1===e.type?this.save(a).then(function(){n.changed()}):this.chain([this.save(t),this.save(a)]).then(function(){i.module.dispatch("init",{id:i.module.renderOptions.state.classId,role:i.module.renderOptions.state.role,projectId:i.module.renderOptions.state.id})})},updateNum:function(e){var n=this.models.updateNum,a=this.models.state.data,t=this,i=this.models.quotaList;n.set(e),this.save(n).then(function(){return i.params.classId=a.classId,this.app.message.success("修改成功！"),t.get(i)})},sumQuantity:function(e){var n=this.models.sumQuantity;return n.set(e),this.get(n)},refreshNum:function(){var e=this.models.state.data,n=this,a=this.models.quotaList;a.params.classId=e.classId,n.get(a)},changeApproval:function(e){var n=this.models.quotaInfo,a=this.models.quota;n.data.isAutoApprove=e.isAutoApprove,a.data=n.data,this.save(a).then(function(){n.changed()})},showGroup:function(){var e=this.models.groupList,n=this.models.orgList,a=this;this.get(e).then(function(e){var t=e[0];t.length>0&&(n.params.groupId=t[0].id,a.get(n))})},addQuota:function(e){var n=this.models.quota,a=this.models.quotaList,t=this.models.state.data,i=this;n.set(e),this.save(n).then(function(){a.params.classId=t.classId,i.get(a)})},changeGroup:function(e){var n=this.models.orgList;n.params.groupId=e.id,this.get(n)},getTraineeNum:function(e){var n=this.models.traineeNum;return n.clear(),n.params={ids:e.ids,classId:this.module.renderOptions.state.classId},this.get(n)}}},a.beforeRender=function(){return this.dispatch("init",{id:this.renderOptions.state.classId,role:this.renderOptions.state.role,projectId:this.renderOptions.state.id})}},{}),loadjs.d("./app/train/quota/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-class-page">\n    <div class="main" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'    <div class="quotamanage container overflow dateplan-padding layout-mt-small border around">\n        <section class="section container">\n            <div class="layout-mr pull-left">\n                <div class="small-font sub-title inline-block m-right">配额方式：</div>\n'+(null!=(l=a.if.call(s,null!=n?n.isDate:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+'            </div>\n            <div class="quotamanage-title clearfix">\n                <div class="layout-mr-small pull-left">\n                    <div class="small-font sub-title inline-block m-right">审核方式:</div>\n'+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.classInfo:n)?l.notice:l,"eq",1,{name:"compare",hash:{},fn:e.program(20,i,0),inverse:e.program(23,i,0),data:i}))?l:"")+'                </div>\n                <div class="pull-left color-error">\n                    <span>（1、一旦开放报名，不能切换审核方式 </span>\n                    <span class="layout-ml-small">2、手工审批允许报名人数大于配额数）</span>\n                </div>\n                <div class="pull-right">\n                    <span class="small-font">该培训班总额度为：</span>\n                    <span class="small-font text-main-color">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.quotaInfo:n)?l.amount:l,n))+"</span>\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.quotaInfo:n)?l.type:l,"eq",2,{name:"compare",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?l:"")+'                </div>\n            </div>\n            <div class="quota-toggle">\n'+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.quotaInfo:n)?l.type:l,"eq",2,{name:"compare",hash:{},fn:e.program(30,i,0),inverse:e.program(44,i,0),data:i}))?l:"")+"            </div>\n        </section>\n    </div>\n"},4:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(10,i,0),data:i}))?l:""},5:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.checked:n)?l.isType1:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:""},6:function(e,n,a,t,i){return'                            <input id="quota-type-2" class="r-input" type="radio"/>\n                            <label class="small-font m-right">分省配额</label>\n                            <input id="quota-type-1" class="r-input" checked type="radio"/>\n                            <label class="small-font">整体配额</label>\n'},8:function(e,n,a,t,i){return'                            <input id="quota-type-2" class="r-input" checked type="radio"/>\n                            <label class="small-font m-right">分省配额</label>\n                            <input id="quota-type-1" class="r-input" type="radio"/>\n                            <label class="small-font">整体配额</label>\n'},10:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.checked:n)?l.isType1:l,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.program(13,i,0),data:i}))?l:""},11:function(e,n,a,t,i){return'                            <input class="r-input" disabled type="radio"/>\n                            <label class="small-font m-right">分省配额</label>\n                            <input class="r-input" disabled checked type="radio"/>\n                            <label class="small-font">整体配额</label>\n'},13:function(e,n,a,t,i){return'                            <input class="r-input" disabled checked type="radio"/>\n                            <label class="small-font m-right">分省配额</label>\n                            <input class="r-input" disabled type="radio"/>\n                            <label class="small-font">整体配额</label>\n'},15:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.checked:n)?l.isType1:l,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.program(18,i,0),data:i}))?l:""},16:function(e,n,a,t,i){return'                        <input class="r-input" disabled type="radio"/>\n                        <label class="small-font m-right">分省配额</label>\n                        <input class="r-input" disabled checked type="radio"/>\n                        <label class="small-font">整体配额</label>\n'},18:function(e,n,a,t,i){return'                        <input class="r-input" disabled checked type="radio"/>\n                        <label class="small-font m-right">分省配额</label>\n                        <input class="r-input" disabled type="radio"/>\n                        <label class="small-font">整体配额</label>\n'},20:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                        <input class="r-input" '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.isAutoApprove1:l,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+' name="isAutoApprove" type="radio" value="1" disabled/>\n                        <label class="small-font m-right">自动审批</label>\n                        <input class="r-input" '+(null!=(l=a.unless.call(s,null!=(l=null!=n?n.checked:n)?l.isAutoApprove1:l,{name:"unless",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+' name="isAutoApprove" type="radio" value="0" disabled/>\n                        <label class="small-font">手动审批</label>\n'},21:function(e,n,a,t,i){return' checked="checked"'},23:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.program(26,i,0),data:i}))?l:""},24:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                            <input id="is-auto-1" class="r-input" '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.isAutoApprove1:l,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+' name="isAutoApprove" type="radio" value="1"/>\n                            <label class="small-font m-right">自动审批</label>\n                            <input id="is-auto-0" class="r-input" '+(null!=(l=a.unless.call(s,null!=(l=null!=n?n.checked:n)?l.isAutoApprove1:l,{name:"unless",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+' name="isAutoApprove" type="radio" value="0"/>\n                            <label class="small-font">手动审批</label>\n'},26:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                            <input class="r-input" '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.checked:n)?l.isAutoApprove1:l,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+' name="isAutoApprove" type="radio" value="1" disabled/>\n                            <label class="small-font m-right">自动审批</label>\n                            <input class="r-input" '+(null!=(l=a.unless.call(s,null!=(l=null!=n?n.checked:n)?l.isAutoApprove1:l,{name:"unless",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+' name="isAutoApprove" type="radio" value="0" disabled/>\n                            <label class="small-font">手动审批</label>\n'},28:function(e,n,a,t,i){var l;return'                        <span class="small-font">剩余额度为：</span>\n                        <span class="small-font text-main-color">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.quotaInfo:n)?l.overplus:l,n))+"</span>\n"},30:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                    <div id="quota-contents-1">\n                        <div class="quotamanage-content layout-mt-small">\n                            <div class="clearfix">\n                                <div class="pull-right">\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))?l:"")+'                                </div>\n                            </div>\n                            <table class="table text-center train border around">\n                                <tr>\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(33,i,0),inverse:e.noop,data:i}))?l:"")+'                                    <th>单位</th>\n                                    <th>\n                                        配额数量\n                                        <div class="small-font color-error">（单击可修改）</div>\n                                    </th>\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(35,i,0),inverse:e.noop,data:i}))?l:"")+"                                </tr>\n                                "+(null!=(l=a.each.call(s,null!=n?n.quotaList:n,{name:"each",hash:{},fn:e.program(37,i,0),inverse:e.program(42,i,0),data:i}))?l:"")+'\n                            </table>\n                        </div>\n                        <div class="quotamanage-footer text-center layout-mt-small"></div>\n                    </div>\n'},31:function(e,n,a,t,i){return'                                        <div id="add" class="tag-btn pointer active">添加单位</div>\n                                        <div id="deleteMulti" class="tag-btn pointer active">删除</div>\n'},33:function(e,n,a,t,i){return'                                        <th><input id="checkall" type="checkbox" name="checkall"/></th>\n'},35:function(e,n,a,t,i){return"                                        <th>操作</th>\n"},37:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return"<tr>\n"+(null!=(l=a.if.call(r,null!=n?n.isFlag:n,{name:"if",hash:{},fn:e.program(38,i,0),inverse:e.noop,data:i}))?l:"")+"                                    <td>"+c((s=null!=(s=a.shortName||(null!=n?n.shortName:n))?s:o,typeof s===d?s.call(r,{name:"shortName",hash:{},data:i}):s))+'</td>\n                                    <td class="train-width">\n                                        <label id="label-class-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.quantity||(null!=n?n.quantity:n))?s:o,typeof s===d?s.call(r,{name:"quantity",hash:{},data:i}):s))+'</label>\n                                        <input id="input-class-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.quantity||(null!=n?n.quantity:n))?s:o,typeof s===d?s.call(r,{name:"quantity",hash:{},data:i}):s))+'" x-rule="maxLength:2,required" maxlength="2" style="display:none;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                                    </td>\n'+(null!=(l=a.if.call(r,null!=n?n.isFlag:n,{name:"if",hash:{},fn:e.program(40,i,0),inverse:e.noop,data:i}))?l:"")+"                                </tr>\n"},38:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                        <td><input type="checkbox" name="ids" id="ids-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" organizationId="'+o((l=null!=(l=a.organizationId||(null!=n?n.organizationId:n))?l:r,"function"==typeof l?l.call(s,{name:"organizationId",hash:{},data:i}):l))+'"/></td>\n'},40:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                        <td>\n                                            <a id="del-quota-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">删除</a>\n                                        </td>\n'},42:function(e,n,a,t,i){return'                                    <tr><td colspan="8"><div class="text-center">\n                                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                                        <p>暂无内容</p>\n                                    </div>\n                                    </td></tr>'},44:function(e,n,a,t,i){return'                    <div class="text-center layout-mt">\n                        <div class="h3">当前班级配额方式为整体配额!</div>\n                    </div>\n'},46:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<div class="addunit-page">\n'+(null!=(l=a.if.call(s,null!=n?n.groupList:n,{name:"if",hash:{},fn:e.program(47,i,0),inverse:e.noop,data:i}))?l:"")+'    <div class="tabs-cont"><ul>\n        <li class="active">\n'+(null!=(l=a.if.call(s,null!=n?n.groupList:n,{name:"if",hash:{},fn:e.program(50,i,0),inverse:e.noop,data:i}))?l:"")+'            <ul class="companyname m-top clearfix">\n                '+(null!=(l=a.each.call(s,null!=n?n.organizationList:n,{name:"each",hash:{},fn:e.program(52,i,0),inverse:e.noop,data:i}))?l:"")+'\n            </ul>\n            <div class="layout-mt-small layout-ml layout-mb clearfix">\n                <label class="tag-height layout-mr pull-left">剩余配额：'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.quotaInfo:n)?l.overplus:l,n))+'</label>\n                <label class="tag-height pull-left m-right">配置额度：</label>\n                <input id="quota-input" class="tag-height pull-left" name="quota" maxLength="5"/>\n                <div id="addQuota" class="small-btn pull-left">添加</div>\n            </div>\n        </li>\n    </ul></div>\n</div>'},47:function(e,n,a,t,i){var l;return'        <div class="tabs line"><ul>\n            '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.groupList:n,{name:"each",hash:{},fn:e.program(48,i,0),inverse:e.noop,data:i}))?l:"")+"\n        </ul></div>\n"},48:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'<li>\n                <a class="pull-left decoration-none" id="group-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.groupName||(null!=n?n.groupName:n))?l:r,"function"==typeof l?l.call(s,{name:"groupName",hash:{},data:i}):l))+"</a>\n            </li>"},50:function(e,n,a,t,i){return'                <div class="clearfix layout-mt-small"><div class="pull-right">\n                    <input id="check-all" type="checkbox"/>\n                    <label for="check-all">全选</label>\n                </div></div>\n'},52:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'<li class="active">\n                    <input type="checkbox" id="box-'+d((l=null!=(l=a.organizationId||(null!=n?n.organizationId:n))?l:r,typeof l===o?l.call(s,{name:"organizationId",hash:{},data:i}):l))+'" data-name="organizationId" data-value="'+d((l=null!=(l=a.organizationId||(null!=n?n.organizationId:n))?l:r,typeof l===o?l.call(s,{name:"organizationId",hash:{},data:i}):l))+'" value="'+d((l=null!=(l=a.organizationId||(null!=n?n.organizationId:n))?l:r,typeof l===o?l.call(s,{name:"organizationId",hash:{},data:i}):l))+'" name="box-org" group="'+d((l=null!=(l=a.groupId||(null!=n?n.groupId:n))?l:r,typeof l===o?l.call(s,{name:"groupId",hash:{},data:i}):l))+'"/>\n                    <label for="box-'+d((l=null!=(l=a.organizationId||(null!=n?n.organizationId:n))?l:r,typeof l===o?l.call(s,{name:"organizationId",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.shortName||(null!=n?n.shortName:n))?l:r,typeof l===o?l.call(s,{name:"shortName",hash:{},data:i}):l))+"</label>\n                </li>"},54:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'    <input type="checkbox" name="ids" id="ids-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" organizationId="'+o((l=null!=(l=a.organizationId||(null!=n?n.organizationId:n))?l:r,"function"==typeof l?l.call(s,{name:"organizationId",hash:{},data:i}):l))+'"/>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"company",{name:"view",hash:{},fn:e.program(46,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"num",{name:"view",hash:{},fn:e.program(54,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/quota/view-company",function(e,n,a){var t=e("./app/ext/views/form/validators"),i=e("lodash/collection");a.bindings={quotaInfo:!0,groupList:!0,orgList:!0,orgs:!1,quotaList:!1},a.events={"click check-all":"checkall"},a.handlers={checkall:function(e,n){i.map(this.$$('input[name="box-org"]'),function(e){var a=e||{};return a.checked=n.checked,{id:a.value,groupid:a.getAttribute("group")}})}},a.actions={"click addQuota":"addQuota","click group-*":"changeGroup"},a.dataForActions={addQuota:function(){var e=this.bindings.quotaInfo,n=this.bindings.orgs;return!!this.validate()&&{classId:e.data.classId,orgIds:i.map(n.data,"id").join(","),groupIds:i.map(n.data,"groupid").join(","),quantity:this.$("quota-input").value}}},a.actionCallbacks={addQuota:function(){this.app.viewport.closeModal()}},a.dataForTemplate={organizationList:function(){var e=this.bindings.orgList,n=this.bindings.quotaList,a=[],t=[],l=[],s=i.map(n.data,"organizationId").join(","),r=s.split(",");return i.map(e.data,function(e){var n=e||{};i.map(r,function(e){e.trim()===n.organizationId&&l.push(n)})}),i.map(e.data,function(e){var n=e||{},t=0;i.map(l||[],function(e){e.shortName===n.shortName&&(t=1)}),1!==t&&a.push(n)}),i.map(a,function(e){var n=e||{}
;i.find(t,["shortName",n.shortName])||t.push(n)}),t}},a.mixin={validate:function(){var e=this.$("quota-input").value,n=!0,a=this.$$('input[name="box-org"]'),l=this.bindings.orgs,s=this.bindings.quotaInfo,r=0;return l.clear(),i.map(a,function(e){var n=e||{};n.checked&&l.data.push({id:n.value,groupid:n.getAttribute("group")})}),0===l.data.length?(this.app.message.alert("请选择单位"),!1):(""===e&&(n=!1),t.digits.fn(e)||(n=!1),t.lessThan.fn(e,0)&&(n=!1),n?(r=l.data.length*Number(e),r>s.data.overplus?(this.app.message.alert("超出了剩余配额"),!1):n):(this.app.message.alert("请输入大于0的整数"),!1))}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators","lodash/collection":!1}),loadjs.d("./app/train/quota/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.bindings={orgListAll:!0,quotaInfo:!0,quotaList:!0,state:!0,check:!1,classInfo:!1,traineeNum:!1,findBase:!1},a.events={"click checkall":"checkall","click ids-*":"checkone","click del-quota-*":"del","click deleteMulti":"deleteMulti","change input-class-*":"updateName","click label-class-*":"changeName"},a.handlers={checkall:function(e,n){var a=this.bindings.check,i=t.map(this.$$('input[name="ids"]'),function(e){var a=e||{},t=a.getAttribute("organizationId");return a.checked=n.checked,{id:a.value,organizationId:t}});n.checked?a.data=i:a.data=[]},checkone:function(e){var n,a,t=this.bindings.check,i=this.$("ids-"+e).getAttribute("organizationId");a=this.$("ids-"+e).checked,a?t.data.push({id:e,organizationId:i}):(n=t.data.findIndex(function(n){return n.id===e}),t.data.splice(n,1))},del:function(e){var n=this,a=t.find(this.bindings.quotaList.data,["id",e]).organizationId,i=a+",";this.module.dispatch("getTraineeNum",{ids:i}).then(function(a){return a[0]>0?(this.app.message.alert("该单位已有正式成员，不可被删除"),!1):n.Promise.create(function(a){n.app.message.confirm("配额单位被删除后将无法恢复，是否确定删除该配额单位?",function(){n.module.dispatch("del",e)},function(){a(!1)})})})},updateName:function(e){var n=this,a=0,l=0,s=t.find(n.bindings.quotaList.data,["id",e]).organizationId,r=0,o=s+",",d=i(this.$("input-class-"+e)).val();""===d?n.app.message.alert("配额数量不能为空"):n.module.dispatch("sumQuantity",{id:e}).then(function(i){var s=i[0];r=s,n.module.dispatch("getTraineeNum",{ids:o}).then(function(i){return i[0]>d?(n.app.message.error("该单位正式成员数量大于配额数量，不可被修改"),n.module.dispatch("refreshNum")):(t.forEach(n.bindings.quotaList.data,function(e){a=e.quantity+a}),l=a-r,n.bindings.quotaInfo.data.amount-l<d?(n.app.message.error("修改的配额数量大于配额总额度，不可被修改"),n.module.dispatch("refreshNum")):n.module.dispatch("updateNum",{id:e,num:d,classId:n.bindings.state.data.classId}))})})},changeName:function(e){i(this.$("input-class-"+e)).css("display","block"),i(this.$("label-class-"+e)).css("display","none")},deleteMulti:function(){var e=this.bindings.check,n=this,a=t.map(e.data,"id").join(","),i=t.map(e.data,"organizationId").join(",");return 0===e.data.length?(this.app.message.alert("请至少选择一个单位"),!1):this.module.dispatch("getTraineeNum",{ids:i}).then(function(e){return e[0]>0?(n.app.message.alert("单位中已有正式成员，不可被删除"),!1):n.Promise.create(function(e){n.app.message.confirm("配额单位被删除后将无法恢复，是否确定删除该配额单位?",function(){n.module.dispatch("deleteMulti",{ids:a})},function(){e(!1)})})})}},a.actions={"click quota-type-1":"changeType1","click quota-type-2":"changeType2","click is-auto-1":"changeApprove1","click is-auto-0":"changeApprove0","click add":"showGroup"},a.dataForActions={changeType1:function(){var e=this.bindings.quotaInfo,n=this;return 1!==e.data.type&&this.Promise.create(function(e){n.app.message.confirm("确定要将配额方式修改为整体配额吗?",function(){n.module.dispatch("changeType",{type:1}),i(n.$("quota-type-1")).css("checked",!0).siblings().css("checked",!1)},function(){n.$("quota-type-1").checked=!1,n.$("quota-type-2").checked=!0,e(!1)})})},changeType2:function(){var e=this.bindings.quotaInfo,n=this;return 2!==e.data.type&&this.Promise.create(function(e){n.app.message.confirm("确定要将配额方式修改为分省配额吗?",function(){n.module.dispatch("changeType",{type:2}),i(n.$("quota-type-2")).css("checked",!0).siblings().css("checked",!1)},function(){n.$("quota-type-2").checked=!1,n.$("quota-type-1").checked=!0,e(!1)})})},changeApprove1:function(){var e=this.bindings.quotaInfo,n=this;return 1!==e.data.isAutoApprove&&this.Promise.create(function(e){n.app.message.confirm("确定要将审核方式修改为自动审批吗?",function(){n.module.dispatch("changeApproval",{isAutoApprove:1})},function(){n.$("is-auto-1").checked=!1,n.$("is-auto-0").checked=!0,e(!1)})})},changeApprove0:function(){var e=this.bindings.quotaInfo,n=this;return 0!==e.data.isAutoApprove&&this.Promise.create(function(e){n.app.message.confirm("确定要将审核方式修改为手动审批吗?",function(){n.module.dispatch("changeApproval",{isAutoApprove:0})},function(){n.$("is-auto-1").checked=!0,n.$("is-auto-0").checked=!1,e(!1)})})}},a.actionCallbacks={showGroup:function(){this.app.viewport.modal(this.module.items.company),this.bindings.check.clear()},deleteMulti:function(){this.bindings.check.clear()}},a.dataForTemplate={checked:function(){var e=this.bindings.quotaInfo;return{isAutoApprove1:1===e.data.isAutoApprove,isType1:1===e.data.type,isType2:2===e.data.type}},quotaInfo:function(){var e,n,a=this.bindings.quotaInfo,i=this.bindings.quotaList,l=0,s=this.bindings.findBase.data;return 1===a.data.type?a.data.overplus=0:(t.map(i.data||[],function(e){var n=e;n.quantity&&(l+=n.quantity)}),e=a.data.amount-l,Number(s)&&(e-=s),n=0,e>0&&(n=e),a.data.overplus=n),a.data},quotaList:function(){var e=this.bindings.orgListAll,n=this.bindings.quotaList,a=this.bindings.state.data,i=[],l=this.bindings.classInfo.data,s=l.arriveDate,r=(new Date).getTime();return t.map(n.data,function(n){var i=n,l=t.find(e.data||[],{organizationId:i.organizationId})||{};2===a.role||1===a.role?i.isFlag=!0:i.isFlag=!1,i.isDate=r<=s+864e5,i.shortName=l.shortName?l.shortName:i.organizationName}),t.map(n.data,function(e){var n=e||{},a=t.find(i,["shortName",n.shortName]);a?(a.quantity+=n.quantity,i=t.reject(i,["shortName",n.shortName]),i.push(a)):i.push({isDate:n.isDate,organizationName:n.organizationName,classId:n.classId,isFlag:n.isFlag,id:n.id,organizationId:n.organizationId,shortName:n.shortName,signUpNumber:n.signUpNumber,groupId:n.groupId,quantity:n.quantity})}),i},isGrant:function(){var e=this.module.renderOptions.state.role;return 2===e||1===e},isDate:function(){var e=this.bindings.classInfo.data,n=e.arriveDate;return(new Date).getTime()<=n+864e5}}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/register/index",function(e,n,a){var t=e("drizzle-zxy");a.items={title:"title",step:"step",main:"main"},a.store={models:{state:{data:{}}},callbacks:{toStep:function(e){var n=e.nextStep,a=this.models.state,i=this.models.course,l=t.assign({},i.data,e.data);i.set(l),"add"===a.data.type&&i.save(),a.data.step=n,a.changed()},refesh:function(e){this.models.state.data=e,this.models.state.changed()},init:function(e){var n=this.models.state;n.set({classId:e.classId,step:"phone"}),n.changed()}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/register/info/index",function(e,n,a){a.items={main:"main",register:"register"},a.store={models:{state:{data:{}},member:{},members:{url:"../train/member/find-by-id"},classSignupInfo:{url:"../train/sign-up/detail"},trainee:{url:"../train/trainee/find-by-memberId"},nations:{url:"../human/member-config/list-without-login",autoLoad:"after",params:{key:2}},levels:{url:"../human/member-config/list-without-login",autoLoad:"after",params:{key:8}},selectOrganization:{url:"../train/trainee/select-organization"},traineeSignup:{url:"../train/trainee/sign-up-by-phone"},organizations:{data:[]},flag:{data:{}}},callbacks:{classSignupInfo:function(e){var n=this.models.classSignupInfo;return n.clear(),n.params={classId:e.classId},this.get(n)},getMember:function(e){var n=this.models.members;return n.clear(),n.params={phoneNumber:e.phoneNumber,memberId:e.memberId},this.get(n)},selectOrganization:function(e){var n=this.models.selectOrganization,a=this.models.organizations;return n.set({memberName:e}),a.data=e,this.save(n)},trainee:function(e){var n=this.models.trainee,a=this.models.flag,t={};return n.clear(),t=a.data?e.member.id:e.memId,n.params={classId:e.classId,type:0,memberId:t},this.get(n)},commit:function(e){var n=this.models.traineeSignup;return n.clear(),n.set(e),this.save(n)},showModal:function(){this.models.flag.data=!1,this.module.items.register.showView()},callback:function(e){var n=this.models.state.data,a=this.models.member,t=this,i={},l={};i=t.module.renderOptions.state,i.memId=e.memberId,l.memberId=e.memberId,l.phoneNumber=t.module.renderOptions.state.member.phoneNumber,t.module.dispatch("getMember",l).then(function(e){a.data=e[0],a.data.flag=!0,a.changed(),t.module.dispatch("classSignupInfo",t.module.renderOptions.state),t.module.dispatch("trainee",i).then(function(e){var a=e[0];n.auditStatus=3,a&&0===a.deleteFlag&&(0===a.auditStatus?n.auditStatus=0:1===a.auditStatus?n.auditStatus=1:2===a.auditStatus&&(n.auditStatus=2)),t.models.state.changed()})})}}},a.beforeRender=function(){var e=this.store.models.state.data,n=this.store.models.member,a=this.store.models.flag,t=this;n.data=t.renderOptions.state.member,t.dispatch("selectOrganization",t.renderOptions.state.member.phoneNumber).then(function(i){1===i[0].length?(n.data.flag=!0,n.changed(),a.data=!0,t.dispatch("classSignupInfo",t.renderOptions.state),t.dispatch("trainee",t.renderOptions.state).then(function(n){var a=n[0];e.auditStatus=3,a&&0===a.deleteFlag&&(0===a.auditStatus?e.auditStatus=0:1===a.auditStatus?e.auditStatus=1:2===a.auditStatus&&(e.auditStatus=2)),t.store.models.state.changed()})):t.dispatch("showModal")})}},{}),loadjs.d("./app/train/register/info/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n    <div data-region="register"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<form class="layout-mt-small text-center">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.member:n)?l.flag:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.member:n)?l.id:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"</form>"},4:function(e,n,a,t,i){var l,s=e.escapeExpression,r=null!=n?n:{},o=a.helperMissing;return'        <span class="h3 m-right">您要报名的是</span>\n        <span class="text-main-color h3">'+s(e.lambda(null!=(l=null!=(l=null!=n?n.classSignupInfo:n)?l.classInfo:l)?l.className:l,n))+'</span>\n        <span class="sub-text small-font">('+s((a.date||n&&n.date||o).call(r,null!=(l=null!=(l=null!=n?n.classSignupInfo:n)?l.classInfo:l)?l.arriveDate:l,{name:"date",hash:{},data:i}))+" - "+s((a.date||n&&n.date||o).call(r,null!=(l=null!=(l=null!=n?n.classSignupInfo:n)?l.classInfo:l)?l.returnDate:l,{name:"date",hash:{},data:i}))+")</span>\n"},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.auditStatus:l,"eq",3,{name:"compare",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.auditStatus:l,"eq",0,{name:"compare",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.auditStatus:l,"eq",2,{name:"compare",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.auditStatus:l,"eq",1,{name:"compare",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")},7:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'            <div class="layout-mt"><div class="form length">\n                <input class="input" name="id" value="'+r(s(null!=(l=null!=n?n.member:n)?l.id:l,n))+'" type="hidden"/>\n                <input class="input" name="organizationId" value="'+r(s(null!=(l=null!=n?n.member:n)?l.organizationId:l,n))+'" type="hidden"/>\n                <input class="input" name="settleOrganizationId" value="'+r(s(null!=(l=null!=n?n.member:n)?l.companyId:l,n))+'" type="hidden"/>\n                <div class="form-row">\n                    <label class="label">培训班名称</label>\n                    <div class="content"><input class="input" value="'+r(s(null!=(l=null!=(l=null!=n?n.classSignupInfo:n)?l.classInfo:l)?l.className:l,n))+'" disabled/></div>\n                </div>\n                \x3c!--  .form-row --\x3e\n                \x3c!--      label.label 报名码 --\x3e\n                \x3c!--      .content > input.input(value=classSignupInfo.signupCode disabled=true) --\x3e\n                <div class="form-row">\n                    <label class="label">姓名</label>\n                    <div class="content"><input class="input" value="'+r(s(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+'" disabled/></div>\n                </div>\n                <div class="form-row">\n                    <label class="label">员工编号</label>\n                    <div class="content"><input class="input" value="'+r(s(null!=(l=null!=n?n.member:n)?l.name:l,n))+'" disabled/></div>\n                </div>\n                <div class="form-row">\n                    <label class="label">公司</label>\n                    <div class="content"><input class="input" value="'+r(s(null!=(l=null!=n?n.member:n)?l.companyName:l,n))+'" disabled/></div>\n                </div>\n                <div class="form-row">\n                    <label class="label">二级部门/单位</label>\n                    <div class="content"><input class="input" value="'+r(s(null!=(l=null!=n?n.member:n)?l.organizationName:l,n))+'" disabled/></div>\n                </div>\n                <div class="form-row">\n                    <label class="label required">职务</label>\n                    <div class="content"><input class="input" value="'+r(s(null!=(l=null!=n?n.member:n)?l.jobName:l,n))+'" name="jobName"/></div>\n                </div>\n                \x3c!--  .form-row --\x3e\n                \x3c!--      label.label.required 职级 --\x3e\n                \x3c!--      .content --\x3e\n                \x3c!--          select.input(name=\'levelId\') --\x3e\n                \x3c!--              each(levels) --\x3e\n                \x3c!--                  option(value = id)(\'selected\')&if(selected) > echo(value) --\x3e\n                <div class="form-row">\n                    <label class="label required">性别</label>\n                    <div class="content">\n                        <select class="input" name="sex">\n'+(null!=(l=a.each.call(o,null!=n?n.sexs:n,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'                        </select>\n                    </div>\n                </div>\n                <div class="form-row">\n                    <label class="label required">民族</label>\n                    <div class="content">\n                        <select class="input" name="nation">\n'+(null!=(l=a.each.call(o,null!=n?n.nations:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+'                        </select>\n                    </div>\n                </div>\n                <div class="form-row">\n                    <label class="label required">移动电话</label>\n                    <div class="content"><input class="input" name="phoneNumber" value="'+r(s(null!=(l=null!=n?n.member:n)?l.phoneNumber:l,n))+'" placeholder="'+r(s(null!=(l=null!=n?n.member:n)?l.phoneNumber:l,n))+'（引用个人信息数据，点击可修改）"/></div>\n                </div>\n                <div class="form-row">\n                    <label class="label required">邮箱</label>\n                    <div class="content"><input class="input" name="email" value="'+r(s(null!=(l=null!=n?n.member:n)?l.email:l,n))+'" placeholder="'+r(s(null!=(l=null!=n?n.member:n)?l.email:l,n))+'（引用个人信息数据，点击可修改）"/></div>\n                </div>\n                <div class="form-row">\n                    <label class="auto">备注</label>\n                    <div class="content"><textarea class="input" name="remark" rows="3" placeholder="补充信息"></textarea></div>\n                </div>\n                <div class="btn circle-radius" id="commit-signup">提交</div>\n            </div></div>\n'},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n"},9:function(e,n,a,t,i){return' selected="selected"'},11:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n"},13:function(e,n,a,t,i){return'            <div class="text-center">\n                <h3 style="color:green">审核中</h3>\n                <span>您的报名已经成功提交，请耐心等待管理员审核，</span>\n                <br/>\n                <span>审核结果将会通过邮件或消息发送给您。</span>\n            </div>\n'},15:function(e,n,a,t,i){var l;return'            <div class="text-center">\n                <h3 style="color:red">审核未通过</h3>\n                <span>审核意见：</span>\n                '+e.escapeExpression(e.lambda(null!=(l=null!=n?n.trainee:n)?l.auditOpinion:l,n))+'\n                <br/>\n                <br/>\n                <div id="reSignup" class="btn">重新报名</div>\n            </div>\n'},17:function(e,n,a,t,i){return'            <div class="text-center">\n                <h3 style="color:green">报名成功</h3>\n                <span>报名成功！可通过我的班级进入班级页面。</span>\n            </div>\n'},19:function(e,n,a,t,i){var l;return'    <div id="register-layer" class="register hide">\n        <div id="animate" class="registerdialog animated"><div class="container">\n            <div class="registerdialog-header">\n                <div class="title">\n                    <div class="header-logo"></div>\n                    <div class="title-text">请选择您的所属单位</div>\n                </div>\n            </div>\n            <div class="registerdialog-content"><div class="registerdialog-main">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isArray:n,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+"            </div></div>\n        </div></div>\n    </div>\n"},20:function(e,n,a,t,i){var l;return'                    <div class="department-wrap"><ul>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.selectOrganization:n,{name:"each",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+"                    </ul></div>\n"},21:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <li class="department-item">\n                                <a class="decoration-none" id="ddd-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" memberId="'+o((l=null!=(l=a.memberId||(null!=n?n.memberId:n))?l:r,"function"==typeof l?l.call(s,{name:"memberId",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+"</a>\n                            </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"register",{name:"view",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/register/info/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/maps"),l=e("jquery"),s=e("./app/ext/views/form/validators");a.bindings={classSignupInfo:!0,member:!0,nations:!0,levels:!0,state:!0,trainee:!0},a.events={"click reSignup":"reSignup"},a.handlers={reSignup:function(){this.bindings.state.data.auditStatus=3,this.bindings.state.changed()}},a.actions={"click commit-signup":"commit"},a.dataForActions={commit:function(){var e=l(this.$$('[name="phoneNumber"]')).val(),n=l(this.$$('[name="email"]')).val(),a=l(this.$$('[name="sex"]')).val(),t=l(this.$$('[name="nation"]')).val(),i=l(this.$$('[name="remark"]')).val(),r=l(this.$$('[name="organizationId"]')).val(),o=l(this.$$('[name="settleOrganizationId"]')).val(),d=l(this.$$('[name="id"]')).val(),c=this.bindings.classSignupInfo.data.classId,u=this.bindings.classSignupInfo.data.classInfo.className,m=l(this.$$('[name="jobName"]')).val();return s.maxLength.fn(m,30)?s.required.fn(m)?s.required.fn(n)?s.phone.fn(e)?s.email.fn(n)?{phoneNumber:e,email:n,sex:a,nation:t,remark:i,classId:c,settleOrganizationId:o,memberId:d,organizationId:r,className:u,jobName:m}:(this.app.message.error("邮箱输入不正确"),!1):(this.app.message.error("手机号输入不正确"),!1):(this.app.message.error("邮箱为必填项"),!1):(this.app.message.error("职务为必填项"),!1):(this.app.message.error("职务的最大长度为30"),!1)}},a.actionCallbacks={commit:function(e){var n=this.bindings.state.data,a=e[0]||{};0===a.auditStatus?(n.auditStatus=0,this.bindings.state.changed()):1===a.auditStatus?(n.auditStatus=1,this.bindings.state.changed()):(n.auditStatus=2,a.auditOpinion="配额已满，请联系主办方！",this.bindings.trainee.data=a,this.bindings.state.changed(),this.bindings.trainee.changed())}},a.dataForTemplate={nations:function(e){var n=this.bindings.member.data.ethnicityId||"",a=e.nations;return t.map(a,function(e){var a=e;a.id===n&&(a.selected=!0)}),a},levels:function(e){var n=this.bindings.member.data.positionLevel||"",a=e.levels;return t.map(a,function(e){var a=e;a.id===n&&(a.selected=!0)}),a},sexs:function(){var e=this;return t.map(i.get("sexs"),function(n){var a=n;return a.selected=Number(a.key)===Number(e.bindings.member.data.sex),a})}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/maps":"./app/util/maps",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/register/info/view-register",function(e,n,a){var t=e("jquery");a.bindings={selectOrganization:!0,organizations:!1,state:!0},a.events={"click ddd-*":"orgName"},a.handlers={orgName:function(e,n,a){var i=this.bindings.organizations.data,l=a.getAttribute("memberId");i.memberId=l,this.module.dispatch("callback",{memberId:l}),t(this.$("register-layer")).addClass("hide")}},a.dataForTemplate={selectOrganization:function(e){return e.selectOrganization},isArray:function(e){return e.selectOrganization instanceof Array}},a.mixin={showView:function(){t(this.$("register-layer")).removeClass("hide")}}},{jquery:!1}),loadjs.d("./app/train/register/phone/index",function(e,n,a){var t=e("drizzle-zxy");a.items={main:"main"},a.store={models:{state:{data:{}},member:{url:"../train/member/find-by-phone"},classSignupInfo:{url:"../train/sign-up/validate-identifying"},dynamicPassword:{url:"../train/sign-up/dynamic-password"}},callbacks:{getMember:function(e){var n=this.models.member;return n.clear(),n.params=e,this.get(n)},getClassSignupInfo:function(e){var n=this.models.classSignupInfo;return n.clear(),n.params=e,this.get(n)},dynamicPassword:function(e){var n=this.models.dynamicPassword;return t.assign(n.params,e),this.get(n)}}}},{"drizzle-zxy":!1}),loadjs.d("./app/train/register/phone/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){return'    <div class="layout-mt text-center">\n        <div class="form">\n            \x3c!--  .form-row --\x3e\n            \x3c!--      label.label.required 报名码 --\x3e\n            \x3c!--      .content > input.input#signupCode(placeholder=\'请您填写您要参加活动的报名码\' name=\'signupCode\') --\x3e\n            <div class="form-row relative">\n                <label class="label required">手机号</label>\n                <div class="content">\n                    <input id="phoneNumber" class="input" placeholder="请输入您的手机号" name="phoneNumber"/>\n                </div>\n                <div id="getVerCode" class="btn small verifycode">获取验证码</div>\n            </div>\n            <div class="form-row">\n                <label></label>\n                <div class="content">\n                    <span id="countDownTips" class="btn-password hidden" name="countDownTips">120s</span>\n                    <span id="messageTips" class="msg-tip hidden layout-ml-small"></span>\n                </div>\n            </div>\n            <div class="form-row">\n                <label class="label required">验证码</label>\n                <div class="content"><input class="input" placeholder="请输入您收到的手机验证码" name="verCode"/></div>\n            </div>\n        </div>\n        <div id="next-step" class="btn radius tag-height">下一步</div>\n    </div>\n    <div class="layout-mt">\n        <p class="text-main-color">Q/A</p>\n        <div class="sub-text text-left">\n            <p>1，学员报名时报名链接无法访问？</p>\n            <p>请核对报名链接是否完整、正确。如正确且重启IE浏览器后仍打不开请和响应中心联系。</p>\n            <p>2，学员报名时提示中移网大无此用户？</p>\n            <p>请联系本省网上大学管理员核实个人在网上大学是否有账号，若没有，需添加后才能报名。本省管理员联系方式可致电响应中心查询。</p>\n            <p>3，学员在线报名是否成功？</p>\n            <p>提交报名后，页面提示“报名成功“则说明已成功。若仍有疑问，可致电响应中心</p>\n            <p>4，学员成功报名培训班后需要取消报名？</p>\n            <p>请致电响应中心，告知需调整的人员的员工编号。</p>\n            <p>5，学员班车情况？</p>\n            <p>报到日将有四趟班车位于天通苑北地铁站南行（右）100米，上天桥行至马路对面，由右侧下天桥，即可看到班车。时间为11点，15点，17:30以及20点。返程日班车一般安排为课程结束当天的18点以及次日的8点分别送于机场、集团。</p>\n            <p>6，班车司机电话？</p>\n            <p>由于班车司机随机安排，如乘坐那趟班车请提前30分钟致电响应中心，可查询接站司机电话。</p>\n            <p>7，学员食堂用餐时间？</p>\n            <div class="text-left">\n                <p class="timeone">早7:30—8:50 午餐12:00—13:00</p>\n                <div class="timetwo">晚餐18:00—19:00 培训结束当天餐厅提前至17:30开餐</div>\n            </div>\n        </div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/register/phone/view-main",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/validators"),l=!1;a.bindings={state:!1},a.actions={"click next-step":"getClassSignupInfo","change phoneNumber":"getMember"},a.dataForActions={getClassSignupInfo:function(){var e=t(this.$$('[name="phoneNumber"]')).val().trim(),n=t(this.$$('[name="verCode"]')).val().trim(),a=this.module.renderOptions.state.classId,l=this.bindings.state.data.member;return""===e?(this.app.message.error("手机号不能为空"),!1):i.phone.fn(e)?""===n?(this.app.message.error("验证码不能为空"),!1):l?{phoneNumber:e,verCode:n,classId:a}:(this.app.message.error("系统中不存在该号码"),!1):(this.app.message.error("请输入正确的手机号"),!1)},getMember:function(){var e=t(this.$$('[name="phoneNumber"]')).val().trim();return i.phone.fn(e)&&""!==e?{phoneNumber:e}:(this.app.message.error("请输入正确的手机号"),!1)}},a.actionCallbacks={getClassSignupInfo:function(e){var n=e[0],a=(new Date).getTime(),t=this.bindings.state,i=n.startTime,l=n.endTime;n?(1===n.isOpen&&(a<n.startTime?this.app.message.error("当前培训班报名尚未开始!"):a>n.endTime?this.app.message.error("已过报名时间!"):(t.data.classId=n.classId,t.data.step="info",t.changed(),this.module.renderOptions.callback(t.data))),0===n.isOpen&&(i&&0!==i&&i>a?this.app.message.error("当前培训班报名尚未开始!"):l&&0!==l&&l<=a?this.app.message.error("已过报名时间!"):n.classInfo&&n.classInfo.arriveDate<a?this.app.message.error("已过报名时间!"):(t.data.classId=n.classId,t.data.step="info",t.changed(),this.module.renderOptions.callback(t.data)))):this.app.message.error("报名码不存在!")},getMember:function(e){var n=this.bindings.state;e[0]?(n.data.member=e[0],n.changed()):this.app.message.error("系统中不存在该手机号")}},a.events={"click getVerCode":"getVerCode"},a.handlers={getVerCode:function(){var e=this,n=t(e.$("signupCode")).val(),a=t(e.$("phoneNumber")).val(),s={signupCode:n,phoneNumber:a};return i.required.fn(a)?i.phone.fn(a)?e.module.dispatch("dynamicPassword",s).then(function(){e.ticker(),t(e.$("getVerCode")).hide(),t(e.$("countDownTips")).removeClass("hidden"),t(e.$("messageTips")).removeClass("hidden"),t(e.$("phoneNumber")).attr("disabled",!0),t(e.$("messageTips")).html("验证码已发送至"+a),l=!0}):(this.app.message.error("请输入正确的手机号"),!1):(this.app.message.error("请输入手机号"),!1)}},a.mixin={ticker:function(){var e=120,n=this,a=setInterval(function(){if(e-=1,l)return t("span[name='countDownTips']").html(e+"s"),0===e?(clearInterval(a),t("span[name='countDownTips']").addClass("hidden"),t(n.$("messageTips")).addClass("hidden"),t(n.$("getVerCode")).show(),t("span[name='countDownTips']").html("120s"),void t(n.$("phoneNumber")).attr("disabled",!1)):void 0},1e3)}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/register/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="notloggin-page">\n    <div class="notloggin-title" data-region="title"></div>\n    <div class="notloggin-content">\n        <div class="notloggin-form border around">\n            <div class="notloggin-info text-center">\n                <div data-region="step"></div>\n                <div data-region="main"></div>\n            </div>\n        </div>\n    </div>\n</div>'},3:function(e,n,a,t,i){return'<div class="logobar border bottom">\n    <div class="logo">\n        <div class="item"><a class="underline" href="/#/home"><img src="images/cmou-logo-2.png"/></a></div>\n        <div class="item"><img src="images/dx-logo-2.png"/></div>\n    </div>\n</div>'},5:function(e,n,a,t,i){var l;return'    <div id="step-1" class="besure m-right inline-block">\n        <img src="images/left.jpg"/>\n        <span>验证码确认</span>\n    </div>\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.currentStep:n)?l.phone:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")},6:function(e,n,a,t,i){return'        <div id="step-3" class="info inline-block">\n            <img src="images/right2.jpg"/>\n            <span>报名信息</span>\n        </div>\n'},8:function(e,n,a,t,i){return'        <div class="info info2 inline-block">\n            <img src="images/right.jpg"/>\n            <span>报名信息</span>\n        </div>\n'},10:function(e,n,a,t,i){var l;return'    <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.step:l,n))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"title",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"step",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},
fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/register/view-main",function(e,n,a){a.type="dynamic",a.bindings={state:!0},a.getEntityModuleName=function(e){return"train/register/"+e},a.getEntity=function(){return{state:this.bindings.state.data}},a.dataForEntityModule=function(e){var n=this;return{state:e.state,callback:function(e){n.module.dispatch("refesh",e)}}}},{}),loadjs.d("./app/train/register/view-step",function(e,n,a){a.bindings={state:!0},a.dataForTemplate={currentStep:function(e){var n=e.state.step;return{phone:"phone"===n,info:"info"===n}}}},{}),loadjs.d("./app/train/response/index",function(e,n,a){a.items={search:"search",main:"main","train/response/trainees":{isModule:!0},"train/response/organizations":{isModule:!0},"train/response/papers":{isModule:!0},"train/response/notice":{isModule:!0}},a.store={models:{state:{},classinfos:{url:"../train/class-info/response",type:"pageable",root:"items"},faceCourseNum:{url:"../train/offline-course/find-satisfaction-num"}},callbacks:{init:function(){var e=this.models.classinfos;return e.clear(),this.get(e,{loading:!0})},search:function(e){var n=this.models.classinfos;return n.clear(),n.params=e,this.get(n)},faceCourseNum:function(e){var n=this.models.faceCourseNum;return n.clear(),n.params={classId:e.classId},this.get(n)}}},a.beforeRender=function(){this.dispatch("init")}},{}),loadjs.d("./app/train/response/notice/index",function(e,n,a){a.items={main:"main"},a.large=!0,a.title="班级学员",a.store={models:{signupInfo:{url:"../train/sign-up"},download:{url:"../train/notice/download"},export:{url:"../train/offline-course/exportData"},downloadDoc:{url:"../train/sign-up/download-doc"},state:{data:{}},classInfo:{url:"../train/class-info/single"},humanDownload:{url:"../file-deal/file/download"}},callbacks:{init:function(e){var n=this.models.state,a=this.models.signupInfo,t=this.models.classInfo;a.clear(),t.clear(),n.data.classId=e.id,n.data.role=e.role,a.params.classId=e.id,t.set({id:e.projectId}),this.chain([this.get(t,{loading:!0}),this.get(a,{loading:!0})])},save:function(e){var n=this.models.state.data,a=this.models.signupInfo;return a.set(e),a.data.classId=n.classId,a.data.notice=1,this.save(a)}}},a.beforeRender=function(){return this.dispatch("init",{id:this.renderOptions.classId,role:5,projectId:this.renderOptions.proId})}},{}),loadjs.d("./app/train/response/notice/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="managements-page"><div class="train-class-page">\n    <div class="page-main-wrapper">\n        <div class="main" data-region="main"></div>\n    </div>\n</div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'<form class="vertical">\n    <div class="publishnotice container overflow layout-mt-small border around">\n        <section class="managements-content-area">\n            <h4>培训班报名信息</h4>\n            <div>\n                <div class="form">\n                    <div class="form-row">\n                        <label class="label required">是否开放报名</label>\n                        <div class="content form-line-height">\n                            <input name="id" type="hidden" value="'+r(s(null!=(l=null!=n?n.signupInfo:n)?l.id:l,n))+'"/>\n                            <input id="isOpen-1" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.signupInfo:n)?l.checked:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' name="isOpen" type="radio" disabled value="1"/>\n                            <label class="layout-mr-small">是</label>\n                            <input id="isOpen-0" '+(null!=(l=a.unless.call(o,null!=(l=null!=n?n.signupInfo:n)?l.checked:l,{name:"unless",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' name="isOpen" type="radio" disabled value="0"/>\n                            <label>否</label>\n                        </div>\n                    </div>\n                    <div id="time">\n                        <div class="clearfix w-full">\n                            <div class="form-row pull-left">\n                                <label id="label-start" class="label required">报名开始时间</label>\n                                <div class="content">\n                                    <div id="start" class="overflow">\n                                        <input id="startTime" class="input date" name="startTime" disabled x-rule="required" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.signupInfo:n)?l.startTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="clearfix w-full">\n                            <div class="form-row pull-left">\n                                <label id="label-end" class="label required">报名结束时间</label>\n                                <div class="content">\n                                    <div id="end" class="overflow">\n                                        <input id="endTime" class="input date" name="endTime" disabled x-rule="required" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.signupInfo:n)?l.endTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <span class="layout-mt-small">\n                引导语：请在下发培训公文时通知学员在报到前登录中移网大培训班填写“两个带来”问题，\n                培训期间进行交流分享(两个带来示例模板下载)。 “两个带来”，即带来一个优秀经验分享、带来一个棘手问题讨论，\n                以解决问题为导向，有效地引导学员带着实际工作问题参与培训学习和思考，并在培训班积极推广各单位的优秀实践经验，\n                促进学员的相互分享和工作借鉴。\n            </span>\n            <div class="hr"></div>\n            <h4 class="m-top">启用“两个带来”</h4>\n            <div class="check-choice">\n                <input id="usingTwoBrings" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.signupInfo:n)?l.isUsingTwoB:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" disabled name="usingTwoBrings" value="1"/><span>学员填写“两个带来”问题，培训期间组织互动分享</span>\n            </div>\n            <div class="form layout-mt-small">\n                <div class="form-row">\n                    <label class="label auto layout-mr-small required">问题1</label>\n                    <div class="content">\n                        <input id="question1" class="input" disabled name="question1" value="'+r(s(null!=(l=null!=n?n.signupInfo:n)?l.question1:l,n))+'"/>\n                    </div>\n                </div>\n                <div class="form-row">\n                    <label class="label auto layout-mr-small required">问题2</label>\n                    <div class="content">\n                        <input id="question2" class="input" disabled name="question2" value="'+r(s(null!=(l=null!=n?n.signupInfo:n)?l.question2:l,n))+'"/>\n                    </div>\n                </div>\n            </div>\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.signupInfo:n)?l.id:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"        </section>\n    </div>\n</form>"},4:function(e,n,a,t,i){return' checked="checked"'},6:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression,d=null!=n?n:{},c=a.helperMissing,u="function";return'                <section class="section">\n                    <div id="code">\n                        <div>\n                            <div class="inline-block m-right text-center">报名码:</div>\n                            <div class="inline-block">\n                                <span class="m-right form-line-height">'+o(r(null!=(l=null!=n?n.signupInfo:n)?l.signupCode:l,n))+'</span>\n                                <div id="copy" class="tag-btn radius pointer" data-clipboard-text="'+o(r(null!=(l=null!=n?n.signupInfo:n)?l.signupCode:l,n))+'" style="margin-bottom: 0; margin-right: 0;">复制</div>\n                            </div>\n                        </div>\n                        <div>\n                            <div class="inline-block m-right layout-mt-small vertical-top">报名链接:</div>\n                            <div class="inline-block layout-mt-small">\n                                <span class="small-font layout-mr">'+o((s=null!=(s=a.signupUrl||(null!=n?n.signupUrl:n))?s:c,typeof s===u?s.call(d,{name:"signupUrl",hash:{},data:i}):s))+'</span>\n                                <div id="copy-url" class="tag-btn radius pointer" data-clipboard-text="'+o((s=null!=(s=a.signupUrl||(null!=n?n.signupUrl:n))?s:c,typeof s===u?s.call(d,{name:"signupUrl",hash:{},data:i}):s))+'">复制</div>\n                            </div>\n                        </div>\n                        <div class="enter layout-mt-small">\n                            <div class="vertical-top m-right inline-block">报名二维码：</div>\n                            <div id="codeER" class="inline-block"></div>\n                        </div>\n                    </div>\n                </section>\n                <div class="important-notice">\n                    <p>【重要】发文注意事项：</p>\n                    <p>一、培训通知附件：</p>\n                    <p class="block">1、《中国移动党校培训报名及参训须知》（\n                        <a id="download-doc" href="'+o((s=null!=(s=a.docUrl||(null!=n?n.docUrl:n))?s:c,typeof s===u?s.call(d,{name:"docUrl",hash:{},data:i}):s))+'">下载</a>\n                        <span>）（注意：请将报名链接复制到参训须知首页。为保证链接正确性，请提前自行报名试用）。</span>\n                    </p>\n                    <p class="block">2、《课程安排》 （\n                        <a id="download-course" href="'+o((s=null!=(s=a.downUrl||(null!=n?n.downUrl:n))?s:c,typeof s===u?s.call(d,{name:"downUrl",hash:{},data:i}):s))+'">下载</a>\n                        <span>）</span>\n                    </p>\n                    <p class="block">3、《网上大学培训系统用户操作手册》（\n                        <a id="download-manual" href="'+o((s=null!=(s=a.docUrl2||(null!=n?n.docUrl2:n))?s:c,typeof s===u?s.call(d,{name:"docUrl2",hash:{},data:i}):s))+'">下载</a>\n                        <span>）</span>\n                    </p>\n                    <div class="layout-mt-small">\n                        <p>二、培训通知发布路径及时间要求:</p>\n                        <p>1、路径：须通过OA“培训项目审批单”下发培训通知(OA首页-通用办公-培训项目-部门项目审批单)。</p>\n                        <p>2、时间：开班前20天左右发布通知，以保证OA顺利流转，省公司学员提前做好准备并按时报名。</p>\n                        <p>3、注意事项：为保证学员顺利报到，审批单中移动党校联系人写“响应中心，\n                            15801696688-27260”（响应中心是学院集中服务平台，负责解答培训前期相关问题，比如来院路线等）\n                        </p>\n                    </div>\n                </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/response/notice/view-main",function(e,n,a){var t=e("./app/ext/views/form/markers"),i=e("./app/ext/views/form/validators"),l=e("jquery"),s=e("./app/util/strings");a.bindings={signupInfo:!0,state:!0,export:!1,downloadDoc:!1,classInfo:!0,humanDownload:!1},a.dataForTemplate={signupInfo:function(){var e=this.bindings.signupInfo.data,n=Date.parse(new Date),a=this.bindings.classInfo.data.arriveDate;return e&&(e.checked=1===e.isOpen,e.isUsingTwoB=1===e.usingTwoBrings,e.id||(e.checked=!0,e.isUsingTwoB=!0,e.question1=s.get("default-twobring-1"),e.question2=s.get("default-twobring-2")),e.isUsingTwoB||(e.question1="",e.question2=""),null===e.startTime&&(e.startTime=n),null===e.endTime&&void 0!==a&&(e.endTime=a+864e5-1e3)),e},downUrl:function(){var e=this.bindings.export,n=this.bindings.state.data,a=e.getFullUrl()+"?",t=this.app.global.OAuth.token.access_token;return a+="classId="+n.classId,a+="&access_token="+t},docUrl:function(){return this.bindings.humanDownload.getFullUrl()+"?id=train_registration_notes"},signupUrl:function(){var e=window.location.protocol+"//"+window.location.host+"/";return e+="#/train/register/"+this.bindings.state.data.classId},docUrl2:function(){return this.bindings.humanDownload.getFullUrl()+"?id=train_guide_manual"}},a.components=[{id:"startTime",name:"flatpickr"},{id:"endTime",name:"flatpickr"},function(){var e=this.bindings.signupInfo.data.classId||"0";return{id:"codeER",name:"qrcode",options:{width:128,height:128,text:JSON.stringify({businessId:e,businessType:5})}}},{id:"copy",name:"clipboard"},{id:"copy-url",name:"clipboard"}],a.mixin={validate:function(){var e,n,a,s,r,o,d=l(this.$$('input[name="isOpen"]:checked')),c=l(this.$("startTime")),u=l(this.$("endTime")),m=this.$("usingTwoBrings").checked,p=l(this.$("question1")),h=l(this.$("question2")),f=!0,v=new RegExp("\\{0\\}","g"),g=this.bindings.classInfo.data.arriveDate;return t.text.valid(l(this.$("start"))),t.text.valid(l(this.$("end"))),t.text.valid(p),t.text.valid(h),"1"!==d.val()||i.required.fn(c.val())||(t.text.invalid(l(this.$("start")),i.required.message),f=!1),"1"!==d.val()||i.required.fn(u.val())||(t.text.invalid(l(this.$("end")),i.required.message),f=!1),"1"===d.val()&&i.required.fn(c.val())&&(e=c.val().split(" "),n=e[0].split("-"),a=new Date(n[0],n[1]-1,n[2]).getTime(),g+864e5<a&&(this.app.message.error("报名开始时间必须在该班级的报到日之前"),c.val(""),c.addClass("error"),f=!1)),c.removeClass("error"),"1"===d.val()&&i.required.fn(u.val())&&(s=u.val().split(" "),r=s[0].split("-"),o=new Date(r[0],r[1]-1,r[2]).getTime(),g+864e5-1<o?(this.app.message.error("报名结束时间必须在该班级的报到日之前"),l(this.$("endTime")).val(""),u.addClass("error"),f=!1):i.required.fn(u.val())&&c.val()>=u.val()&&(this.app.message.error("报名开始时间不能大于报名结束时间"),l(this.$("endTime")).val(""),u.addClass("error"),f=!1)),u.removeClass("error"),m&&!i.required.fn(p.val())&&(t.text.invalid(p,i.required.message),f=!1),m&&!i.required.fn(h.val())&&(t.text.invalid(h,i.required.message),f=!1),m&&!i.maxLength.fn(p.val(),100)&&(t.text.invalid(p,i.maxLength.message.replace(v,100)),f=!1),m&&!i.maxLength.fn(h.val(),100)&&(t.text.invalid(h,i.maxLength.message.replace(v,100)),f=!1),f}},a.afterRender=function(){var e=this;1===e.bindings.signupInfo.data.isOpen?(l(this.$("label-start")).addClass("required"),l(this.$("label-end")).addClass("required")):(l(this.$("label-start")).removeClass("required"),l(this.$("label-end")).removeClass("required")),e.bindings.signupInfo.data.checked||(l(this.$("time")).addClass("hide").removeClass("show"),l(this.$("code")).addClass("hide").removeClass("show"))}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/strings":"./app/util/strings",jquery:!1}),loadjs.d("./app/train/response/organizations/index",function(e,n,a){a.items={main:"main"},a.title="培训班报名情况列表",a.store={models:{situation:{url:"../train/class-quota/situation"},orgListAll:{url:"../train/group-configuration-value/all"}},callbacks:{init:function(e){var n=this.models.situation,a=this.models.orgListAll;return n.clear(),n.params=e,this.get(a),this.get(n)}}},a.beforeRender=function(){this.dispatch("init",{classId:this.renderOptions.classId})}},{}),loadjs.d("./app/train/response/organizations/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="unit-page">\n    <div class="unit" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.situation:n)?l.id:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(8,i,0),data:i}))?l:""},4:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return"        培训班报名情况列表："+r(s(null!=(l=null!=n?n.situation:n)?l.signUpNumber:l,n))+"/"+r(s(null!=(l=null!=n?n.situation:n)?l.amount:l,n))+" 人\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.situation:n)?l.type:l,"eq",2,{name:"compare",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},5:function(e,n,a,t,i){var l;return'            <table class="table">\n                <thead><tr>\n                    <th>公司部门</th>\n                    <th>成员/配额</th>\n                </tr></thead>\n                <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.situation:n)?l.classQuotaDetails:l,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"</tbody>\n            </table>\n"},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"<tr>\n                    <td>"+o((l=null!=(l=a.shortName||(null!=n?n.shortName:n))?l:r,"function"==typeof l?l.call(s,{name:"shortName",hash:{},data:i}):l))+"</td>\n                    <td>"+o((l=null!=(l=a.signUpNumber||(null!=n?n.signUpNumber:n))?l:r,"function"==typeof l?l.call(s,{name:"signUpNumber",hash:{},data:i}):l))+"/"+o((l=null!=(l=a.quantity||(null!=n?n.quantity:n))?l:r,"function"==typeof l?l.call(s,{name:"quantity",hash:{},data:i}):l))+" 人</td>\n                </tr>\n                "},8:function(e,n,a,t,i){return'        <div class="text-center">\n            <tr><td colspan="8"><div class="text-center">\n                <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                <p>暂无配额信息</p>\n            </div>\n            </td></tr>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/response/organizations/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={situation:!0,orgListAll:!0},a.dataForTemplate={trainees:function(e){var n=this.bindings.orgListAll,a=e.situation;return null===a.signUpNumber&&(a.signUpNumber=0),null===a.amount&&(a.amount=0),t.map(a.classQuotaDetails||[],function(e,a){var i=e,l=t.find(n.data||[],{organizationId:i.organizationId,groupId:i.groupId})||{};null===i.signUpNumber&&(i.signUpNumber=0),null===i.quantity&&(i.quantity=0),i.shortName=l.shortName?l.shortName:i.organizationName,i.i=a+1}),e}}},{"lodash/collection":!1}),loadjs.d("./app/train/response/papers/index",function(e,n,a){a.items={main:"main",search:"search"},a.large=!0,a.title="问卷提交情况",a.store={models:{state:{},trainees:{url:"../train/trainee/trainees",type:"pageable",root:"items"}},callbacks:{init:function(e){var n=this.models.trainees,a=this.models.state;return a.clear(),a.data=e,a.data.auditStatus=1,n.params=a.data,this.get(n)},search:function(e){var n=this.models.trainees;return n.params=e,this.get(n)}}},a.beforeRender=function(){this.dispatch("init",{classId:this.renderOptions.classId})}},{}),loadjs.d("./app/train/response/papers/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="askpaper-page askpaper">\n    <div class="div" data-region="search"></div>\n    <div class="div" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'<form class="vertical">\n    <div class="filter-row filter-block clearfix">\n        <div class="filter-item col-sm-3">\n            <label>姓名</label>\n            <input class="input" name="memberFullName"/>\n        </div>\n        <div class="filter-item col-sm-3">\n            <label>单位</label>\n            <div id="class-organization" class="inline-block" style="width:201px"></div>\n        </div>\n        <div class="filter-item col-sm-3">\n            <label>提交状态</label>\n            <select id="commitQuestionary" class="input" name="commitQuestionary" x-marker="selectize">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.commitQuestionary:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'            </select>\n        </div>\n        <div class="filter-item col-sm-3">\n            <button id="search" class="btn">查询</button>\n        </div>\n    </div>\n</form>'},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <option value="'+o((l=null!=(l=a.key||(null!=n?n.key:n))?l:r,"function"==typeof l?l.call(s,{name:"key",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.value||(null!=n?n.value:n))?l:r,"function"==typeof l?l.call(s,{name:"value",hash:{},data:i}):l))+"</option>\n"},6:function(e,n,a,t,i){var l;return'    <table class="table layout-mt-small">\n        <thead><tr>\n            <th>序号</th>\n            <th>姓名</th>\n            <th>账号</th>\n            <th>机构</th>\n            <th>部门</th>\n            <th>职务</th>\n            <th>手机</th>\n            <th>邮箱</th>\n            <th>提交状态</th>\n        </tr></thead>\n        <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.trainees:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'</tbody>\n    </table>\n    <div id="pager" class="pagination"></div>\n'},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return"<tr>\n            <td>"+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n            <td>"+c(u(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n            <td>"+c(u(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n            <td>"+c((s=null!=(s=a.companyName||(null!=n?n.companyName:n))?s:o,typeof s===d?s.call(r,{name:"companyName",hash:{},data:i}):s))+"</td>\n            <td>"+c((s=null!=(s=a.organizationName||(null!=n?n.organizationName:n))?s:o,typeof s===d?s.call(r,{name:"organizationName",hash:{},data:i}):s))+"</td>\n            <td>"+c(u(null!=(l=null!=n?n.member:n)?l.jobName:l,n))+"</td>\n            <td>"+c((s=null!=(s=a.phoneNumber||(null!=n?n.phoneNumber:n))?s:o,typeof s===d?s.call(r,{name:"phoneNumber",hash:{},data:i}):s))+"</td>\n            <td>"+c((s=null!=(s=a.email||(null!=n?n.email:n))?s:o,typeof s===d?s.call(r,{name:"email",hash:{},data:i}):s))+"</td>\n            <td>"+c((a.map||n&&n.map||o).call(r,"trainee-commit-questionary",null!=n?n.commitQuestionary:n,{name:"map",hash:{},data:i}))+"\n"},9:function(e,n,a,t,i){return'                <tr><td colspan="9"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容</p>\n                </div>\n                </td></tr></td>\n        </tr>\n        '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/response/papers/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={trainees:!0},a.components=[{id:"pager",name:"pager",options:{model:"trainees"}}],a.dataForTemplate={trainees:function(e){var n=e.trainees,a=this.bindings.trainees.getPageInfo().page;return t.map(n||[],function(e,n){var t=e;t.i=n+1+10*(a-1),t.newCompany&&(t.companyName=t.newCompany)}),n}}},{"lodash/collection":!1}),loadjs.d("./app/train/response/papers/view-search",function(e,n,a){var t=e("jquery"),i=e("./app/util/maps"),l=e("lodash/collection");a.bindings={state:!1},a.actions={"click search":"search"},a.dataForActions={search:function(){var e={classId:this.bindings.state.data.classId,auditStatus:1,commitQuestionary:t(this.$$('[name="commitQuestionary"]')).val(),memberFullName:t(this.$$('[name="memberFullName"]')).val(),organizationId:t(this.$$('[name="organizationId"]')).val()};return l.forEach(e,function(n,a){"commitQuestionary"===a&&"999"===n&&(e.commitQuestionary="")}),e}},a.dataForTemplate={commitQuestionary:function(){var e=i.get("trainee-commit-questionary").sort(function(e,n){return Number(e.key)-Number(n.key)});return e.unshift({key:"999",value:"全部"}),e}},a.components=[{id:"class-organization",name:"picker",options:{module:"train/class-info",picker:"owner",inputName:"organizationId"}}]},{"./app/util/maps":"./app/util/maps",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/response/schedule/index",function(e,n,a){var t=e("lodash/collection");a.items={offline:"offline",online:"online",classinfo:"classinfo"},a.store={models:{classinfo:{url:"../train/project"},offlineCourseList:{url:"../train/offline-course/find"},offlineThemeList:{url:"../train/theme/findOfflineTheme"},onlineCourseList:{url:"../train/online-course/find"},themeList:{url:"../train/theme"},weeks:{data:{}},state:{data:{}},flag:{data:{flag:!1}}},callbacks:{init:function(e){var n=this.models.offlineThemeList,a=this.models.weeks,t=this.models.offlineCourseList,i=this.models.onlineCourseList,l=this.models.state,s=this;n.params.classId=e.classId,i.params.classId=e.classId,l.data.classId=e.classId,l.data.role=e.role,s.module.dispatch("getClassInfo",{id:e.projectId,role:e.role}),s.get(n,{loading:!0}).then(function(n){a.data=n[0],a.changed(),a.data.length>0&&(t.params.startDate=a.data[0].startTime,t.params.endDate=a.data[0].endTime),t.params.classId=e.classId,s.get(t)}),s.get(i)},getClassInfo:function(e){var n=this.models.classinfo;return n.set(e),this.get(n,{loading:!0})},searchOffline:function(e){var n,a,i=this.models.offlineThemeList,l=this.models.offlineCourseList;t.map(i.data,function(n){var a=n;a.id===e.id?a.checked=!0:a.checked=!1}),n=i.data.findIndex(function(n){return n.id===e.id}),a=i.data[n],l.params.startDate=a.startTime,l.params.endDate=a.endTime,i.changed(),this.get(l)}}},a.beforeRender=function(){return this.dispatch("init",{classId:this.renderOptions.classId,role:5,projectId:this.renderOptions.proId})}},{"lodash/collection":!1}),loadjs.d("./app/train/response/schedule/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-schedule-page" style="padding-bottom: 20px">\n    <div class="main" data-region="classinfo"></div>\n    <div class="main" data-region="offline"></div>\n    <div class="main" data-region="online"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <div class="dateplan container overflow dateplan-padding layout-mt-small">\n        <section class="layout-mt-small border top left right bottom">\n            <div id="train-title-3" class="train-title clearfix" style="margin-bottom: 0">\n                <label class="pull-left h4 title-color">班级信息</label>\n                <div class="pull-right">\n                    <span id="min-3">收起</span>\n                    <i id="minimize-3" class="iconfont icon-minus-full text-main-color m-right pointer"></i>\n                </div>\n            </div>\n            <div id="minitable-3" style="padding: 10px 10px 0.3em 10px; border-top: 1px solid #dedede;background: #f9f9f9;">\n                <div class="row p-bottom-1">\n                    <div class="col-sm-3 inline-block">\n                        <span class="inline-block">培训班名称：</span>\n                        <div class="col-sm-7 text-overflow inline-block">\n                            <span title="'+r(s(null!=(l=null!=n?n.classinfo:n)?l.name:l,n))+'">'+r(s(null!=(l=null!=n?n.classinfo:n)?l.name:l,n))+'</span>\n                        </div>\n                    </div>\n                    <div class="col-sm-3 inline-block">\n                        <span class="inline-block">MIS编号：</span>\n                        <div class="col-sm-7 text-overflow inline-block">\n                            <span title="'+r(s(null!=(l=null!=n?n.classinfo:n)?l.code:l,n))+'">'+r(s(null!=(l=null!=n?n.classinfo:n)?l.code:l,n))+'</span>\n                        </div>\n                    </div>\n                    <div class="col-sm-3 inline-block">\n                        <span class="inline-block">需求方：</span>\n                        <div class="col-sm-8 text-overflow inline-block">\n                            <span title="'+r(s(null!=(l=null!=(l=null!=n?n.classinfo:n)?l.organization:l)?l.name:l,n))+'">'+r(s(null!=(l=null!=(l=null!=n?n.classinfo:n)?l.organization:l)?l.name:l,n))+'</span>\n                        </div>\n                    </div>\n                    <div class="col-sm-3 inline-block">\n                        <span class="inline-block">需求方联系人：</span>\n                        <div class="col-sm-6 text-overflow inline-block">\n                            <span title="'+r(s(null!=(l=null!=(l=null!=n?n.classinfo:n)?l.member:l)?l.fullName:l,n))+'">'+r(s(null!=(l=null!=(l=null!=n?n.classinfo:n)?l.member:l)?l.fullName:l,n))+'</span>\n                        </div>\n                    </div>\n                </div>\n                <div class="row p-bottom-1">\n                    <div class="col-sm-3 inline-block">\n                        <span class="inline-block">计划人数：</span>\n                        <div class="col-sm-7 text-overflow inline-block">\n                            <span title="'+r(s(null!=(l=null!=n?n.classinfo:n)?l.amount:l,n))+'">'+r(s(null!=(l=null!=n?n.classinfo:n)?l.amount:l,n))+'</span>\n                        </div>\n                    </div>\n                    <div class="col-sm-3 inline-block">\n                        <span class="inline-block">计划天数：</span>\n                        <div class="col-sm-7 text-overflow inline-block">\n                            <span title="'+r(s(null!=(l=null!=n?n.classinfo:n)?l.days:l,n))+'">'+r(s(null!=(l=null!=n?n.classinfo:n)?l.days:l,n))+'</span>\n                        </div>\n                    </div>\n                    <div class="col-sm-3 inline-block">\n                        <span class="inline-block">邮箱：</span>\n                        <div class="col-sm-8 text-overflow inline-block">\n                            <span title="'+r(s(null!=(l=null!=n?n.classinfo:n)?l.contactEmail:l,n))+'">'+r(s(null!=(l=null!=n?n.classinfo:n)?l.contactEmail:l,n))+'</span>\n                        </div>\n                    </div>\n                    <div class="col-sm-3 inline-block">\n                        <span class="inline-block">联系电话：</span>\n                        <div class="col-sm-6 text-overflow inline-block">\n                            <span title="'+r(s(null!=(l=null!=n?n.classinfo:n)?l.contactPhone:l,n))+'">'+r(s(null!=(l=null!=n?n.classinfo:n)?l.contactPhone:l,n))+'</span>\n                        </div>\n                    </div>\n                </div>\n                <div class="row p-bottom-1">\n                    <div class="col-sm-3 inline-block">\n                        <span class="inline-block">培训方式：</span>\n                        <div class="col-sm-7 text-overflow inline-block">\n'+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=(l=null!=n?n.classinfo:n)?l.classInfo:l)?l.isOutside:l,"eq",0,{name:"compare",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=(l=null!=n?n.classinfo:n)?l.classInfo:l)?l.isOutside:l,"eq",1,{name:"compare",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i
}))?l:"")+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=(l=null!=n?n.classinfo:n)?l.classInfo:l)?l.isOutside:l,"eq",2,{name:"compare",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'                        </div>\n                    </div>\n                    <div class="col-sm-3 inline-block">\n                        <span class="inline-block">需求调研方式：</span>\n                        <div class="col-sm-6 text-overflow inline-block">\n                            <span title="'+r(s(null!=(l=null!=n?n.classinfo:n)?l.surveyType:l,n))+'">'+r(s(null!=(l=null!=n?n.classinfo:n)?l.surveyType:l,n))+'</span>\n                        </div>\n                    </div>\n                    <div class="col-sm-3 inline-block">\n                        <span class="inline-block">培训日期：</span>\n                        <div class="col-sm-8 text-overflow inline-block">\n                            <span title="'+r(s(null!=(l=null!=n?n.state:n)?l.roundDate:l,n))+'">'+r(s(null!=(l=null!=n?n.state:n)?l.roundDate:l,n))+'</span>\n                        </div>\n                    </div>\n                    <div class="col-sm-3 inline-block">\n                        <span class="inline-block">是否党校进修班：</span>\n                        <div class="col-sm-5 text-overflow inline-block">\n'+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.classinfo:n)?l.isPartyCadre:l,"eq",1,{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.classinfo:n)?l.isPartyCadre:l,"eq",0,{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+'                        </div>\n                    </div>\n                </div>\n                <div class="row p-bottom-1">\n                    <div class="col-sm-12">\n                        <span style="vertical-align: top;">培训目标：</span>\n                        <div class="inline-block" style="vertical-align: top; width:90%;">\n                            <span title="'+r(s(null!=(l=null!=n?n.classinfo:n)?l.target:l,n))+'">'+r(s(null!=(l=null!=n?n.classinfo:n)?l.target:l,n))+'</span>\n                        </div>\n                    </div>\n                </div>\n                <div class="row p-bottom-1">\n                    <div class="col-sm-12">\n                        <span style="vertical-align: top;">培训对象：</span>\n                        <div class="inline-block" style="vertical-align: top; width:90%">\n                            <span title="'+r(s(null!=(l=null!=n?n.classinfo:n)?l.object:l,n))+'">'+r(s(null!=(l=null!=n?n.classinfo:n)?l.object:l,n))+"</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n    </div>\n"},4:function(e,n,a,t,i){return'                                <span title="院内培训">院内培训</span>\n'},6:function(e,n,a,t,i){return'                                <span title="院外培训">院外培训</span>\n'},8:function(e,n,a,t,i){return'                                <span title="在线学习">在线学习</span>\n'},10:function(e,n,a,t,i){return"                                <span>是</span>\n"},12:function(e,n,a,t,i){return"                                <span>否</span>\n"},14:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="dateplan container overflow dateplan-padding layout-mt-small">\n        <section class="layout-mt-small">\n            <div class="m-top">\n                <div id="train-title-1" class="train-title border top left right bottom clearfix" style="margin-bottom: 0">\n                    <div class="pull-left">\n                        <label class="m-right h4 title-color">课程安排</label>\n'+(null!=(l=a.if.call(s,null!=n?n.isShowWeeks:n,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+'                    </div>\n                    <div class="pull-right">\n                        <div class="inline-block">\n'+(null!=(l=a.if.call(s,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.program(21,i,0),data:i}))?l:"")+"                        </div>\n                    </div>\n                </div>\n            </div>\n"+(null!=(l=a.if.call(s,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+"        </section>\n    </div>\n"},15:function(e,n,a,t,i){var l;return'                            <select id="selectOffline" class="input tag-height" name="selectOffline">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.offlineThemeList:n,{name:"each",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+"                            </select>\n"},16:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                    <option "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.weekly||(null!=n?n.weekly:n))?s:o,"function"==typeof s?s.call(r,{name:"weekly",hash:{},data:i}):s))+"</option>\n"},17:function(e,n,a,t,i){return' selected="selected"'},19:function(e,n,a,t,i){return'                                <span id="min-1">收起</span>\n                                <i id="minimize-1" class="iconfont icon-minus-full text-main-color m-right pointer"></i>\n'},21:function(e,n,a,t,i){return'                                <span id="min-1">展开</span>\n                                <i id="minimize-1" class="iconfont icon-add-full text-main-color m-right pointer"></i>\n'},23:function(e,n,a,t,i){var l;return'                <table id="minitable-1" class="table train-offline-table border left right bottom train" style="margin-top:0px;">\n                    <tr>\n                        <th>日期</th>\n                        <th>时间</th>\n                        <th>课程名称</th>\n                        <th>课程类型</th>\n                        <th>讲师</th>\n                        <th>讲师单位</th>\n                        <th>讲师职务</th>\n                        <th>课件</th>\n                    </tr>\n                    '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.offlineCourseList:n,{name:"each",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")+"\n                </table>\n"},24:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return"<tr>\n"+(null!=(l=a.if.call(r,null!=n?n.isRowspan:n,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+'                        <td class="train-width"><label data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.startTime||(null!=n?n.startTime:n))?s:o,typeof s===d?s.call(r,{name:"startTime",hash:{},data:i}):s))+"-"+c((s=null!=(s=a.endTime||(null!=n?n.endTime:n))?s:o,typeof s===d?s.call(r,{name:"endTime",hash:{},data:i}):s))+'</label></td>\n                        <td class="nowrap">\n'+(null!=(l=a.if.call(r,null!=n?n.name:n,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.program(29,i,0),data:i}))?l:"")+'                            <input id="input-name-offline-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                        </td>\n                        <td class="nowrap">\n                            <label data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+c((a.map||n&&n.map||o).call(r,"class-offline-type",null!=n?n.type:n,{name:"map",hash:{},data:i}))+'</label>\n                            <select id="input-type-offline-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">\n                                <option '+(null!=(l=a.if.call(r,null!=n?n.type1:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">'+c((a.map||n&&n.map||o).call(r,"class-offline-type","1",{name:"map",hash:{},data:i}))+"</option>\n                                <option "+(null!=(l=a.if.call(r,null!=n?n.type2:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">'+c((a.map||n&&n.map||o).call(r,"class-offline-type","2",{name:"map",hash:{},data:i}))+"</option>\n                                <option "+(null!=(l=a.if.call(r,null!=n?n.type3:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">'+c((a.map||n&&n.map||o).call(r,"class-offline-type","3",{name:"map",hash:{},data:i}))+"</option>\n                                <option "+(null!=(l=a.if.call(r,null!=n?n.type5:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+' value="5">'+c((a.map||n&&n.map||o).call(r,"class-offline-type","5",{name:"map",hash:{},data:i}))+"</option>\n                                <option "+(null!=(l=a.if.call(r,null!=n?n.type4:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+' value="4">'+c((a.map||n&&n.map||o).call(r,"class-offline-type","4",{name:"map",hash:{},data:i}))+'</option>\n                            </select>\n                        </td>\n                        <td class="nowrap">\n'+(null!=(l=a.if.call(r,null!=n?n.teacherName:n,{name:"if",hash:{},fn:e.program(31,i,0),inverse:e.program(29,i,0),data:i}))?l:"")+'                            <input id="input-teacher-offline-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.teacherName||(null!=n?n.teacherName:n))?s:o,typeof s===d?s.call(r,{name:"teacherName",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                        </td>\n                        <td class="nowrap">\n'+(null!=(l=a.if.call(r,null!=n?n.teacherOrganization:n,{name:"if",hash:{},fn:e.program(33,i,0),inverse:e.program(29,i,0),data:i}))?l:"")+'                            <input id="input-torg-offline-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.teacherOrganization||(null!=n?n.teacherOrganization:n))?s:o,typeof s===d?s.call(r,{name:"teacherOrganization",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                        </td>\n                        <td class="nowrap">\n'+(null!=(l=a.if.call(r,null!=n?n.teacherTitle:n,{name:"if",hash:{},fn:e.program(35,i,0),inverse:e.program(29,i,0),data:i}))?l:"")+'                            <input id="input-title-offline-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.teacherTitle||(null!=n?n.teacherTitle:n))?s:o,typeof s===d?s.call(r,{name:"teacherTitle",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                        </td>\n                        <td>\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.attachStatus:n,"eq",0,{name:"compare",hash:{},fn:e.program(37,i,0),inverse:e.program(39,i,0),data:i}))?l:"")+"                        </td>\n                    </tr>"},25:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <td class="train-width" rowspan="'+o((l=null!=(l=a.rowspan||(null!=n?n.rowspan:n))?l:r,"function"==typeof l?l.call(s,{name:"rowspan",hash:{},data:i}):l))+'">'+o((a.date||n&&n.date||r).call(s,null!=n?n.courseDate:n,{name:"date",hash:{},data:i}))+"</td>\n"},27:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <label data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+"</label>\n"},29:function(e,n,a,t,i){var l;return'                                <label data-name="id" data-value="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>\n'},31:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <label data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.teacherName||(null!=n?n.teacherName:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherName",hash:{},data:i}):l))+"</label>\n"},33:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <label data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.teacherOrganization||(null!=n?n.teacherOrganization:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherOrganization",hash:{},data:i}):l))+"</label>\n"},35:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <label data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.teacherTitle||(null!=n?n.teacherTitle:n))?l:r,"function"==typeof l?l.call(s,{name:"teacherTitle",hash:{},data:i}):l))+"</label>\n"},37:function(e,n,a,t,i){return"                                已上传\n"},39:function(e,n,a,t,i){return"                                无\n"},41:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="dateplan container overflow dateplan-padding layout-mt-small">\n        <section class="layout-mt-small">\n            <div id="train-title-2" class="train-title border top left right clearfix">\n                <label class="pull-left h4 title-color">在线资源</label>\n                <div class="pull-right">\n'+(null!=(l=a.if.call(s,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(42,i,0),inverse:e.program(44,i,0),data:i}))?l:"")+"                </div>\n            </div>\n"+(null!=(l=a.if.call(s,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(46,i,0),inverse:e.noop,data:i}))?l:"")+"        </section>\n    </div>\n"},42:function(e,n,a,t,i){return'                        <span id="min-2">收起</span>\n                        <i id="minimize-2" class="iconfont icon-minus-full text-main-color m-right pointer"></i>\n'},44:function(e,n,a,t,i){return'                        <span id="min-2">展开</span>\n                        <i id="minimize-2" class="iconfont icon-add-full text-main-color m-right pointer"></i>\n'},46:function(e,n,a,t,i){var l;return'                <table id="minitable-2" class="table border around train">\n                    <tr>\n                        <th>课程名称</th>\n                        <th>是否必修</th>\n                        <th>分组</th>\n                    </tr>\n                    '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.onlineCourseList:n,{name:"each",hash:{},fn:e.program(47,i,0),inverse:e.noop,data:i}))?l:"")+"\n                </table>\n"},47:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'<tr>\n                        <td title="'+d((s=null!=(s=a.resourceName||(null!=n?n.resourceName:n))?s:o,"function"==typeof s?s.call(r,{name:"resourceName",hash:{},data:i}):s))+'">\n'+(null!=(l=a.if.call(r,null!=n?n.length:n,{name:"if",hash:{},fn:e.program(48,i,0),inverse:e.program(50,i,0),data:i}))?l:"")+'                        </td>\n                        <td class="train-width">\n                            <label data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((a.map||n&&n.map||o).call(r,"yes-or-no",null!=n?n.isRequired:n,{name:"map",hash:{},data:i}))+'</label>\n                            <select class="col-sm-4" id="input-online-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">\n                                <option '+(null!=(l=a.if.call(r,null!=n?n.isRequired1:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">'+d((a.map||n&&n.map||o).call(r,"yes-or-no","1",{name:"map",hash:{},data:i}))+"</option>\n                                <option "+(null!=(l=a.if.call(r,null!=n?n.isRequired0:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+' value="0">'+d((a.map||n&&n.map||o).call(r,"yes-or-no","0",{name:"map",hash:{},data:i}))+"</option>\n                            </select>\n                        </td>\n"+(null!=(l=a.if.call(r,null!=n?n.isRowspan:n,{name:"if",hash:{},fn:e.program(52,i,0),inverse:e.noop,data:i}))?l:"")+"                    </tr>"},48:function(e,n,a,t,i){var l;return"                                "+e.escapeExpression((l=null!=(l=a.newName||(null!=n?n.newName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"newName",hash:{},data:i}):l))+"\n"},50:function(e,n,a,t,i){var l;return"                                "+e.escapeExpression((l=null!=(l=a.resourceName||(null!=n?n.resourceName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"resourceName",hash:{},data:i}):l))+"\n"},52:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                            <td rowspan="'+d((s=null!=(s=a.rowspan||(null!=n?n.rowspan:n))?s:o,"function"==typeof s?s.call(r,{name:"rowspan",hash:{},data:i}):s))+'" title="'+d((s=null!=(s=a.themeName||(null!=n?n.themeName:n))?s:o,"function"==typeof s?s.call(r,{name:"themeName",hash:{},data:i}):s))+'">\n'+(null!=(l=a.if.call(r,null!=n?n.theme:n,{name:"if",hash:{},fn:e.program(53,i,0),inverse:e.program(55,i,0),data:i}))?l:"")+"                            </td>\n"},53:function(e,n,a,t,i){var l;return"                                    "+e.escapeExpression((l=null!=(l=a.newThemeName||(null!=n?n.newThemeName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"newThemeName",hash:{},data:i}):l))+"\n"},55:function(e,n,a,t,i){var l;return"                                    "+e.escapeExpression((l=null!=(l=a.themeName||(null!=n?n.themeName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"themeName",hash:{},data:i}):l))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"classinfo",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"offline",{name:"view",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"online",{name:"view",hash:{},fn:e.program(41,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/response/schedule/view-classinfo",function(e,n,a){var t=e("jquery"),i=e("./app/util/helpers");a.bindings={classinfo:!0,state:!0},a.events={"click minimize-*":"showMinimize"},a.handlers={showMinimize:function(e){"收起"===t(this.$("min-"+e)).text()?(t(this.$("min-"+e)).text("展开"),t(this.$("minimize-"+e)).addClass("icon-add-full").removeClass("icon-minus-full"),t(this.$("minitable-"+e)).addClass("hide").removeClass("show")):(t(this.$("min-"+e)).text("收起"),t(this.$("minimize-"+e)).addClass("icon-minus-full").removeClass("icon-add-full"),t(this.$("minitable-"+e)).addClass("show").removeClass("hide"))}},a.dataForTemplate={flag:function(){return(this.bindings.classinfo.data||[]).length>0},classinfo:function(e){return e.classinfo},state:function(){var e,n,a=this.bindings.state.data,t=this.bindings.classinfo.data;return t.classInfo&&(e=i.date(t.classInfo.arriveDate),n=i.date(t.classInfo.returnDate),a.roundDate=e+"~"+n,a.arriveDate=e,a.returnDate=n),a}}},{"./app/util/helpers":"./app/util/helpers",jquery:!1}),loadjs.d("./app/train/response/schedule/view-offline",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.bindings={offlineThemeList:!0,offlineCourseList:!0,state:!0},a.actions={"change selectOffline":"searchOffline"},a.dataForActions={searchOffline:function(){return{id:i(this.$("selectOffline")).val()}}},a.events={"click minimize-*":"showMinimize"},a.handlers={showMinimize:function(e){i(this.$("minitable-"+e)).toggle(),"收起"===i(this.$("min-"+e)).text()?(i(this.$("min-"+e)).text("展开"),i(this.$("minimize-"+e)).addClass("icon-add-full").removeClass("icon-minus-full")):(i(this.$("min-"+e)).text("收起"),i(this.$("minimize-"+e)).addClass("icon-minus-full").removeClass("icon-add-full"))}},a.dataForTemplate={flag:function(){return(this.bindings.offlineCourseList.data||[]).length>0},weeks:function(){var e=this.bindings.offlineThemeList;return t.map(e.data||[],function(e,n){var a=e;a.i=n+1,a.weekly=a.name}),e.data},isShowWeeks:function(){return this.bindings.offlineThemeList.data.length>0},offlineCourseList:function(e){var n,a=e.offlineCourseList,i=this.bindings.state.data,l=0;return n=t.groupBy(a,"courseDate"),t.map(a||[],function(e){var a=e;a.isGrant=4!==i.role,l!==a.courseDate&&(l=a.courseDate,a.isRowspan=!0,a.rowspan=n[a.courseDate].length),a.type1=1===a.type,a.type2=2===a.type,a.type3=3===a.type,a.type4=4===a.type,a.type5=5===a.type,a.weekly=a.name}),e.offlineCourseList}}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/response/schedule/view-online",function(e,n,a){var t=e("jquery"),i=e("lodash/collection");a.bindings={onlineCourseList:!0,state:!0,themeList:!0,flag:!1},a.dataForTemplate={flag:function(){return(this.bindings.onlineCourseList.data||[]).length>0},state:function(){return this.bindings.state.data},onlineCourseList:function(){var e,n=this.bindings.onlineCourseList,a=this.bindings.state.data,t="";return e=i.groupBy(n.data,"themeId"),i.map(n.data||[],function(n){var i=n;i.isRequired1=1===i.isRequired,i.isRequired0=0===i.isRequired,i.isGrant=4!==a.role,t!==i.themeId&&(t=i.themeId,i.isRowspan=!0,i.rowspan=e[i.themeId].length),i.resourceName&&i.resourceName.length>20?(i.length=!0,i.newName=i.resourceName.substring(0,19)+"..."):i.length=!1,i.themeName&&i.themeName.length>20?(i.theme=!0,i.newThemeName=i.themeName.substring(0,19)+"..."):i.theme=!1}),n.data}},a.events={"click minimize-*":"showMinimize"},a.handlers={showMinimize:function(e){t(this.$("minitable-"+e)).toggle(),"收起"===t(this.$("min-"+e)).text()?(t(this.$("min-"+e)).text("展开"),t(this.$("minimize-"+e)).addClass("icon-add-full").removeClass("icon-minus-full"),t(this.$("train-title-"+e)).addClass("bottom"),t(this.$("train-title-"+e)).css("margin-bottom","0")):(t(this.$("min-"+e)).text("收起"),t(this.$("minimize-"+e)).addClass("icon-minus-full").removeClass("icon-add-full"))}},a.afterRender=function(){"展开"===t(this.$("min-2")).text()&&(t(this.$("train-title-2")).addClass("bottom"),t(this.$("train-title-2")).css("margin-bottom","0"))}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/response/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="responsecenter-page">\n    <div class="responsecenter-title" data-region="search"></div>\n    <div class="responsecenter-table" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'<form class="vertical">\n    <div class="filter-row container layout-mt filter-block clearfix">\n        <div class="filter-item col-sm-3">\n            <span>MIS编号</span>\n            <input class="input" name="MIScode"/>\n        </div>\n        <div class="filter-item col-sm-3">\n            <span>班级名称</span>\n            <input class="input" name="className"/>\n        </div>\n        <div class="filter-item col-sm-3">\n            <span>班级状态</span>\n            <select id="classStatus" class="input" name="classStatus" x-marker="selectize">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.classStatus:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'            </select>\n        </div>\n        <div class="filter-item col-sm-3">\n            <button id="search" class="btn">查询</button>\n        </div>\n    </div>\n</form>'},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <option value="'+o((l=null!=(l=a.key||(null!=n?n.key:n))?l:r,"function"==typeof l?l.call(s,{name:"key",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.value||(null!=n?n.value:n))?l:r,"function"==typeof l?l.call(s,{name:"value",hash:{},data:i}):l))+"</option>\n"},6:function(e,n,a,t,i){var l;return'    <div class="container">\n        <table class="table train-table">\n            <thead><tr>\n                <th>MIS编号</th>\n                <th>培训班名称</th>\n                <th>计划人数</th>\n                <th>已报名人数</th>\n                <th>主办单位</th>\n                <th>主办单位联系人</th>\n                <th>联系电话</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.classinfos:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.program(13,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n        <div id="pager" class="pagination"></div>\n    </div>\n'},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'<tr>\n                <td><span title="'+c((s=null!=(s=a.codes||(null!=n?n.codes:n))?s:o,typeof s===d?s.call(r,{name:"codes",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.code||(null!=n?n.code:n))?s:o,typeof s===d?s.call(r,{name:"code",hash:{},data:i}):s))+'</span></td>\n                <td><span title="'+c((s=null!=(s=a.classNames||(null!=n?n.classNames:n))?s:o,typeof s===d?s.call(r,{name:"classNames",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.className||(null!=n?n.className:n))?s:o,typeof s===d?s.call(r,{name:"className",hash:{},data:i}):s))+"</span></td>\n                <td>"+c((s=null!=(s=a.amount||(null!=n?n.amount:n))?s:o,typeof s===d?s.call(r,{name:"amount",hash:{},data:i}):s))+"</td>\n                <td>"+c((s=null!=(s=a.traineeNum||(null!=n?n.traineeNum:n))?s:o,typeof s===d?s.call(r,{name:"traineeNum",hash:{},data:i}):s))+'</td>\n                <td><span title="'+c((s=null!=(s=a.organizations||(null!=n?n.organizations:n))?s:o,typeof s===d?s.call(r,{name:"organizations",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.organization||(null!=n?n.organization:n))?s:o,typeof s===d?s.call(r,{name:"organization",hash:{},data:i}):s))+'</span></td>\n                <td><span title="'+c((s=null!=(s=a.contactPeoples||(null!=n?n.contactPeoples:n))?s:o,typeof s===d?s.call(r,{name:"contactPeoples",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.contactPeople||(null!=n?n.contactPeople:n))?s:o,typeof s===d?s.call(r,{name:"contactPeople",hash:{},data:i}):s))+"</span></td>\n                <td>"+c((s=null!=(s=a.contactPhone||(null!=n?n.contactPhone:n))?s:o,typeof s===d?s.call(r,{name:"contactPhone",hash:{},data:i}):s))+'</td>\n                <td>\n                    <a class="decoration-none" id="trainees'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-status="'+c((s=null!=(s=a.status||(null!=n?n.status:n))?s:o,typeof s===d?s.call(r,{name:"status",hash:{},data:i}):s))+'">学员</a>\n                    <span class="sub-title">|</span>\n                    <a class="decoration-none" id="organizations'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">单位</a>\n                    <span class="sub-title">|</span>\n                    <a class="decoration-none" id="pagers'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">问卷</a>\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.notice:n,"eq",1,{name:"compare",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'                    <span class="sub-title">|</span>\n                    <a class="decoration-none" href="#/train/response/schedule/'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+"/"+c((s=null!=(s=a.projectId||(null!=n?n.projectId:n))?s:o,typeof s===d?s.call(r,{name:"projectId",hash:{},data:i}):s))+'" target="_blank">班级信息</a>\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.arriveDate:n,"ge",15575904e5,{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},8:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <span class="sub-title">|</span>\n                        <a class="decoration-none" href="#/train/response/notice/'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+"/"+o((l=null!=(l=a.projectId||(null!=n?n.projectId:n))?l:r,"function"==typeof l?l.call(s,{name:"projectId",hash:{},data:i}):l))+"\" target=\"_blank\">报名链接</a>\n                        \x3c!--  a.decoration-none(id='notice'+id data-name='id' data-value=id data-project=projectId) > echo('报名链接') --\x3e\n"},10:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.questionaryId:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:""},11:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <span class="sub-title">|</span>\n                            <a class="decoration-none" id="statistic-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+"&"+o((l=null!=(l=a.questionaryId||(null!=n?n.questionaryId:n))?l:r,"function"==typeof l?l.call(s,{name:"questionaryId",hash:{},data:i}):l))+'">统计</a>\n'},13:function(e,n,a,t,i){return'                    <tr><td colspan="8"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n                </td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(3,i,0),
inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/response/trainees/index",function(e,n,a){a.items={main:"main",search:"search"},a.large=!0,a.title="班级学员",a.store={models:{state:{},trainees:{url:"../train/trainee/response-trainees",type:"pageable",root:"items"},deltrainee:{url:"../train/trainee/response"},nowTime:{url:"../system/setting/time",autoLoad:"after"}},callbacks:{init:function(e){var n=this.models.trainees,a=this.models.state;return a.clear(),a.data=e,n.params={classId:e.classId},this.get(n)},search:function(e){var n=this.models.trainees;return n.params=e,this.get(n)},delete:function(e){var n=this.models.deltrainee,a=this.models.state.data.classId,t={},i=this;return n.clear(),t.classId=a,t.id=e.id,n.set(t),this.post(n).then(function(e){var n=e[0],a=i.models.state.data;1===n&&(i.app.message.success("删除成功"),i.module.dispatch("init",a))})}}},a.beforeRender=function(){this.dispatch("init",{classId:this.renderOptions.classId,status:this.renderOptions.status})}},{}),loadjs.d("./app/train/response/trainees/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="student-page student">\n    <div class="div" data-region="search"></div>\n    <div class="div" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'<form class="vertical">\n    <div class="filter-row filter-block clearfix">\n        <div class="filter-item col-sm-3">\n            <label>姓名</label>\n            <input class="input" name="memberFullName"/>\n        </div>\n        <div class="filter-item col-sm-3">\n            <label>单位</label>\n            <div id="class-organization" class="inline-block" style="width:201px"></div>\n        </div>\n        <div class="filter-item col-sm-3">\n            <label>状态</label>\n            <select id="auditStatus" class="input" name="auditStatus" x-marker="selectize">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.auditStatus:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'            </select>\n        </div>\n        <div class="filter-item col-sm-3">\n            <button id="search" class="btn">查询</button>\n        </div>\n    </div>\n</form>'},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <option value="'+o((l=null!=(l=a.key||(null!=n?n.key:n))?l:r,"function"==typeof l?l.call(s,{name:"key",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.value||(null!=n?n.value:n))?l:r,"function"==typeof l?l.call(s,{name:"value",hash:{},data:i}):l))+"</option>\n"},6:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <table class="table layout-mt-small">\n        <thead><tr>\n            <th>序号</th>\n            <th>姓名</th>\n            <th>账号</th>\n            <th>机构</th>\n            <th>部门</th>\n            <th>职务</th>\n            <th>手机</th>\n            <th>邮箱</th>\n            <th>状态</th>\n            <th>操作</th>\n        </tr></thead>\n        <tbody>\n            '+(null!=(l=a.each.call(s,null!=n?n.waitAudit:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"\n            "+(null!=(l=a.each.call(s,null!=n?n.other:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=a.if.call(s,null!=n?n.show:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+'        </tbody>\n    </table>\n    <div id="pager" class="pagination"></div>\n'},7:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression,d=null!=n?n:{},c=a.helperMissing;return"<tr>\n                <td>-</td>\n                <td>"+o(r(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                <td>"+o(r(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n                <td>"+o((s=null!=(s=a.companyName||(null!=n?n.companyName:n))?s:c,"function"==typeof s?s.call(d,{name:"companyName",hash:{},data:i}):s))+"</td>\n                <td>"+o((s=null!=(s=a.organizationName||(null!=n?n.organizationName:n))?s:c,"function"==typeof s?s.call(d,{name:"organizationName",hash:{},data:i}):s))+"</td>\n                <td>"+o(r(null!=(l=null!=n?n.member:n)?l.jobName:l,n))+"</td>\n                <td>"+o((s=null!=(s=a.phoneNumber||(null!=n?n.phoneNumber:n))?s:c,"function"==typeof s?s.call(d,{name:"phoneNumber",hash:{},data:i}):s))+"</td>\n                <td>"+o((s=null!=(s=a.email||(null!=n?n.email:n))?s:c,"function"==typeof s?s.call(d,{name:"email",hash:{},data:i}):s))+"</td>\n                <td>"+o((a.map||n&&n.map||c).call(d,"trainee-show-auditStatus",null!=n?n.auditStatus:n,{name:"map",hash:{},data:i}))+"</td>\n            </tr>"},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return"<tr>\n                <td>"+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                <td>"+c(u(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                <td>"+c(u(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n                <td>"+c((s=null!=(s=a.companyName||(null!=n?n.companyName:n))?s:o,typeof s===d?s.call(r,{name:"companyName",hash:{},data:i}):s))+"</td>\n                <td>"+c((s=null!=(s=a.organizationName||(null!=n?n.organizationName:n))?s:o,typeof s===d?s.call(r,{name:"organizationName",hash:{},data:i}):s))+"</td>\n                <td>"+c(u(null!=(l=null!=n?n.member:n)?l.jobName:l,n))+"</td>\n                <td>"+c((s=null!=(s=a.phoneNumber||(null!=n?n.phoneNumber:n))?s:o,typeof s===d?s.call(r,{name:"phoneNumber",hash:{},data:i}):s))+"</td>\n                <td>"+c((s=null!=(s=a.email||(null!=n?n.email:n))?s:o,typeof s===d?s.call(r,{name:"email",hash:{},data:i}):s))+"</td>\n                <td>"+c((a.map||n&&n.map||o).call(r,"trainee-show-auditStatus",null!=n?n.auditStatus:n,{name:"map",hash:{},data:i}))+"</td>\n                <td>\n"+(null!=(l=a.if.call(r,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+"                </td>\n            </tr>"},10:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.auditStatus:n,"eq",1,{name:"compare",hash:{},fn:e.program(11,i,0),inverse:e.program(13,i,0),data:i}))?l:""},11:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <a id="delete'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">删除</a>\n'},13:function(e,n,a,t,i){return"                            -\n"},15:function(e,n,a,t,i){return"                        -\n"},17:function(e,n,a,t,i){return'                <tr><td colspan="10"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容            </p>\n                </div>\n                </td></tr>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/response/trainees/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={trainees:!0,nowTime:!1,state:!1},a.components=[{id:"pager",name:"pager",options:{model:"trainees"}}],a.actions={"click delete*":"delete"},a.dataForActions={delete:function(e){var n=this;return this.Promise.create(function(a){n.app.message.confirm("学员被删除后将无法恢复，是否确定删除该学员？",function(){n.module.dispatch("delete",e)},function(){a(!1)})})}},a.actionCallbacks={delete:function(){var e=this.bindings.state.data;this.app.message.success("删除成功!"),this.module.dispatch("init",e)}},a.dataForTemplate={waitAudit:function(e){var n=e.trainees,a=[];return t.map(n||[],function(e){var n=e;n.newCompany&&(n.companyName=n.newCompany),0===n.auditStatus&&a.push(n)}),a},other:function(e){var n=e.trainees,a=this.bindings.trainees.getPageInfo().page,i=[],l=this.bindings.state.data.status;return t.map(n||[],function(e){var n=e;0!==n.auditStatus&&i.push(n)}),t.map(i||[],function(e,n){var t=e;t.i=n+1+10*(a-1),t.newCompany&&(t.companyName=t.newCompany),t.flag="1"===l}),i},show:function(e){var n=e.trainees.length,a=!0;return n>0&&(a=!1),a}}},{"lodash/collection":!1}),loadjs.d("./app/train/response/trainees/view-search",function(e,n,a){var t=e("jquery"),i=e("./app/util/maps"),l=e("lodash/collection");a.bindings={state:!1},a.actions={"click search":"search"},a.dataForActions={search:function(){var e={classId:this.bindings.state.data.classId,auditStatus:t(this.$$('[name="auditStatus"]')).val(),memberFullName:t(this.$$('[name="memberFullName"]')).val(),organizationId:t(this.$$('[name="organizationId"]')).val()};return l.forEach(e,function(n,a){"auditStatus"===a&&"999"===n&&(e.auditStatus="")}),e}},a.dataForTemplate={auditStatus:function(){var e=i.get("trainee-response-auditStatus").sort(function(e,n){return Number(e.key)-Number(n.key)});return e.unshift({key:"999",value:"全部"}),e}},a.components=[{id:"class-organization",name:"picker",options:{module:"train/class-info",picker:"owner",inputName:"organizationId"}}]},{"./app/util/maps":"./app/util/maps",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/response/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={classinfos:!0},a.components=[{id:"pager",name:"pager",options:{model:"classinfos"}}],a.dataForTemplate={classinfos:function(e){return t.map(e.classinfos||[],function(e){var n=e;n.codes=n.code,n.classNames=n.className,n.organizations=n.organization,n.contactPeoples=n.contactPeople,n.code&&n.code.length>12&&(n.code=n.code.substring(0,11)+"..."),n.className&&n.className.length>12&&(n.className=n.className.substring(0,11)+"..."),n.organization&&n.organization.length>12&&(n.organization=n.organization.substring(0,11)+"..."),n.contactPeople&&n.contactPeople.length>12&&(n.contactPeople=n.contactPeople.substring(0,11)+"..."),n.traineeNum||(n.traineeNum=0),1===n.notice&&(n.role="response")}),e.classinfos}},a.events={"click trainees*":"showTrainees","click organizations*":"showOrganizations","click pagers*":"showPapers","click notice*":"showNotice","click statistic-*":"showStatistic"},a.handlers={showTrainees:function(e,n,a){var t=a.getAttribute("data-status"),i=this.module.items["train/response/trainees"];this.app.viewport.modal(i,{classId:e,status:t})},showOrganizations:function(e){var n=this.module.items["train/response/organizations"];this.app.viewport.modal(n,{classId:e})},showPapers:function(e){var n=this.module.items["train/response/papers"];this.app.viewport.modal(n,{classId:e})},showNotice:function(e,n,a){var t=a.getAttribute("data-project"),i=this.module.items["train/response/notice"];this.app.viewport.modal(i,{classId:e,proId:t})},showStatistic:function(e){var n=this,a=window.open(),t=e.split("&")[0],i=e.split("&")[1],l="#/train/statistics/questionnaire/count-new/response/"+t+"/"+i;this.module.dispatch("faceCourseNum",{classId:t}).then(function(e){return e[0]&&0!==e[0]?(a.location=l,!0):(n.app.message.error("班级还没有面授课程，请联系班主任添加面授课程"),a.close(),!1)})}}},{"lodash/collection":!1}),loadjs.d("./app/train/response/view-search",function(e,n,a){var t=e("./app/util/maps"),i=e("jquery"),l=e("lodash/collection");a.actions={"click search":"search"},a.dataForActions={search:function(){var e={MIScode:i(this.$$('[name="MIScode"]')).val().trim(),className:i(this.$$('[name="className"]')).val().trim(),classStatus:i(this.$$('[name="classStatus"]')).val().trim()};return l.forEach(e,function(n,a){"classStatus"===a&&"999"===n&&(e.classStatus="")}),e}},a.dataForTemplate={classStatus:function(){var e=t.get("classinfo-status").sort(function(e,n){return Number(e.key)-Number(n.key)});return e.unshift({key:"999",value:"全部"}),e}}},{"./app/util/maps":"./app/util/maps",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/service/affiche/index",function(e,n,a){a.items={content:"content"},a.store={models:{detail:{url:"../train/class-detail/find"},save:{url:"../train/class-detail"},stateTest:{mixin:{isRichText:function(e){return/<[^>]+>/g.test(e)||/&nbsp;/gi.test(e)}}},state:{data:{}},img:{url:"../system/file/upload"}},callbacks:{init:function(e){var n=this.models.detail;return n.params={classId:e.classId},this.models.state.data.classId=e.classId,this.models.state.data.role=e.role,this.get(n,{loading:!0})},saveBulletin:function(e){var n=this.models.save,a=e,t=this;return a.classId=this.models.state.data.classId,n.set(a),t.save(n)}}},a.beforeRender=function(){var e=this.renderOptions.state;return this.dispatch("init",{classId:e.classId,role:e.role})}},{}),loadjs.d("./app/train/service/affiche/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="managements-page">\n    <div class="classmanage" data-region="content"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'<form class="vertical">\n    <div class="container">\n        <div class="managements-page layout-mt"><div class="classinfo">\n            <div class="form">\n                <div class="form-row special">\n                    <label class="label strong">是否显示排行榜：</label>\n                    <div class="content">\n                        <input '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.detail:n)?l.type:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' id="detail_1" name="detail" type="radio" value="1"/>\n                        <label class="layout-mr">是</label>\n                        <input '+(null!=(l=a.unless.call(s,null!=(l=null!=n?n.detail:n)?l.type:l,{name:"unless",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' id="detail_0" name="detail" type="radio" value="0"/>\n                        <label class="layout-mr">否</label>\n                    </div>\n                </div>\n'+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=(l=null!=n?n.detail:n)?l.showRanking:l,"eq",1,{name:"compare",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'                <div class="form-row special">\n                    <label class="label strong">班级公告：</label>\n                    <div class="content col-sm-8">\n                        <textarea id="notice" class="m-top input" name="notice" x-rule="maxLength:3000" value="'+o(r(null!=(l=null!=n?n.detail:n)?l.notice:l,n))+'" x-marker="rich-text" x-target="content">'+o(r(null!=(l=null!=n?n.detail:n)?l.notice:l,n))+'</textarea>\n                        <input class="input" type="hidden" name="id" value="'+o(r(null!=(l=null!=n?n.detail:n)?l.id:l,n))+'"/>\n                        <input class="input" type="hidden" name="showRanking" value="'+o(r(null!=(l=null!=n?n.detail:n)?l.showRanking:l,n))+'"/>\n                    </div>\n                </div>\n            </div>\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"        </div></div>\n    </div>\n</form>"},4:function(e,n,a,t,i){return' checked="checked"'},6:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                    <div class="form-row special">\n                        <label class="label strong">显示规则：</label>\n                        <div class="content">\n                            <select class="input w-half" name="rankingRule">\n                                <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.detail:n)?l.rankingRule:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="0">显示全部</option>\n                                <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.detail:n)?l.rankingRule:l,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">显示前十名</option>\n                            </select>\n                        </div>\n                    </div>\n'},7:function(e,n,a,t,i){return' selected="selected"'},9:function(e,n,a,t,i){return'                <div class="text-center">\n                    <div id="saveBulletin" class="btn layout-mt-small layout-mb-small">保存</div>\n                </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/affiche/view-content",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/validators"),l=e("./app/ext/views/form/markers");a.bindings={img:!0,detail:!0,state:!1},a.components=[{id:"notice",name:"rich-text",options:{model:"img",items:["justifyleft","|","justifycenter","|","justifyright"]}}],a.dataForTemplate={rankingRule:function(){return t(this.$("rankingRule")).val()},detail:function(e){var n=e.detail;return n.type=!1,1===n.showRanking&&(n.type=!0),n},isGrant:function(){return 4!==this.bindings.state.data.role}},a.events={"click detail_*":"en"},a.handlers={en:function(e,n,a){var t=a.getAttribute("value"),i=this.bindings.detail,l=this.components.notice.text();i.data.showRanking=parseInt(t,10),i.data.notice=l,this.bindings.detail.changed()}},a.actions={"click saveBulletin":"saveBulletin"},a.dataForActions={saveBulletin:function(e){var n=this.components.notice.html(),a=this.components.notice.text(),s=e,r=t(this.$("notice")),o=!0;return s.notice=n,s.noticeText=a,l.text.valid(r),i.maxLength.fn(a,3e3)||(o=!1,l.text.invalid(r,"最大长度为3000")),o?(this.app.message.success("保存成功！"),s):o}},a.actionCallbacks={saveBulletin:function(){}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/service/album/index",function(e,n,a){var t=e("lodash/collection");a.title="相册",a.items={pannel:"pannel",upload:""},a.store={models:{photo:{url:"../train/album/photo"},classPhoto:{url:"../train/album/photo"},deletePnoto:{url:"../train/album/photo"},updatePhoto:{url:"../train/album/update-photo"},img:{url:"../human/file/upload"},download:{url:"../file-deal/file/download"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.photo,a=e.classId;return this.models.state.data.classId=e.classId,this.models.state.data.role=e.role,n.params={classId:a},this.get(n,{loading:!0})},addFile:function(e){var n=this.models.photo,a=this.models.classPhoto,i=this.models.state.data,l=this,s=[];return t.forEach(e||[],function(e){var n=e;n.id="photo-"+(new Date).getTime(),s.push(n)}),a.set({classId:i.classId,photos:JSON.stringify(s)}),l.save(a).then(function(){n.clear(),n.params={classId:i.classId},l.get(n)})},remove:function(e){var n=this.models.deletePnoto,a=this.models.state.data.classId;return n.set({ids:e.join(","),classId:a}),this.put(n)},update:function(e){var n=this.models.updatePhoto;return n.set(e),this.put(n)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions.state)}},{"lodash/collection":!1}),loadjs.d("./app/train/service/album/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="managements-page">\n    <div class="classmanage" data-region="pannel"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="container">\n        <section class="section">\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'            <div class="photos">\n                <ul>\n'+(null!=(l=a.each.call(s,null!=n?n.photo:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+"                </ul>\n            </div>\n        </section>\n    </div>\n"},4:function(e,n,a,t,i){return'                <div id="upload" class="btn small m-right pointer">上传照片</div>\n                <div id="remove" class="btn small pointer">删除</div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                        <li id="img-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">\n                            <div class="photo-item" style="background-image: url('+c((s=null!=(s=a.imageUrl||(null!=n?n.imageUrl:n))?s:o,typeof s===d?s.call(r,{name:"imageUrl",hash:{},data:i}):s))+');">\n                                <img src="'+c((s=null!=(s=a.imageUrl||(null!=n?n.imageUrl:n))?s:o,typeof s===d?s.call(r,{name:"imageUrl",hash:{},data:i}):s))+'" style="opacity:0;"/>\n                                <input class="check pointer" type="checkbox" name="photoChecked" id="photo-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                            </div>\n                            <div class="text-center m-top">\n'+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+"                            </div>\n                        </li>\n"},7:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <input class="sub-title small-font border" id="name-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" value="'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'"/>\n'},9:function(e,n,a,t,i){var l;return'                                    <input class="sub-title small-font border" value="'+e.escapeExpression((l=null!=(l=a.name||(null!=n?n.name:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"name",hash:{},data:i}):l))+'"/>\n'},11:function(e,n,a,t,i){return'                        <div class="text-center">\n                            <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                            <div>暂无内容</div>\n                        </div>\n'},13:function(e,n,a,t,i){return'    <div id="uploader"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"pannel",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"upload",{name:"view",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/album/view-pannel",function(e,n,a){var t=e("lodash/collection");a.bindings={photo:!0,download:!1,state:!0},a.events={"click upload":"uploadPhoto","click remove":"removePhoto","change name-*":"update"},a.handlers={uploadPhoto:function(){var e=this.module.items.upload;this.app.viewport.modal(e)},removePhoto:function(){var e=this,n=t.map(this.$$('input[name="photoChecked"]:checked'),"value");0===n.length?this.app.message.error("请选择要删除的数据"):this.module.dispatch("remove",n).then(function(){e.app.message.success("删除成功"),e.module.dispatch("init",{classId:e.bindings.state.data.classId})})},update:function(e,n,a){var t=a.value,i=this;if(""!==t&&t.length>100)return void i.app.message.error("名称过长，最大长度为100个字符");this.module.dispatch("update",{id:e,name:t}).then(function(){i.app.message.success("修改成功")})}},a.dataForTemplate={photo:function(e){var n=e.photo,a=this.bindings.state.data;return t.map(n,function(e){var n=e;return n.imageUrl=n.thumbnailPath,n.isGrant=4!==a.role,n}),n},isGrant:function(){return 4!==this.bindings.state.data.role}},a.actionCallbacks={removePhoto:function(){}}},{"lodash/collection":!1}),loadjs.d("./app/train/service/album/view-upload",function(e,n,a){var t=e("lodash/collection");a.title="照片上传",a.bindings={img:"changeFile",state:!0},a.components=function(){return[{id:"uploader",name:"uploader",options:{model:"img",resize:{crop:!1},signle_file:!1,multi_selection:!0,multipart_params:{cutSize:"200,200"}}}]},a.changeFile=function(){var e=this.components.uploader,n=e.files.length,a=this.bindings.img.data.imgs,i=t.map(a,function(e){return{attachmentId:e.id,path:e.path,name:e.filename,thumbnailId:e.thumbnailId,thumbnailPath:e.thumbnailPath}});this.module.dispatch("addFile",i),e.uploadCount+=1,e.uploadCount>=n&&this.app.viewport.closeModal()},a.afterRender=function(){this.components.uploader.uploadCount=0}},{"lodash/collection":!1}),loadjs.d("./app/train/service/bus/bus-detail/index",function(e,n,a){a.items={main:"main",option:"option",count:"count"},a.title="班车信息统计",a.large=!0,a.store={models:{busDetail:{url:"../train/bus-detail/bus-detail"},busOption:{url:"../train/bus-detail/option"},busOne:{url:"../train/bus-detail/one"},export:{url:"../train/bus-detail/download"},findByBusId:{url:"../train/bus-value/findByOption"},state:{data:{}}},callbacks:{export:function(){var e=this.models.search.getQueryParams();this.models.export.params=e,this.get(this.models.export)},init:function(e){var n=this.models.busDetail,a=this.models.busOne,t=this.models.busOption,i=this.models.findByBusId,l=this.models.state.data;return n.params=e,a.params.id=e.id,t.params.id=e.id,l.busId=e.id,l.classId=e.classId,a.clear(),this.get(a),t.clear(),this.get(t),i.params.busId=e.id,this.get(i),this.get(n)},search:function(e){var n=this.models.busDetail,a=this.models.state.data.id;return n.params=e,n.params.id=a,this.get(n)},refreshList:function(e){var n=this.models.busDetail;n.clear(),n.params=e,this.get(n)},busDetail:function(e){var n=this.models.busDetail,a=this.models.busOne,t=this.models.busOption,i=this.models.findByBusId;return n.params=e,a.params.id=e.id,t.params.id=e.id,a.clear(),this.get(a),t.clear(),this.get(t),i.params.busId=e.id,this.get(i),this.get(n)}}},a.beforeRender=function(){this.store.models.state.data.id=this.renderOptions.id,this.dispatch("init",{id:this.renderOptions.id,classId:this.renderOptions.classId})}},{}),loadjs.d("./app/train/service/bus/bus-detail/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-modalheight"><div class="train-class-page">\n    <div class="page-main-wrapper">\n        <div class="activity-category">\n            <div class="div" data-region="count"></div>\n            <div class="count-page" data-region="option"></div>\n            <div class="div activity-page" data-region="main"></div>\n        </div>\n    </div>\n</div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.escapeExpression,r=null!=n?n:{},o=a.helperMissing;return'<form class="vertical">\n    <div class="count-title clearfix">\n        <div class="count-title-item layout-mr pull-left">\n            <span>统计名称：</span>\n            <span>'+s(e.lambda(null!=(l=null!=n?n.busOne:n)?l.name:l,n))+'</span>\n        </div>\n        <div class="count-title-item m-top pull-right">\n            <span>统计时间：</span>\n            <span>'+s((a.dateMinute||n&&n.dateMinute||o).call(r,null!=(l=null!=n?n.busOne:n)?l.startTime:l,{name:"dateMinute",hash:{},data:i}))+" 至 "+s((a.dateMinute||n&&n.dateMinute||o).call(r,null!=(l=null!=n?n.busOne:n)?l.endTime:l,{name:"dateMinute",hash:{},data:i}))+"</span>\n        </div>\n    </div>\n</form>"},5:function(e,n,a,t,i){var l;return'    <div class="count-sub clearfix layout-mt-small bg-color-3">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.busOption:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'            <div class="count-sub-item pull-left m-bottom layout-mr m-top text-center">\n                <span style="margin-right: .3em">'+o((l=null!=(l=a.optionName||(null!=n?n.optionName:n))?l:r,"function"==typeof l?l.call(s,{name:"optionName",hash:{},data:i}):l))+'</span>\n                <span style="margin-right: .3em">:</span>\n                <span>'+o((l=null!=(l=a.count||(null!=n?n.count:n))?l:r,"function"==typeof l?l.call(s,{name:"count",hash:{},data:i}):l))+"人</span>\n            </div>\n"},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'    <div class="count-search clearfix layout-mt-small">\n        <div class="pull-right form">\n            <div class="buttons">\n                <div class="pull-left input-height m-right">登记信息</div>\n                <select id="options" class="pull-left m-right" name="findByBusId" style="width:22em;">\n'+(null!=(l=a.each.call(r,null!=n?n.findByBusId:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+'                </select>\n                <div id="findBusId" class="btn pull-left m-right"><span>查询</span></div>\n                <a class="pull-right" href="'+e.escapeExpression((s=null!=(s=a.exportUrl||(null!=n?n.exportUrl:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"exportUrl",hash:{},data:i}):s))+'"><div class="btn"><span>导出</span></div></a>\n            </div>\n        </div>\n    </div>\n    <div class="count-table layout-mt-small">\n        <table class="table text-center train border around">\n            <thead><tr>\n                <th>序号</th>\n                <th>员工姓名</th>\n                <th>员工电话</th>\n                <th>登记信息</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(r,null!=n?n.busDetail:n,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.program(14,i,0),data:i}))?l:"")+"</tbody>\n        </table>\n    </div>\n    \x3c!--  #pager.pagination --\x3e\n"},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                        <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</option>\n"},10:function(e,n,a,t,i){return' selected="selected"'},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return"<tr>\n                <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                <td>"+d(c(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                <td>"+d(c(null!=(l=null!=n?n.member:n)?l.phoneNumber:l,n))+"</td>\n                <td>"+d((s=null!=(s=a.option||(null!=n?n.option:n))?s:o,"function"==typeof s?s.call(r,{name:"option",hash:{},data:i}):s))+"\n"},14:function(e,n,a,t,i){
return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr></td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"count",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"option",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/bus/bus-detail/view-count",function(e,n,a){a.bindings={busOne:!0},a.dataForTemplate={busOne:function(e){return e.busOne}}},{}),loadjs.d("./app/train/service/bus/bus-detail/view-main",function(e,n,a){var t=e("lodash/collection");a.type="dynamic",a.bindings={busDetail:!0,export:!1,findByBusId:!0,state:!0},a.events={"click options":"busOption"},a.handlers={busOption:function(){}},a.actions={"click findBusId":"busDetail"},a.dataForActions={busDetail:function(){var e=this.$("options").value,n=this.bindings.state,a=n.data.id,t={id:a,name:e,classId:n.data.classId};return n.data.name=e,t}},a.dataForTemplate={busDetail:function(e){var n=e.busDetail;return t.map(n||[],function(e,n){e.i=n+1}),n},exportUrl:function(){var e=this.bindings.export.getFullUrl()+"?",n=this.bindings.busDetail.params,a=this.app.global.OAuth.token.access_token;return t.map(n,function(n,a){e+=a+"="+n+"&"}),e+="access_token="+a},busOption:function(){return this.bindings.findByBusId.data},findByBusId:function(){var e=this.bindings.findByBusId,n=this.bindings.state;return t.map(e.data,function(e){var a=e;a.id===n.data.name&&(a.selected=!0)}),e.data}}},{"lodash/collection":!1}),loadjs.d("./app/train/service/bus/bus-detail/view-option",function(e,n,a){a.bindings={busOption:!0},a.events={},a.handlers={},a.actions={},a.dataForActions={},a.actionCallBacks={},a.dataForTemplate={busOption:function(e){return e.busOption}}},{}),loadjs.d("./app/train/service/bus/index",function(e,n,a){var t=e("drizzle-zxy");a.items={main:"main",edit:"","train/service/bus/bus-detail":{isModule:!0}},a.store={models:{buss:{url:"../train/bus/buss",type:"pageable",root:"items"},bus:{url:"../train/bus"},publish:{url:"../train/bus/publish"},undo:{url:"../train/bus/undo"},optionList:{url:"../train/bus-value",data:[]},optionModel:{url:"../train/bus-value"},classInfo:{url:"../train/class-info/get"},findByMaxTime:{url:"../train/offline-course/find-by-max-time"},state:{data:{}},delOptionList:{data:[]}},callbacks:{init:function(e){var n=this.models.buss,a=this.models.state;return n.clear(),a.data.classId=e.classId,a.data.role=e.role,a.changed(),n.params=a.data,this.get(n,{loading:!0})},getClassInfo:function(){var e=this.models.classInfo,n=this.models.state;return e.params={id:n.data.classId},e.clear(),this.get(e)},editBus:function(e){var n=this.models.bus,a=this.models.optionList;n.params=e,n.clear(),this.get(n).then(function(e){a.data=e[0].optionList,a.changed()})},publish:function(e){return this.models.publish.set(e),this.put(this.models.publish)},undo:function(e){return this.models.undo.set(e),this.put(this.models.undo)},addOption:function(e){var n,a=this.models.optionList.data,t=this.models.state,i={};n=t.data.index||a.length,n++,i.id="new-"+n,i.name=e,i.flag=n,a.push(i),this.models.optionList.changed(),t.data.index=n,t.changed()},delOption:function(e){var n,a=this.models.optionList.data,t=this.models.delOptionList.data,i={};n=a.findIndex(function(n){return n.id===e}),a.splice(n,1),this.models.optionList.changed(),i.id=e,t.push(i)},moveUp:function(e){var n,a,t,i=this.models.optionList.data;(a=i.findIndex(function(n){return n.id===e}))<=0||(n=i[a],t=i[a-1].flag,i[a]=i[a-1],i[a].flag=n.flag,i[a-1]=n,i[a-1].flag=t,this.models.optionList.changed())},moveDown:function(e){var n,a,t,i=this.models.optionList.data;(a=i.findIndex(function(n){return n.id===e}))>=i.length-1||(n=i[a],t=i[a+1].flag,i[a]=i[a+1],i[a].flag=n.flag,i[a+1]=n,i[a+1].flag=t,this.models.optionList.changed())},saveOption:function(){var e=this.models.optionList,n=this.models.delOptionList,a=this.models.optionModel,i=this.models.bus;return a.clear(),t.assign(i.data,{optionList:JSON.stringify(e.data),delOptionList:JSON.stringify(n.data)}),this.save(i)},updateName:function(e){var n,a,t=this.models.optionList.data;a=t.findIndex(function(n){return n.id===e.id}),n=t[a],n.name=e.name,n.explain=e.explain,this.models.optionList.changed()},updateExplain:function(e){var n,a,t=this.models.optionList.data;a=t.findIndex(function(n){return n.id===e.id}),n=t[a],n.explain=e.explain,this.models.optionList.changed()},remove:function(e){var n=this.models.bus,a=this.models.buss,t=this;n.set(e),this.del(n).then(function(){t.app.message.success("删除成功"),t.get(a)})}}},a.beforeRender=function(){var e=this.renderOptions.state;return this.dispatch("init",{classId:e.classId,role:e.role})}},{"drizzle-zxy":!1}),loadjs.d("./app/train/service/bus/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="addcarinfo-page">\n        <div class="div" data-region="main"></div>\n    </div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <section>\n        <div class="clearfix m-top">\n            <div class="h4 pull-left m-left">班车/订餐信息</div>\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'        </div>\n        <table class="table text-center train border around margin-none">\n            <thead><tr>\n                <th>主题</th>\n                <th>发布日期</th>\n                <th>截止日期</th>\n                <th>状态</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>\n'+(null!=(l=a.each.call(s,null!=n?n.buss:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(14,i,0),data:i}))?l:"")+"            </tbody>\n        </table>\n    </section>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=n?n.pageCount:n,"gt",1,{name:"compare",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")},4:function(e,n,a,t,i){return'                <div id="addBus" class="small-btn pull-right m-right">\n                    +添加\n                </div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                    <tr>\n                        <td>"+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                        <td>"+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+"</td>\n                        <td>"+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+"</td>\n                        <td>"+d((a.map||n&&n.map||o).call(r,"train-bus-state",null!=n?n.state:n,{name:"map",hash:{},data:i}))+'</td>\n                        <td class="operation">\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.state:n,"eq",0,{name:"compare",hash:{},fn:e.program(7,i,0),inverse:e.program(12,i,0),data:i}))?l:"")+"                        </td>\n                    </tr>\n"},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'                                <a id="count'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">统计</a>\n'+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},8:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <a id="edit'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">编辑</a>\n                                     | \n'},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                     | \n                                    <a id="remove'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">删除</a>\n'},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                <a id="count'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">统计</a>\n'+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},14:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n'},16:function(e,n,a,t,i){return'        <div id="pager" class="pagination" style="margin:1em;"></div>\n'},18:function(e,n,a,t,i){var l,s=e.escapeExpression,r=null!=n?n:{},o=a.helperMissing;return'<form class="vertical"><div class="addcarinfo-page"><div class="addcarinfo-content">\n    <div class="form align-left">\n        <div class="form-row">\n            <label class="required">统计主题</label>\n            <div class="content">\n                <input id="name" class="input" name="name" x-rule="maxLength:20required" maxlength="20" value="'+s(e.lambda(null!=(l=null!=n?n.bus:n)?l.name:l,n))+'"/>\n                <div class="tips">0/20</div>\n            </div>\n        </div>\n        <div class="clearfix">\n            <div class="form-row pull-left w-half addcarinfo-padding">\n                <label class="required">开始时间</label>\n                <div class="content">\n                    <input id="startTime" class="input" name="startTime" value="'+s((a.dateTime||n&&n.dateTime||o).call(r,null!=(l=null!=n?n.bus:n)?l.startTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n                </div>\n            </div>\n            <div class="form-row pull-left w-half">\n                <label class="label required" style="width: 8em; text-align: center;">结束时间</label>\n                <div class="content">\n                    <input id="endTime" class="input" name="endTime" value="'+s((a.dateTime||n&&n.dateTime||o).call(r,null!=(l=null!=n?n.bus:n)?l.endTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n                </div>\n            </div>\n        </div>\n    </div>\n    <ul>\n'+(null!=(l=a.each.call(r,null!=n?n.optionList:n,{name:"each",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+'        <div class="row text-center">\n            <a id="addOption" class="btn layout-mt-small layout-mb-small">添加</a>\n        </div>\n    </ul>\n</div>\n</div>\n</form>'},19:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'            <li>\n                <div class="addcarinfo-item border around inline-block m-right m-top">\n                    <label class="small-font border bottom s-padding strong" id="label-option-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'</label>\n                    <input class="small-font border bottom s-padding strong" id="input-option-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" x-rule="maxLength:20" maxlength="20" value="'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                    <br/>\n                    <textarea class="sub-text small-font w-full overflow-x" id="input-explain-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" maxlength="30" value="'+c((s=null!=(s=a.explain||(null!=n?n.explain:n))?s:o,typeof s===d?s.call(r,{name:"explain",hash:{},data:i}):s))+'" placeholder="说明内容">'+c((s=null!=(s=a.explain||(null!=n?n.explain:n))?s:o,typeof s===d?s.call(r,{name:"explain",hash:{},data:i}):s))+'</textarea>\n                    <input class="input" name="id" type="hidden" value="'+c((s=null!=(s=a.createTime||(null!=n?n.createTime:n))?s:o,typeof s===d?s.call(r,{name:"createTime",hash:{},data:i}):s))+'"/>\n                    <input class="input" name="id" type="hidden" value="'+c((s=null!=(s=a.flag||(null!=n?n.flag:n))?s:o,typeof s===d?s.call(r,{name:"flag",hash:{},data:i}):s))+"\"/>\n                </div>\n                \x3c!-- .addcarinfo-close.inline-block(id='del-option-'+id data-name='id' data-value=id) — --\x3e\n                <td>\n"+(null!=(l=a.unless.call(r,null!=n?n.first:n,{name:"unless",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.unless.call(r,null!=n?n.last:n,{name:"unless",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+'                    <div class="inline-block iconfont icon-minus-full pointer sub-text" id="del-option-'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"></div>\n                </td>\n            </li>\n'},20:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <i class="pointer m-right iconfont icon-arrow-up-solid custom-color-2" id="move-option-up-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="下移"></i>\n'},22:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <i class="pointer m-right iconfont icon-arrow-down-solid custom-color-2" id="move-option-down-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="上移"></i>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"edit",{name:"view",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/bus/view-edit",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/markers"),l=e("lodash/collection"),s=e("./app/ext/views/form/validators");a.title="班车/订餐信息发布",a.bindings={buss:!0,bus:!0,optionList:!0,state:!0},a.buttons=[{text:"确定",action:"saveOption"}],a.events={"mouseup addOption":"addOption","click label-option-*":"changeName","change input-option-*":"updateName","change input-explain-*":"updateExplain","click del-option-*":"delOption","change name":"changeBusName","click move-option-up-*":"moveUp","click move-option-down-*":"moveDown","input name":"changeNameTips"},a.handlers={changeName:function(e){t(this.$("input-option-"+e)).css("display","block"),t(this.$("label-option-"+e)).css("display","none")},changeBusName:function(){var e=t(this.$("name")),n=new RegExp("\\{0\\}","g");i.text.valid(e),s.required.fn(e.val())?s.maxLength.fn(e.val(),20)||i.text.invalid(e,s.maxLength.message.replace(n,20)):i.text.invalid(e,s.required.message)},changeNameTips:function(){var e,n,a=this.$("name"),i=t(a).nextAll(".tips");0!==i.length&&(e=t(a).attr("x-rule").match(/maxLength:(\d+)/)[1],n=t(a).val().length,i.text(n+"/"+e))},updateName:function(e){var n=t(this.$("input-option-"+e)).val(),a=t(this.$("startTime")).val(),i=t(this.$("endTime")).val(),l=this,s=t(this.$("name")).val(),r=t(this.$("input-explain-"+e)).val();this.bindings.bus.data.name=s,this.changeDate(a,i),""===n?l.app.message.alert("选项名称不能为空"):l.module.dispatch("updateName",{id:e,name:n,explain:r})},updateExplain:function(e){var n=t(this.$("input-explain-"+e)).val(),a=t(this.$("startTime")).val(),i=t(this.$("endTime")).val(),l=this.bindings.bus.data,s=t(this.$("name")).val();l.name=s,this.changeDate(a,i),this.module.dispatch("updateExplain",{id:e,explain:n})},delOption:function(e){var n=this,a=t(this.$("startTime")).val(),i=t(this.$("endTime")).val();return this.Promise.create(function(t){n.app.message.confirm("确定删除此选项吗?",function(){n.changeDate(a,i),n.module.dispatch("delOption",e)},function(){t(!1)})})},moveUp:function(e){var n=t(this.$("startTime")).val(),a=t(this.$("endTime")).val();this.changeDate(n,a),this.module.dispatch("moveUp",e)},moveDown:function(e){var n=t(this.$("startTime")).val(),a=t(this.$("endTime")).val();this.changeDate(n,a),this.module.dispatch("moveDown",e)},addOption:function(){var e=this.bindings.bus.data,n=t(this.$("name")).val(),a=t(this.$("startTime")).val(),i=t(this.$("endTime")).val(),l=this.bindings.state.data.classId;e.name=n,e.classId=l,this.changeDate(a,i),this.module.dispatch("addOption","选项名称")}},a.actions={"click saveOption":"saveOption","click delOption*":"delOption"},a.dataForActions={saveOption:function(){var e=this.bindings.bus.data,n=t(this.$("name")).val(),a=t(this.$("startTime")).val(),i=t(this.$("endTime")).val(),l=this.bindings.state.data.classId,r=this.bindings.optionList;if(e.classId=l,e.name=n,this.changeDate(a,i),!s.required.fn(n))return this.app.message.error("名称必填"),!1;if(!s.required.fn(a))return this.app.message.error("开始时间必填"),!1;if(!s.required.fn(i))return this.app.message.error("结束时间必填"),!1;if(a>=i)return this.app.message.alert("结束时间必须大于开始时间"),!1;if(a<i){if(r.data.length>8)return this.app.message.alert("一条统计主题最多只能发布八个选项"),!1;if(r.data.length<1)return this.app.message.alert("一条统计主题至少需要一个选项"),!1}return!0}},a.actionCallbacks={saveOption:function(){this.app.message.success("保存成功"),this.module.dispatch("init",this.bindings.state.data)}},a.components=[{id:"startTime",name:"flatpickr",options:{enableTime:!0}},{id:"endTime",name:"flatpickr",options:{enableTime:!0}}],a.afterRender=function(){var e,n,a=this.module.store.models.bus.data,i=a.name,l=t(this.$("name")).nextAll(".tips");0!==l.length&&(e=t(this.$("name")).attr("x-rule").match(/maxLength:(\d+)/)[1],i&&(n=i.length,l.text(n+"/"+e)))},a.dataForTemplate={optionList:function(e){var n=e.optionList||[];return n=l.orderBy(n,"flag"),l.map(n,function(e,a){var t=e;t.first=!1,t.last=!1,t.index=a+1,t.first=0===a,t.last=a===n.length-1}),n}},a.mixin={changeDate:function(e,n){var a,t,i,l,s,r,o,d,c,u,m,p,h,f,v,g,b,x,y=this.bindings.bus.data;n&&(u=n.split(" "),m=u[0].split("-"),x=u[1].split(":"),p=m[0],h=m[1],f=m[2],v=x[0],g=x[1],d=new Date(p,h-1,f,v,g).getTime()),e&&(a=e.split(" "),t=a[0].split("-"),c=a[1].split(":"),i=t[0],l=t[1],s=t[2],r=c[0],o=c[1],b=new Date(i,l-1,s,r,o).getTime()),y.startTime=b,y.endTime=d}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/service/bus/view-main",function(e,n,a){var t=e("lodash/collection");a.title="班车/订餐信息",a.bindings={buss:!0,bus:!0,optionList:!0,state:!1},a.components=[{id:"pager",name:"pager",options:{model:"buss"}}],a.events={"click count*":"count","click addBus":"addBus"},a.handlers={count:function(e){var n=this,a=this.bindings.state.data.classId,t=this.module.items["train/service/bus/bus-detail"];n.app.viewport.modal(t,{id:e,classId:a})},addBus:function(){var e=this.bindings.buss.data,n=[],a={},t={},i={},l={},s={},r={},o=this;this.bindings.optionList.clear(),this.bindings.bus.clear(),0===e.length&&this.module.dispatch("getClassInfo").then(function(e){var d=Number(e[0].returnDate),c=Number(e[0].arriveDate),u=d-864e5,m=new Date(d),p=new Date(u),h=m.getFullYear()+"/"+(m.getMonth()+1)+"/"+m.getDate(),f=p.getFullYear()+"/"+(p.getMonth()+1)+"/"+p.getDate();d-c>864e5?(a.name=f+" 18:00去机场",a.id="PMJT",a.flag=1,n.push(a),t.name=f+" 18:00去集团",t.id="PMJC",t.flag=2,n.push(t),i.name=f+" 晚餐",i.id="dinner",i.flag=3,n.push(i),l.name=h+" 8:00去机场",l.id="AMJC",l.flag=4,n.push(l),s.name=h+" 8:00去集团",s.id="AMJT",s.flag=5,n.push(s),r.name=h+" 早餐",r.id="breakfast",r.flag=6,n.push(r)):(a.name=" 18:00去机场",a.id="PMJT",a.flag=1,n.push(a),t.name=" 18:00去集团",t.id="PMJC",t.flag=2,n.push(t),i.name=" 晚餐",i.id="dinner",i.flag=3,n.push(i),l.name=" 8:00去机场",l.id="AMJC",l.flag=4,n.push(l),s.name=" 8:00去集团",s.id="AMJT",s.flag=5,n.push(s),r.name=" 早餐",r.id="breakfast",r.flag=6,n.push(r)),o.bindings.optionList.data=n,o.bindings.optionList.changed(),o.bindings.bus.data.name="返程日班车统计",o.bindings.bus.changed()}),this.app.viewport.modal(this.module.items.edit)}},a.dataForTemplate={pageCount:function(){return this.bindings.buss.getPageInfo().pageCount},isGrant:function(){return 4!==this.bindings.state.data.role},buss:function(e){var n=e.buss,a=this.bindings.state.data;return t.map(n,function(e){e.isGrant=4!==a.role}),e.buss}},a.actions={"click remove*":"remove","click publish*":"publish","click undo*":"undo","click edit*":"editBus"},a.dataForActions={editBus:function(e){return this.app.viewport.modal(this.module.items.edit),e},publish:function(e){var n=this;return this.Promise.create(function(a){n.app.message.confirm("确定发布该主题?",function(){a(e)},function(){a(!1)})})},undo:function(e){var n=this;return this.Promise.create(function(a){n.app.message.confirm("确定取消发布该主题?",function(){a(e)},function(){a(!1)})})},remove:function(e){var n=this;return this.Promise.create(function(a){n.app.message.confirm("确定删除这条数据吗?",function(){a(e)},function(){a(!1)})})}},a.actionCallBacks={publish:function(){this.app.message.success("操作成功！"),this.module.dispatch("init")},undo:function(){this.app.message.success("操作成功！"),this.module.dispatch("init")}}},{"lodash/collection":!1}),loadjs.d("./app/train/service/discuss/index",function(e,n,a){a.items={comment:"comment"},a.store={models:{state:{},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this.models.classInfo;return n.params.id=e.id,this.get(n,{loading:!0})}}},a.beforeRender=function(){return this.dispatch("init",{id:this.renderOptions.state.classId})}},{}),loadjs.d("./app/train/service/discuss/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="classmanage-page">\n    <div class="div classmanage" data-region="comment" style="margin-left:6%;margin-right:6%;"></div>\n</div>'},3:function(e,n,a,t,i){return'    <br/>\n    <br/>\n    <br/>\n    <div id="comment-area"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"comment",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/discuss/view-comment",function(e,n,a){a.bindings={classInfo:!0},a.components=[function(){var e=this.bindings.classInfo.data.id,n=this.bindings.classInfo.data.className;return!!e&&{id:"comment-area",name:"picker",options:{picker:"comment-area-two",componentId:"comment-area",businessId:e,businessType:10,title:n}}}]},{}),loadjs.d("./app/train/service/index",function(e,n,a){a.items={tab:"tab",main:"main"},a.store={models:{projectInfo:{},state:{}},callbacks:{init:function(e){var n=this.models.state;n.data.tab="sign",n.data.sign=!0,n.data.id=e.id.id,n.data.classId=e.id.classId,n.data.role=e.role,n.changed()}}},a.beforeRender=function(){return this.dispatch("init",{id:this.renderOptions.state,role:this.renderOptions.state.role})}},{}),loadjs.d("./app/train/service/reward/index",function(e,n,a){a.items={content:"content",edit:"","week-reward":""},a.store={models:{courseSalary:{url:"../train/courseSalary"},courseSalarySum:{url:"../train/courseSalary/sum"},updateTime:{url:"../train/offline-course/change-time"},remuneration:{url:"../train/courseSalary/remuneration"},updatePayment:{url:"../train/courseSalary/update-payment"},findProjectDay:{url:"../train/courseSalary/protect-day"},downloadexternal:{url:"../train/courseSalary/download-excl-total"},download:{url:"../train/courseSalary/week-download"},edit:{url:"../train/courseSalary/get"},updateClass:{url:"../train/courseSalary"},changePhone:{url:"../train/courseSalary/payment"},offlineThemeList:{url:"../train/theme/findOfflineTheme"},state:{data:{}},sum:{data:{}},falg:{data:{}},arriveStatusData:{data:{arriveStatus:!0}}},callbacks:{courseSalaryList:function(e){var n=this.models.courseSalary,a=this.models.findProjectDay,t=this.models.state,i=this.models.sum,l=this.models.falg,s=this;return t.data.classId=e.classId,t.data.role=e.role,a.params={classId:e.classId},n.params={id:e.classId},this.get(n,{loading:!0}).then(function(e){s.get(a),i.data.paidPay=0,i.data.pay=0,i.data.serviceCharge=0,null!=e[0][0]&&(i.data.paidPay=e[0][0].courseSalary.sumPaidPay,i.data.pay=e[0][0].courseSalary.sumPay,i.data.serviceCharge=e[0][0].courseSalary.serviceCharge,l.data.falg=e[0][0].teacherFalg,i.data.courseSalary=e[0][0].courseSalary.courseSalary),i.changed()})},subitButton:function(e){var n=this.models.remuneration,a=this.models.state,t=this;return null==e?(this.app.message.error("请选择管理费税金比例"),!1):(n.params={classId:a.data.classId,cost:e.cost,isOverproof:e.isOverproof},this.get(n).then(function(){t.app.message.success("保存成功！"),t.module.dispatch("courseSalaryList",t.models.state.data)}))},edit:function(e){var n=this.models.edit;return n.clear(),n.params=e,this.get(n)},payment:function(e){this.module.dispatch("publicMethod",e)},taxRate:function(e){this.module.dispatch("publicMethod",e)},lecturerSource:function(e){this.module.dispatch("publicMethod",e)},place:function(e){this.module.dispatch("publicMethod",e)},publicMethod:function(e){var n=this.models.updatePayment,a=this,t=e;return n.set(t),this.save(n).then(function(){a.module.dispatch("courseSalaryList",a.models.state.data)})},updateClass:function(e){var n=this.models.updateClass,a=this,t=e;return t.classId=a.models.state.data.classId,n.set(t),this.save(n).then(function(){a.app.message.success("保存成功！"),a.module.dispatch("courseSalaryList",a.models.state.data)})},updateTime:function(e){var n=this.models.updateTime,a=e,t=this;return n.set(a),t.save(n).then(function(){t.app.message.success("修改成功！"),t.module.dispatch("courseSalaryList",t.models.state.data)})},teacherPhone:function(e){var n=e.phone,a=e.id,t=this.models.changePhone;return t.params.id=a,t.params.phone=n,this.get(t)},exportCourse:function(){var e=this.models.downloadexternal.getFullUrl(),n=this.app.global.OAuth.token.access_token;return e+="?id="+this.models.state.data.classId+"&flag=2&access_token="+n,window.location.href=e,!0},weekDownload:function(e){var n=this.models.offlineThemeList;n.params.classId=e,this.get(n)},download:function(e){var n=this.models.download.getFullUrl(),a=this.app.global.OAuth.token.access_token;return n+="?classId="+e.classId+"&endTime="+e.endTime+"&flag="+e.i+"&startTime="+e.startTime+"&access_token="+a,window.location.href=n,!0},arriveStatusDataFn:function(){var e=localStorage.getItem("class_arrive_date"),n=new Date("2021-08-01").getTime();this.models.arriveStatusData.data.arriveStatus=!(e>n)}}},a.beforeRender=function(){var e=this.renderOptions.state;return this.dispatch("arriveStatusDataFn"),this.dispatch("courseSalaryList",{classId:e.classId,role:e.role})}},{}),loadjs.d("./app/train/service/reward/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-class-page">\n    <div class="div" data-region="content"></div>\n</div>'},3:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{},d=a.helperMissing;return'<form class="vertical">\n    <div id="classmanage-content-2" class="display-none"></div>\n    <section>\n        <div class="clearfix">\n            <div class="pull-left m-left m-top">\n                <span>课酬总额</span>\n'+(null!=(r=a.if.call(o,null!=(r=null!=n?n.sum:n)?r.pay:r,{name:"if",hash:{},fn:e.program(4,i,0,l,s),inverse:e.program(6,i,0,l,s),data:i}))?r:"")+'                <span>元</span>\n                <span class="layout-ml-small">实付总额</span>\n'+(null!=(r=a.if.call(o,null!=(r=null!=n?n.sum:n)?r.paidPay:r,{name:"if",hash:{},fn:e.program(8,i,0,l,s),inverse:e.program(6,i,0,l,s),data:i}))?r:"")+'                <span>元</span>\n            </div>\n        </div>\n        <div class="clearfix">\n            <div class="pull-left m-left m-top">\n                请选择外部讲师管理费比率\n'+(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=(r=null!=n?n.sum:n)?r.flag:r,"eq",0,{name:"compare",hash:{},fn:e.program(10,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=(r=null!=n?n.sum:n)?r.flag:r,"eq",1,{name:"compare",hash:{},fn:e.program(12,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=(r=null!=n?n.sum:n)?r.flag:r,"eq",2,{name:"compare",hash:{},fn:e.program(14,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=(r=null!=n?n.sum:n)?r.flag:r,"eq",3,{name:"compare",hash:{},fn:e.program(16,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=(r=null!=n?n.sum:n)?r.flag:r,"eq",4,{name:"compare",hash:{},fn:e.program(18,i,0,l,s),inverse:e.noop,data:i}))?r:"")+(null!=(r=(a.compare||n&&n.compare||d).call(o,null!=(r=null!=n?n.sum:n)?r.flag:r,"eq",5,{name:"compare",hash:{},fn:e.program(20,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'            </div>\n            <div class="pull-left m-top" style="margin-left: 4.7em;">\n                <input class="input m-left" type="checkbox" name="isOverproof" value="1"/>\n                <label>单门课程课酬超标</label>\n                <input class="input m-left" type="checkbox" name="isOverproof" value="2"/>\n                <label>课酬总额超标</label>\n            </div>\n            <div class="pull-right m-right m-top">\n'+(null!=(r=a.if.call(o,null!=n?n.isAssist:n,{name:"if",hash:{},fn:e.program(22,i,0,l,s),inverse:e.program(29,i,0,l,s),
data:i}))?r:"")+'            </div>\n        </div>\n        <table class="table layout-mt-small text-center train border around margin-none">\n            <thead><tr>\n                <th>课程名称</th>\n                <th>讲师名称</th>\n                <th>授课时长(小时)</th>\n                <th>实付</th>\n                <th>支付方式</th>\n                <th>讲师来源</th>\n                <th>推荐方</th>\n                <th>税率</th>\n                <th>税金</th>\n                <th>酬金</th>\n            </tr></thead>\n            <tbody> \n                '+(null!=(r=a.each.call(o,null!=n?n.courseSalary:n,{name:"each",hash:{},fn:e.program(31,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"\n            </tbody>\n        </table>\n"+(null!=(r=a.if.call(o,null!=n?n.isFlag:n,{name:"if",hash:{},fn:e.program(67,i,0,l,s),inverse:e.program(77,i,0,l,s),data:i}))?r:"")+"    </section>\n</form>"},4:function(e,n,a,t,i){var l;return'                    <span class="text-main-color h2">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.sum:n)?l.pays:l,n))+"</span>\n"},6:function(e,n,a,t,i){return'                    <span class="text-main-color h2">0.00</span>\n'},8:function(e,n,a,t,i){var l;return'                    <span class="text-main-color h2">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.sum:n)?l.paidPays:l,n))+"</span>\n"},10:function(e,n,a,t,i){return'                    <input class="input m-left" type="radio" name="radio" value="0.0"/>\n                    <label>0%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.095" checked="checked"/>\n                    <label>9.5%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.20"/>\n                    <label>20%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.22"/>\n                    <label>22%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.25"/>\n                    <label>25%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.28"/>\n                    <label>28%</label>\n'},12:function(e,n,a,t,i){return'                    <input class="input m-left" type="radio" name="radio" value="0.0"/>\n                    <label>0%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.095"/>\n                    <label>9.5%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.20"/>\n                    <label>20%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.22"/>\n                    <label>22%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.25" checked="checked"/>\n                    <label>25%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.28"/>\n                    <label>28%</label>\n'},14:function(e,n,a,t,i){return'                    <input class="input m-left" type="radio" name="radio" value="0.0" checked="checked"/>\n                    <label>0%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.095"/>\n                    <label>9.5%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.20"/>\n                    <label>20%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.22"/>\n                    <label>22%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.25"/>\n                    <label>25%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.28"/>\n                    <label>28%</label>\n'},16:function(e,n,a,t,i){return'                    <input class="input m-left" type="radio" name="radio" value="0.0"/>\n                    <label>0%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.095"/>\n                    <label>9.5%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.20"/>\n                    <label>20%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.22"/>\n                    <label>22%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.25"/>\n                    <label>25%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.28" checked="checked"/>\n                    <label>28%</label>\n'},18:function(e,n,a,t,i){return'                    <input class="input m-left" type="radio" name="radio" value="0.0"/>\n                    <label>0%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.095"/>\n                    <label>9.5%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.20" checked="checked"/>\n                    <label>20%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.22"/>\n                    <label>22%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.25"/>\n                    <label>25%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.28"/>\n                    <label>28%</label>\n'},20:function(e,n,a,t,i){return'                    <input class="input m-left" type="radio" name="radio" value="0.0"/>\n                    <label>0%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.095"/>\n                    <label>9.5%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.20"/>\n                    <label>20%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.22" checked="checked"/>\n                    <label>22%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.25"/>\n                    <label>25%</label>\n                    <input class="input m-left" type="radio" name="radio" value="0.28"/>\n                    <label>28%</label>\n'},22:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isFlag:n,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.program(26,i,0),data:i}))?l:""},23:function(e,n,a,t,i){var l;return(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isTemp:n,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")+'                        <div id="inside" class="small-btn">导出讲师课酬信息表</div>\n'},24:function(e,n,a,t,i){return'                            <div id="weekDownload" class="small-btn">按周主题导出讲师课酬信息表</div>\n'},26:function(e,n,a,t,i){var l;return(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isTemp:n,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")+'                        <div class="btn small gray default">导出讲师课酬信息表</div>\n'},27:function(e,n,a,t,i){return'                            <div class="btn small gray default">按周主题导出讲师课酬信息表</div>\n'},29:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isFlag:n,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:""},31:function(e,n,a,t,i,l,s){var r,o,d=null!=n?n:{},c=a.helperMissing,u="function",m=e.escapeExpression,p=e.lambda;return'<tr>\n                    <td><span title="'+m((o=null!=(o=a.names||(null!=n?n.names:n))?o:c,typeof o===u?o.call(d,{name:"names",hash:{},data:i}):o))+'">'+m((o=null!=(o=a.name||(null!=n?n.name:n))?o:c,typeof o===u?o.call(d,{name:"name",hash:{},data:i}):o))+'</span></td>\n                    <td class="overflow train-width" title="'+m((o=null!=(o=a.teacherName||(null!=n?n.teacherName:n))?o:c,typeof o===u?o.call(d,{name:"teacherName",hash:{},data:i}):o))+'">'+m((o=null!=(o=a.teacherName||(null!=n?n.teacherName:n))?o:c,typeof o===u?o.call(d,{name:"teacherName",hash:{},data:i}):o))+'</td>\n                    <td class="nowrap">\n                        <label id="label-time-'+m((o=null!=(o=a.id||(null!=n?n.id:n))?o:c,typeof o===u?o.call(d,{name:"id",hash:{},data:i}):o))+'" class="pointer">'+m(p(null!=(r=null!=n?n.courseSalary:n)?r.time:r,n))+'</label>\n                        <input id="input-time-'+m((o=null!=(o=a.id||(null!=n?n.id:n))?o:c,typeof o===u?o.call(d,{name:"id",hash:{},data:i}):o))+'" value="'+m(p(null!=(r=null!=n?n.courseSalary:n)?r.time:r,n))+'" style="display:none;" data-name="id" data-value="'+m((o=null!=(o=a.id||(null!=n?n.id:n))?o:c,typeof o===u?o.call(d,{name:"id",hash:{},data:i}):o))+'"/>\n                    </td>\n                    <td>'+m(p(null!=(r=null!=n?n.courseSalary:n)?r.paidPay:r,n))+"</td>\n"+(null!=(r=a.if.call(d,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(32,i,0,l,s),inverse:e.program(34,i,0,l,s),data:i}))?r:"")+(null!=(r=a.if.call(d,null!=n?n.lecturerMethod:n,{name:"if",hash:{},fn:e.program(40,i,0,l,s),inverse:e.program(32,i,0,l,s),data:i}))?r:"")+(null!=(r=a.if.call(d,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(45,i,0,l,s),inverse:e.program(50,i,0,l,s),data:i}))?r:"")+(null!=(r=a.if.call(d,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(32,i,0,l,s),inverse:e.program(61,i,0,l,s),data:i}))?r:"")+"                    <td>"+m(p(null!=(r=null!=n?n.courseSalary:n)?r.tax:r,n))+"</td>\n                    <td>"+m(p(null!=(r=null!=n?n.courseSalary:n)?r.pay:r,n))+"</td>\n                </tr>"},32:function(e,n,a,t,i){return"                        <td>—</td>\n"},34:function(e,n,a,t,i){var l;return'                        <td class="nowrap">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.tag:n,{name:"if",hash:{},fn:e.program(35,i,0),inverse:e.program(38,i,0),data:i}))?l:"")+"                        </td>\n"},35:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                <select id="payment-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" name="payment" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" disabled> \n                                    <option value="">请选择</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.type1:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">外付</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.type2:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">合同</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.type3:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">框架合同</option>\n                                </select>\n'},36:function(e,n,a,t,i){return' selected="selected"'},38:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                <select id="payment-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" name="payment" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"> \n                                    <option value="">请选择</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.type1:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">外付</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.type2:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">合同</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.type3:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">框架合同</option>\n                                </select>\n'},40:function(e,n,a,t,i){var l;return'                        <td class="nowrap">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.tag:n,{name:"if",hash:{},fn:e.program(41,i,0),inverse:e.program(43,i,0),data:i}))?l:"")+"                        </td>\n"},41:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                <select id="lecturerSource-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" name="lecturerSource" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" disabled>\n                                    <option value="">请选择</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.typeSource1:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">政府部门</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.typeSource2:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">事业单位</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.typeSource3:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">其他</option>\n                                </select>\n'},43:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                <select id="lecturerSource-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" name="lecturerSource" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">\n                                    <option value="">请选择</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.typeSource1:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">政府部门</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.typeSource2:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">事业单位</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.typeSource3:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">其他</option>\n                                </select>\n'},45:function(e,n,a,t,i){var l;return'                        <td class="nowrap" style="padding:0;">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.tag:n,{name:"if",hash:{},fn:e.program(46,i,0),inverse:e.program(48,i,0),data:i}))?l:"")+"                        </td>\n"},46:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                <select id="place-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" name="place" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" disabled>\n                                    <option value="">请选择</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.type4:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">主办方</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.type5:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">移动党校--教学部</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.type6:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">移动党校--党校教育部</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.type8:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="5">—</option>\n                                </select>\n'},48:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                <select id="place-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" name="place" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">\n                                    <option value="">请选择</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.type4:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">主办方</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.type5:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">移动党校--教学部</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.type6:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">移动党校--党校教育部</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.type8:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="5">—</option>\n                                </select>\n'},50:function(e,n,a,t,i,l,s){var r;return'                        <td class="nowrap" style="padding:0;">\n'+(null!=(r=a.if.call(null!=n?n:{},null!=(r=null!=s[1]?s[1].arriveStatusData:s[1])?r.arriveStatus:r,{name:"if",hash:{},fn:e.program(51,i,0,l,s),inverse:e.program(56,i,0,l,s),data:i}))?r:"")+"                        </td>\n"},51:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.tag:n,{name:"if",hash:{},fn:e.program(52,i,0),inverse:e.program(54,i,0),data:i}))?l:""},52:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                    <select id="place-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" name="place" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" disabled>\n                                        <option value="">请选择</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type4:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">主办方</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type5:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">移动学院--教学部</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type6:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">移动学院--党校教育部</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type7:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="4">移动学院</option>\n                                    </select>\n'},54:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                    <select id="place-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" name="place" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">\n                                        <option value="">请选择</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type4:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">主办方</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type5:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">移动学院--教学部</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type6:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">移动学院--党校教育部</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type7:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="4">移动学院</option>\n                                    </select>\n'},56:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.tag:n,{name:"if",hash:{},fn:e.program(57,i,0),inverse:e.program(59,i,0),data:i}))?l:""},57:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                    <select id="place-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" name="place" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" disabled>\n                                        <option value="">请选择</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type4:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">主办方</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type5:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">移动党校--教学部</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type6:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">移动党校--党校教育部</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type7:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="4">移动党校</option>\n                                    </select>\n'},59:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                    <select id="place-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" name="place" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">\n                                        <option value="">请选择</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type4:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">主办方</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type5:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">移动党校--教学部</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type6:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">移动党校--党校教育部</option>\n                                        <option '+(null!=(l=a.if.call(r,null!=n?n.type7:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="4">移动党校</option>\n                                    </select>\n'},61:function(e,n,a,t,i){var l;return'                        <td class="nowrap">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.tag:n,{name:"if",hash:{},fn:e.program(62,i,0),inverse:e.program(65,i,0),data:i}))?l:"")+"                        </td>\n"},62:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                <select id="taxRate-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" name="taxRate" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" disabled>\n'+(null!=(l=a.if.call(r,null!=n?n.type1:n,{name:"if",hash:{},fn:e.program(63,i,0),inverse:e.noop,data:i}))?l:"")+"                                    <option "+(null!=(l=a.if.call(r,null!=n?n.taxFlag:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="6">6%</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.taxFlag1:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">3%</option>\n                                </select>\n'},63:function(e,n,a,t,i){var l;return"                                        <option "+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.taxFlag0:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="0">---</option>\n'},65:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                <select id="taxRate-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" name="taxRate" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">\n'+(null!=(l=a.if.call(r,null!=n?n.type1:n,{name:"if",hash:{},fn:e.program(63,i,0),inverse:e.noop,data:i}))?l:"")+"                                    <option "+(null!=(l=a.if.call(r,null!=n?n.taxFlag:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="6">6%</option>\n                                    <option '+(null!=(l=a.if.call(r,null!=n?n.taxFlag1:n,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">3%</option>\n                                </select>\n'},67:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isAssist:n,{name:"if",hash:{},fn:e.program(68,i,0),inverse:e.program(74,i,0),data:i}))?l:""},68:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isCourseSalary:n,{name:"if",hash:{},fn:e.program(69,i,0),inverse:e.program(71,i,0),data:i}))?l:""},69:function(e,n,a,t,i){return'                    <div class="text-center">\n                        <btn class="btn layout-mb-small layout-mt-small" id="saveBalanceSubmit">生成课酬</btn>\n                    </div>\n'},71:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isCourseSalaryBack:n,{name:"if",hash:{},fn:e.program(72,i,0),inverse:e.noop,data:i}))?l:""},72:function(e,n,a,t,i){return'                        <tr><td colspan="10"><div class="text-center">\n                            <btn class="btn layout-mb-small layout-mt-small gray">生成课酬</btn>\n                            <p class="text-center text-main-color h3">已确定日程，无法修改课酬</p>\n                        </div>\n                        </td></tr>\n'},74:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isAssistCourseSalary:n,{name:"if",hash:{},fn:e.program(75,i,0),inverse:e.noop,data:i}))?l:""},75:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <p class="text-center text-main-color h3">已确定日程，无法修改课酬</p>\n                    </div>\n                    </td></tr>\n'},77:function(e,n,a,t,i){return'            <tr><td colspan="10"><div class="text-center">\n                <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                <p>暂无内容</p>\n            </div>\n            </td></tr>\n'},79:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression
;return'<form class="vertical">\n    <div>\n        <div class="clearfix">\n            <div class="pull-left layout-ml-small layout-mb-small" style="margin-left: 1.8em;">\n                <span>课程名称：</span>\n                <span>'+r(s(null!=(l=null!=n?n.edit:n)?l.name:l,n))+'</span>\n            </div>\n            <div class="pull-right">\n                <label>学习方式：面授</label>\n            </div>\n        </div>\n        <div class="classedit-form form">\n            <div class="clearfix">\n                <div class="form-row pull-left w-half">\n                    <label class="label required">讲师电话</label>\n                    <div class="content">\n                        <input class="input w-full" id="input-phone" name="phone" x-rule="maxLength:11" maxlength="11" value="'+r(s(null!=(l=null!=n?n.edit:n)?l.teacherPhone:l,n))+'"/>\n                    </div>\n                </div>\n                <div class="form-row pull-left w-half">\n                    <label class="label required">讲师姓名</label>\n                    <div class="content">\n                        <input class="input w-full" id="input-name" name="lecturerName1" x-rule="maxLength:15" maxlength="15" value="'+r(s(null!=(l=null!=n?n.edit:n)?l.teacherName:l,n))+'"/>\n                    </div>\n                </div>\n                <div class="form-row pull-left w-half">\n                    <label class="label">讲师单位</label>\n                    <div class="content">\n                        <input class="input" id="input-organization" name="teacherOrganization" x-rule="maxLength:30" maxlength="30" value="'+r(s(null!=(l=null!=n?n.edit:n)?l.teacherOrganization:l,n))+'"/>\n                    </div>\n                </div>\n                <div class="form-row pull-left w-half">\n                    <label class="label">讲师职务</label>\n                    <div class="content">\n                        <input class="input" id="input-title" name="teacherTitle" x-rule="maxLength:15" maxlength="15" value="'+r(s(null!=(l=null!=n?n.edit:n)?l.teacherTitle:l,n))+'"/>\n                    </div>\n                </div>\n                <div class="form-row pull-left w-half">\n                    <label class="label required">讲师类别</label>\n                    <div class="content">\n                        <input class="input" id="input-type" name="type" x-rule="maxLength:10" maxlength="10" disabled readonly value="'+r(s(null!=(l=null!=n?n.edit:n)?l.type:l,n))+'"/>\n                    </div>\n                </div>\n                <div class="form-row pull-left w-half">\n                    <label class="label required">授课时长</label>\n                    <div class="content">\n                        <input class="input" name="time" x-rule="maxLength:5" maxlength="5" disabled readonly value="'+r(s(null!=(l=null!=(l=null!=n?n.edit:n)?l.courseSalary:l)?l.time:l,n))+' 小时"/>\n                    </div>\n                </div>\n            </div>\n            <div class="form-row">\n                <label class="label required">讲师身份证</label>\n                <div class="content">\n                    <input class="input" id="input-lecturerCard" name="lecturerCard" x-rule="maxLength:18" maxlength="18" value="'+r(s(null!=(l=null!=(l=null!=n?n.edit:n)?l.courseSalary:l)?l.lecturerCard:l,n))+'"/>\n                </div>\n            </div>\n            <div class="form-row">\n                <label class="label required">开户银行</label>\n                <div class="content">\n                    <input class="input" id="input-lecturerBankName" name="lecturerBankName" x-rule="maxLength:50" maxlength="50" value="'+r(s(null!=(l=null!=(l=null!=n?n.edit:n)?l.courseSalary:l)?l.lecturerBankName:l,n))+'"/>\n                </div>\n            </div>\n            <div class="form-row">\n                <label class="label required">银行卡号</label>\n                <div class="content">\n                    <input class="input" id="input-lecturerBankCard" name="lecturerBankCard" x-rule="number,minLength:16,maxLength:21" minLength="16" maxlength="21" value="'+r(s(null!=(l=null!=(l=null!=n?n.edit:n)?l.courseSalary:l)?l.lecturerBankCard:l,n))+'"/>\n                </div>\n            </div>\n            <div class="clearfix">\n                <div class="form-row pull-left w-half">\n                    <label class="label required">实付</label>\n                    <div class="content">\n                        <input class="input" name="paidPay" x-rule="maxLength:9 keepDecimal:2" maxlength="9" value="'+r(s(null!=(l=null!=(l=null!=n?n.edit:n)?l.courseSalary:l)?l.paidPay:l,n))+'"/>\n                    </div>\n                </div>\n                <div class="form-row pull-left w-half">\n                    <label class="label required">酬金</label>\n                    <div class="content">\n                        <input class="input" name="pay" x-rule="maxLength:9 keepDecimal:2" maxlength="9" value="'+r(s(null!=(l=null!=(l=null!=n?n.edit:n)?l.courseSalary:l)?l.pay:l,n))+'"/>\n                    </div>\n                </div>\n                <div class="form-row pull-left w-half">\n                    <label class="label required">税金</label>\n                    <div class="content">\n                        <input class="input" name="tax" x-rule="maxLength:9 keepDecimal:2" maxlength="9" value="'+r(s(null!=(l=null!=(l=null!=n?n.edit:n)?l.courseSalary:l)?l.tax:l,n))+'"/>\n                    </div>\n                </div>\n            </div>\n            <label class="label small-font color-error">*在此处修改系统中已经存在的讲师信息时，数据仅应用于本班级。</label>\n            <div class="form-row">\n                <div class="content">\n                    <input class="input" type="hidden" name="id" value="'+r(s(null!=(l=null!=(l=null!=n?n.edit:n)?l.courseSalary:l)?l.id:l,n))+'"/>\n                    <input class="input" type="hidden" name="classOfflineCourseId" value="'+r(s(null!=(l=null!=n?n.edit:n)?l.id:l,n))+'"/>\n                    <input class="input" type="hidden" name="lecturerId" value="'+r(s(null!=(l=null!=(l=null!=n?n.edit:n)?l.lecturer:l)?l.id:l,n))+'"/>\n                </div>\n            </div>\n        </div>\n    </div>\n</form>'},81:function(e,n,a,t,i){var l;return'    <section>\n        <table class="table border around text-center train">\n            <tr>\n                <th>序号</th>\n                <th>\n                    主题名称\n                </th>\n                <th>\n                    主题时间\n                </th>\n                <th>\n                    操作\n                </th>\n            </tr>\n            '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.offlineThemeList:n,{name:"each",hash:{},fn:e.program(82,i,0),inverse:e.noop,data:i}))?l:"")+"\n        </table>\n    </section>\n"},82:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return"<tr>\n                <td>"+d((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,typeof l===o?l.call(s,{name:"i",hash:{},data:i}):l))+'</td>\n                <td>\n                    <label id="label-week-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.weekly||(null!=n?n.weekly:n))?l:r,typeof l===o?l.call(s,{name:"weekly",hash:{},data:i}):l))+"</label>\n                </td>\n                <td>\n                    "+d((l=null!=(l=a.startDate||(null!=n?n.startDate:n))?l:r,typeof l===o?l.call(s,{name:"startDate",hash:{},data:i}):l))+" to\n                    "+d((l=null!=(l=a.endDate||(null!=n?n.endDate:n))?l:r,typeof l===o?l.call(s,{name:"endDate",hash:{},data:i}):l))+'\n                </td>\n                <td>\n                    <a id="download-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">导出</a>\n                </td>\n            </tr>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i,l,s){var r,o,d,c=null!=n?n:{},u=a.helperMissing,m="";return o=null!=(o=a.module||(null!=n?n.module:n))?o:u,d={name:"module",hash:{},fn:e.program(1,i,0,l,s),inverse:e.noop,data:i},r="function"==typeof o?o.call(c,d):o,a.module||(r=a.blockHelperMissing.call(n,r,d)),null!=r&&(m+=r),m+"\n"+(null!=(r=(a.view||n&&n.view||u).call(c,"content",{name:"view",hash:{},fn:e.program(3,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"\n"+(null!=(r=(a.view||n&&n.view||u).call(c,"edit",{name:"view",hash:{},fn:e.program(79,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"\n"+(null!=(r=(a.view||n&&n.view||u).call(c,"week-reward",{name:"view",hash:{},fn:e.program(81,i,0,l,s),inverse:e.noop,data:i}))?r:"")},useData:!0,useDepths:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/reward/view-content",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.bindings={courseSalary:!0,state:!1,sum:!0,falg:!0,offlineThemeList:!0,findProjectDay:!0,arriveStatusData:!0},a.actions={"click edit*":"edit","click saveBalanceSubmit*":"subitButton","change payment-*":"payment","change place-* ":"place","change lecturerSource-* ":"lecturerSource","change taxRate-* ":"taxRate","click inside*":"exportCourse","click weekDownload*":"weekDownload"},a.events={"change input-time-*":"updateTime","click label-time-*":"changeTime","click check-item*":"checkItem","click check-all":"checkAll"},a.handlers={updateTime:function(e){var n=i(this.$("input-time-"+e)).val();""===n?this.app.message.alert("课时不能为空"):this.module.dispatch("updateTime",{id:e,time:n})},changeTime:function(e){var n=this.bindings.state.data,a=this.bindings.sum.data,t=!1,l=this;3===n.role&&a.courseSalary&&(t=!0),1===n.role&&(t=!0),t&&(i(l.$("input-time-"+e)).css("display","inline-block"),i(l.$("label-time-"+e)).css("display","none"))},checkAll:function(e,n){var a=this.$$('input[name="courseSalaryId"]');t.map(a,function(e){(e||{}).checked=n.checked})},checkItem:function(){var e=this.$$('input[name="courseSalaryId"]').length===this.$$('input[name="courseSalaryId"]:checked').length;this.$("check-all").checked=e}},a.dataForActions={subitButton:function(){var e,n=i(this.$$('input[name="radio"]:checked')).val(),a=t.map(this.$$('input[name="isOverproof"]:checked'),"value"),l=i(this.$$('[name="payment"]')),s=i(this.$$('[name="place"]')),r=i(this.$$('[name="lecturerSource"]')),o=!0,d=!0,c=!0,u=this,m=!0,p=this.bindings.courseSalary.data;return 0===p.length?(u.app.message.error("班级内没有课酬可提交"),!1):void 0===n&&null!==u.bindings.falg.data.falg&&u.bindings.falg.data.falg?(u.app.message.error("请选择外部讲师服务费比例"),!1):(t.map(l,function(e){e.value||(o=!1)}),t.map(r,function(e){e.value||(d=!1)}),d?o?(t.map(s,function(e){e.value||(c=!1)}),c?(t.map(p,function(e){e.teacherName||(m=!1)}),m?(1===a.length&&(e=Number(a[0])),2===a.length&&(e=0),{cost:n,isOverproof:e}):(u.app.message.error("请先上日程安排填写讲师姓名"),!1)):(u.app.message.error("请选择推荐方"),!1)):(u.app.message.error("请选择支付方式"),!1):(u.app.message.error("请选择讲师来源"),!1))},edit:function(e){return e},exportCourse:function(){var e=i(this.$$('input[name="radio"]:checked')).val(),n=this;return void 0!==e||null===n.bindings.falg.data.falg||!n.bindings.falg.data.falg||(n.app.message.error("请选择外部讲师服务费比例"),!1)},lecturerSource:function(e){var n=this.bindings.state.data,a=this.bindings.sum.data,t=!1,l=i(this.$$('input[name="radio"]:checked')).val(),s=i(this.$("lecturerSource-"+e.id)).val(),r={id:e.id,lecturerSource:s,radio:l};return 3===n.role&&a.courseSalary&&(t=!0),1===n.role&&(t=!0),t?r:t},taxRate:function(e){var n=this.bindings.state.data,a=this.bindings.sum.data,t=!1,l=i(this.$$('input[name="radio"]:checked')).val(),s=i(this.$("taxRate-"+e.id)).val(),r={id:e.id,taxRate:s,radio:l};return 3===n.role&&a.courseSalary&&(t=!0),1===n.role&&(t=!0),t?r:t},payment:function(e){var n,a=this.bindings.state.data,l=this.bindings.courseSalary.data,s=this.bindings.sum.data,r=!1,o=i(this.$$('input[name="radio"]:checked')).val(),d=i(this.$("payment-"+e.id)).val(),c={};return t.map(l,function(a){var t=a;e.id===t.id&&(n=t)}),c="1"===d&&null===n.taxrate?{id:e.id,payMent:d,lecturerSource:0,radio:o,taxRate:0}:"1"!==d&&0===n.taxrate?{id:e.id,payMent:d,lecturerSource:0,radio:o,taxRate:6}:{id:e.id,payMent:d,lecturerSource:0,radio:o},3===a.role&&s.courseSalary&&(r=!0),1===a.role&&(r=!0),r?c:r},place:function(e){var n=i(this.$("place-"+e.id)).val(),a=i(this.$$('input[name="radio"]:checked')).val();return{id:e.id,recommend:n,radio:a}},weekDownload:function(){return this.bindings.state.data.classId}},a.dataForTemplate={courseSalary:function(e){var n=e.courseSalary,a=this.bindings.state.data,i=this.bindings.sum.data,l=!0;return 3===a.role&&i.courseSalary&&(l=!1),1===a.role&&(l=!1),t.map(n,function(e){var n=e;return n.names=n.name,n.isGrant=!1,n.tag=l,n.lecturerMethod=!1,0===n.teacherType&&(n.isGrant=!0),0!==n.teacherType&&1===n.paymentMethod&&(n.lecturerMethod=!0),n.name&&n.name.length>15&&(n.name=n.name.substring(0,14)+"..."),n.type1=1===n.paymentMethod,n.type2=2===n.paymentMethod,n.type3=3===n.paymentMethod,n.type4=1===n.recommend,n.type5=2===n.recommend,n.type6=3===n.recommend,n.type7=4===n.recommend,n.type8=5===n.recommend,n.typeSource1=1===n.lecturerSource,n.typeSource2=2===n.lecturerSource,n.typeSource3=3===n.lecturerSource,n.taxFlag0=0===n.taxrate,n.taxFlag=6===n.taxrate,n.taxFlag1=3===n.taxrate,n.courseSalary.tax=n.courseSalary.tax?n.courseSalary.tax.toFixed(2):0,n.courseSalary.pay=n.courseSalary.pay?n.courseSalary.pay.toFixed(2):0,n.teacherName&&n.teacherName.length>15&&(n.teacherName=n.teacherName.substring(0,14)+"..."),n})},isTemp:function(){return this.bindings.findProjectDay.data>=9},isFlag:function(){return this.bindings.courseSalary.data.length>0},isAssist:function(){return 4!==this.bindings.state.data.role},isCourseSalary:function(){var e=this.bindings.state.data,n=this.bindings.sum.data;return!(3!==e.role||!n.courseSalary)||1===e.role},isCourseSalaryBack:function(){return!this.isCourseSalary},isAssistCourseSalary:function(){var e=this.bindings.sum.data,n=!0;return e.courseSalary&&(n=!1),n},sum:function(){var e=this.bindings.sum.data,n=e.pay,a=e.paidPay;return e.pays=n?n.toFixed(2):0,e.paidPays=a?a.toFixed(2):0,null!==e.serviceCharge&&.095===e.serviceCharge&&(e.flag=0),null!==e.serviceCharge&&.25===e.serviceCharge&&(e.flag=1),null!==e.serviceCharge&&.28===e.serviceCharge&&(e.flag=3),null!==e.serviceCharge&&.2===e.serviceCharge&&(e.flag=4),null!==e.serviceCharge&&.22===e.serviceCharge&&(e.flag=5),null!==e.serviceCharge&&0!==e.serviceCharge||(e.flag=2),e},arriveStatusData:function(){return this.bindings.arriveStatusData.data}},a.actionCallbacks={edit:function(){this.app.viewport.modal(this.module.items.edit)},exportCourse:function(){return!0},weekDownload:function(){this.app.viewport.modal(this.module.items["week-reward"])}}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/service/reward/view-edit",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/validators");a.title="编辑课程信息",a.bindings={edit:!0,state:!0,changePhone:!1},a.actions={"change input-phone*":"teacherPhone"},a.buttons=[{text:"提交",action:"updateClass"}],a.dataForActions={teacherPhone:function(e){var n=t(this.$$('[name="phone"]')).val();return i.phone.fn(n)&&i.required.fn(n)?e:(this.app.message.error("请正确输入讲师电话"),!1)},updateClass:function(e){var n=t(this.$$('[name="lecturerCard"]')).val(),a=t(this.$$('[name="lecturerBankName"]')).val(),l=t(this.$$('[name="lecturerBankCard"]')).val(),s=t(this.$$('[name="phone"]')).val(),r=t(this.$$('[name="paidPay"]')).val(),o=t(this.$$('[name="pay"]')).val(),d=t(this.$$('[name="tax"]')).val(),c=t(this.$$('[name="teacherTitle"]')).val(),u=t(this.$$('[name="lecturerName"]')).val(),m=t(this.$$('[name="teacherOrganization"]')).val(),p=e;return p.lecturerName=u,p.teacherOrganization=m,p.teacherTitle=c,i.idCard.fn(n)&&i.required.fn(n)?l.length<16||l.length>21?(this.app.message.error("银行卡号是16-21位，请正确输入"),!1):i.required.fn(u)?i.keepDecimal.fn(d,2)?i.phone.fn(s)&&i.required.fn(s)?i.keepDecimal.fn(r,2)?i.keepDecimal.fn(o,2)?i.required.fn(a)?i.required.fn(l)&&i.number.fn(l)?i.required.fn(r)&&i.number.fn(r)?i.required.fn(o)&&i.number.fn(o)?i.required.fn(d)&&i.number.fn(d)?d<0?(this.app.message.error("税金不能为负"),!1):o<0?(this.app.message.error("酬金不能为负"),!1):r<0?(this.app.message.error("实付金额不能为负"),!1):p:(this.app.message.error("请正确输入税金"),!1):(this.app.message.error("请正确输入酬金"),!1):(this.app.message.error("请正确输入实付金额"),!1):(this.app.message.error("请正确输入银行卡号"),!1):(this.app.message.error("开户银行必填"),!1):(this.app.message.error("酬金最多保留两位小数"),!1):(this.app.message.error("实付金额最多保留两位小数"),!1):(this.app.message.error("请正确输入讲师电话"),!1):(this.app.message.error("税金最多保留两位小数"),!1):(this.app.message.error("请输入讲师姓名"),!1):(this.app.message.error("请正确输入讲师身份证"),!1)}},a.actionCallbacks={teacherPhone:function(){var e=this.bindings.changePhone.data.flag,n=0===e?"内部讲师":"外部讲师";null!=this.bindings.changePhone.data.teacherName||null!=this.bindings.changePhone.data.teacherOrganization||null!=this.bindings.changePhone.data.teacherTitle?(t(this.$("input-name")).attr("disabled","disabled"),t(this.$("input-organization")).attr("disabled",!0),t(this.$("input-title")).attr("disabled",!0)):(t(this.$("input-name")).attr("disabled",!1),t(this.$("input-organization")).attr("disabled",!1),t(this.$("input-title")).attr("disabled",!1)),null!=this.bindings.changePhone.data.courseSalary?(t(this.$("input-lecturerCard")).val(this.bindings.changePhone.data.courseSalary.lecturerCard),t(this.$("input-lecturerBankName")).val(this.bindings.changePhone.data.courseSalary.lecturerBankName),t(this.$("input-lecturerBankCard")).val(this.bindings.changePhone.data.courseSalary.lecturerBankCard)):(t(this.$("input-lecturerCard")).val(null),t(this.$("input-lecturerBankName")).val(null),t(this.$("input-lecturerBankCard")).val(null)),t(this.$("input-name")).val(this.bindings.changePhone.data.teacherName),t(this.$("input-type")).val(n),t(this.$("input-organization")).val(this.bindings.changePhone.data.teacherOrganization),t(this.$("input-title")).val(this.bindings.changePhone.data.teacherTitle)}},a.dataForTemplate={edit:function(e){var n=e.edit;return n.type=0===n.teacherType?"内部讲师":"外部讲师",e.edit}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/service/reward/view-week-reward",function(e,n,a){var t=e("lodash/collection");a.bindings={offlineThemeList:!0},a.actions={"click download-*":"download"},a.title="周主题",a.dataForActions={download:function(e){var n=this.bindings.offlineThemeList;return t.find(n.data,{id:e.id})}},a.dataForTemplate={offlineThemeList:function(){var e=this.bindings.offlineThemeList;return t.map(e.data||[],function(e,n){var a=e;a.i=n+1,a.weekly=a.name}),e.data}}},{"lodash/collection":!1}),loadjs.d("./app/train/service/score/achievement/import-data/index",function(e,n,a){var t=e("drizzle-zxy");a.items={main:"main",file:""},a.title="导入成绩",a.store={models:{file:{url:"../train/grades-project/grades/import"},state:{},download:{url:"../file-deal/file/download"},importInfo:{}},callbacks:{init:function(e){var n=this.models.file,a=this.models.importInfo;return t.assign(a.data,e),n.clear(),n.options.url="../train/grades-project/grades/import",this.models.file},importData:function(e){var n=this;return this.models.state.set(e),e.length>0?(n.models.state.changed(),n.app.message.error("导入存在错误数据"),!1):e}}},a.beforeRender=function(){return this.dispatch("init",{classId:this.renderOptions.classId,projectId:this.renderOptions.projectId})}},{"drizzle-zxy":!1}),loadjs.d("./app/train/service/score/achievement/import-data/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'    <form class="vertical">\n        <div class="row"><div class="col-sm-12"><span>导入步骤</span></div></div>\n        <p>1.下载标准模板，按示例格式和示例说明填写需要导入的电子表格文件\n            <a id="download-template" href="'+e.escapeExpression((s=null!=(s=a.downloadTemplateUrl||(null!=n?n.downloadTemplateUrl:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"downloadTemplateUrl",hash:{},data:i}):s))+'">(下载导入模板)</a>\n        </p>\n        <p>2.点击“导入数据”按钮，选择您要导入的电子表格文件</p>\n        <p>3.导入成功后，页面会提示成功数量，失败数量，并显示相关信息</p>\n        <p>4.如有失败记录，删掉电子表格里已经成功的记录，然后修正失败的记录，再次上传导入。</p>\n        <br/>\n        <div class="row"><div class="col-sm-10 text-center">\n            <div id="import" class="btn layout-mb-small m-right">导入数据</div>\n'+(null!=(l=a.if.call(r,null!=(l=null!=n?n.file:n)?l.imgs:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"        </div></div>\n    </form>\n"},4:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return"                \x3c!--  compare(file.imgs.errorCount 'gt' 0) --\x3e\n                \x3c!--      a.btn.layout-mb-small(href=errorDataUrl download='导入失败记录.xlsx' target='_blank') 下载导入失败记录 --\x3e\n                <h3>\n                    导入成功记录"+r(s(null!=(l=null!=(l=null!=n?n.file:n)?l.imgs:l)?l.successCount:l,n))+"条, 导入失败记录"+r(s(null!=(l=null!=(l=null!=n?n.file:n)?l.imgs:l)?l.failCount:l,n))+"条\n                </h3>\n                <div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.errorMsg:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n"},5:function(e,n,a,t,i){return'                        <p class="error">'+e.escapeExpression(e.lambda(n,n))+"</p>\n"},7:function(e,n,a,t,i){return'    <div id="uploader"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"file",{name:"view",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/score/achievement/import-data/view-file",function(e,n,a){var t=e("./app/util/errors");a.bindings={file:"fileUpload",importInfo:!0},a.components=[function(){var e=this.bindings.importInfo.data,n=this.bindings.file,a=n.getFullUrl()+"?";return a+="access_token="+this.app.global.OAuth.token.access_token+"&classId="+e.classId+"&projectId="+e.projectId,{id:"uploader",name:"uploader",options:{model:"file",chunk_size:"100mb",signle_file:!0,filters:{max_file_size:"100mb",mime_types:[{title:"files",extensions:"xls,xlsx"}]},url:a}}}],a.fileUpload=function(){var e=this.bindings.file.data.imgs;return this.app.viewport.closeModal(),e.errorCode?this.app.message.error(t.get(e.errorCode)):e.failCount>0?this.app.message.error("导入存在错误数据"):this.app.message.success("操作成功 "),this.module.renderOptions.callback()}},{"./app/util/errors":"./app/util/errors"}),loadjs.d("./app/train/service/score/achievement/import-data/view-main",function(e,n,a){var t=e("./app/util/errors"),i=e("lodash/collection");a.bindings={file:!0,state:!0,download:!1},a.events={"click import":"importData","click downloadError":"downloadError"},a.handlers={importData:function(){this.app.viewport.modal(this.module.items.file)},downloadError:function(){var e=this;return this.module.dispatch("displayErrorUrl").then(function(){e.app.viewport.closePopup()})}},a.dataForTemplate={downloadTemplateUrl:function(){return this.bindings.download.getFullUrl()+"?id=7ff503cf-8c3a-4dbc-b8ee-1a18e2f34725"},errorDataUrl:function(e){var n=this.bindings.download;return e.file.imgs?n.getFullUrl()+"?id="+e.file.imgs.errorFileId:null},errorMsg:function(e){var n=[];return e.file.imgs&&e.file.imgs.errorMsg?(n=JSON.parse(e.file.imgs.errorMsg),i.map(n,function(e){var n=t.get(e.code)||"不能为空";return"第"+e.index+"行有错误。["+n+"]"})):[]}}},{"./app/util/errors":"./app/util/errors","lodash/collection":!1}),loadjs.d("./app/train/service/score/achievement/index",function(e,n,a){var t=e("drizzle-zxy");a.items={content:"content",filter:"filter",edit:"","train/service/score/achievement/import-data":{isModule:!0}},a.store={models:{achievement:{url:"../train/grades-project/grades",type:"pageable",root:"items"},addItem:{url:"../train/grades-project/grades/insert"},editItem:{url:"../train/grades-project/grades/update"},delItem:{url:"../train/grades-project/grades/delete"},classInfo:{url:"../train/class-info/get"},state:{data:{}},search:{data:{page:1,pageSize:10}},achievementInfo:{data:{}}},callbacks:{init:function(e){var n=this.models.achievement,a=this.models.state;return n.clear(),a.data=e,a.changed(),n.params.projectId=a.data.projectId,this.get(n,{loading:!0})},saveOption:function(e){var n=this.models.state,a=this.models.addItem,t=e;return e.id?a=this.models.editItem:t.classId=n.data.classId,a.set(t),this.post(a)},delItem:function(e){var n=this.models.delItem,a=this.models.achievement,t=this;n.set(e),this.post(n).then(function(){t.app.message.success("删除成功"),t.get(a)})},search:function(e){var n=this.models.achievement;return this.models.achievement.clear(),t.assign(n.params,{memberName:e.memberName||null,memberNumber:e.memberNumber||null,orgId:e.orgId||null}),this.get(n,{loading:!0})}}},a.beforeRender=function(){var e=this.renderOptions;return this.dispatch("init",{classId:e.state.classId,projectId:e.state.projectId,callback:e.callback})}},{"drizzle-zxy":!1}),loadjs.d("./app/train/service/score/achievement/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="membership-search layout-mt-small" data-region="filter"></div>\n    <div class="addcarinfo-page">\n        <div class="div" data-region="content"></div>\n    </div>\n'},3:function(e,n,a,t,i){return'<form class="vertical">\n    <div class="filter-row train-small half-border">\n        <div class="filter-item">\n            <lable for="memberNumber">员工编号：</lable>\n            <input id="memberNumber" class="input" name="memberNumber"/>\n        </div>\n        <div class="filter-item">\n            <lable for="memberName">姓名：</lable>\n            <input id="memberName" class="input" name="memberName"/>\n        </div>\n        <div class="filter-item">\n            <lable>所属单位：</lable>\n            <input id="orgId" class="input" name="organization"/>\n        </div>\n        <div class="filter-item">\n            <button id="search" class="btn">查询</button>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <section class="list">\n        <div class="clearfix m-top">\n            <div class="h4 pull-left m-left">成绩列表</div>\n            <div id="importItem" class="small-btn pull-right m-right">\n                导入成绩\n            </div>\n            <div id="addItem" class="small-btn pull-right m-right">\n                添加成绩\n            </div>\n            <div id="goBack" class="small-btn pull-right m-right">\n                返回项目列表\n            </div>\n        </div>\n        <table class="table text-center train border around margin-none">\n            <thead><tr>\n                <th width="60px">序号</th>\n                <th>姓名</th>\n                <th>员工编号</th>\n                <th>所属单位</th>\n                <th>成绩</th>\n                <th width="300px">备注</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>\n'+(null!=(l=a.each.call(s,null!=n?n.achievement:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+"            </tbody>\n        </table>\n    </section>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=n?n.pageCount:n,"gt",1,{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},6:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return"                    <tr>\n                        <td>"+d((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,typeof l===o?l.call(s,{name:"i",hash:{},data:i}):l))+"</td>\n                        <td>"+d((l=null!=(l=a.memberName||(null!=n?n.memberName:n))?l:r,typeof l===o?l.call(s,{name:"memberName",hash:{},data:i}):l))+"</td>\n                        <td>"+d((l=null!=(l=a.memberNumber||(null!=n?n.memberNumber:n))?l:r,typeof l===o?l.call(s,{name:"memberNumber",hash:{},data:i}):l))+"</td>\n                        <td>"+d((l=null!=(l=a.orgName||(null!=n?n.orgName:n))?l:r,typeof l===o?l.call(s,{name:"orgName",hash:{},data:i}):l))+"</td>\n                        <td>"+d((l=null!=(l=a.grades||(null!=n?n.grades:n))?l:r,typeof l===o?l.call(s,{name:"grades",hash:{},data:i}):l))+'</td>\n                        <td><div class="text-overflow" title="'+d((l=null!=(l=a.desc||(null!=n?n.desc:n))?l:r,typeof l===o?l.call(s,{name:"desc",hash:{},data:i}):l))+'" style="max-width:300px;">'+d((l=null!=(l=a.desc||(null!=n?n.desc:n))?l:r,typeof l===o?l.call(s,{name:"desc",hash:{},data:i}):l))+'</div></td>\n                        <td class="operation">\n                            <a id="edit'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-memberNumber="'+d((l=null!=(l=a.memberNumber||(null!=n?n.memberNumber:n))?l:r,typeof l===o?l.call(s,{name:"memberNumber",hash:{},data:i}):l))+'" data-memberName="'+d((l=null!=(l=a.memberName||(null!=n?n.memberName:n))?l:r,typeof l===o?l.call(s,{name:"memberName",hash:{},data:i}):l))+'" data-grades="'+d((l=null!=(l=a.grades||(null!=n?n.grades:n))?l:r,typeof l===o?l.call(s,{name:"grades",hash:{},data:i}):l))+'" data-desc="'+d((l=null!=(l=a.desc||(null!=n?n.desc:n))?l:r,typeof l===o?l.call(s,{name:"desc",hash:{},data:i}):l))+'" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">编辑</a>\n                             | \n                            <a id="remove'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">删除</a>\n                        </td>\n                    </tr>\n'},8:function(e,n,a,t,i){return'                    <tr><td colspan="7"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n'},10:function(e,n,a,t,i){return'        <div id="pager" class="pagination" style="margin:1em;"></div>\n'},12:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'<form class="vertical"><div class="addcarinfo-page"><div class="addcarinfo-content">\n    <div class="form align-left">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.title:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+'        <div class="form-row">\n            <label class="required">成绩</label>\n            <div class="content">\n                <input id="grades" class="input" name="grades" maxlength="10" x-rule="required,maxLength:10" value="'+r(s(null!=(l=null!=n?n.achievementInfo:n)?l.grades:l,n))+'"/>\n                <div class="tips">0/10</div>\n            </div>\n        </div>\n        <div class="form-row">\n            <label class="auto">备注</label>\n            <div class="content">\n                <textarea id="desc" class="input" name="desc" maxlength="100" x-rule="maxLength:100" value="'+r(s(null!=(l=null!=n?n.achievementInfo:n)?l.desc:l,n))+'" rows="3">'+r(s(null!=(l=null!=n?n.achievementInfo:n)?l.desc:l,n))+'</textarea>\n                <div class="tips">0/100</div>\n            </div>\n        </div>\n    </div>\n</div>\n</div>\n</form>'},13:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression
;return'            <div class="form-row">\n                <div class="col-sm-6 inline-block">\n                    <label>员工名称：</label>\n                    <span>'+r(s(null!=(l=null!=n?n.achievementInfo:n)?l.memberName:l,n))+'</span>\n                </div>\n                <div class="col-sm-6 inline-block">\n                    <label>员工编号：</label>\n                    <span>'+r(s(null!=(l=null!=n?n.achievementInfo:n)?l.memberNumber:l,n))+"</span>\n                </div>\n            </div>\n"},15:function(e,n,a,t,i){var l;return'            <div class="form-row">\n                <label class="required">员工编号</label>\n                <div class="content">\n                    <input id="memberNumber" class="input" name="memberNumber" maxlength="11" x-rule="required,maxLength:11" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.achievementInfo:n)?l.memberNumber:l,n))+'"/>\n                    <div class="tips">0/11</div>\n                </div>\n            </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"filter",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"edit",{name:"view",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/score/achievement/view-content",function(e,n,a){var t=e("lodash/collection");a.title="成绩列表",a.bindings={achievement:!0,achievementInfo:!0,state:!0,search:"search"},a.components=[{id:"pager",name:"pager",options:{model:"achievement"}}],a.events={"click addItem":"addItem","click edit*":"editItem","click remove*":"delItem","click goBack":"goBack","click importItem":"importItem"},a.handlers={addItem:function(){this.bindings.achievementInfo.clear(),this.app.viewport.modal(this.module.items.edit,{title:"添加成绩"})},editItem:function(e,n,a){var t=a.getAttribute("data-memberNumber"),i=a.getAttribute("data-memberName"),l=a.getAttribute("data-grades"),s=a.getAttribute("data-desc")||"";this.bindings.achievementInfo.data={id:e,memberNumber:t,memberName:i,grades:l,desc:s},this.app.viewport.modal(this.module.items.edit,{title:"编辑成绩"})},goBack:function(){var e=this.bindings.state.data;e.callback&&e.callback("project")},importItem:function(){var e=this.bindings.state.data,n=this,a=this.module.items["train/service/score/achievement/import-data"];this.app.viewport.modal(a,{classId:e.classId,projectId:e.projectId,callback:function(){return n.chain(n.module.dispatch("init",e))}})},delItem:function(e){var n=this;return this.Promise.create(function(a){n.app.message.confirm("是否确认删除?",function(){return n.module.dispatch("delItem",{id:e})},function(){a(!1)})})}},a.dataForTemplate={pageCount:function(){return this.bindings.achievement.getPageInfo().pageCount},achievement:function(e){var n=e.achievement||[],a=this.bindings.achievement.getPageInfo().page;return t.map(n,function(e,n){e.i=n+1+10*(a-1)}),e.achievement}}},{"lodash/collection":!1}),loadjs.d("./app/train/service/score/achievement/view-edit",function(e,n,a){var t=e("jquery"),i=e("drizzle-zxy"),l=e("./app/ext/views/form/markers"),s=e("./app/ext/views/form/validators");a.title=function(){return this.renderOptions.title},a.bindings={achievement:!0,achievementInfo:!0,state:!0},a.events={"change memberNumber":"changeMemberNumber","input memberNumber":"changeMemberNumberTips","change grades":"changeGrades","input grades":"changeGradesTips","input desc":"changeDescTips"},a.handlers={changeMemberNumber:function(){var e=t(this.$("memberNumber")),n=new RegExp("\\{0\\}","g");l.text.valid(e),s.required.fn(e.val())?s.maxLength.fn(e.val(),11)||l.text.invalid(e,s.maxLength.message.replace(n,11)):l.text.invalid(e,s.required.message)},changeMemberNumberTips:function(){var e,n,a=this.$("memberNumber"),i=t(a).nextAll(".tips");0!==i.length&&(e=t(a).attr("x-rule").match(/maxLength:(\d+)/)[1],n=t(a).val().length,i.text(n+"/"+e))},changeGrades:function(){var e=t(this.$("grades")),n=new RegExp("\\{0\\}","g");l.text.valid(e),s.required.fn(e.val())?s.maxLength.fn(e.val(),11)||l.text.invalid(e,s.maxLength.message.replace(n,10)):l.text.invalid(e,s.required.message)},changeGradesTips:function(){var e,n,a=this.$("grades"),i=t(a).nextAll(".tips");0!==i.length&&(e=t(a).attr("x-rule").match(/maxLength:(\d+)/)[1],n=t(a).val().length,i.text(n+"/"+e))},changeDescTips:function(){var e,n,a=this.$("desc"),i=t(a).nextAll(".tips");0!==i.length&&(e=t(a).attr("x-rule").match(/maxLength:(\d+)/)[1],n=t(a).val().length,i.text(n+"/"+e))}},a.buttons=[{text:"确定",action:"saveOption"}],a.actions={"click saveOption":"saveOption"},a.dataForActions={saveOption:function(e){var n=this.bindings.achievementInfo.data,a=this.bindings.state.data.projectId,r=t(this.$("grades")),o=t(this.$("memberNumber")),d=!0;return n.projectId=a,i.assign(n,e),l.text.valid(r),"添加成绩"===this.renderOptions.title&&l.text.valid(o),s.required.fn(r.val())||(l.text.invalid(r,s.required.message),d=!1),"添加成绩"!==this.renderOptions.title||s.required.fn(o.val())||(l.text.invalid(o,s.required.message),d=!1),d?n:d}},a.actionCallbacks={saveOption:function(){this.app.message.success("保存成功"),this.module.dispatch("init",this.bindings.state.data)}},a.afterRender=function(){var e,n,a,i,l=this.module.store.models.achievementInfo.data,s=l.grades,r=l.desc,o=t(this.$("grades")).nextAll(".tips"),d=t(this.$("desc")).nextAll(".tips");0!==o.length&&0!==d.length&&(e=t(this.$("grades")).attr("x-rule").match(/maxLength:(\d+)/)[1],a=t(this.$("desc")).attr("x-rule").match(/maxLength:(\d+)/)[1],s&&(n=s.length,o.text(n+"/"+e)),r&&(i=r.length,d.text(i+"/"+a)))},a.dataForTemplate={title:function(){return"编辑成绩"===this.renderOptions.title},achievementInfo:function(e){return e.achievementInfo}}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","drizzle-zxy":!1,jquery:!1}),loadjs.d("./app/train/service/score/achievement/view-filter",function(e,n,a){var t=e("jquery");a.events={"click search":"goSearch"},a.handlers={goSearch:function(){var e=t(this.$("memberName")).val().trim(),n=t(this.$("memberNumber")).val().trim(),a=t(this.$("orgId")).val().trim();this.module.dispatch("search",{memberName:e||null,memberNumber:n||null,orgId:a||null})}}},{jquery:!1}),loadjs.d("./app/train/service/score/index",function(e,n,a){a.items={main:"main"},a.store={models:{projectInfo:{},state:{}},callbacks:{init:function(e){var n=this.models.state;n.data.tab="project",n.data.classId=e.classId,n.changed()}}},a.beforeRender=function(){var e=this.renderOptions.state||{};return this.dispatch("init",{classId:e.classId})}},{}),loadjs.d("./app/train/service/score/project/index",function(e,n,a){a.items={main:"main",edit:""},a.store={models:{project:{url:"../train/grades-project/page",type:"pageable",root:"items"},addItem:{url:"../train/grades-project/insert"},editItem:{url:"../train/grades-project/update"},showItem:{url:"../train/grades-project/show"},delItem:{url:"../train/grades-project/delete"},classInfo:{url:"../train/class-info/get"},projectInfo:{data:{}},state:{data:{}}},callbacks:{init:function(e){var n=this.models.project,a=this.models.state;return n.clear(),a.data=e,a.changed(),n.params.classId=a.data.classId,this.get(n,{loading:!0})},saveOption:function(e){var n=this.models.addItem;return e.id&&(n=this.models.editItem),n.set(e),this.post(n)},showItem:function(e){var n=this.models.showItem,a=this.models.project,t=this;n.set(e),this.post(n).then(function(){t.get(a)})},delItem:function(e){var n=this.models.delItem,a=this.models.project,t=this;n.set(e),this.post(n).then(function(){t.app.message.success("删除成功"),t.get(a)})}}},a.beforeRender=function(){var e=this.renderOptions;return this.dispatch("init",{classId:e.state.classId,callback:e.callback})}},{}),loadjs.d("./app/train/service/score/project/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="addcarinfo-page">\n        <div class="div" data-region="main"></div>\n    </div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <section>\n        <div class="clearfix m-top">\n            <div class="h4 pull-left m-left">项目列表</div>\n            <div id="addItem" class="small-btn pull-right m-right">\n                添加项目\n            </div>\n        </div>\n        <table class="table text-center train border around margin-none">\n            <thead><tr>\n                <th width="60px">序号</th>\n                <th width="500px">项目名称</th>\n                <th>学员端状态</th>\n                <th>导入人数</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>\n'+(null!=(l=a.each.call(s,null!=n?n.project:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.program(13,i,0),data:i}))?l:"")+"            </tbody>\n        </table>\n    </section>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=n?n.pageCount:n,"gt",1,{name:"compare",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return"                    <tr>\n                        <td>"+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+'</td>\n                        <td><div class="text-overflow" title="'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'" style="max-width:500px;">'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+"</div></td>\n                        <td>\n                            "+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq","0",{name:"compare",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+"                        </td>\n                        <td>"+c((s=null!=(s=a.memberCount||(null!=n?n.memberCount:n))?s:o,typeof s===d?s.call(r,{name:"memberCount",hash:{},data:i}):s))+'</td>\n                        <td class="operation">\n                            <a id="edit'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">修改</a>\n                             | \n                            <a id="achievement'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">编辑</a>\n                             | \n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.status:n,"eq","0",{name:"compare",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+'                             | \n                            <a id="remove'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+'" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">删除</a>\n                        </td>\n                    </tr>\n'},5:function(e,n,a,t,i){return"隐藏\n                            "},7:function(e,n,a,t,i){return"显示\n"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <a id="show'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">显示</a>\n'},11:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <a id="hidden'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">隐藏</a>\n'},13:function(e,n,a,t,i){return'                    <tr><td colspan="5"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n'},15:function(e,n,a,t,i){return'        <div id="pager" class="pagination" style="margin:1em;"></div>\n'},17:function(e,n,a,t,i){var l;return'<form class="vertical"><div class="addcarinfo-page"><div class="addcarinfo-content">\n    <div class="form align-left">\n        <div class="form-row">\n            <label class="required">项目名称</label>\n            <div class="content">\n                <input id="name" class="input" name="name" maxlength="50" x-rule="required,maxLength:50" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.projectInfo:n)?l.name:l,n))+'"/>\n                <div class="tips">0/50</div>\n            </div>\n        </div>\n    </div>\n</div>\n</div>\n</form>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"edit",{name:"view",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/score/project/view-edit",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/markers"),l=e("drizzle-zxy"),s=e("./app/ext/views/form/validators");a.title=function(){return this.renderOptions.title},a.bindings={project:!0,state:!0,projectInfo:!0},a.buttons=[{text:"确定",action:"saveOption"}],a.events={"change name":"changeName","input name":"changeNameTips"},a.handlers={changeName:function(){var e=t(this.$("name")),n=new RegExp("\\{0\\}","g");i.text.valid(e),s.required.fn(e.val())?s.maxLength.fn(e.val(),50)||i.text.invalid(e,s.maxLength.message.replace(n,50)):i.text.invalid(e,s.required.message)},changeNameTips:function(){var e,n,a=this.$("name"),i=t(a).nextAll(".tips");0!==i.length&&(e=t(a).attr("x-rule").match(/maxLength:(\d+)/)[1],n=t(a).val().length,i.text(n+"/"+e))}},a.actions={"click saveOption":"saveOption"},a.dataForActions={saveOption:function(e){var n=this.bindings.projectInfo.data,a=t(this.$("name")),r=this.bindings.state.data.classId;return n.classId=r,l.assign(n,e),i.text.valid(a),s.required.fn(a.val())?n:(i.text.invalid(a,s.required.message),!1)}},a.actionCallbacks={saveOption:function(){this.app.message.success("保存成功"),this.module.dispatch("init",this.bindings.state.data)}},a.afterRender=function(){var e,n,a=this.module.store.models.projectInfo.data,i=a.name,l=t(this.$("name")).nextAll(".tips");0!==l.length&&(e=t(this.$("name")).attr("x-rule").match(/maxLength:(\d+)/)[1],i&&(n=i.length,l.text(n+"/"+e)))}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","drizzle-zxy":!1,jquery:!1}),loadjs.d("./app/train/service/score/project/view-main",function(e,n,a){var t=e("lodash/collection");a.title="项目列表",a.bindings={project:!0,projectInfo:!0,state:!1},a.components=[{id:"pager",name:"pager",options:{model:"project"}}],a.events={"click addItem":"addItem","click edit*":"editItem","click remove*":"delItem","click show*":"showItem","click hidden*":"hiddenItem","click achievement*":"toAchievement"},a.handlers={addItem:function(){this.bindings.projectInfo.clear(),this.app.viewport.modal(this.module.items.edit,{title:"新增项目"})},editItem:function(e,n,a){var t=a.getAttribute("data-name");this.bindings.projectInfo.data={id:e,name:t},this.app.viewport.modal(this.module.items.edit,{title:"修改项目"})},toAchievement:function(e){var n=this.bindings.state.data;n.callback&&n.callback("achievement",{projectId:e})},showItem:function(e,n,a){var t=this,i=a.getAttribute("data-name"),l="是否确认显示项目"+i+"?";return this.Promise.create(function(n){t.app.message.confirm(l,function(){return t.module.dispatch("showItem",{id:e})},function(){n(!1)})})},hiddenItem:function(e,n,a){var t=this,i=a.getAttribute("data-name"),l="是否确认隐藏项目"+i+"?";return this.Promise.create(function(n){t.app.message.confirm(l,function(){return t.module.dispatch("showItem",{id:e})},function(){n(!1)})})},delItem:function(e,n,a){var t=this,i=a.getAttribute("data-name"),l="是否确认删除项目"+i+"?";return this.Promise.create(function(n){t.app.message.confirm(l,function(){return t.module.dispatch("delItem",{id:e})},function(){n(!1)})})}},a.dataForTemplate={pageCount:function(){return this.bindings.project.getPageInfo().pageCount},project:function(e){var n=e.project||[],a=this.bindings.project.getPageInfo().page;return t.map(n,function(e,n){e.i=n+1+10*(a-1)}),e.project}}},{"lodash/collection":!1}),loadjs.d("./app/train/service/score/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="addcarinfo-page">\n        <div class="div" data-region="main"></div>\n    </div>\n'},3:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.tab:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:""},4:function(e,n,a,t,i){var l;return'        <div style="padding:0px;margin:0px;" data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.tab:l,n))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/score/view-main",function(e,n,a){var t=e("drizzle-zxy");a.type="dynamic",a.bindings={state:!0},a.getEntityModuleName=function(e){return"train/service/score/"+e},a.getEntity=function(){return{state:this.bindings.state.data}},a.dataForEntityModule=function(e){var n=this.bindings.state;return{state:e.state,callback:function(e,a){n.data.tab=e||"project",t.assign(n.data,a||{}),n.changed()}}}},{"drizzle-zxy":!1}),loadjs.d("./app/train/service/settle/index",function(e,n,a){var t=e("lodash");a.items={content:"content"},a.store={models:{settlement:{url:"../train/settlement/get"},quantity:{url:"../train/settlement/member-quantity",mixin:{changeDate:function(e,n){this.data[e]&&(this.data[e].quantity=n)}}},hasValQuantity:{data:[],mixin:{setData:function(e){t.find(this.data,["date",e.date])?t.find(this.data,["date",e.date]).quantity=e.quantity:this.data.push(e)},delData:function(e){this.data=t.filter(this.data,function(n){return n.date!==e.date})}}},state:{data:{}},settleNum:{data:[],mixin:{setDate:function(e){t.find(this.data,["id",e.id]).num=e.value}}},currentPage:{data:{page:1,more:!0}},save:{url:"../train/settlement"},saveQuantity:{url:"../train/settlement/member-quantity"},flag:{data:!0}},callbacks:{init:function(e){var n=this.models.settlement,a=this.models.currentPage,i=this.models.quantity,l=this.models.settleNum,s=this.models.hasValQuantity,r=this,o=this.models.state;return n.params={id:e.classId},i.params={classId:e.classId},o.data.role=e.role,this.get(n,{loading:!0}).then(function(e){var n,o=e[0];r.get(i).then(function(e){s.data=e[0],i.data=t.keyBy(e[0],function(e){return r.module.toDateStr(e.date)}),l.data=r.module.initDate(o.arriveDate,o.returnDate),n=Math.ceil(l.data.length/30),a.data.item=n>1,a.data.more=n>1,l.changed()})})},save:function(e){var n=this.models.save,a=this.models.saveQuantity,i=this.models.hasValQuantity.data,l=this;return n.clear(),a.clear(),n.set(e),a.set({classId:e.classId,data:JSON.stringify(t.map(i,function(e){return{date:e.date,quantity:e.quantity}}))}),this.save(n).then(function(){l.save(a).then(function(){var n=l.models.settlement;n.clear(),n.params={id:e.classId},l.get(n)})})}}},a.beforeRender=function(){return this.dispatch("init",{classId:this.renderOptions.state.classId,role:this.renderOptions.state.role})},a.mixin={toDateStr:function(e){var n=new Date(e),a=(n.getMonth()+1).toString(),t=n.getDate().toString();return a=1===a.length?"0"+a:a,t=1===t.length?"0"+t:t,n.getFullYear()+"-"+a+"-"+t},initDate:function(e,n){var a=function(e){return e?new Date(e):new Date};if(!e||!n)return[];if(e===n)return[{train_date:this.toDateStr(e),num:"",id:String(0)}];var t=a(e),i=a(n),l=this.toDateStr(t),s=this.toDateStr(i);if(t>i){var r=t;t=i,i=r}t.setDate(t.getDate()+1);for(var o=[],d=0;t.getFullYear()!==i.getFullYear()||t.getMonth()!==i.getMonth()||t.getDate()!==i.getDate();)o[d]={train_date:this.toDateStr(t),num:"",id:String(d+1)},d++,t.setDate(t.getDate()+1);return o.splice(0,0,{train_date:l,num:"",id:String(0)}),o.push({train_date:s,num:"",id:String(d+1)}),o}}},{lodash:696}),loadjs.d("./app/train/service/settle/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="classmanage-page">\n    <div class="classmanage" data-region="content"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'<form class="vertical">\n    <div class="m-top">\n        <div class="container layout-mt">\n            <div class="form align-left">\n                <div class="clearfix">\n                    <div class="form-row pull-left form-row-width r-padding">\n                        <label class="label required">培训人数</label>\n                        <div class="content"><input class="input" name="peopleDayEntity" readonly value="'+r(s(null!=(l=null!=n?n.settlement:n)?l.peopleDayEntity:l,n))+'" disabled/></div>\n                    </div>\n                    <div class="form-row pull-left form-row-width r-padding">\n                        <label class="label required">培训天数</label>\n                        <div class="content"><input class="input" name="dayNumberEntity" id="dayNumberEntity" x-rule="maxLength:3,required" maxlength="3" value="'+r(s(null!=(l=null!=n?n.settlement:n)?l.dayNumberEntity:l,n))+'"/></div>\n                    </div>\n                    <div class="form-row pull-left form-row-width">\n                        <label class="label required">培训人日</label>\n                        <div class="content"><input class="input" name="peopleNumberEntity" readonly value="'+r(s(null!=(l=null!=n?n.settlement:n)?l.peopleNumberEntity:l,n))+'" disabled/></div>\n                    </div>\n                    <div class="form-row pull-left form-row-width r-padding">\n                        <label class="label required">上课天数</label>\n                        <div class="content"><input class="input" name="attendDays" id="input-days" value="'+r(s(null!=(l=null!=n?n.settlement:n)?l.attendDays:l,n))+'" x-rule="maxLength:4,required" maxlength="4"/></div>\n                    </div>\n                    \x3c!--  .form-row.pull-left.form-row-width.r-padding --\x3e\n                    \x3c!--      label.label.required 结算人数 --\x3e\n                    \x3c!--      .content > input.input( id =\'input-class-1\' x-rule=\'maxLength:3,required\' maxlength=\'3\' name=\'peopleNumber\' value= settlement.peopleNumber) --\x3e\n                    <div class="form-row pull-left form-row-width r-padding">\n                        <label class="label required">结算天数</label>\n                        <div class="content"><input class="input" name="dayNumber" id="dayNumber" value="'+r(s(null!=(l=null!=n?n.settlement:n)?l.dayNumber:l,n))+'"/></div>\n                    </div>\n                    <div class="form-row pull-left form-row-width">\n                        <label class="label required">结算人日</label>\n                        <div class="content"><input class="input" name="peopleDay" value="'+r(s(null!=(l=null!=n?n.settlement:n)?l.peopleDayText:l,n))+'" x-rule="maxLength:5,required" maxlength="5" disabled/></div>\n                    </div>\n                    <div class="form-row pull-left form-row-width r-padding">\n                        <label class="label required">结算月份</label>\n                        <div class="content"><input class="input" name="createMouth" value="'+r(s(null!=(l=null!=n?n.settlement:n)?l.createMouth:l,n))+'"/></div>\n                    </div>\n                </div>\n                <div class="form-row">\n                    <section class="layout-mt-small">\n                        <div id="train-title-4" class="train-title train-settle-title border top left right clearfix">\n                            <label class="pull-left h4 title-color">结算人数：'+r(s(null!=(l=null!=n?n.settlement:n)?l.settlementQuantityText:l,n))+'</label>\n                            <input type="hidden" name="settlementQuantity" value="'+r(s(null!=(l=null!=n?n.settlement:n)?l.settlementQuantity:l,n))+'"/>\n                            <div class="pull-right">\n'+(null!=(l=a.if.call(o,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+"                            </div>\n                        </div>\n                    </section>\n"+(null!=(l=a.if.call(o,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'                </div>\n                <div class="form-row">\n                    <label class="label">说明</label>\n                    <div class="content" style="margin:0"><textarea class="input" name="explain" rows="5" x-rule="maxLength:2000" maxLength="2000">'+r(s(null!=(l=null!=n?n.settlement:n)?l.explain:l,n))+'</textarea></div>\n                    <div class="col-sm-4"></div>\n                    <div class="inline-block"><input class="input" type="hidden" name="id" value="'+r(s(null!=(l=null!=n?n.settlement:n)?l.id:l,n))+'"/></div>\n                    <div class="content"><input class="input" type="hidden" name="classId" value="'+r(s(null!=(l=null!=n?n.settlement:n)?l.classId:l,n))+'"/></div>\n                </div>\n            </div>\n'+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.settlement:n)?l.num:l,"eq",1,{name:"compare",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.settlement:n)?l.num:l,"eq",2,{name:"compare",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n    </div>\n</form>"},4:function(e,n,a,t,i){return'                                    <span id="min-4">收起</span>\n                                    <i id="minimize-4" class="iconfont icon-minus-full text-main-color m-right pointer"></i>\n'},6:function(e,n,a,t,i){return'                                    <span id="min-4">展开</span>\n                                    <i id="minimize-4" class="iconfont icon-add-full text-main-color m-right pointer"></i>\n'},8:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                        <table id="minitable-4" class="table border around" style="margin:0">\n                            <tr>\n                                <th class="border right bottom">培训日期</th>\n                                <th class="border right bottom">培训人数</th>\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.settleTh:n)?l.th2:l,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.settleTh:n)?l.th3:l,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+"                            </tr>\n"+(null!=(l=a.each.call(s,null!=n?n.settleNum:n,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+"                        </table>\n"+(null!=(l=a.if.call(s,null!=(l=null!=n?n.currentPage:n)?l.item:l,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")},9:function(e,n,a,t,i){return'                                    <th class="border right bottom">培训日期</th>\n                                    <th class="border right bottom">培训人数</th>\n'},11:function(e,n,a,t,i){return'                                    <th class="settle-th-white"></th>\n                                    <th class="settle-th-white"></th>\n'},13:function(e,n,a,t,i){var l;return'                                <tr class="border bottom">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.a:n,{name:"each",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"                                </tr>\n"},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                                        <td class="border right settle-td-date">'+d((l=null!=(l=a.train_date||(null!=n?n.train_date:n))?l:r,typeof l===o?l.call(s,{name:"train_date",hash:{},data:i}):l))+'</td>\n                                        <td class="border right settle-td">\n                                            <div class="settle-td-div" id="label-date-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.num||(null!=n?n.num:n))?l:r,typeof l===o?l.call(s,{name:"num",hash:{},data:i}):l))+'</div>\n                                            <input class="settle-td-input" maxlength="6" id="input-date-'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" value="'+d((l=null!=(l=a.num||(null!=n?n.num:n))?l:r,typeof l===o?l.call(s,{name:"num",hash:{},data:i}):l))+'" data-date="'+d((l=null!=(l=a.train_date||(null!=n?n.train_date:n))?l:r,typeof l===o?l.call(s,{name:"train_date",hash:{},data:i}):l))+'" style="display:none;"/>\n                                        </td>\n'},16:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                            <div id="minipage-4" class="train-title train-settle-title border bottom left right">\n                                <div id="pager" class="pagination" style="margin-bottom:0">\n'+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=(l=null!=n?n.currentPage:n)?l.page:l,"gt",1,{name:"compare",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+'                                    <div class="item active">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.currentPage:n)?l.page:l,n))+"</div>\n"+(null!=(l=a.if.call(s,null!=(l=null!=n?n.currentPage:n)?l.more:l,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+"                                </div>\n                            </div>\n"},17:function(e,n,a,t,i){
return'                                        <div class="item" id="arrow-prev" data-dir="prev">\n                                            <div class="iconfont icon-arrow-left scale-1"></div>\n                                        </div>\n'},19:function(e,n,a,t,i){return'                                        <div class="item" id="arrow-next" data-dir="next">\n                                            <div class="iconfont icon-arrow-right scale-1"></div>\n                                        </div>\n'},21:function(e,n,a,t,i){return'                <div class="text-center"><btn class="btn layout-mb-small" id="saveBalanceSubmit">提交</btn></div>\n'},23:function(e,n,a,t,i){return'                <div class="text-center"><btn class="btn layout-mb-small" id="saveBalanceSubmit1">修改</btn></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/settle/view-content",function(e,n,a){var t,i=e("jquery"),l=e("lodash"),s="",r=e("./app/ext/views/form/validators");a.bindings={settlement:!0,state:!0,settleNum:!0,quantity:!0,currentPage:!0,hasValQuantity:!1,flag:!0},a.events={"change input-days":"updateDay","click minimize-*":"showMinimize","click arrow-*":"arrow","click label-date-*":"changeDate","change dayNumberEntity":"changeDayNumberEntity","change dayNumber":"changeDayNumber"},a.actions={"click saveBalanceSubmit*":"save","click saveBalanceSubmit1*":"save"},a.handlers={changeDayNumberEntity:function(){this.bindings.settlement.data.dayNumberEntity=i(this.$$('[name="dayNumberEntity"]')).val()},changeDayNumber:function(){this.bindings.settlement.data.dayNumber=i(this.$$('[name="dayNumber"]')).val()},updateDay:function(){var e=this.bindings.settlement,n=this.bindings.settlement.data,a=Number(i(this.$$('[name="attendDays"]')).val()),t=Math.round(a);Number(a)>=0?(n.dayNumber=t+(t===a?2:1),n.dayNumberEntity=t+1,n.settlementQuantity=Math.round(this.getPeopleDayEntity()/n.dayNumberEntity),n.peopleDay=n.settlementQuantity*n.dayNumber,n.peopleNumberEntity=n.peopleDayEntity*n.dayNumberEntity,n.attendDays=a,e.changed()):(this.app.message.error("请输入大于等于0的数字"),i(this.$$('[name="attendDays"]')).val(n.attendDays))},showMinimize:function(e){var n=this.bindings.flag;"收起"===i(this.$("min-"+e)).text()?n.data=!1:n.data=!0,n.changed()},changeDate:function(e){var n=this.$("input-date-"+e),a=this.$("label-date-"+e);i(n).css("display","block"),i(a).css("display","none"),i(n).val(i(a).text()),n.focus(),s=e,this.onBlur(n)},arrow:function(e){var n,a=this.bindings.currentPage,t=this.bindings.settleNum.data,i=a.data.page;i="prev"===e?i-1:i+1,n=Math.ceil(t.length/30),a.data.more=n>i,a.data.page=i,a.changed()}},a.dataForTemplate={settlement:function(){var e=this.bindings.state.data,n=this.bindings.settlement.data,a=0;return 3===e.role&&0===n.flag&&(a=1),1===e.role&&(0!==n.flag?a=2:0===n.flag&&(a=1)),n.settlementQuantity=n.settlementQuantity||0,n.settlementQuantityText=String(n.settlementQuantity),n.peopleDayText=String(n.peopleDay),n.num=a,n},settleNum:function(){var e=this.bindings.settleNum.data,n=this.bindings.currentPage.data,a=this.bindings.quantity.data,i=t(e,3).slice(10*(n.page-1),10*n.page);return i=l.map(i,function(e){var n=e;return n.a=l.map(n.a,function(e){var n=e;return n.num=n.num||a[n.train_date]&&a[n.train_date].quantity||"",n}),n})},settleTh:function(){var e=this.bindings.settleNum.data,n=this.bindings.currentPage.data,a=[];return a=t(e,3).slice(10*(n.page-1),10*n.page),{th2:!(1===a.length&&a[0].a.length<2),th3:!(1===a.length&&a[0].a.length<3)}}},a.dataForActions={save:function(e){var n=i(this.$$('[name="settlementQuantity"]')).val(),a=i(this.$$('[name="dayNumberEntity"]')).val(),t=i(this.$$('[name="createMouth"]')).val(),l=i(this.$$('[name="attendDays"]')).val(),s=t.substr(0,1),o=t.substr(5),d=i(this.$$('[name="dayNumber"]')).val(),c=i(this.$$('[name="peopleDay"]')).val(),u=e;return r.required.fn(a)?r.keepDecimal.fn(a,1)?r.required.fn(n)?r.number.fn(n)?r.required.fn(l)?r.number.fn(l)?l<=0?(this.app.message.error("上课天数必须大于0"),!1):r.keepDecimal.fn(l,1)?r.required.fn(t)?r.required.fn(d)?r.digits.fn(n)?r.digits.fn(d)?r.number.fn(d)?r.number.fn(c)?r.required.fn(c)?r.dateYears.fn(t)?0===s||"0"===s?(this.app.message.error("年份必须从1开始"),!1):"00"===o?(this.app.message.error("月份必须从01开始"),!1):(u.peopleDay=c,u.attendDays=l,u.dayNumberEntity=a,u.dayNumber=d,u):(this.app.message.error("按照YYYY-MM输入结算月份"),!1):(this.app.message.error("结算人日必填"),!1):(this.app.message.error("结算人日只能填数字"),!1):(this.app.message.error("结算天数只能填数字"),!1):(this.app.message.error("结算天数只能是正整数和0"),!1):(this.app.message.error("结算人数只能是正整数和0"),!1):(this.app.message.error("结算天数必填"),!1):(this.app.message.error("结算月份必填"),!1):(this.app.message.error("上课天数最多只能填写一位小数"),!1):(this.app.message.error("上课天数只能填数字"),!1):(this.app.message.error("上课天数必填"),!1):(this.app.message.error("结算人数只能是数字"),!1):(this.app.message.error("结算人数必填"),!1):(this.app.message.error("结算天数最多只能填写一位小数"),!1):(this.app.message.error("结算天数必填"),!1)},updateClass:function(e){return!!this.validate()&&e}},a.actionCallbacks={save:function(){this.app.message.success("保存成功！")}},a.mixin={validate:function(){return{settlementQuantity:i(this.$$('[name="settlementQuantity"]')),dayNumber:i(this.$$('[name="dayNumber"]')),peopleDay:i(this.$$('[name="peopleDay"]')),attendDays:i(this.$$('[name="attendDays"]')),classId:i(this.$$('[name="classId"]')),explain:i(this.$$('[name="explain"]'))}},onBlur:function(e){var n=this;e.addEventListener?(e.removeEventListener("blur",n.blurHandler,!1),e.addEventListener("blur",n.blurHandler,!1)):e.attachEvent&&(e.detachEvent("onblur",n.blurHandler),e.attachEvent("onblur",n.blurHandler))},blurHandler:function(){var e,n=this.bindings.settlement.data,a=this.bindings.hasValQuantity,t=this.bindings.quantity,l=this.bindings.settleNum,r=i(this.$("input-date-"+s)),o=r.val(),d=r.attr("data-date");i(this.$("input-date-"+s)).css("display","none"),i(this.$("label-date-"+s)).css("display","block"),Number(o)>=0?(l.setDate({id:s,value:o}),t.changeDate(d,o),o?a.setData({id:s,quantity:o,date:new Date((d||"").replace(/-/g,"/")).getTime()}):a.delData({id:s,quantity:o,date:new Date((d||"").replace(/-/g,"/")).getTime()}),e=this.getPeopleDayEntity(),n.settlementQuantity=Math.round(e/n.dayNumberEntity),n.peopleDay=n.settlementQuantity*n.dayNumber,l.changed()):this.app.message.error("请输入大于等于0的数字")},getPeopleDayEntity:function(){var e=this.bindings.settleNum;return l.reduce(e.data,function(e,n){var a=e;return a.sum=Number(a.sum||"")+Number(n.num),a},{}).sum||0}},a.afterRender=function(){"展开"===i(this.$("min-4")).text()&&(i(this.$("train-title-4")).addClass("bottom"),i(this.$("train-title-4")).css("margin-bottom","0"))},t=function(e,n){var a,t,i=[],l=[];if(e&&e.length){for(t=1;t<=e.length;t++)l.push(e[t-1]),t%n==0&&(a={},a.a=l,i.push(a),l=[]);return l.length>0&&(a={},a.a=l,i.push(a)),i}return[]}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1,lodash:696}),loadjs.d("./app/train/service/sign/index",function(e,n,a){a.items={main:"main",edit:"",preview:"","train/service/sign/sign-detail":{isModule:!0},"train/service/sign/sign-leave":{isModule:!0}},a.store={models:{signs:{url:"../train/sign/signs",type:"pageable",root:"items"},sign:{url:"../train/sign"},classResource:{url:"../train/class-resource"},classInfo:{url:"../train/class-info/get"},classRoom:{url:"../train/config-classroom/findList",mixin:{clearData:function(){this.data=null}}},batchDelete:{url:"../train/sign/batch-delete"},classDetail:{url:"../train/class-detail/find"},classDetailType:{url:"../train/class-detail/attendance"},editClassDetail:{url:"../train/class-detail/sign"},autoHalf:{url:"../train/sign/auto-half"},autoFull:{url:"../train/sign/auto-full"},download:{url:"../train/sign/down-qr"},findByRoom:{url:"../train/sign/find-by-room"},findByTime:{url:"../train/sign/find-time"},classroomByClassId:{url:"../train/config-classroom/findByClassId"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.state,a=this.models.classInfo,t=this.models.classDetailType,i=this.models.findByRoom;return n.data.classId=e.classId,t.clear(),a.clear(),i.clear(),t.params={classId:e.classId},a.params={id:e.classId},i.params={classId:e.classId},this.get(i),this.get(a).then(function(e){n.data.className=e[0].className,localStorage.setItem("class_arrive_date",e[0].arriveDate)}),this.get(t,{loading:!0}).then(function(e){return n.data.type=e[0].attendanceType,n.changed(),e})},editType:function(e){var n=this.models.state,a=this.models.editClassDetail;return a.clear(),a.set({classId:n.data.classId,attendanceType:e}),n.data.type=e,this.put(a)},autoHalf:function(){var e=this.models.state,n=this.models.autoHalf;return n.set({classId:e.data.classId}),this.save(n)},autoFull:function(){var e=this.models.state,n=this.models.autoFull;return n.set({classId:e.data.classId}),this.save(n)},signs:function(e){var n=this.models.signs,a=this.models.findByTime,t=this.models.state;return a.params={classId:t.data.classId,type:t.data.type},n.params=e,this.get(a),this.get(n)},preview:function(e){var n=this.models.sign;return n.set(e),this.get(n)},batchDelete:function(e){var n=this.models.batchDelete,a=this.models.signs,t={},i=this;t=e,t.classId=i.models.state.data.classId,n.set(t),i.put(n).then(function(){i.app.message.success("删除成功"),i.get(a)})},search:function(e){var n=this.models.signs;return n.params=e,this.get(n)},editSign:function(e){var n=this.models.sign,a=this.models.state,t={},i=this.models.classRoom;return t=e,t.classId=a.data.classId,n.set(t),i.params={type:6},this.get(i),this.get(n)},addSign:function(){var e=this.models.classRoom,n=this.models.state,a=this.models.classroomByClassId;return a.params={classId:n.data.classId},e.params={type:6},this.get(a),this.get(e)},del:function(e){var n=this.models.sign,a=this.models.signs,t=this;n.set(e),this.del(n).then(function(){t.app.message.success("删除成功"),t.get(a)})},save:function(e){var n=this.models.sign,a=this.models.signs,t=this;return n.set(e),this.save(n).then(function(){t.app.message.success("保存成功"),t.get(a)})}}},a.beforeRender=function(){var e=this.store.models.state,n=this;return e.data.role=n.renderOptions.state.role,this.chain([this.dispatch("init",{classId:this.renderOptions.state.classId}).then(function(a){null==a[0].attendanceType||""===a[0].attendanceType||0===a[0].attendanceType?a[0].flag?(n.dispatch("editType",1),n.renderOptions.state.type=1,n.dispatch("autoHalf").then(function(e){e[0]>0&&n.dispatch("signs",{type:1,classId:n.renderOptions.state.classId})})):(n.dispatch("signs",{type:1,classId:n.renderOptions.state.classId}),e.data.type=1):1===a[0].attendanceType?(n.dispatch("signs",{type:1,classId:n.renderOptions.state.classId}),e.data.type=1):2===a[0].attendanceType?(n.dispatch("signs",{type:2,classId:n.renderOptions.state.classId}),e.data.type=2):3===a[0].attendanceType&&(n.dispatch("signs",{type:3,classId:n.renderOptions.state.classId}),e.data.type=3)})])}},{}),loadjs.d("./app/train/service/sign/sign-detail/index",function(e,n,a){var t=e("drizzle-zxy");a.items={main:"main",search:"search",count:"count",status:"","batch-status":""},a.large=!0,a.title="签到名单",a.store={models:{signDetail:{url:"../train/sign-detail/sign-detail",type:"pageable",root:"items"},signOne:{url:"../train/sign-detail/one"},signCount:{url:"../train/sign-detail/count"},export:{url:"../train/sign-detail/download"},updateState:{url:"../train/sign-detail/update"},batchUpdate:{url:"../train/sign-detail/batch"},state:{data:{}},search:{data:{}}},callbacks:{update:function(e){var n=this.models.updateState,a=this.models.signDetail,t=this.models.signCount,i=this;n.params=e,n.set(e),i.put(n).then(function(){i.app.message.success("审核通过"),i.get(a),i.get(t),i.module.renderOptions.callback()})},batch:function(e){var n=this.models.batchUpdate,a=this.models.signDetail,t=this.models.state,i={},l=this;i=e,i.classId=t.data.classId,n.params=i,n.set(e),l.put(n).then(function(){l.app.message.success("修改成功"),l.get(a),l.module.renderOptions.callback()})},export:function(){var e=this.models.search.getQueryParams(),n={};n.page=1,n.pageSize=1e5,n.classId=e.classId,n.memberFullName=e.memberFullName,n.id=e.id,n.state=e.state,this.models.export.params=n,this.get(this.models.export)},init:function(e){var n=this.models.signDetail,a=this.models.signOne,t=this.models.signCount,i=this.models.search,l=this.models.state;return i.clear(),n.params=e,n.set({id:e.id}),a.params.id=e.id,a.clear(),t.params.id=e.id,t.clear(),l.data.role=e.role,l.data.classId=e.classId,l.data.className=e.className,this.get(a),this.get(t),this.get(n)},search:function(e){var n=this.models.signDetail,a=this.module.renderOptions.id;n.clear(),n.params={memberFullName:e.memberFullName.trim(),state:e.state},n.params.id=a,this.models.state.data.search=e,t.assign(this.models.search.data,e),this.get(n)},refreshList:function(e){var n=this.models.signDetail;n.clear(),n.params=e,this.get(n)},keypressSearch:function(e){var n=this.models.signDetail,a=this.module.renderOptions.id;n.clear(),n.params=e,n.params.id=a,this.models.state.data.search=e,t.assign(this.models.search.data,e),this.get(n)}}},a.beforeRender=function(){this.dispatch("init",{id:this.renderOptions.id,role:this.renderOptions.role,classId:this.renderOptions.classId,className:this.renderOptions.className})}},{"drizzle-zxy":!1}),loadjs.d("./app/train/service/sign/sign-detail/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-modalheight"><div class="attendancelist-page">\n    <div class="page-main-wrapper">\n        <div class="activity-category">\n            <div class="attendancelist-title" data-region="count"></div>\n            <div class="div" data-region="search"></div>\n            <div class="attendancelist-content" data-region="main"></div>\n        </div>\n    </div>\n</div>\n</div>'},3:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression,d=null!=n?n:{},c=a.helperMissing;return'    <div class="border bottom solid">\n        <div class="layout-mt-small clearfix">\n            <div class="attendancelist-title-item pull-left layout-mr">\n                <span>签到名称：</span>\n                <span>'+o(r(null!=(l=null!=n?n.signOne:n)?l.name:l,n))+'</span>\n            </div>\n            <div class="attendancelist-title-item pull-left layout-mr">\n                <span>签到时间：</span>\n                <span>'+o((a.dateMinute||n&&n.dateMinute||c).call(d,null!=(l=null!=n?n.signOne:n)?l.startTime:l,{name:"dateMinute",hash:{},data:i}))+" 至 "+o((a.dateMinute||n&&n.dateMinute||c).call(d,null!=(l=null!=n?n.signOne:n)?l.endTime:l,{name:"dateMinute",hash:{},data:i}))+'</span>\n            </div>\n            <div class="attendancelist-title-item pull-left layout-mr">\n                <span>迟到时间：</span>\n                <span>'+o((a.dateMinute||n&&n.dateMinute||c).call(d,null!=(l=null!=n?n.signOne:n)?l.lateTime:l,{name:"dateMinute",hash:{},data:i}))+'</span>\n            </div>\n            <div class="attendancelist-title-item pull-left layout-mr">\n                <span>签到方式：</span>\n                <span>'+o((s=null!=(s=a.signInType||(null!=n?n.signInType:n))?s:c,"function"==typeof s?s.call(d,{name:"signInType",hash:{},data:i}):s))+'</span>\n            </div>\n        </div>\n        <div class="layout-mt-small clearfix layout-mb-small">\n            <div class="recommend-item layout-mr pull-left">\n                <i class="iconfont icon-user-1"></i>\n                <span class="m-right">应出勤</span>\n                <span>'+o(r(null!=(l=null!=n?n.signCount:n)?l.classNum:l,n))+'</span>\n                <span>人</span>\n            </div>\n            <div class="recommend-item layout-mr pull-left">\n                <i class="iconfont icon-time text-main-color"></i>\n                <span class="m-right">正常签到</span>\n                <span>'+o(r(null!=(l=null!=n?n.signCount:n)?l.normal:l,n))+'</span>\n                <span class="m-right">人</span>\n                <span class="m-right">迟到</span>\n                <span>'+o(r(null!=(l=null!=n?n.signCount:n)?l.late:l,n))+'</span>\n                <span class="m-right">人</span>\n                <span class="m-right">未签到</span>\n                <span>'+o(r(null!=(l=null!=n?n.signCount:n)?l.notSign:l,n))+'</span>\n                <span class="m-right">人</span>\n            </div>\n            <div class="recommend-item layout-mr pull-left">\n                <i class="iconfont icon-user"></i>\n                <span class="m-right">请假</span>\n                <span>'+o(r(null!=(l=null!=n?n.signCount:n)?l.leave:l,n))+"</span>\n                <span>人</span>\n            </div>\n        </div>\n    </div>\n"},5:function(e,n,a,t,i){var l,s,r=e.escapeExpression,o=null!=n?n:{};return'<form id="searchKey" class="vertical">\n    <div class="layout-mt-small">\n        <div class="attendancelist-search clearfix">\n            <div class="pull-left">\n                <label>员工姓名：</label>\n                <input class="input layout-mr-small" name="memberFullName" id="name-2" value="'+r(e.lambda(null!=(l=null!=n?n.search:n)?l.memberFullName:l,n))+'" placeholder="请输入员工姓名"/>\n                <label>签到状态：</label>\n                <select id="statename-1" class="tag-select input-height" name="state">\n                    <option value="">全部</option>\n                    <option '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.selected:n)?l.type1:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">正常</option>\n                    <option '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.selected:n)?l.type2:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">迟到</option>\n                    <option '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.selected:n)?l.type3:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="3">未签到</option>\n                    <option '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.selected:n)?l.type4:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="4">请假</option>\n                </select>\n            </div>\n            <div class="pull-right">\n                <div id="search-" class="btn">查询</div>\n                <a href="'+r((s=null!=(s=a.exportUrl||(null!=n?n.exportUrl:n))?s:a.helperMissing,"function"==typeof s?s.call(o,{name:"exportUrl",hash:{},data:i}):s))+'"><div class="btn"><span>导出</span></div></a>\n'+(null!=(l=a.if.call(o,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n        </div>\n    </div>\n</form>"},6:function(e,n,a,t,i){return' selected="selected"'},8:function(e,n,a,t,i){return'                    <btn id="batchStatus1" class="btn">批量签到</btn>\n'},10:function(e,n,a,t,i){var l;return'    <table class="table text-center train border around">\n        <thead><tr>\n            <th><input type="checkbox" id="check-all"/></th>\n            <th>员工编号</th>\n            <th>员工姓名</th>\n            <th>员工电话</th>\n            <th>签到时间</th>\n            <th>状态</th>\n        </tr></thead>\n        <tbody>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.signDetail:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.program(16,i,0),data:i}))?l:"")+'        </tbody>\n    </table>\n    <div id="pager" class="pagination"></div>\n'},11:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return'                <tr>\n                    <td><input type="checkbox" id="check-item'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" name="detailId" value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"/></td>\n                    <td>'+d(c(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n                    <td>"+d(c(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                    <td>"+d(c(null!=(l=null!=n?n.member:n)?l.phoneNumber:l,n))+"</td>\n                    <td>"+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.signDate:n,{name:"dateMinute",hash:{},data:i}))+"</td>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.program(14,i,0),data:i}))?l:"")+"                </tr>\n"},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <td><a class="decoration-none" id="update'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((a.map||n&&n.map||r).call(s,"train-signdetail-state",null!=n?n.state:n,{name:"map",hash:{},data:i}))+"</a></td>\n"},14:function(e,n,a,t,i){return'                        <td><a class="decoration-none">'+e.escapeExpression((a.map||n&&n.map||a.helperMissing).call(null!=n?n:{},"train-signdetail-state",null!=n?n.state:n,{name:"map",hash:{},data:i}))+"</a></td>\n"},16:function(e,n,a,t,i){return'                <tr><td colspan="10"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容</p>\n                </div>\n                </td></tr>\n'},18:function(e,n,a,t,i){var l;return'<form class="vertical">\n    <div class="form layout-mt">\n        <div class="form-row">\n            <label class="m-right">签到状态</label>\n            <div class="content">\n                <select id="state" class="input" name="state">\n                    <option value="1">正常</option>\n                    <option value="2">迟到</option>\n                    <option value="3">未签到</option>\n                    <option value="4">请假</option>\n                </select>\n                <input class="input" name="id" type="hidden" value="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"/>\n            </div>\n        </div>\n    </div>\n</form>'},20:function(e,n,a,t,i){var l;return'<form class="vertical">\n    <p>请选择您要变更的签到状态</p>\n    <div class="layout-mt-small container layout-mb">\n        <label class="m-right">签到状态</label>\n        <select id="state" class="col-sm-10" name="state">\n            <option value="1">正常</option>\n            <option value="2">迟到</option>\n            <option value="3">未签到</option>\n            <option value="4">请假</option>\n        </select>\n        <input class="input" name="id" type="hidden" value="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"/>\n    </div>\n</form>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"count",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"status",{name:"view",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"batch-status",{name:"view",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/sign/sign-detail/view-batch-status",function(e,n,a){var t=e("jquery");a.title="请选择您要变更的签到状态",a.type="form",a.small=!0,a.bindings={signDetail:!0,state:!0},a.buttons=[{text:"确定",action:"batch"}],a.actions={"click batch":"batch"},a.dataForActions={batch:function(){return{ids:this.bindings.state.data.ids,state:t(this.$$('[name="state"]')).val()}}},a.actionCallbacks={batch:function(){this.app.viewport.closeModal()}},a.dataForTemplate={state:function(e){return e.state.ids}}},{jquery:!1}),loadjs.d("./app/train/service/sign/sign-detail/view-count",function(e,n,a){a.bindings={signOne:!0,signDetail:!0,signCount:!0},a.dataForTemplate={signOne:function(e){return e.signOne},signCount:function(e){return e.signCount},signInType:function(e){return e.signOne&&e.signOne.signInType?"人脸考勤机签到":"扫码签到"}}},{}),loadjs.d("./app/train/service/sign/sign-detail/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={signDetail:!0,export:!1,state:!1},a.components=[{id:"pager",name:"pager",options:{model:"signDetail"}}],a.events={"click update*":"updateState","click check-all":"checkAll","click check-item*":"checkItem","click batchStatus":"batchStatus"},a.handlers={updateState:function(e){this.bindings.state.data.id=e,this.app.viewport.modal(this.module.items.status)},checkAll:function(e,n){t.map(this.$$('input[name="detailId"]'),function(e){(e||{}).checked=n.checked})},checkItem:function(){var e=this.$$('input[name="detailId"]').length===this.$$('input[name="detailId"]:checked').length;this.$("check-all").checked=e},batchStatus:function(){var e={},n=[],a=this.$$('[name="detailId"]:checked');return 0===a.length?this.app.message.alert("请勾选至少一条数据"):(t.map(a,function(e){var a=e||{},t=a.value;n.push(t)}),e.ids=n.join(","),this.bindings.state.data.ids=e.ids,this.app.viewport.modal(this.module.items["batch-status"]),e)}},a.actions={},a.dataForActions={},a.actionCallBacks={},a.dataForTemplate={signDetail:function(e){var n=e.signDetail,a=this.bindings.state.data,i=this.bindings.signDetail.getPageInfo().page;return t.map(n||[],function(e,n){var t=e;t.i=n+1+10*(i-1),t.isGrant=4!==a.role}),n},exportUrl:function(){var e=this.bindings.export.getFullUrl()+"?",n=this.bindings.signDetail.params,a=this.app.global.OAuth.token.access_token;return n.pageSize=1e5,n.page=1,t.map(n,function(n,a){e+=a+"="+n+"&"}),e+="access_token="+a},isGrant:function(){return 4!==this.bindings.state.data.role}}},{"lodash/collection":!1}),loadjs.d("./app/train/service/sign/sign-detail/view-search",function(e,n,a){var t=e("lodash/collection");a.bindings={signDetail:!0,export:!1,state:!0,search:!0},a.events={"click batchStatus1":"batchStatus"},a.handlers={batchStatus:function(){var e={},n=[],a=this.module.items.main,i=a.$$('[name="detailId"]:checked');return 0===i.length?this.app.message.alert("请勾选至少一条数据"):(t.map(i,function(e){var a=e||{},t=a.value;n.push(t)}),e.ids=n.join(","),a.bindings.state.data.ids=e.ids,this.app.viewport.modal(this.module.items["batch-status"]),e)}},a.actions={"click search-*":"search","click batchStatus":"batchStatus","keypress searchKey":"keypressSearch"},a.dataForActions={keypressSearch:function(e,n){return 13===(n.keyCode||n.which||n.charCode)&&{memberFullName:e.memberFullName.trim(),state:e.state}}},a.dataForTemplate={exportUrl:function(){var e=this.bindings.export.getFullUrl()+"?",n=this.bindings.signDetail.params,a=this.bindings.state.data.search,i=this.app.global.OAuth.token.access_token;return n.pageSize=1e5,n.page=1,void 0!==a&&(n.memberFullName=a.memberFullName,n.state=a.state,n.className=""),t.map(n,function(a,t){n.className="",e+=t+"="+a+"&"}),e+="access_token="+i},selected:function(){var e=this.bindings.search.data;return{type1:"1"===e.state,type2:"2"===e.state,type3:"3"===e.state,type4:"4"===e.state}},isGrant:function(){return 4!==this.bindings.state.data.role}}},{"lodash/collection":!1}),loadjs.d("./app/train/service/sign/sign-detail/view-status",function(e,n,a){var t=e("jquery");a.type="form",a.small=!0,a.bindings={signDetail:!0,state:!0},a.title="请选择您要变更的签到状态",a.buttons=[{text:"确定",action:"update"}],a.actions={"click update":"update"},a.dataForActions={update:function(){return{id:this.bindings.state.data.id,state:t(this.$$('[name="state"]')).val(),classId:this.bindings.state.data.classId}}},a.actionCallbacks={update:function(){this.app.viewport.closeModal()}},a.dataForTemplate={state:function(e){return e.state.id}}},{jquery:!1}),loadjs.d("./app/train/service/sign/sign-leave/index",function(e,n,a){var t=e("drizzle-zxy");a.items={main:"main",count:"count",approval:"",search:"search"},a.large=!0,a.title="请假名单",a.store={models:{leave:{url:"../train/leave/leave",type:"pageable",root:"items"},lea:{url:"../train/leave"},signOne:{url:"../train/leave/one"},signCount:{url:"../train/sign-detail/count"},updateState:{url:"../train/leave/update"},state:{data:{}},search:{}},callbacks:{init:function(e){var n=this.models.leave,a=this.models.signOne,t=this.models.signCount,i=this.models.state.data;return this.models.search.clear(),n.params=e,n.set({id:e.id}),a.params.id=e.id,a.clear(),t.params.id=e.id,i.id=e.id,t.clear(),this.get(a),this.get(t),this.get(n)},search:function(e){var n=this.models.leave,a=this.models.state.data.id;return n.clear(),n.params={name:e.name.trim(),state:e.state},n.params.id=a,t.assign(this.models.search.data,e),this.get(n)},refreshList:function(e){var n=this.models.leave;n.clear(),n.params=e,this.get(n)},approval:function(e){var n=this.models.lea;return n.params=e,n.clear(),this.get(n)},update:function(e){var n=this.models.updateState,a=this.models.leave,t=this.models.signCount,i=this;n.clear(),n.params=e,n.set(e),i.put(n).then(function(){i.app.message.success("审核成功"),i.get(t),i.get(a)})},keypressSearch:function(e){var n=this.models.leave,a=this.models.state.data.id;return n.clear(),n.params=e,n.params.id=a,t.assign(this.models.search.data,e),this.get(n)}}},a.beforeRender=function(){this.dispatch("init",{id:this.renderOptions.id})}},{"drizzle-zxy":!1}),loadjs.d("./app/train/service/sign/sign-leave/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="leave-page">\n    <div class="page-main-wrapper">\n        <div class="leave-title" data-region="count"></div>\n        <div class="leave-title" data-region="search"></div>\n        <div class="leave-content" data-region="main"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression,d=null!=n?n:{},c=a.helperMissing;return'    <div class="border bottom solid">\n        <div class="layout-mt-small clearfix">\n            <div class="leave-title-item pull-left layout-mr">\n                <span>签到名称：</span>\n                <span>'+o(r(null!=(l=null!=n?n.signOne:n)?l.name:l,n))+'</span>\n            </div>\n            <div class="leave-title-item pull-left layout-mr">\n                <span>签到时间：</span>\n                <span>'+o((a.dateMinute||n&&n.dateMinute||c).call(d,null!=(l=null!=n?n.signOne:n)?l.startTime:l,{name:"dateMinute",hash:{},data:i}))+" 至 "+o((a.dateMinute||n&&n.dateMinute||c).call(d,null!=(l=null!=n?n.signOne:n)?l.endTime:l,{name:"dateMinute",hash:{},data:i}))+'</span>\n            </div>\n            <div class="leave-title-item pull-left layout-mr">\n                <span>迟到时间：</span>\n                <span>'+o((a.dateMinute||n&&n.dateMinute||c).call(d,null!=(l=null!=n?n.signOne:n)?l.lateTime:l,{name:"dateMinute",hash:{},data:i}))+'</span>\n            </div>\n            <div class="attendancelist-title-item pull-left layout-mr">\n                <span>签到方式：</span>\n                <span>'+o((s=null!=(s=a.signInType||(null!=n?n.signInType:n))?s:c,"function"==typeof s?s.call(d,{name:"signInType",hash:{},data:i
}):s))+'</span>\n            </div>\n        </div>\n        <div class="layout-mt-small clearfix layout-mb-small">\n            <div class="recommend-item layout-mr pull-left">\n                <i class="iconfont icon-user-1"></i>\n                <span class="m-right">应出勤</span>\n                <span>'+o(r(null!=(l=null!=n?n.signCount:n)?l.classNum:l,n))+'</span>\n                <span>人</span>\n            </div>\n            <div class="recommend-item layout-mr pull-left">\n                <i class="iconfont icon-time text-main-color"></i>\n                <span class="m-right">正常签到</span>\n                <span>'+o(r(null!=(l=null!=n?n.signCount:n)?l.normal:l,n))+'</span>\n                <span class="m-right">人</span>\n                <span class="m-right">迟到</span>\n                <span>'+o(r(null!=(l=null!=n?n.signCount:n)?l.late:l,n))+'</span>\n                <span class="m-right">人</span>\n                <span class="m-right">未签到</span>\n                <span>'+o(r(null!=(l=null!=n?n.signCount:n)?l.notSign:l,n))+'</span>\n                <span class="m-right">人</span>\n            </div>\n            <div class="recommend-item layout-mr pull-left">\n                <i class="iconfont icon-user"></i>\n                <span class="m-right">请假</span>\n                <span>'+o(r(null!=(l=null!=n?n.signCount:n)?l.leave:l,n))+"</span>\n                <span>人</span>\n            </div>\n        </div>\n    </div>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<form id="searchKey" class="vertical">\n    <div class="layout-mt-small">\n        <div class="attendancelist-search clearfix">\n            <div class="pull-left">\n                <label>员工姓名：</label>\n                <input class="input layout-mr-small" name="name" id="name-2" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.search:n)?l.name:l,n))+'" placeholder="请输入员工姓名"/>\n                <label>签到状态：</label>\n                <select id="statename-1" class="tag-select input-height" name="state">\n                    <option value="">全部</option>\n                    <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.selected:n)?l.type1:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="0">待审批</option>\n                    <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.selected:n)?l.type2:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="1">同意</option>\n                    <option '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.selected:n)?l.type3:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' value="2">不同意</option>\n                </select>\n            </div>\n            <div class="pull-right">\n                <div id="search-" class="btn">查询</div>\n            </div>\n        </div>\n    </div>\n</form>'},6:function(e,n,a,t,i){return' selected="selected"'},8:function(e,n,a,t,i){var l;return'    <div class="row text-center"></div>\n    <div class="list m-top">\n        <table class="table text-center train border around">\n            <thead><tr>\n                <th>员工编号</th>\n                <th>员工姓名</th>\n                <th>员工电话</th>\n                <th>审核结果</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.leave:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.program(14,i,0),data:i}))?l:"")+'            </tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination"></div>\n'},9:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return"                    <tr>\n                        <td>"+r(s(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n                        <td>"+r(s(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                        <td>"+r(s(null!=(l=null!=n?n.member:n)?l.phoneNumber:l,n))+"</td>\n                        <td>"+r((a.map||n&&n.map||d).call(o,"train-leave-state",null!=n?n.state:n,{name:"map",hash:{},data:i}))+'</td>\n                        <td class="operation">\n'+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=n?n.state:n,"eq",0,{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))?l:"")+"                        </td>\n                    </tr>\n"},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <a class="decoration-none" id="approval'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">审批</a>\n'},12:function(e,n,a,t,i){return"                                <label></label>\n"},14:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n'},16:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression,d=null!=n?n:{},c=a.helperMissing;return'<form class="vertical">\n    <div class="layout-mt-small">\n        <label>请假原因</label>\n        <textarea id="reason" class="w-full" name="reason" rows="5" x-rule="maxLength:1000">'+o(r(null!=(l=null!=n?n.lea:n)?l.reason:l,n))+'</textarea>\n        <div class="m-top clearfix m-bottom">\n            <div class="pull-left">\n                <label>审核意见：</label>\n                <select id="state" class="tag-select" name="state">\n                    <option value="1">同意</option>\n                    <option value="2">不同意</option>\n                </select>\n            </div>\n            <div class="pull-right m-top">\n                <label>申请时间：</label>\n                '+o((a.dateTime||n&&n.dateTime||c).call(d,null!=(l=null!=n?n.lea:n)?l.createTime:l,{name:"dateTime",hash:{},data:i}))+'\n                <input id="id" class="input" type="hidden" name="lulu" value="'+o(r(null!=(l=null!=n?n.lea:n)?l.id:l,n))+'"/>\n                <input class="input" name="id" type="hidden" value="'+o((s=null!=(s=a.id||(null!=n?n.id:n))?s:c,"function"==typeof s?s.call(d,{name:"id",hash:{},data:i}):s))+'"/>\n            </div>\n        </div>\n    </div>\n</form>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"count",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"approval",{name:"view",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/sign/sign-leave/view-approval",function(e,n,a){var t=e("jquery");a.title="请假审批",a.bindings={leave:!0,lea:!0},a.small=!0,a.buttons=[{text:"确定",action:"update"}],a.actions={"click update":"update"},a.dataForActions={update:function(){return{id:t(this.$$('[name="lulu"]')).val(),state:t(this.$$('[name="state"]')).val()}}},a.actionCallbacks={update:function(){this.app.viewport.closeModal()}}},{jquery:!1}),loadjs.d("./app/train/service/sign/sign-leave/view-count",function(e,n,a){a.bindings={signOne:!0,signCount:!0},a.dataForTemplate={signOne:function(e){return e.signOne},signCount:function(e){return e.signCount},signInType:function(e){return e.signOne&&e.signOne.signInType?"人脸考勤机签到":"扫码签到"}}},{}),loadjs.d("./app/train/service/sign/sign-leave/view-main",function(e,n,a){a.bindings={leave:!0,lea:!1,state:{}},a.components=[{id:"pager",name:"pager",options:{model:"leave"}}],a.events={},a.handlers={},a.actions={"click approval*":"approval"},a.dataForActions={approval:function(e){return this.app.viewport.modal(this.module.items.approval),e}},a.actionCallBacks={}},{}),loadjs.d("./app/train/service/sign/sign-leave/view-search",function(e,n,a){a.bindings={leave:!0,search:!0},a.actions={"click search-*":"search","keypress searchKey":"keypressSearch"},a.dataForActions={keypressSearch:function(e,n){return 13===(n.keyCode||n.which||n.charCode)&&{name:e.name.trim(),state:e.state}}},a.dataForTemplate={selected:function(){var e=this.bindings.search.data;return{type1:"0"===e.state,type2:"1"===e.state,type3:"2"===e.state}}}},{}),loadjs.d("./app/train/service/sign/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="addattendance-page">\n        <div class="addattendance" data-region="main"></div>\n    </div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="clearfix layout-mt-small">\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+'    </div>\n    <table class="table layout-mt-small text-center border around train margin-none">\n        <thead><tr>\n            <th><input type="checkbox" id="check-all"/></th>\n            <th>签到名称</th>\n            <th>签到时间</th>\n            <th>签到方式</th>\n            <th>签到地点</th>\n            <th>签到结果</th>\n            <th>状态</th>\n            <th>二维码</th>\n            <th>操作</th>\n        </tr></thead>\n        <tbody>\n'+(null!=(l=a.each.call(s,null!=n?n.signs:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.program(19,i,0),data:i}))?l:"")+"        </tbody>\n    </table>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=n?n.pageCount:n,"gt",1,{name:"compare",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")},4:function(e,n,a,t,i){var l,s=null!=n?n:{};return'            <div class="pull-left m-left">\n                <label>签到规则：</label>\n                <div id="checkout1" class="tag-btn pointer '+(null!=(l=a.if.call(s,null!=n?n.isCheckout1:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'">半天</div>\n                <div id="checkout2" class="tag-btn pointer '+(null!=(l=a.if.call(s,null!=n?n.isCheckout2:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'">全天</div>\n                <div id="checkout3" class="tag-btn pointer '+(null!=(l=a.if.call(s,null!=n?n.isCheckout3:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'">不签到</div>\n            </div>\n'},5:function(e,n,a,t,i){return"active"},7:function(e,n,a,t,i){return'            <div class="pull-right m-right">\n                <div id="addSign" class="small-btn m-right">\n                    +添加\n                </div>\n                <div id="batchDelete" class="small-btn">删除</div>\n            </div>\n'},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'                <tr>\n                    <td><input type="checkbox" id="check-item'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" name="signId" value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/></td>\n                    <td>'+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                    <td>"+c((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+" 至 "+c((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+"</td>\n                    <td>"+c((a.map||n&&n.map||o).call(r,"sign-in-type",null!=n?n.signInType:n,{name:"map",hash:{},data:i}))+"</td>\n                    <td>"+c((s=null!=(s=a.place||(null!=n?n.place:n))?s:o,typeof s===d?s.call(r,{name:"place",hash:{},data:i}):s))+"</td>\n                    <td>"+c((s=null!=(s=a.signNum||(null!=n?n.signNum:n))?s:o,typeof s===d?s.call(r,{name:"signNum",hash:{},data:i}):s))+"/"+c((s=null!=(s=a.classNum||(null!=n?n.classNum:n))?s:o,typeof s===d?s.call(r,{name:"classNum",hash:{},data:i}):s))+"</td>\n                    <td>"+c((a.map||n&&n.map||o).call(r,"train-sign-state",null!=n?n.state:n,{name:"map",hash:{},data:i}))+'</td>\n                    <td class="operation">\n'+(null!=(l=a.unless.call(r,null!=n?n.signInType:n,{name:"unless",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))?l:"")+'                    </td>\n                    <td class="operation">\n                        <a id="detail'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" href="javascript:;">签到名单</a>\n'+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"                    </td>\n                </tr>\n"},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                            <a id="preview'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">预览</a>\n                            <span class="sub-title">|</span>\n                            <a id="download'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" download="'+d((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,typeof l===o?l.call(s,{name:"name",hash:{},data:i}):l))+'.jpg" data-url="'+d((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:r,typeof l===o?l.call(s,{name:"downUrl",hash:{},data:i}):l))+'">下载</a>\n'},12:function(e,n,a,t,i){return"                            <span></span>\n"},14:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                            <span class="sub-title">|</span>\n                            <a id="leave'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">请假</a>\n                            <span class="sub-title">|</span>\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.state:n,"eq",0,{name:"compare",hash:{},fn:e.program(15,i,0),inverse:e.program(17,i,0),data:i}))?l:"")},15:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <a id="editSign'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">编辑</a>\n'},17:function(e,n,a,t,i){return'                                <span class="sub-text" title="已到达签到时间，不可编辑">编辑</span>\n'},19:function(e,n,a,t,i){return'                <tr><td colspan="10"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <div>暂无内容</div>\n                </div>\n                </td></tr>\n'},21:function(e,n,a,t,i){return'        <div id="pager" class="pagination" style="margin: 1em;"></div>\n'},23:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'<form class="vertical">\n    <div class="addattendance">\n        <div class="form align-left">\n            <div class="form-row">\n                <label class="label required">签到名称</label>\n                <div class="content">\n                    <input id="name" class="input" name="name" x-rule="maxLength:20" maxlength="20" value="'+r(s(null!=(l=null!=n?n.sign:n)?l.name:l,n))+'"/>\n                    <div class="tips">0/20</div>\n                </div>\n            </div>\n            <div class="clearfix">\n                <div class="form-row pull-left w-half r-padding">\n                    <label class="label required">签到地点</label>\n                    <div class="content">\n                        <select id="classRoom" class="input" name="place">\n'+(null!=(l=a.each.call(o,null!=n?n.classRoom:n,{name:"each",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")+'                        </select>\n                    </div>\n                </div>\n                <div class="form-row pull-right w-half">\n                    <label class="label required">签到开始时间</label>\n                    <div class="content">\n                        <input id="startTime" class="tag-input w-full" name="startTime" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.sign:n)?l.startTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n                    </div>\n                </div>\n            </div>\n            <div class="clearfix">\n                <div class="form-row pull-left w-half r-padding">\n                    <label class="label required">签到结束时间</label>\n                    <div class="content">\n                        <input id="endTime" class="tag-input w-full" name="endTime" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.sign:n)?l.endTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n                    </div>\n                </div>\n                <div class="form-row pull-right w-half r-padding">\n                    <label class="label required">迟到时间设置</label>\n                    <div class="content">\n                        <input id="lateTime" class="tag-input w-full" name="lateTime" value="'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.sign:n)?l.lateTime:l,{name:"dateTime",hash:{},data:i}))+'"/>\n                    </div>\n                </div>\n            </div>\n            <div class="clearfix" style="margin-bottom: 3rem;">\n                <div class="form-row pull-left w-half r-padding">\n                    <label class="label required">签到方式</label>\n                    <div class="content">\n                        <select id="signInType" class="input" name="signInType" x-marker="selectize">'+(null!=(l=a.each.call(o,null!=n?n.signInType:n,{name:"each",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")+'</select>\n                    </div>\n                </div>\n            </div>\n            <div class="qrCode">\n                <p class="label">生成签到二维码</p>\n                <div class="inline-block layout-mr"><div id="qrcode"></div></div>\n                <div class="inline-block vertical-top">\n                    <span>让学员通过APP扫一扫功能，手机签到；</span>\n                    <p>1.投影到幕布上扫（PPT图片）</p>\n                    <p>2.打印出来</p>\n                    <div class="m-top">\n                        <p>使用中移网大扫描二维码签到</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <input class="input" type="hidden" name="id" value="'+r(s(null!=(l=null!=n?n.sign:n)?l.id:l,n))+'"/>\n    </div>\n</form>'},24:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.classroom||(null!=n?n.classroom:n))?s:o,"function"==typeof s?s.call(r,{name:"classroom",hash:{},data:i}):s))+"</option>\n"},25:function(e,n,a,t,i){return' selected="selected"'},27:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                            <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n                        "},29:function(e,n,a,t,i){return'<form class="vertical">\n    <div id="qrcode"></div>\n</form>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"edit",{name:"view",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"preview",{name:"view",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/sign/view-edit",function(e,n,a){var t=e("jquery"),i=e("./app/util/maps"),l=e("./app/ext/views/form/markers"),s=e("./app/ext/views/form/validators"),r={add:"添加签到",edit:"编辑签到"};a.buttons=[{text:"确定",action:"save"}],a.handlers={changeName:function(){var e=t(this.$("name")),n=new RegExp("\\{0\\}","g");l.text.valid(e),s.required.fn(e.val())?s.maxLength.fn(e.val(),20)||l.text.invalid(e,s.maxLength.message.replace(n,20)):l.text.invalid(e,s.required.message)},classRoom:function(e){return e},changeNameTips:function(){var e,n,a=this.$("name"),i=t(a).nextAll(".tips");0!==i.length&&(e=t(a).attr("x-rule").match(/maxLength:(\d+)/)[1],n=t(a).val().length,i.text(n+"/"+e))},signInType:function(){"1"===t(this.$("signInType")).val()?t(".qrCode").hide():t(".qrCode").show()}},a.events={"change name":"changeName","change classRoom":"classRoom","input name":"changeNameTips","change signInType":"signInType"},a.title=function(){return r[this.renderOptions.type]},a.bindings={sign:!0,state:!0,classroomByClassId:!0,classRoom:!0,classInfo:!0},a.actions={"click save":"save"},a.dataForActions={save:function(){var e,n,a,i,l,r,o,d,c,u,m,p,h,f,v,g,b,x,y=this.bindings.state.data,w=y.classId,k=this.bindings.classInfo.data.returnDate,I=y.type,q=t(this.$$('[name="id"]')).val(),A=t(this.$$('[name="name"]')).val(),T=t(this.$$('[name="startTime"]')).val(),M=t(this.$$('[name="endTime"]')).val(),N=t(this.$$('[name="lateTime"]')).val(),C=t(this.$$('[name="place"]')).val(),E=t(this.$$('[name="signInType"]')).val();if(t(this.$$('[name="startTime"]')).val()&&(e=t(this.$$('[name="startTime"]')).val().split(" "),n=e[0].split("-"),c=e[1].split(":"),a=n[0],i=n[1],l=n[2],r=c[0],o=c[1],d=new Date(a,i-1,l,r,o).getTime()),t(this.$$('[name="endTime"]')).val()&&(u=t(this.$$('[name="endTime"]')).val().split(" "),m=u[0].split("-"),x=u[1].split(":"),p=m[0],h=m[1],f=m[2],v=x[0],g=x[1],b=new Date(p,h-1,f,v,g).getTime()),!s.required.fn(A))return this.app.message.error("签到名称必填"),!1;if(!s.required.fn(C))return this.app.message.error("签到地点必填"),!1;if(!s.required.fn(T))return this.app.message.error("开始时间必填"),!1;if(!s.required.fn(M))return this.app.message.error("结束时间必填"),!1;if(!s.required.fn(N))return this.app.message.error("迟到时间设置必填"),!1;if(T>=M)return this.app.message.alert("结束时间必须大于开始时间"),!1;if(N){if(T>=N)return this.app.message.alert("迟到时间必须大于开始时间"),!1;if(N>=M)return this.app.message.alert("结束时间必须大于迟到时间"),!1}return d>k?(this.app.message.alert("开始时间不能大于返程日"),!1):b>k+864e5?(this.app.message.alert("结束时间必须小于返程日"),!1):{classId:w,id:q,name:A,startTime:T,endTime:M,lateTime:N,place:C,signInType:E,type:I}}},a.dataForTemplate={sign:function(e){var n=e.sign,a=window.location.protocol+"//"+window.location.host+"/";return n.path=a+"#/train/service/sign/"+n.id,n},classRoom:function(e){var n=this.bindings.sign.data||{},a=e.classroomByClassId||[],t=e.classRoom||[],i=0;if(n.place){for(;i<t.length;i++)if(n.place===t[i].id){t[i].selected=!0;break}}else if(a)for(;i<t.length;i++)if(a.length>0&&a[0].id===t[i].id){t[i].selected=!0;break}return e.classRoom},signInType:function(){var e=i.get("sign-in-type"),n=this.bindings.sign.data||{};return"add"===this.renderOptions.type?e.reverse():(n.signInType?e[1].selected=!0:e[0].selected=!0,e)}},a.components=[function(){return{id:"endTime",name:"flatpickr",options:{enableTime:!0,minDate:this.bindings.classInfo.data.arriveDate}}},function(){return{id:"startTime",name:"flatpickr",options:{enableTime:!0,minDate:this.bindings.classInfo.data.arriveDate}}},function(){return{id:"lateTime",name:"flatpickr",options:{enableTime:!0,minDate:this.bindings.classInfo.data.arriveDate}}},function(){var e=this.bindings.sign.data.id;return{id:"qrcode",name:"qrcode",options:{width:128,height:128,text:JSON.stringify({businessId:e,businessType:6})}}},{id:"signInType",name:"selectize"}],a.afterRender=function(){var e,n,a=this.module.store.models.sign.data,i=a.name,l=t(this.$("signInType")).val(),s=t(this.$("name")).nextAll(".tips");0!==s.length&&("1"===l&&t(".qrCode").hide(),e=t(this.$("name")).attr("x-rule").match(/maxLength:(\d+)/)[1],i&&(n=i.length,s.text(n+"/"+e)))}},{"./app/ext/views/form/markers":"./app/ext/views/form/markers","./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/maps":"./app/util/maps",jquery:!1}),loadjs.d("./app/train/service/sign/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/browser").detectIE(),l=e("jquery"),s=e("./app/util/download");a.bindings={signs:!0,sign:!1,state:!0,download:!1,findByRoom:!0,findByTime:!1},a.components=[{id:"pager",name:"pager",options:{model:"signs"}}],a.events={"click check-all":"checkAll","click check-item*":"checkItem","click detail*":"detail","click leave*":"leave","click checkout1":"checkout1","click checkout2":"checkout2","click checkout3":"checkout3","click download*":"downloadUrl"},a.handlers={downloadUrl:function(e){var n=this.$("download"+e)&&this.$("download"+e).getAttribute("data-url");i?s.createIframe(n):l(this.$("download"+e)).attr("href",n)},checkout1:function(){var e=this.bindings.state,n=e.data.classId,a=this.bindings.findByTime,t=this;return 0!==a.data?(t.app.message.error("签到已经开始，不能改变签到规则"),!1):(e.data.type=1,t.module.dispatch("editType",1),t.module.dispatch("signs",{type:1,classId:n}),!0)},checkout2:function(){var e=this.bindings.state,n=e.data.classId,a=this;return 0!==this.bindings.findByTime.data?(this.app.message.error("签到已经开始，不能改变签到规则"),!1):(e.data.type=2,this.module.dispatch("editType",2),this.module.dispatch("signs",{type:2,classId:n}).then(function(n){n[0]&&0!==n[0].items.length||a.module.dispatch("autoFull").then(function(n){n[0]>0&&a.module.dispatch("signs",{type:2,classId:e.data.classId})})}),!0)},checkout3:function(){var e=this.bindings.state,n=e.data.classId;return 0!==this.bindings.findByTime.data?(this.app.message.error("签到已经开始，不能改变签到规则"),!1):(e.data.type=3,this.module.dispatch("editType",3),this.module.dispatch("signs",{type:3,classId:n}),!0)},checkAll:function(e,n){t.map(this.$$('input[name="signId"]'),function(e){(e||{}).checked=n.checked})},checkItem:function(){var e=this.$$('input[name="signId"]').length===this.$$('input[name="signId"]:checked').length;this.$("check-all").checked=e},detail:function(e){var n=this,a=this.bindings.state,t=n.module.items["train/service/sign/sign-detail"];n.app.viewport.modal(t,{id:e,role:a.data.role,classId:a.data.classId,className:a.data.className,callback:function(){return n.module.dispatch("signs",{classId:a.data.classId,type:a.data.type})}})},leave:function(e){var n=this,a=n.module.items["train/service/sign/sign-leave"];n.app.viewport.modal(a,{id:e})}},a.actions={"click editSign*":"editSign","click batchDelete":"batchDelete","click addSign":"addSign","click preview*":"preview"},a.dataForActions={editSign:function(e){var n=this.module.items.edit;return this.app.viewport.modal(n,{type:"edit"}),e},addSign:function(){var e=this.module.items.edit,n=this.bindings.findByRoom.data.classroom;return this.bindings.sign.clear(),this.bindings.sign.data.place=n,this.app.viewport.modal(e,{type:"add"}),!0},batchDelete:function(){var e={},n=[],a=!0,i=0,l=this.bindings.signs.data,s=this.$$('[name="signId"]:checked');return 0===s.length?(this.app.message.alert("请勾选至少一条数据"),!1):(t.map(s,function(e){var s=e||{},r=s.value;t.map(l,function(e){r===e.id&&0!==e.state&&(i=1,a=!1)}),n.push(r)}),e.ids=n.join(","),a&&0===i?e:!1===a&&1===i&&(this.app.message.alert("已开始或已结束的签到不可被删除"),!1))},preview:function(e){var n=this.module.items.preview;return this.app.viewport.modal(n,!0),e}},a.dataForTemplate={signs:function(e){var n=this,a=this.bindings.state.data,i=e.signs||{},l=n.bindings.signs.getPageInfo().page;return t.map(i||[],function(e,t){var i=e;return i.downUrl=n.bindings.download.getFullUrl()+"?id="+i.id,i.i=t+1+10*(l-1),i.isGrant=4!==a.role,i}),i},pageCount:function(){return this.bindings.signs.getPageInfo().pageCount},isCheckout1:function(){return 1===this.bindings.state.data.type},isCheckout2:function(){return 2===this.bindings.state.data.type},isCheckout3:function(){return 3===this.bindings.state.data.type},isGrant:function(){return 4!==this.bindings.state.data.role}}},{"./app/util/browser":"./app/util/browser","./app/util/download":"./app/util/download",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/service/sign/view-preview",function(e,n,a){a.title="二维码预览",a.bindings={signs:!0,sign:!0},a.auto=!0,a.components=[function(){var e=this.bindings.sign.data.id;return{id:"qrcode",name:"qrcode",options:{text:JSON.stringify({businessId:e,businessType:6})}}}],a.dataForTemplate={sign:function(e){var n=e.sign,a=window.location.protocol+"//"+window.location.host+"/";return n.path=a+"#/train/service/sign/"+n.id,n}}},{}),loadjs.d("./app/train/service/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="container border around layout-mt-small">\n    <section>\n        <div class="tabs line m-top" data-region="tab"></div>\n        <div class="main" data-region="main"></div>\n    </section>\n</div>'},3:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.tab:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:""},4:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <ul>\n            <li id="tab-sign" class="h4 strong '+(null!=(l=a.if.call(s,null!=n?n.isSign:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\">考勤</li>\n            \x3c!--  li.h4.strong#tab-reward(class = if(isReward 'active')) > echo('课酬管理') --\x3e\n            <li id=\"tab-bus\" class=\"h4 strong "+(null!=(l=a.if.call(s,null!=n?n.isBus:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'">班车信息</li>\n            <li id="tab-settle" class="h4 strong '+(null!=(l=a.if.call(s,null!=n?n.isSettle:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'">结算数据</li>\n            <li id="tab-affiche" class="h4 strong '+(null!=(l=a.if.call(s,null!=n?n.isAffiche:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'">班级公告</li>\n            <li id="tab-discuss" class="h4 strong '+(null!=(l=a.if.call(s,null!=n?n.isDiscuss:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'">讨论管理</li>\n            <li id="tab-album" class="h4 strong '+(null!=(l=a.if.call(s,null!=n?n.isAlbum:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'">班级相册</li>\n            <li id="tab-score" class="h4 strong '+(null!=(l=a.if.call(s,null!=n?n.isScore:n,{name:"if",hash:{},
fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\">发布成绩</li>\n            \x3c!-- li#tab-views(class = if(isViews 'active')) > echo('班级详情页') --\x3e\n        </ul>\n"},5:function(e,n,a,t,i){return"active"},7:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.tab:l,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:""},8:function(e,n,a,t,i){var l;return'        <div style="padding:0px;margin:0px;" data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.tab:l,n))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"tab",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/service/view-main",function(e,n,a){a.type="dynamic",a.bindings={state:!0},a.getEntityModuleName=function(e){return"train/service/"+e},a.getEntity=function(){return{state:this.bindings.state.data}},a.dataForEntityModule=function(e){return e}},{}),loadjs.d("./app/train/service/view-tab",function(e,n,a){var t=e("jquery");a.bindings={state:!0},a.events={"click tab-*":"showTab"},a.handlers={showTab:function(e){var n=this.bindings.state,a=this.bindings.state.data.classId;t(this.$("tab-"+e)).addClass("active").siblings().removeClass("active"),n.data={},n.data.tab=e||"sign",n.data[e]=!0,n.data.classId=a,n.data.role=this.module.renderOptions.state.role,n.changed()}},a.dataForTemplate={isSign:function(){return"sign"===this.bindings.state.data.tab},isReward:function(){return"reward"===this.bindings.state.data.tab},isBus:function(){return"bus"===this.bindings.state.data.tab},isSettle:function(){return"settle"===this.bindings.state.data.tab},isAffiche:function(){return"affiche"===this.bindings.state.data.tab},isDiscuss:function(){return"discuss"===this.bindings.state.data.tab},isAlbum:function(){return"album"===this.bindings.state.data.tab},isViews:function(){return"views"===this.bindings.state.data.tab},isScore:function(){return"score"===this.bindings.state.data.tab}}},{jquery:!1}),loadjs.d("./app/train/signup/index",function(e,n,a){var t=e("drizzle-zxy");a.items={banner:"banner",side:"side",main:"main"},a.store={models:{state:{data:{}},classSignupInfo:{url:"../train/sign-up/detail"},member:{url:"../train/member"},trainee:{url:"../train/trainee/current-trainee"},down:{url:"../file-deal/file/download"},nations:{url:"../human/member-config/list",autoLoad:"after",params:{key:2}},levels:{url:"../human/member-config/list",autoLoad:"after",params:{key:8}},traineeSignup:{url:"../train/trainee/sign-up"},downloadDoc:{url:"../train/sign-up/download-doc"}},callbacks:{classSignupInfo:function(e){var n=this.models.classSignupInfo;return this.models.state.data.classId=e.classId,n.clear(),n.params=t.assign(e,{contentType:11}),this.get(n)},member:function(){var e=this.models.member;return this.get(e)},trainee:function(e){var n=this.models.trainee;return n.clear(),n.params={classId:e.classId,type:0},this.get(n)},commit:function(e){var n=this.models.traineeSignup;return n.clear(),n.set(e),this.save(n)}}},a.beforeRender=function(){var e,n,a=this.store.models.state.data,t=this,i=this.renderOptions.classId;e=Number(i.indexOf("?")),-1!==e?(n=i.split("?")[0].trim(),a.activity=!0):n=i,t.chain([t.dispatch("classSignupInfo",{classId:n}),t.dispatch("member"),t.dispatch("trainee",{classId:n}).then(function(e){var n=e[0];a.auditStatus=3,n&&0===n.deleteFlag&&(0===n.auditStatus?a.auditStatus=0:1===n.auditStatus?a.auditStatus=1:2===n.auditStatus&&(a.auditStatus=2)),t.store.models.state.changed()})])}},{"drizzle-zxy":!1}),loadjs.d("./app/train/signup/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="class-register-page">\n    <div class="class-register-banner"><div class="clearfix container"><div class="container" data-region="banner"></div></div></div>\n    <div class="page-main-wrapper"><div class="container">\n        <div class="page-side"><div class="container" data-region="side"></div></div>\n        <div class="page-main"><div class="container" data-region="main"></div></div>\n    </div></div>\n</div>'},3:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.classSignupInfo:n)?l.id:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:""},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression,d=a.helperMissing;return'        <div class="cover pull-left">\n'+(null!=(l=a.if.call(s,null!=(l=null!=(l=null!=n?n.classSignupInfo:n)?l.classInfo:l)?l.coverPath:l,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'        </div>\n        <div class="banner-con pull-left">\n            <h2>'+o(r(null!=(l=null!=(l=null!=n?n.classSignupInfo:n)?l.classInfo:l)?l.className:l,n))+"</h2>\n            <p>报名时间："+o((a.dateMinute||n&&n.dateMinute||d).call(s,null!=(l=null!=n?n.classSignupInfo:n)?l.startTime:l,{name:"dateMinute",hash:{},data:i}))+"~"+o((a.dateMinute||n&&n.dateMinute||d).call(s,null!=(l=null!=n?n.classSignupInfo:n)?l.endTime:l,{name:"dateMinute",hash:{},data:i}))+"</p>\n            <p>往返日期："+o((a.date||n&&n.date||d).call(s,null!=(l=null!=(l=null!=n?n.classSignupInfo:n)?l.classInfo:l)?l.arriveDate:l,{name:"date",hash:{},data:i}))+"~"+o((a.date||n&&n.date||d).call(s,null!=(l=null!=(l=null!=n?n.classSignupInfo:n)?l.classInfo:l)?l.returnDate:l,{name:"date",hash:{},data:i}))+"</p>\n            <p>培训地点："+o(r(null!=(l=null!=(l=null!=n?n.classSignupInfo:n)?l.classInfo:l)?l.address:l,n))+'</p>\n        </div>\n        <div class="banner-btn pull-right text-center"><span style="background: white;padding: 0.5em 2em;">'+o(r(null!=(l=null!=n?n.classSignupInfo:n)?l.statusText:l,n))+"</span></div>\n"},5:function(e,n,a,t,i){var l;return'                <img src="'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.classSignupInfo:n)?l.classInfo:l)?l.coverPath:l,n))+'"/>\n'},7:function(e,n,a,t,i){return'                <img src="images/default-cover/default_class.jpg"/>\n'},9:function(e,n,a,t,i){var l;return'    <br/>\n    <div class="h3">中国移动党校响应中心</div>\n    <div class="register-tel">\n        <i class="iconfont icon-phone"></i>\n        <span class="sub-title">15801696688 - 27260</span>\n    </div>\n    <div class="h3 layout-mt-small">中国移动党校参训须知</div>\n    <div class="normal clearfix train-notice">\n        <span class="vertical-top">《参训须知》</span>\n        <a id="download-doc" class="iconfont icon-cloud-down inline-block decoration-none" href="'+e.escapeExpression((l=null!=(l=a.docUrl||(null!=n?n.docUrl:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"docUrl",hash:{},data:i}):l))+'"></a>\n    </div>\n    <div class="h3 layout-mt-small">常见问题</div>\n    <ul class="qaq-list layout-mt-small">\n        <li>\n            <div class="qaq-tit">1、学员报名时提示中移网大无此用户?</div>\n            <div class="qaq-con">\n                <b>答：</b>\n                请联系本省中移网大管理员核实个人在中移网大是否有账号，若没有，需添加后才能报名。本省管理员联系方式可致电中国移动党校响应中心（15801696688-27260）查询。\n            </div>\n        </li>\n        <li>\n            <div class="qaq-tit">2、学员在线报名是否成功?</div>\n            <div class="qaq-con">\n                <b>答：</b>\n                提交报名后，页面提示“报名成功”则说明已成功。若仍有疑问，可致电响应中心。\n            </div>\n        </li>\n        <li>\n            <div class="qaq-tit">3、班车司机电话?</div>\n            <div class="qaq-con">\n                <b>答：</b>\n                由于班车司机随机安排，如乘坐那趟班车请提前30分钟致电响应中心，可查询接站司机电话。\n            </div>\n        </li>\n        <li>\n            <div class="qaq-tit">4、学员班车情况?</div>\n            <div class="qaq-con">\n                <b>答：</b>\n                报到日将有四趟班车位于天通苑北地铁站南行（右）100米，上天桥行至马路对面，由右侧下天桥，即可看到班车。时间为11点，15点，17:30以及20点。返程日班车一般安排为课程结束当天的18点以及次日的8点分别送于机场、集团。\n            </div>\n        </li>\n        <li>\n            <div class="qaq-tit">5、学员食堂用餐时间?</div>\n            <div class="qaq-con">\n                <b>答：</b>\n                早7:30--8:50 午餐12:00--13:00 晚餐18:00--19:00 培训结束当天餐厅提前至17:30开餐。\n            </div>\n        </li>\n    </ul>\n'},11:function(e,n,a,t,i){var l;return'<form class="vertical" style="min-height:60em;">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.member:n)?l.id:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"</form>"},12:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.classSignupInfo:n)?l.pass:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(32,i,0),data:i}))?l:""},13:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.auditStatus:l,"eq",3,{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.auditStatus:l,"eq",0,{name:"compare",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.auditStatus:l,"eq",2,{name:"compare",hash:{},fn:e.program(26,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.auditStatus:l,"eq",8,{name:"compare",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.auditStatus:l,"eq",1,{name:"compare",hash:{},fn:e.program(30,i,0),inverse:e.noop,data:i}))?l:"")},14:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'                <div class="h3">填写报名信息</div>\n                <hr/>\n                <div class="form">\n                    <input class="input" name="id" value="'+r(s(null!=(l=null!=n?n.member:n)?l.id:l,n))+'" type="hidden"/>\n                    <input class="input" name="organizationId" value="'+r(s(null!=(l=null!=n?n.member:n)?l.organizationId:l,n))+'" type="hidden"/>\n                    <input class="input" name="settleOrganizationId" value="'+r(s(null!=(l=null!=n?n.member:n)?l.companyId:l,n))+'" type="hidden"/>\n                    <div class="form-row">\n                        <label>培训班名称</label>\n                        <div class="content"><input class="input" value="'+r(s(null!=(l=null!=(l=null!=n?n.classSignupInfo:n)?l.classInfo:l)?l.className:l,n))+'" disabled/></div>\n                        \x3c!--  label 报名码 --\x3e\n                        \x3c!--      .content > input.input(value=classSignupInfo.signupCode disabled=true) --\x3e\n                    </div>\n                    <div class="form-row">\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.state:n)?l.activity:l,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.program(17,i,0),data:i}))?l:"")+'                    </div>\n                    <div class="form-row">\n                        <label>姓名</label>\n                        <div class="content"><input class="input" value="'+r(s(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+'" disabled/></div>\n                    </div>\n                    <div class="form-row">\n                        <label>员工编号</label>\n                        <div class="content"><input class="input" value="'+r(s(null!=(l=null!=n?n.member:n)?l.name:l,n))+'" disabled/></div>\n                    </div>\n                    <div class="form-row">\n                        <label>公司</label>\n                        <div class="content"><input class="input" value="'+r(s(null!=(l=null!=n?n.member:n)?l.companyName:l,n))+'" disabled/></div>\n                    </div>\n                    <div class="form-row">\n                        <label>二级部门/单位</label>\n                        <div class="content"><input class="input" value="'+r(s(null!=(l=null!=n?n.member:n)?l.organizationName:l,n))+'" disabled/></div>\n                    </div>\n                    <div class="form-row">\n                        <label class="required">职务</label>\n                        <div class="content"><input class="input" name="jobName" value="'+r(s(null!=(l=null!=n?n.member:n)?l.jobName:l,n))+'"/></div>\n                    </div>\n                    \x3c!--  .form-row --\x3e\n                    \x3c!--      label.required 职级 --\x3e\n                    \x3c!--      .content --\x3e\n                    \x3c!--          select.input.compatible(name=\'levelId\') --\x3e\n                    \x3c!--              each(levels) --\x3e\n                    \x3c!--                  option(value = id)(\'selected\')&if(selected) > echo(value) --\x3e\n                    <div class="form-row">\n                        <label class="required">性别</label>\n                        <div class="content">\n                            <select class="input compatible" name="sex">\n'+(null!=(l=a.each.call(o,null!=n?n.sexs:n,{name:"each",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+'                            </select>\n                        </div>\n                    </div>\n                    <div class="form-row">\n                        <label class="required">民族</label>\n                        <div class="content">\n                            <select class="input compatible" name="nation">\n'+(null!=(l=a.each.call(o,null!=n?n.nations:n,{name:"each",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+'                            </select>\n                        </div>\n                    </div>\n                    <div class="form-row">\n                        <label class="required">移动电话</label>\n                        <div class="content"><input class="input" name="phoneNumber" value="'+r(s(null!=(l=null!=n?n.member:n)?l.phoneNumber:l,n))+'"/></div>\n                    </div>\n                    <div class="form-row">\n                        <label class="required">邮箱</label>\n                        <div class="content"><input class="input" name="email" value="'+r(s(null!=(l=null!=n?n.member:n)?l.email:l,n))+'"/></div>\n                    </div>\n                    <div class="form-row">\n                        <label class="auto">备注</label>\n                        <div class="content"><textarea id="remark" class="input" name="remark" rows="3" placeholder="补充信息"></textarea></div>\n                    </div>\n                    <div class="form-row text-center">\n                        <label></label>\n                        <div class="content"><div class="btn" id="commit-signup">提交</div></div>\n                    </div>\n                    <div id="auditMembers"></div>\n                </div>\n'},15:function(e,n,a,t,i){return'                            <label class="required">报名码</label>\n                            <div class="content"><input id="signupCode" class="input" name="signupCode"/></div>\n'},17:function(e,n,a,t,i){var l;return'                            <label>报名码</label>\n                            <div class="content"><input class="input" value="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.classSignupInfo:n)?l.signupCode:l,n))+'" disabled/></div>\n'},19:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                    <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n"},20:function(e,n,a,t,i){return' selected="selected"'},22:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                                    <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n"},24:function(e,n,a,t,i){return'                <div class="text-center">\n                    <h3 style="color:green">您已完成报名，正在审核中</h3>\n                    <span>您的报名已经成功提交，请耐心等待管理员审核，</span>\n                    <br/>\n                    <span>审核结果将会通过邮件或消息发送给您。</span>\n                    <br/>\n                    <br/>\n                    <a class="btn" href="#/activity/index">返回活动页</a>\n                </div>\n'},26:function(e,n,a,t,i){return'                <div class="text-center">\n                    <h3 style="color:red">审核未通过</h3>\n                    \x3c!--  span 报名已满，请联系响应中心 --\x3e\n                    <br/>\n                    <br/>\n                    <div class="buttons">\n                        <a class="btn" href="#/activity/index">返回活动页</a>\n                        <div id="reSignup" class="btn">重新报名</div>\n                    </div>\n                </div>\n'},28:function(e,n,a,t,i){return'                <div class="text-center">\n                    <h3 style="color:red">配额已满，请联系主办方</h3>\n                    \x3c!--  span 报名已满，请联系响应中心 --\x3e\n                    <br/>\n                    <br/>\n                    <div class="buttons">\n                        <a class="btn" href="#/activity/index">返回活动页</a>\n                        <div id="reSignup" class="btn">重新报名</div>\n                    </div>\n                </div>\n'},30:function(e,n,a,t,i){var l;return'                <div class="text-center">\n                    <h3 style="color:green">报名成功！</h3>\n                    <span>可通过我的班级\n                        <a href="#/train/class-detail/'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.classSignupInfo:n)?l.classId:l,n))+'">进入班级</a>\n                        页面\n                    </span>\n                </div>\n'},32:function(e,n,a,t,i){var l;return'            <div class="text-center">\n                <h3 style="color:green">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.classSignupInfo:n)?l.statusText:l,n))+"</h3>\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"banner",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/signup/view-banner",function(e,n,a){a.bindings={classSignupInfo:!0,down:!1},a.dataForTemplate={classSignupInfo:function(e){var n=e.classSignupInfo||{},a=(new Date).getTime();return n&&(1===n.isOpen&&(n.classInfo&&n.startTime>a?n.statusText="报名未开始":n.classInfo&&n.endTime<=a?n.statusText="报名已结束":n.classInfo&&3===n.classInfo.status?n.statusText="报名已结束":n.statusText="报名中"),0===n.isOpen&&(n.classInfo&&n.startTime>a?n.statusText="报名未开始":n.classInfo&&n.endTime<=a?n.statusText="报名已结束":n.classInfo&&3===n.classInfo.status?n.statusText="报名已结束":n.statusText="报名中")),n}}},{}),loadjs.d("./app/train/signup/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/maps"),l=e("jquery"),s=e("./app/ext/views/form/validators");a.bindings={classSignupInfo:!0,member:!0,nations:!0,levels:!0,state:!0,trainee:!0},a.events={"click reSignup":"reSignup"},a.handlers={reSignup:function(){this.bindings.state.data.auditStatus=3,this.bindings.state.changed()}},a.actions={"click commit-signup":"commit"},a.dataForActions={commit:function(){var e,n=l(this.$$('[name="phoneNumber"]')).val(),a=l(this.$$('[name="email"]')).val(),t=l(this.$$('[name="sex"]')).val(),i=l(this.$$('[name="nation"]')).val(),r=l(this.$$('[name="remark"]')).val(),o=l(this.$$('[name="organizationId"]')).val(),d=l(this.$$('[name="settleOrganizationId"]')).val(),c=l(this.$$('[name="id"]')).val(),u=l(this.$$('[name="jobName"]')).val().trim(),m=this.bindings.classSignupInfo.data.classId,p=this.bindings.classSignupInfo.data.classInfo.className;if(this.bindings.state.data.activity){if(""===(e=l(this.$("signupCode")).val()))return this.app.message.error("请输入报名码"),!1;if(e!==this.bindings.classSignupInfo.data.signupCode)return this.app.message.error("请输入正确的报名码"),!1}return s.required.fn(u)?s.maxLength.fn(u,30)?s.phone.fn(n)&&""!==n?s.email.fn(a)&&""!==a?s.maxLength.fn(a,100)?s.maxLength.fn(r,1e3)?{phoneNumber:n,email:a,sex:t,nation:i,remark:r,classId:m,organizationId:o,settleOrganizationId:d,memberId:c,className:p,jobName:u}:(this.app.message.error("备注的最大长度为1000"),!1):(this.app.message.error("邮箱的最大长度为100"),!1):(this.app.message.error("请输入正确的邮箱"),!1):(this.app.message.error("请输入正确的手机号"),!1):(this.app.message.error("职务的最大长度为30"),!1):(this.app.message.error("职务为必填项"),!1)}},a.actionCallbacks={commit:function(e){var n=this.bindings.state.data,a=e[0]||{};0===a.auditStatus?(n.auditStatus=0,this.bindings.state.changed()):1===a.auditStatus?(n.auditStatus=1,this.bindings.state.changed()):8===a.auditStatus?(n.auditStatus=8,this.bindings.trainee.data=a,this.bindings.state.changed()):(n.auditStatus=2,this.bindings.trainee.data=a,this.bindings.state.changed())}},a.dataForTemplate={nations:function(e){var n=this.bindings.member.data.ethnicityId||"",a=e.nations;return t.map(a,function(e){var a=e;a.id===n&&(a.selected=!0)}),a},sexs:function(){var e=this;return t.map(i.get("sexs"),function(n){var a=n;return a.selected=Number(a.key)===Number(e.bindings.member.data.sex),a})},member:function(e){return e.member||{}},classSignupInfo:function(){var e=this.bindings.classSignupInfo.data,n=(new Date).getTime();return e&&(1===e.isOpen&&(e.classInfo&&e.startTime>n?e.statusText="报名未开始":e.classInfo&&e.endTime<=n?e.statusText="报名已结束":e.classInfo&&3===e.classInfo.status?e.statusText="报名已结束":e.pass=!0),0===e.isOpen&&(e.statusText="该班级未开放报名")),e}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/maps":"./app/util/maps",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/signup/view-side",function(e,n,a){a.bindings={state:!0,down:!1},a.dataForTemplate={docUrl:function(){return this.bindings.down.getFullUrl()+"?id=train_registration_notes"}}},{}),loadjs.d("./app/train/statistics/class-two-brings/index",function(e,n,a){a.items={main:"main",search:"search",edit:""},a.store={models:{classTwoBrings:{url:"../train/class-two-brings/background",type:"pageable",root:"items"},classTwoBring:{url:"../train/class-two-brings"},download:{url:"../train/class-two-brings/download"},state:{data:{}},org:{data:{}}},callbacks:{init:function(e){var n=this.models.classTwoBrings,a=this.models.state;return n.params=e,a.data.classId=e.classId,this.get(n,{loading:!0})},search:function(e){var n=this.models.classTwoBrings,a=this.models.org;n.params=e,this.get(n),a.clear()},enterSearch:function(e){var n=this.models.classTwoBrings,a=this.models.org;n.params=e,this.get(n),a.clear()},edit:function(e){var n=this.models.classTwoBring,a=this,t=this.models.state;return t.data.id=e.id,n.clear(),n.params=t.data,a.get(n)}}},a.beforeRender=function(){return this.dispatch("init",{classId:this.renderOptions.state.classId})}},{}),loadjs.d("./app/train/statistics/class-two-brings/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="div" data-region="search"></div>\n    <div class="div" data-region="main"></div>\n'},3:function(e,n,a,t,i){return'<form class="vertical layout-mt-small">\n    <div id="searchPannel" class="filter-row train-small">\n        <div class="filter-item">\n            <label>员工编号</label>\n            <input class="input" name="name"/>\n        </div>\n        <div class="filter-item">\n            <label>姓名</label>\n            <input class="input" name="fullName"/>\n        </div>\n        <div class="filter-item clearfix vertical-top">\n            <label class="tag-height pull-left m-right">单位</label>\n            <div id="class-organization" class="inline-block" style="width:201px"></div>\n        </div>\n        <div class="filter-item vertical-top">\n            <btn id="search" class="btn">查询</btn>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing;return'    <div class="layout-mt-small">\n        <div class="clearfix">\n            <div class="h4 pull-left m-left">两个带来列表</div>\n            <a class="btn small active pull-right m-right" href="'+e.escapeExpression((s=null!=(s=a.exportUrl||(null!=n?n.exportUrl:n))?s:o,"function"==typeof s?s.call(r,{name:"exportUrl",hash:{},data:i}):s))+'">导出</a>\n        </div>\n        <div class="m-top">\n            <table class="table text-center train border around margin-none">\n                <thead><tr>\n                    <th>序号</th>\n                    <th>学员姓名</th>\n                    <th>员工编号</th>\n                    <th>单位</th>\n                    <th>提交时间</th>\n                    <th>经验/案例主题</th>\n                    <th>问题/困难主题</th>\n                    <th width="60">操作</th>\n                </tr></thead>\n                <tbody>\n                    '+(null!=(l=a.each.call(r,null!=n?n.classTwoBrings:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+"\n                </tbody>\n            </table>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.pageCount:n,"gt",1,{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n    </div>\n"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return"<tr>\n                        <td>"+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                        <td>"+c(u(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                        <td>"+c(u(null!=(l=null!=n?n.member:n)?l.name:l,n))+'</td>\n                        <td><span title="'+c(u(null!=(l=null!=n?n.organization:n)?l.names:l,n))+'">'+c(u(null!=(l=null!=n?n.organization:n)?l.name:l,n))+"</span></td>\n                        <td>"+c((a.dateTime||n&&n.dateTime||o).call(r,null!=n?n.createTime:n,{name:"dateTime",hash:{},data:i}))+'</td>\n                        <td><span title="'+c((s=null!=(s=a.title1s||(null!=n?n.title1s:n))?s:o,typeof s===d?s.call(r,{name:"title1s",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.title1||(null!=n?n.title1:n))?s:o,typeof s===d?s.call(r,{name:"title1",hash:{},data:i}):s))+'</span></td>\n                        <td><span title="'+c((s=null!=(s=a.title2s||(null!=n?n.title2s:n))?s:o,typeof s===d?s.call(r,{name:"title2s",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.title2||(null!=n?n.title2:n))?s:o,typeof s===d?s.call(r,{name:"title2",hash:{},data:i}):s))+'</span></td>\n                        <td>\n                            <a id="edit'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'">查看</a>\n                        </td>\n                    </tr>\n'},8:function(e,n,a,t,i){return'                        <tr><td colspan="10"><div class="text-center">\n                            <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                            <p>暂无内容</p>\n                        </div>\n                        </td></tr>'},10:function(e,n,a,t,i){return'                <div id="pager" class="pagination" style="margin:1em;"></div>\n'},12:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'<form class="vertical">\n    <div class="clearfix">\n        <div class="col-sm-4 inline-block">\n            <span>学员姓名:</span>\n            <span>'+r(s(null!=(l=null!=(l=null!=n?n.classTwoBring:n)?l.member:l)?l.fullName:l,n))+'</span>\n        </div>\n        <div class="col-sm-4 inline-block">\n            <span>员工编号：</span>\n            <span>'+r(s(null!=(l=null!=(l=null!=n?n.classTwoBring:n)?l.member:l)?l.name:l,n))+'</span>\n        </div>\n        <div class="col-sm-4 inline-block">\n            <span>提交时间：</span>\n            <span>'+r((a.dateTime||n&&n.dateTime||d).call(o,null!=(l=null!=n?n.classTwoBring:n)?l.createTime:l,{name:"dateTime",hash:{},data:i}))+'</span>\n        </div>\n    </div>\n    <div class="watchbring-content">\n        <div class="watchbring-item layout-mt-small overflow">\n            <p>1.'+r(s(null!=(l=null!=(l=null!=n?n.classTwoBring:n)?l.classSignupInfo:l)?l.question1:l,n))+'</p>\n            <div class="form align-left"><div class="form-row">\n                <span>经典/案例主题：'+r(s(null!=(l=null!=n?n.classTwoBring:n)?l.title1:l,n))+'</span>\n            </div></div>\n            <div class="w-full border around" x-marker="rich-text" style="height:10em; overflow:auto;">'+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.classTwoBring:n)?l.content1:l,{name:"echoX",hash:{},data:i}))?l:"")+'</div>\n        </div>\n        <div class="watchbring-item layout-mt-small overflow">\n            <p>2.'+r(s(null!=(l=null!=(l=null!=n?n.classTwoBring:n)?l.classSignupInfo:l)?l.question2:l,n))+'</p>\n            <div class="form align-left"><div class="form-row">\n                <span>经典/案例主题：'+r(s(null!=(l=null!=n?n.classTwoBring:n)?l.title2:l,n))+'</span>\n            </div></div>\n            <div class="w-full border around" x-marker="rich-text" style="height:10em; overflow:auto;">'+(null!=(l=(a.echoX||n&&n.echoX||d).call(o,null!=(l=null!=n?n.classTwoBring:n)?l.content2:l,{name:"echoX",hash:{},data:i}))?l:"")+'</div>\n        </div>\n        <input class="input" name="id" type="hidden" value="'+r(s(null!=(l=null!=n?n.auditTrainee:n)?l.id:l,n))+'"/>\n    </div>\n</form>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"edit",{name:"view",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/class-two-brings/view-edit",function(e,n,a){a.title="详情",a.type="form",a.bindings={classTwoBring:!0}},{}),loadjs.d("./app/train/statistics/class-two-brings/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={classTwoBrings:!0,state:!0,download:!1},a.actions={"click edit*":"edit"},a.dataForActions={edit:function(e){return e}},a.components=[{id:"pager",name:"pager",options:{model:"classTwoBrings"}}],a.dataForTemplate={classTwoBrings:function(e){var n=e.classTwoBrings,a=this.bindings.classTwoBrings.getPageInfo().page;return t.map(n||[],function(e,n){var t=e;t.i=n+1+10*(a-1),t.organization.names=t.organization.name,t.title1s=t.title1,t.title2s=t.title2,
t.organization.name&&t.organization.name.length>7&&(t.organization.name=t.organization.name.substring(0,6)+"..."),t.title1&&t.title1.length>7&&(t.title1=t.title1.substring(0,6)+"..."),t.title2&&t.title2.length>7&&(t.title2=t.title2.substring(0,6)+"...")}),n},pageCount:function(){return this.bindings.classTwoBrings.getPageInfo().pageCount},exportUrl:function(){var e=this.bindings.download.getFullUrl()+"?",n=this.bindings.classTwoBrings.params,a=this.app.global.OAuth.token.access_token;return n.pageSize=1e5,n.page=1,t.map(n,function(n,a){e+=a+"="+n+"&"}),e+="access_token="+a}},a.actionCallbacks={edit:function(){this.app.viewport.modal(this.module.items.edit)}}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/class-two-brings/view-search",function(e,n,a){var t=e("jquery");a.actions={"click search":"search","keypress searchPannel":"enterSearch"},a.dataForActions={search:function(){return{name:t(this.$$('[name="name"]')).val().trim(),fullName:t(this.$$('[name="fullName"]')).val().trim(),organizationId:t(this.$$('[name="organizationId"]')).val(),classId:this.module.renderOptions.state.classId}},enterSearch:function(e,n){return 13===(n.keyCode||n.which||n.charCode)&&{name:t(this.$$('[name="name"]')).val().trim(),fullName:t(this.$$('[name="fullName"]')).val().trim(),organizationId:t(this.$$('[name="organizationId"]')).val(),classId:this.module.renderOptions.state.classId}}},a.components=[{id:"class-organization",name:"picker",options:{module:"train/class-info",picker:"owner",inputName:"organizationId"}}]},{jquery:!1}),loadjs.d("./app/train/statistics/index",function(e,n,a){a.items={tab:"tab",main:"main"},a.store={models:{projectInfo:{},state:{}},callbacks:{init:function(e){var n=this.models.state;n.data.tab="questionnaire",n.data.classId=e.classId,n.data.role=e.role,n.changed()}}},a.beforeRender=function(){return this.dispatch("init",{classId:this.renderOptions.state.classId,role:this.renderOptions.state.role})}},{}),loadjs.d("./app/train/statistics/questionnaire/count-new/all/index",function(e,n,a){a.items={mainA:"mainA"},a.store={models:{total:{url:"../train/questionnaire-survey-new/evaluate-total-statistics"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.total,a=e.state.data.classId,t=e.state.data.researchId;return"admin"===e.state.data.role||"response"===e.state.data.role?n.params={classId:a,researchId:t,type:1}:n.params={classId:a,researchId:t},this.get(n,{loading:!0})}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/statistics/questionnaire/count-new/all/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <br/>\n    <div class="statistics" data-region="mainA">   </div>\n'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return'    <table class="table text-center train border around">\n        <thead><tr>\n            <th>类别</th>\n            <th colspan="2">评估项目</th>\n            <th>10</th>\n            <th>9</th>\n            <th>8</th>\n            <th>7</th>\n            <th>6</th>\n            <th>5</th>\n            <th>4</th>\n            <th>3</th>\n            <th>2</th>\n            <th>1</th>\n            <th>分项满意度</th>\n            <th>类别满意度</th>\n        </tr></thead>\n        <tbody>\n            <tr>\n                <td rowspan="2">设计安排</td>\n                <td>1</td>\n                <td class="text-left">'+r(s(null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.questionName:l,n))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.answerTen:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.answerNine:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.answerEight:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.answerSeven:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.answerSix:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.answerFive:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.answerFour:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.answerThree:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.answerTwo:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.answerOne:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>\n"+(null!=(l=a.if.call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.subitemSatisfaction:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'                </td>\n                <td rowspan="2">\n'+(null!=(l=a.if.call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.courseContentTotal:l,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'                </td>\n            </tr>\n            <tr>\n                <td>2</td>\n                <td class="text-left">'+r(s(null!=(l=null!=(l=null!=n?n.total:n)?l.two:l)?l.questionName:l,n))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.two:l)?l.answerTen:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.two:l)?l.answerNine:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.two:l)?l.answerEight:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.two:l)?l.answerSeven:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.two:l)?l.answerSix:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.two:l)?l.answerFive:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.two:l)?l.answerFour:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.two:l)?l.answerThree:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.two:l)?l.answerTwo:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.two:l)?l.answerOne:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>\n"+(null!=(l=a.if.call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.two:l)?l.subitemSatisfaction:l,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'                </td>\n            </tr>\n            <tr>\n                <td rowspan="2">课程师资</td>\n                <td>3</td>\n                <td class="text-left">课程内容</td>\n                <td colspan="10">-</td>\n                <td>\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.total:n)?l.three:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'                </td>\n                <td rowspan="2">'+r(s(null!=(l=null!=n?n.total:n)?l.threeAverage:l,n))+'%</td>\n            </tr>\n            <tr>\n                <td>4</td>\n                <td class="text-left">师资表现</td>\n                <td colspan="10">-</td>\n                <td>\n                    '+r(s(null!=(l=null!=n?n.total:n)?l.four:l,n))+'\n                </td>\n            </tr>\n            <tr>\n                <td rowspan="2">教学组织</td>\n                <td>5</td>\n                <td class="text-left">'+r(s(null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.questionName:l,n))+"</td>\n"+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.total:n)?l.classType:l,"eq",2,{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.program(16,i,0),data:i}))?l:"")+'                <td rowspan="2">\n'+(null!=(l=a.if.call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.courseContentTotal:l,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'                </td>\n            </tr>\n            <tr>\n                <td>6</td>\n                <td class="text-left">'+r(s(null!=(l=null!=(l=null!=n?n.total:n)?l.six:l)?l.questionName:l,n))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.six:l)?l.answerTen:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.six:l)?l.answerNine:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.six:l)?l.answerEight:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.six:l)?l.answerSeven:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.six:l)?l.answerSix:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.six:l)?l.answerFive:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.six:l)?l.answerFour:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.six:l)?l.answerThree:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.six:l)?l.answerTwo:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.six:l)?l.answerOne:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>\n"+(null!=(l=a.if.call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.six:l)?l.subitemSatisfaction:l,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'                </td>\n            </tr>\n            <tr>\n                <td rowspan="2">培训支撑</td>\n                <td>7</td>\n                <td class="text-left">'+r(s(null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.questionName:l,n))+"</td>\n"+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.total:n)?l.classType:l,"eq",2,{name:"compare",hash:{},fn:e.program(25,i,0),inverse:e.program(27,i,0),data:i}))?l:"")+'            </tr>\n            <tr>\n                <td>8</td>\n                <td class="text-left">'+r(s(null!=(l=null!=(l=null!=n?n.total:n)?l.eight:l)?l.questionName:l,n))+"</td>\n"+(null!=(l=(a.compare||n&&n.compare||d).call(o,null!=(l=null!=n?n.total:n)?l.classType:l,"eq",2,{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.program(32,i,0),data:i}))?l:"")+'            </tr>\n            <tr>\n                <td rowspan="2">培训成效</td>\n                <td>9</td>\n                <td class="text-left">'+r(s(null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.questionName:l,n))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.answerTen:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.answerNine:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.answerEight:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.answerSeven:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.answerSix:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.answerFive:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.answerFour:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.answerThree:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.answerTwo:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.answerOne:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>\n"+(null!=(l=a.if.call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.subitemSatisfaction:l,{name:"if",hash:{},fn:e.program(35,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'                </td>\n                <td rowspan="2">\n'+(null!=(l=a.if.call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.courseContentTotal:l,{name:"if",hash:{},fn:e.program(37,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'                </td>\n            </tr>\n            <tr>\n                <td>10</td>\n                <td class="text-left">'+r(s(null!=(l=null!=(l=null!=n?n.total:n)?l.ten:l)?l.questionName:l,n))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.ten:l)?l.answerTen:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.ten:l)?l.answerNine:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.ten:l)?l.answerEight:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.ten:l)?l.answerSeven:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.ten:l)?l.answerSix:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.ten:l)?l.answerFive:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.ten:l)?l.answerFour:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.ten:l)?l.answerThree:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.ten:l)?l.answerTwo:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.ten:l)?l.answerOne:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>\n"+(null!=(l=a.if.call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.ten:l)?l.subitemSatisfaction:l,{name:"if",hash:{},fn:e.program(39,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'                </td>\n            </tr>\n            <tr>\n                <td class="text-left" colspan="3">总计</td>\n                <td>'+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.total:l)?l.answerTen:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.total:l)?l.answerNine:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.total:l)?l.answerEight:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.total:l)?l.answerSeven:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.total:l)?l.answerSix:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.total:l)?l.answerFive:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.total:l)?l.answerFour:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.total:l)?l.answerThree:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.total:l)?l.answerTwo:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+r((a.pick||n&&n.pick||d).call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.total:l)?l.answerOne:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>\n"+(null!=(l=a.if.call(o,null!=(l=null!=(l=null!=n?n.total:n)?l.total:l)?l.subitemSatisfaction:l,{name:"if",hash:{},fn:e.program(41,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+"                </td>\n                <td></td>\n            </tr>\n            \x3c!--  else --\x3e\n            \x3c!--      tr > td(colspan='14') > .text-center --\x3e\n            \x3c!--          img(src='../images/sys-tip/empty.png' width=150 height=150) --\x3e\n            \x3c!--          p 暂无内容 --\x3e\n        </tbody>\n    </table>\n    <div class=\"layout-mt layout-mb\">\n        <table class=\"table text-center train border around\">\n            <thead><tr>\n                <th>课程名称</th>\n                <th>讲师姓名</th>\n                <th>课程内容</th>\n                <th>师资表现</th>\n                <th>总体满意度</th>\n            </tr></thead>\n            <tbody>"+(null!=(l=a.each.call(o,null!=(l=null!=n?n.total:n)?l.courseStatistics:l,{name:"each",hash:{},fn:e.program(43,i,0),inverse:e.noop,data:i}))?l:"")},4:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.subitemSatisfaction:l,n))+"%\n"},6:function(e,n,a,t,i){return"                        0.00%\n"},8:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.total:n)?l.one:l)?l.courseContentTotal:l,n))+"%\n"},10:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.total:n)?l.two:l)?l.subitemSatisfaction:l,n))+"%\n"},12:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression(e.lambda(null!=(l=null!=n?n.total:n)?l.three:l,n))+"%\n"},14:function(e,n,a,t,i){return'                    <td colspan="10">-</td>\n                    <td>\n                        -\n                    </td>\n'},16:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.answerTen:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.answerNine:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.answerEight:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.answerSeven:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.answerSix:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.answerFive:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.answerFour:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.answerThree:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.answerTwo:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.answerOne:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>\n"+(null!=(l=a.if.call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.subitemSatisfaction:l,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.program(19,i,0),data:i}))?l:"")+"                    </td>\n"},17:function(e,n,a,t,i){var l;return"                            "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.subitemSatisfaction:l,n))+"%\n"},19:function(e,n,a,t,i){return"                            0.00%\n"},21:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.total:n)?l.five:l)?l.courseContentTotal:l,n))+"%\n"},23:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.total:n)?l.six:l)?l.subitemSatisfaction:l,n))+"%\n"},25:function(e,n,a,t,i){return'                    <td colspan="10">-</td>\n                    <td>\n                        -\n                    </td>\n                    <td rowspan="2">\n                        -\n                    </td>\n'},27:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.answerTen:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.answerNine:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.answerEight:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.answerSeven:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.answerSix:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.answerFive:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.answerFour:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.answerThree:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.answerTwo:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.answerOne:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>\n"+(null!=(l=a.if.call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.subitemSatisfaction:l,{name:"if",hash:{},fn:e.program(28,i,0),inverse:e.program(19,i,0),data:i}))?l:"")+'                    </td>\n                    <td rowspan="2">\n'+(null!=(l=a.if.call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.courseContentTotal:l,{name:"if",hash:{},fn:e.program(30,i,0),inverse:e.program(19,i,0),data:i}))?l:"")+"                    </td>\n"},28:function(e,n,a,t,i){var l;return"                            "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.subitemSatisfaction:l,n))+"%\n"},30:function(e,n,a,t,i){var l;return"                            "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.total:n)?l.seven:l)?l.courseContentTotal:l,n))+"%\n"},32:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.eight:l)?l.answerTen:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.eight:l)?l.answerNine:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.eight:l)?l.answerEight:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.eight:l)?l.answerSeven:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.eight:l)?l.answerSix:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.eight:l)?l.answerFive:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.eight:l)?l.answerFour:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.eight:l)?l.answerThree:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.eight:l)?l.answerTwo:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.eight:l)?l.answerOne:l,"0",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>\n"+(null!=(l=a.if.call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.eight:l)?l.subitemSatisfaction:l,{name:"if",hash:{},fn:e.program(33,i,0),inverse:e.program(19,i,0),data:i}))?l:"")+"                    </td>\n"},33:function(e,n,a,t,i){var l;return"                            "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.total:n)?l.eight:l)?l.subitemSatisfaction:l,n))+"%\n"},35:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.subitemSatisfaction:l,n))+"%\n"},37:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.total:n)?l.nine:l)?l.courseContentTotal:l,n))+"%\n"},39:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.total:n)?l.ten:l)?l.subitemSatisfaction:l,n))+"%\n"},41:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.total:n)?l.total:l)?l.subitemSatisfaction:l,n))+"%\n"},43:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"<tr>\n                <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.courseName:n,"-",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.lecturerName:n,"-",{name:"pick",hash:{},data:i}))+"</td>\n                <td>\n"+(null!=(l=a.if.call(s,null!=n?n.courseContentTotal:n,{name:"if",hash:{},fn:e.program(44,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+"                </td>\n                <td>\n"+(null!=(l=a.if.call(s,null!=n?n.special:n,{name:"if",hash:{},fn:e.program(46,i,0),inverse:e.program(48,i,0),data:i}))?l:"")+"                </td>\n                <td>\n"+(null!=(l=a.if.call(s,null!=n?n.subitemSatisfaction:n,{name:"if",hash:{},fn:e.program(51,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+"                </td>\n            </tr>\n"},44:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression((l=null!=(l=a.courseContentTotal||(null!=n?n.courseContentTotal:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"courseContentTotal",hash:{},data:i}):l))+"%\n"},46:function(e,n,a,t,i){return"                        -\n"},48:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.teacherPerformanceTotal:n,{name:"if",hash:{},fn:e.program(49,i,0),inverse:e.program(19,i,0),data:i}))?l:""},49:function(e,n,a,t,i){var l;return"                            "+e.escapeExpression((l=null!=(l=a.teacherPerformanceTotal||(null!=n?n.teacherPerformanceTotal:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"teacherPerformanceTotal",hash:{},data:i}):l))+"%\n"},51:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression((l=null!=(l=a.subitemSatisfaction||(null!=n?n.subitemSatisfaction:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"subitemSatisfaction",hash:{},data:i}):l))+"%\n"},53:function(e,n,a,t,i){return'                <tr><td colspan="5"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容</p>\n                </div>\n                </td></tr></tbody>\n        </table>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"mainA",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.program(53,i,0),data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/count-new/all/view-mainA",function(e,n,a){var t=e("lodash");a.bindings={total:!0},a.dataForTemplate={total:function(e){var n=e.total,a=[];return n.courseStatistics=t.map(n.courseStatistics,function(e){var a=e;return a.special=2===n.classType&&5===a.courseType,a}),n.four=n.four?n.four+"%":"0.00%",a=t.filter(n.courseStatistics,function(e){return 1===e.courseType||3===e.courseType}),2===n.classType&&a.length<=0&&(n.four="-"),n}}},{lodash:696}),loadjs.d("./app/train/statistics/questionnaire/count-new/allPerson/index",function(e,n,a){a.items={mainA:"mainA"},a.store={models:{total:{url:"../train/questionnaire-survey-new/evaluate-total-proposal"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.total,a=e.state.data.classId,t=e.state.data.researchId;return"admin"===e.state.data.role||"response"===e.state.data.role?n.params={classId:a,researchId:t,type:1}:n.params={classId:a,researchId:t},this.get(n,{loading:!0})}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/statistics/questionnaire/count-new/allPerson/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <br/>\n    <div class="statistics" data-region="mainA">   </div>\n'},3:function(e,n,a,t,i,l,s){var r
;return'    <table class="table text-center train border around">\n        <thead><tr>\n            <th>序号</th>\n            <th>问题</th>\n            <th>意见与建议</th>\n            <th>学员姓名</th>\n            <th>手机号</th>\n            <th>单位</th>\n        </tr></thead>\n        <tbody>'+(null!=(r=a.each.call(null!=n?n:{},null!=n?n.total:n,{name:"each",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"</tbody>\n    </table>\n"},4:function(e,n,a,t,i,l,s){var r;return"\n"+(null!=(r=a.each.call(null!=n?n:{},null!=n?n.que:n,{name:"each",hash:{},fn:e.program(5,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"        "},5:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{},d=a.helperMissing,c=e.escapeExpression;return"                <tr>\n"+(null!=(r=(a.compare||n&&n.compare||d).call(o,i&&i.index,"eq",0,{name:"compare",hash:{},fn:e.program(6,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'                    <td width="500"><div class="td-content">'+c((a.pick||n&&n.pick||d).call(o,null!=n?n.idea:n,"-",{name:"pick",hash:{},data:i}))+"</div></td>\n                    <td>"+c((a.pick||n&&n.pick||d).call(o,null!=n?n.mName:n,"-",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+c((a.pick||n&&n.pick||d).call(o,null!=n?n.phone:n,"-",{name:"pick",hash:{},data:i}))+"</td>\n                    <td>"+c((a.pick||n&&n.pick||d).call(o,null!=n?n.oName:n,"-",{name:"pick",hash:{},data:i}))+"</td>\n                </tr>\n"},6:function(e,n,a,t,i,l,s){var r,o,d=e.lambda,c=e.escapeExpression,u=null!=n?n:{},m=a.helperMissing;return'                        <td width="60" rowspan="'+c(d(null!=(r=null!=s[1]?s[1].que:s[1])?r.length:r,n))+'">'+c((o=null!=(o=a.index||(null!=n?n.index:n))?o:m,"function"==typeof o?o.call(u,{name:"index",hash:{},data:i}):o))+'</td>\n                        <td width="300" rowspan="'+c(d(null!=(r=null!=s[1]?s[1].que:s[1])?r.length:r,n))+'">'+c((o=null!=(o=a.questionName||(null!=n?n.questionName:n))?o:m,"function"==typeof o?o.call(u,{name:"questionName",hash:{},data:i}):o))+"</td>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i,l,s){var r,o,d,c=null!=n?n:{},u=a.helperMissing,m="";return o=null!=(o=a.module||(null!=n?n.module:n))?o:u,d={name:"module",hash:{},fn:e.program(1,i,0,l,s),inverse:e.noop,data:i},r="function"==typeof o?o.call(c,d):o,a.module||(r=a.blockHelperMissing.call(n,r,d)),null!=r&&(m+=r),m+(null!=(r=(a.view||n&&n.view||u).call(c,"mainA",{name:"view",hash:{},fn:e.program(3,i,0,l,s),inverse:e.noop,data:i}))?r:"")},useData:!0,useDepths:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/count-new/allPerson/view-mainA",function(e,n,a){var t=e("lodash/collection");a.bindings={total:!0},a.dataForTemplate={total:function(e){var n=e.total;return n&&n.length>0&&(n=t.map(n,function(e,n){var a=e;return t.map(a,function(e,t){var i=e;return 0===t&&(i.index=n+1),a.questionName=i.questionName,i}),{que:a}})),n}}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/count-new/course/index",function(e,n,a){a.items={mainA:"mainA"},a.store={models:{total:{url:"../train/questionnaire-survey-new/evaluate-course-statistics"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.total,a=e.state.data.classId,t=e.state.data.researchId;return"admin"===e.state.data.role||"response"===e.state.data.role?n.params={classId:a,researchId:t,type:1}:n.params={classId:a,researchId:t},this.get(n,{loading:!0})}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/statistics/questionnaire/count-new/course/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="statistics" data-region="mainA">   </div>\n'},3:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.total:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:""},4:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'        <div class="clearfix layout-mt-small">\n            <div class="col-sm-4 pull-left text-left text-overflow" title="课程名称：'+r(s(null!=(l=null!=n?n.course:n)?l.courseName:l,n))+'" style="padding:0 30px;">\n                课程名称：\n                '+r(s(null!=(l=null!=n?n.course:n)?l.courseName:l,n))+'\n            </div>\n            <div class="col-sm-4 pull-left text-center text-overflow" title="讲师姓名：'+r(s(null!=(l=null!=n?n.course:n)?l.lecturerName:l,n))+'" style="padding:0 30px;">\n                讲师姓名：\n                '+r((a.pick||n&&n.pick||a.helperMissing).call(o,null!=(l=null!=n?n.course:n)?l.lecturerName:l,"-",{name:"pick",hash:{},data:i}))+'\n            </div>\n            <div class="col-sm-4 pull-left text-right text-overflow" style="padding-left:30px;">\n                总体满意度：\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.course:n)?l.averageTotal:l,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'            </div>\n        </div>\n        <table class="table text-center train border around layout-mb">\n            <thead><tr>\n                <th colspan="3">评价项目</th>\n                <th>10</th>\n                <th>9</th>\n                <th>8</th>\n                <th>7</th>\n                <th>6</th>\n                <th>5</th>\n                <th>4</th>\n                <th>3</th>\n                <th>2</th>\n                <th>1</th>\n                <th>分项满意度</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(o,null!=n?n.course:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"</tbody>\n        </table>\n"},5:function(e,n,a,t,i){var l;return"                    "+e.escapeExpression(e.lambda(null!=(l=null!=n?n.course:n)?l.averageTotal:l,n))+"%\n"},7:function(e,n,a,t,i){return"                    0.00%\n"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return"\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.questionType:n,"lt",5,{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.questionType:n,"eq",101,{name:"compare",hash:{},fn:e.program(17,i,0),inverse:e.program(19,i,0),data:i}))?l:"")+"            "},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"                    <tr>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.questionType:n,"eq",1,{name:"compare",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"                        <td>"+d((s=null!=(s=a.questionType||(null!=n?n.questionType:n))?s:o,"function"==typeof s?s.call(r,{name:"questionType",hash:{},data:i}):s))+'</td>\n                        <td class="text-left">'+(null!=(s=null!=(s=a.questionName||(null!=n?n.questionName:n))?s:o,l="function"==typeof s?s.call(r,{name:"questionName",hash:{},data:i}):s)?l:"")+"</td>\n                        <td>"+d((a.pick||n&&n.pick||o).call(r,null!=n?n.answerTen:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+d((a.pick||n&&n.pick||o).call(r,null!=n?n.answerNine:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+d((a.pick||n&&n.pick||o).call(r,null!=n?n.answerEight:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+d((a.pick||n&&n.pick||o).call(r,null!=n?n.answerSeven:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+d((a.pick||n&&n.pick||o).call(r,null!=n?n.answerSix:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+d((a.pick||n&&n.pick||o).call(r,null!=n?n.answerFive:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+d((a.pick||n&&n.pick||o).call(r,null!=n?n.answerFour:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+d((a.pick||n&&n.pick||o).call(r,null!=n?n.answerThree:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+d((a.pick||n&&n.pick||o).call(r,null!=n?n.answerTwo:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+d((a.pick||n&&n.pick||o).call(r,null!=n?n.answerOne:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>\n"+(null!=(l=a.if.call(r,null!=n?n.subitemSatisfaction:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+"                        </td>\n                    </tr>\n"},11:function(e,n,a,t,i){return'                            <td rowspan="4">课程内容</td>\n'},13:function(e,n,a,t,i){var l;return"                                "+e.escapeExpression((l=null!=(l=a.subitemSatisfaction||(null!=n?n.subitemSatisfaction:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"subitemSatisfaction",hash:{},data:i}):l))+"%\n"},15:function(e,n,a,t,i){return"                                0.00%\n"},17:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <tr>\n                        <td class="text-left" colspan="3">课程内容总计</td>\n                        <td>'+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerTen:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerNine:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerEight:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerSeven:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerSix:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerFive:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerFour:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerThree:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerTwo:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerOne:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>\n"+(null!=(l=a.if.call(s,null!=n?n.subitemSatisfaction:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+"                        </td>\n                    </tr>\n"},19:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.questionType:n,"ne",201,{name:"compare",hash:{},fn:e.program(20,i,0),inverse:e.program(31,i,0),data:i}))?l:""},20:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.questionType:n,"gt",4,{name:"compare",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:""},21:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing;return"                            <tr>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.questionType:n,"eq",5,{name:"compare",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))?l:"")+"                                <td>"+e.escapeExpression((s=null!=(s=a.questionType||(null!=n?n.questionType:n))?s:o,"function"==typeof s?s.call(r,{name:"questionType",hash:{},data:i}):s))+'</td>\n                                <td class="text-left">'+(null!=(s=null!=(s=a.questionName||(null!=n?n.questionName:n))?s:o,l="function"==typeof s?s.call(r,{name:"questionName",hash:{},data:i}):s)?l:"")+"</td>\n"+(null!=(l=a.if.call(r,null!=n?n.special:n,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.program(26,i,0),data:i}))?l:"")+"                            </tr>\n"},22:function(e,n,a,t,i){return'                                    <td rowspan="6">师资表现</td>\n'},24:function(e,n,a,t,i){return'                                    <td colspan="10">-</td>\n                                    <td>\n                                        -\n                                    </td>\n'},26:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"                                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerTen:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerNine:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerEight:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerSeven:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerSix:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerFive:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerFour:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerThree:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerTwo:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                    <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerOne:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                    <td>\n"+(null!=(l=a.if.call(s,null!=n?n.subitemSatisfaction:n,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.program(29,i,0),data:i}))?l:"")+"                                    </td>\n"},27:function(e,n,a,t,i){var l;return"                                            "+e.escapeExpression((l=null!=(l=a.subitemSatisfaction||(null!=n?n.subitemSatisfaction:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"subitemSatisfaction",hash:{},data:i}):l))+"%\n"},29:function(e,n,a,t,i){return"                                            0.00%\n"},31:function(e,n,a,t,i){var l;return'                        <tr>\n                            <td class="text-left" colspan="3">师资表现总计</td>\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.special:n,{name:"if",hash:{},fn:e.program(32,i,0),inverse:e.program(34,i,0),data:i}))?l:"")+"                        </tr>\n"},32:function(e,n,a,t,i){return'                                <td colspan="10">-</td>\n                                <td>\n                                    -\n                                </td>\n'},34:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"                                <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerTen:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerNine:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerEight:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerSeven:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerSix:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerFive:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerFour:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerThree:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerTwo:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                <td>"+o((a.pick||n&&n.pick||r).call(s,null!=n?n.answerOne:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                                <td>\n"+(null!=(l=a.if.call(s,null!=n?n.subitemSatisfaction:n,{name:"if",hash:{},fn:e.program(35,i,0),inverse:e.program(37,i,0),data:i}))?l:"")+"                                </td>\n"},35:function(e,n,a,t,i){var l;return"                                        "+e.escapeExpression((l=null!=(l=a.subitemSatisfaction||(null!=n?n.subitemSatisfaction:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"subitemSatisfaction",hash:{},data:i}):l))+"%\n"},37:function(e,n,a,t,i){return"                                        0.00%\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"mainA",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/count-new/course/view-mainA",function(e,n,a){var t=e("lodash/collection");a.bindings={total:!0},a.dataForTemplate={total:function(e){var n=e.total;return n&&n.length>0&&(n=t.map(n,function(e){var n=e;return t.map(n,function(e,a){var t=e;return n.courseName=t.courseName,n.lecturerName=t.lecturerName,n.subitemSatisfaction=t.subitemSatisfaction,0===a&&(n.averageTotal=t.averageTotal),t.special=2===t.classType&&5===t.courseType,t}),{course:n}})),n}}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/count-new/coursePerson/index",function(e,n,a){a.items={mainA:"mainA"},a.store={models:{total:{url:"../train/questionnaire-survey-new/evaluate-course-proposal"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.total,a=e.state.data.classId,t=e.state.data.researchId;return n.params={classId:a,researchId:t},"admin"===e.state.data.role||"response"===e.state.data.role?n.params={classId:a,researchId:t,type:1}:n.params={classId:a,researchId:t},this.get(n,{loading:!0})}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/statistics/questionnaire/count-new/coursePerson/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="statistics" data-region="mainA">   </div>\n'},3:function(e,n,a,t,i,l,s){var r;return null!=(r=a.each.call(null!=n?n:{},null!=n?n.total:n,{name:"each",hash:{},fn:e.program(4,i,0,l,s),inverse:e.noop,data:i}))?r:""},4:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{},d=a.helperMissing,c=e.escapeExpression;return'        <div class="clearfix layout-mt-small">\n            <div class="col-sm-4 pull-left text-left text-overflow">\n                课程名称：\n                '+c((a.pick||n&&n.pick||d).call(o,null!=(r=null!=n?n.info:n)?r.courseName:r,"-",{name:"pick",hash:{},data:i}))+'\n            </div>\n            <div class="col-sm-4 pull-left text-center text-overflow">\n                讲师姓名：\n                '+c((a.pick||n&&n.pick||d).call(o,null!=(r=null!=n?n.info:n)?r.teacherName:r,"-",{name:"pick",hash:{},data:i}))+'\n            </div>\n        </div>\n        <table class="table text-center train border around">\n            <thead><tr>\n                <th>序号</th>\n                <th>问题</th>\n                <th>意见与建议</th>\n                <th>学员姓名</th>\n                <th>手机号</th>\n                <th>单位</th>\n            </tr></thead>\n            <tbody>'+(null!=(r=a.each.call(o,null!=n?n.course:n,{name:"each",hash:{},fn:e.program(5,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"</tbody>\n        </table>\n"},5:function(e,n,a,t,i,l,s){var r;return"\n"+(null!=(r=a.each.call(null!=n?n:{},null!=n?n.courseItem:n,{name:"each",hash:{},fn:e.program(6,i,0,l,s),inverse:e.noop,data:i}))?r:"")+"            "},6:function(e,n,a,t,i,l,s){var r,o=null!=n?n:{},d=a.helperMissing,c=e.escapeExpression;return"                    <tr>\n"+(null!=(r=(a.compare||n&&n.compare||d).call(o,i&&i.index,"eq",0,{name:"compare",hash:{},fn:e.program(7,i,0,l,s),inverse:e.noop,data:i}))?r:"")+'                        <td width="500"><div class="td-content">'+c((a.pick||n&&n.pick||d).call(o,null!=n?n.idea:n,"-",{name:"pick",hash:{},data:i}))+"</div></td>\n                        <td>"+c((a.pick||n&&n.pick||d).call(o,null!=n?n.mName:n,"-",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+c((a.pick||n&&n.pick||d).call(o,null!=n?n.phone:n,"-",{name:"pick",hash:{},data:i}))+"</td>\n                        <td>"+c((a.pick||n&&n.pick||d).call(o,null!=n?n.oName:n,"-",{name:"pick",hash:{},data:i}))+"</td>\n                    </tr>\n"},7:function(e,n,a,t,i,l,s){var r,o,d=e.lambda,c=e.escapeExpression,u=null!=n?n:{},m=a.helperMissing;return'                            <td width="60" rowspan="'+c(d(null!=(r=null!=s[1]?s[1].courseItem:s[1])?r.length:r,n))+'">'+c((o=null!=(o=a.questionType||(null!=n?n.questionType:n))?o:m,"function"==typeof o?o.call(u,{name:"questionType",hash:{},data:i}):o))+'</td>\n                            <td width="300" rowspan="'+c(d(null!=(r=null!=s[1]?s[1].courseItem:s[1])?r.length:r,n))+'">'+(null!=(o=null!=(o=a.questionName||(null!=n?n.questionName:n))?o:m,r="function"==typeof o?o.call(u,{name:"questionName",hash:{},data:i}):o)?r:"")+"</td>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i,l,s){var r,o,d,c=null!=n?n:{},u=a.helperMissing,m="";return o=null!=(o=a.module||(null!=n?n.module:n))?o:u,d={name:"module",hash:{},fn:e.program(1,i,0,l,s),inverse:e.noop,data:i},r="function"==typeof o?o.call(c,d):o,a.module||(r=a.blockHelperMissing.call(n,r,d)),null!=r&&(m+=r),m+(null!=(r=(a.view||n&&n.view||u).call(c,"mainA",{name:"view",hash:{},fn:e.program(3,i,0,l,s),inverse:e.noop,data:i}))?r:"")},useData:!0,useDepths:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/count-new/coursePerson/view-mainA",function(e,n,a){var t=e("lodash/collection");a.bindings={total:!0},a.dataForTemplate={total:function(e){var n=e.total;return n=t.map(n,function(e){var n=e,a={};return n=t.map(n,function(e){var n=e;return n=t.map(n,function(e,n){var t=e;return t.index=n+1,a.courseName=t.courseName,a.teacherName=t.teacherName,t}),{courseItem:n}}),{course:n,info:a}})}}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/count-new/index",function(e,n,a){a.items={head:"head",list:"list",menu:"menu"},a.store={models:{cla:{url:"../train/class-info/get"},total:{url:"../train/questionnaire-survey-new/evaluate-total-statistics"},totalProposal:{url:"../train/questionnaire-survey-new/evaluate-total-proposal"},download:{url:"../train/questionnaire-survey-new/evaluate-download-proposal"},downloadParty:{url:"../train/questionnaire-survey-new/evaluate-partyCadre-download-proposal"},questionnaire:{url:"../train/questionnaire-survey-new/get-evaluate-info"},state:{data:{}},result:{data:{}}},callbacks:{init:function(e){var n=this.models.total,a=this.models.state,t=this.models.cla,i=this.models.questionnaire;return t.params={id:e.classId},i.params={classId:e.classId},a.data={},a.data.menu="all",a.data.all=!0,a.data.classId=e.classId,a.data.researchId=e.researchId,a.data.role=e.role,e.isEnsemble&&"0"===e.isEnsemble&&(a.data.menu="course",a.data.course=!0),a.changed(),"admin"===e.role||"response"===e.role?n.params={classId:e.classId,researchId:e.researchId,type:1}:n.params={classId:e.classId,researchId:e.researchId},this.get(n),this.get(i),this.get(t,{loading:!0})},updateClass:function(e){var n=this.models.updateClass;n.set(e),this.post(n)}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/statistics/questionnaire/count-new/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="achievement-content count main-side">\n    <div class="achievement-head" data-region="head"></div>\n    <section>\n        <div class="tabs line" data-region="menu"></div>\n    </section>\n    <div class="page-main-wrapper">\n        <div class="div" data-region="list"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div>\n        <div class="pull-left title">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.cla:n)?l.className:l,n))+'-学员满意度问卷统计结果</div>\n        <div class="pull-right title text-right" style="width:auto;">\n            总体满意度：\n'+(null!=(l=a.if.call(s,null!=(l=null!=(l=null!=n?n.total:n)?l.total:l)?l.subitemSatisfaction:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'        </div>\n        <div class="pull-right title text-right layout-mr" style="width:auto;">\n            学员问卷反馈率：\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.total:n)?l.feedbackRate:l,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+"        </div>\n    </div>\n"},4:function(e,n,a,t,i){var l;return"                "+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.total:n)?l.total:l)?l.subitemSatisfaction:l,n))+"%\n"},6:function(e,n,a,t,i){return"                0.00%\n"},8:function(e,n,a,t,i){var l;return"                "+e.escapeExpression(e.lambda(null!=(l=null!=n?n.total:n)?l.feedbackRate:l,n))+"%\n"},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return"    <ul>\n"+(null!=(l=a.if.call(r,null!=n?n.isEnsemble:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.program(17,i,0),data:i}))?l:"")+'        <div class="pull-right">\n            <div class="btn small layout-mr-small"><a class="normal" href="'+e.escapeExpression((s=null!=(s=a.exportUrl||(null!=n?n.exportUrl:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"exportUrl",hash:{},data:i}):s))+'" float="right">导出</a></div>\n        </div>\n    </ul>\n'},11:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.isEnsemble:n,"eq","1",{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.program(15,i,0),data:i}))?l:""},12:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                <li id="menu-all" class="'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.all:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'">总体统计情况</li>\n                <li id="menu-allPerson" class="'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.allPerson:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'">总体主观意见统计情况</li>\n'},13:function(e,n,a,t,i){return"active"},15:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                <li id="menu-course" class="'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.course:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'">课程师资评价统计情况</li>\n                <li id="menu-coursePerson" class="'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.coursePerson:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'">课程师资主观意见统计情况</li>\n'},17:function(e,n,a,t,i){var l,s=null!=n?n:{};return'            <li id="menu-all" class="'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.all:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'">总体统计情况</li>\n            <li id="menu-course" class="'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.course:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'">课程师资评价统计情况</li>\n            <li id="menu-allPerson" class="'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.allPerson:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'">总体主观意见统计情况</li>\n            <li id="menu-coursePerson" class="'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.state:n)?l.coursePerson:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'">课程师资主观意见统计情况</li>\n'},19:function(e,n,a,t,i){var l;return'    <div class="tabs-cont"><ul>\n        <li id="tabs-cont-item" class="tabs-cont-item active">\n            <div class="comment-list ask-list"><ul>\n                <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.menu:l,n))+'"></div>\n            </ul></div>\n        </li>\n    </ul></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"menu",{name:"view",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"list",{name:"view",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/count-new/view-head",function(e,n,a){a.bindings={total:!0,cla:!0}},{}),loadjs.d("./app/train/statistics/questionnaire/count-new/view-list",function(e,n,a){a.type="dynamic",a.bindings={state:!0},a.getEntityModuleName=function(e){var n=this.bindings.state.data.menu;return"string"==typeof e&&""!==e&&(n=e),"train/statistics/questionnaire/count-new/"+n},a.getEntity=function(){return{state:this.bindings.state}},a.dataForEntityModule=function(e){return e}},{}),loadjs.d("./app/train/statistics/questionnaire/count-new/view-menu",function(e,n,a){var t=e("lodash/collection");a.type="dynamic",a.bindings={state:!0,total:!0,download:!0,downloadParty:!0,questionnaire:!0,cla:!0},a.events={"click menu-*":"showMenu"},a.handlers={showMenu:function(e){var n=this.bindings.state,a=n.data.role,t=this.module.renderOptions;n.data={},t.isEnsemble&&"0"===t.isEnsemble?n.data.menu=e||"course":n.data.menu=e||"all",n.data.role=a,n.data[e]=!0,n.data.classId=t.classId,n.data.researchId=t.researchId,n.changed()}},a.dataForTemplate={exportUrl:function(){var e,n=this.bindings.total.params,a=this.bindings.questionnaire.data,i=this.app.global.OAuth.token.access_token,l=this.module.renderOptions;return e=this.bindings.download.getFullUrl()+"?","admin"!==l.role&&"response"!==l.role&&(e=this.bindings.downloadParty.getFullUrl()+"?"),n.classId=this.bindings.state.data.classId,n.researchId=this.bindings.state.data.researchId,t.map(n,function(n,a){e+=a+"="+n+"&"}),e+="access_token="+i+"&resourceName="+encodeURI(a.resourceName)},isEnsemble:function(){return this.module.renderOptions.isEnsemble}}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/count/exp/index",function(e,n,a){a.items={main:"main"},a.store={models:{all:{url:"../train/questionnaire-survey/count-c"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.all,a=e.classId,t=this.models.state;return n.params={classId:a},t.data.role=e.role,t.changed(),this.get(n,{loading:!0})}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions.state.data)}},{}),loadjs.d("./app/train/statistics/questionnaire/count/exp/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <br/>\n    <div class="statistics" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l;return'    <table class="table text-center train border around">\n        <thead><tr>\n            <th>序号</th>\n            <th>问题</th>\n            <th>意见与建议</th>\n            <th>学员</th>\n            <th>手机号</th>\n            <th>单位</th>\n        </tr></thead>\n        <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.all:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.program(22,i,0),data:i}))?l:"")+"</tbody>\n    </table>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{}
;return'<tr>\n            <td style="width:5em;">'+e.escapeExpression((s=null!=(s=a.i||(null!=n?n.i:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n"+(null!=(l=a.if.call(r,null!=n?n.isRowspan:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"            <td>\n"+(null!=(l=a.if.call(r,null!=n?n.answer:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'            </td>\n            <td style="width:10em;">\n'+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'            </td>\n            <td style="width:10em;">\n'+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'            </td>\n            <td style="width:10em;">\n'+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.program(9,i,0),data:i}))?l:"")},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                <td rowspan="'+o((l=null!=(l=a.rowspan||(null!=n?n.rowspan:n))?l:r,"function"==typeof l?l.call(s,{name:"rowspan",hash:{},data:i}):l))+'" style="width:15em;">'+o((l=null!=(l=a.questionContent||(null!=n?n.questionContent:n))?l:r,"function"==typeof l?l.call(s,{name:"questionContent",hash:{},data:i}):l))+"</td>\n"},7:function(e,n,a,t,i){var l;return"                    "+e.escapeExpression((l=null!=(l=a.answer||(null!=n?n.answer:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"answer",hash:{},data:i}):l))+"\n"},9:function(e,n,a,t,i){return"                    -\n"},11:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.mName:n,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.program(14,i,0),data:i}))?l:""},12:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression((l=null!=(l=a.mName||(null!=n?n.mName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"mName",hash:{},data:i}):l))+"\n"},14:function(e,n,a,t,i){return"                        -\n"},16:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.phone:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.program(14,i,0),data:i}))?l:""},17:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression((l=null!=(l=a.phone||(null!=n?n.phone:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"phone",hash:{},data:i}):l))+"\n"},19:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.oName:n,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.program(14,i,0),data:i}))?l:""},20:function(e,n,a,t,i){var l;return"                        "+e.escapeExpression((l=null!=(l=a.oName||(null!=n?n.oName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"oName",hash:{},data:i}):l))+"\n"},22:function(e,n,a,t,i){return'                <tr><td colspan="10"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容</p>\n                </div>\n                </td></tr>\n            </td>\n        </tr>\n        '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/count/exp/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={all:!0,state:!0},a.dataForTemplate={all:function(e){var n=[],a=this.bindings.state.data;return t.map(e.all||[],function(e){var i=e,l=i.questionAttrs;l&&t.map(l,function(e,t){var i=e;0===t&&(i.isRowspan=!0,i.rowspan=l.length),"sponsor"!==a.role?i.isGrant=!0:i.isGrant=!1,i.i=t+1,n.push(i)})}),0===n.length&&t.map(e.all||[],function(e,a){var t=e,i={questionContent:t.content,i:a+1,isRowspan:!0,rowspan:1};n.push(i)}),n}}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/count/index",function(e,n,a){a.items={head:"head",list:"list",menu:"menu"},a.store={models:{cla:{url:"../train/class-info/get"},allA:{url:"../train/questionnaire-survey/count-a"},allB:{url:"../train/questionnaire-survey/count-b"},all:{url:"../train/questionnaire-survey/count-zong"},downloadA:{url:"../train/questionnaire-survey/download/count-a"},downloadB:{url:"../train/questionnaire-survey/download/count-b"},downloadC:{url:"../train/questionnaire-survey/download/count-c"},downloadZ:{url:"../train/questionnaire-survey/download/count-z"},downloadResponse:{url:"../train/questionnaire-survey/download/count-response"},downloadCs:{url:"../train/questionnaire-survey/download/count-cs"},state:{data:{}},updateClass:{url:"../train/questionnaire-survey/updateClass"},result:{data:{}}},callbacks:{init:function(e){var n=this.models.cla,a=this.models.allA,t=this.models.allB,i=this.models.state;return n.params={id:e.classId},a.params={classId:e.classId},t.params={classId:e.classId},i.data={},i.data.menu="news",i.data.classId=e.classId,i.data.role=e.role,i.changed(),this.get(a),this.get(t),this.get(n,{loading:!0})},updateClass:function(e){var n=this.models.updateClass;n.set(e),this.post(n)}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/statistics/questionnaire/count/news/index",function(e,n,a){a.items={mainA:"mainA",mainB:"mainB"},a.store={models:{allA:{url:"../train/questionnaire-survey/count-a"},allB:{url:"../train/questionnaire-survey/count-b"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.allA,a=this.models.allB,t=e.state.data.classId;return n.params={classId:t},a.params={classId:t},this.get(a),this.get(n,{loading:!0})}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/statistics/questionnaire/count/news/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <br/>\n    <div class="statistics" data-region="mainA"></div>\n    <br/>\n    <div class="statistics" data-region="mainB">    </div>\n'},3:function(e,n,a,t,i){var l;return'    <table class="table text-center train border around">\n        <thead><tr>\n            <th>序号</th>\n            <th>内容</th>\n            <th>满意</th>\n            <th>基本满意</th>\n            <th>一般</th>\n            <th>不满意</th>\n            <th>很不满意</th>\n            <th>合计（个）</th>\n            <th>满意率（%）</th>\n            <th>满意（%）</th>\n            <th>基本满意（%）</th>\n            <th>一般（%）</th>\n            <th>不满意（%）</th>\n            <th>很不满意（%）</th>\n        </tr></thead>\n        <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.allA:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+"</tbody>\n    </table>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return"<tr>\n            <td>"+d((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,typeof l===o?l.call(s,{name:"i",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.questionContent||(null!=n?n.questionContent:n))?l:r,typeof l===o?l.call(s,{name:"questionContent",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.manA||(null!=n?n.manA:n))?l:r,typeof l===o?l.call(s,{name:"manA",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.manB||(null!=n?n.manB:n))?l:r,typeof l===o?l.call(s,{name:"manB",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.manC||(null!=n?n.manC:n))?l:r,typeof l===o?l.call(s,{name:"manC",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.manD||(null!=n?n.manD:n))?l:r,typeof l===o?l.call(s,{name:"manD",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.manE||(null!=n?n.manE:n))?l:r,typeof l===o?l.call(s,{name:"manE",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.manZ||(null!=n?n.manZ:n))?l:r,typeof l===o?l.call(s,{name:"manZ",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.manZF||(null!=n?n.manZF:n))?l:r,typeof l===o?l.call(s,{name:"manZF",hash:{},data:i}):l))+"%</td>\n            <td>"+d((l=null!=(l=a.manAF||(null!=n?n.manAF:n))?l:r,typeof l===o?l.call(s,{name:"manAF",hash:{},data:i}):l))+"%</td>\n            <td>"+d((l=null!=(l=a.manBF||(null!=n?n.manBF:n))?l:r,typeof l===o?l.call(s,{name:"manBF",hash:{},data:i}):l))+"%</td>\n            <td>"+d((l=null!=(l=a.manCF||(null!=n?n.manCF:n))?l:r,typeof l===o?l.call(s,{name:"manCF",hash:{},data:i}):l))+"%</td>\n            <td>"+d((l=null!=(l=a.manDF||(null!=n?n.manDF:n))?l:r,typeof l===o?l.call(s,{name:"manDF",hash:{},data:i}):l))+"%</td>\n            <td>"+d((l=null!=(l=a.manEF||(null!=n?n.manEF:n))?l:r,typeof l===o?l.call(s,{name:"manEF",hash:{},data:i}):l))+"%\n"},6:function(e,n,a,t,i){return'                <tr><td colspan="14"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容</p>\n                </div>\n                </td></tr></td>\n        </tr>\n        '},8:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <table class="table text-center train border around">\n        <thead><tr>\n            <th class="course" colspan="2">课程</th>\n            <th>满意</th>\n            <th>基本满意</th>\n            <th>一般</th>\n            <th>不满意</th>\n            <th>很不满意</th>\n            <th>合计<br/>（个）</th>\n            <th>推荐数<br/>（次）</th>\n            <th>课程师资满意率<br/>（%）</th>\n            <th>满意率<br/>（%）</th>\n            <th>满意<br/>（%）</th>\n            <th>基本满意<br/>（%）</th>\n            <th>一般<br/>（%）</th>\n            <th>不满意<br/>（%）</th>\n            <th>很不满意<br/>（%）</th>\n            <th>推荐率<br/>（%）</th>\n        </tr></thead>\n        <tbody>'+(null!=(l=a.each.call(s,null!=n?n.allB:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"</tbody>\n"+(null!=(l=a.if.call(s,null!=n?n.showY:n,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+"    </table>\n"},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return"<tr>\n"+(null!=(l=a.if.call(r,null!=n?n.show:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"            <td>"+c((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,typeof s===d?s.call(r,{name:"content",hash:{},data:i}):s))+'</td>\n            <td class="w-small">'+c((s=null!=(s=a.manA||(null!=n?n.manA:n))?s:o,typeof s===d?s.call(r,{name:"manA",hash:{},data:i}):s))+'</td>\n            <td class="w-small">'+c((s=null!=(s=a.manB||(null!=n?n.manB:n))?s:o,typeof s===d?s.call(r,{name:"manB",hash:{},data:i}):s))+'</td>\n            <td class="w-small">'+c((s=null!=(s=a.manC||(null!=n?n.manC:n))?s:o,typeof s===d?s.call(r,{name:"manC",hash:{},data:i}):s))+'</td>\n            <td class="w-small">'+c((s=null!=(s=a.manD||(null!=n?n.manD:n))?s:o,typeof s===d?s.call(r,{name:"manD",hash:{},data:i}):s))+'</td>\n            <td class="w-small">'+c((s=null!=(s=a.manE||(null!=n?n.manE:n))?s:o,typeof s===d?s.call(r,{name:"manE",hash:{},data:i}):s))+'</td>\n            <td class="w-small">'+c((s=null!=(s=a.manZ||(null!=n?n.manZ:n))?s:o,typeof s===d?s.call(r,{name:"manZ",hash:{},data:i}):s))+"</td>\n"+(null!=(l=a.if.call(r,null!=n?n.show:n,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+'            <td class="w-percent">'+c((s=null!=(s=a.manZF||(null!=n?n.manZF:n))?s:o,typeof s===d?s.call(r,{name:"manZF",hash:{},data:i}):s))+'%</td>\n            <td class="w-percent">'+c((s=null!=(s=a.manAF||(null!=n?n.manAF:n))?s:o,typeof s===d?s.call(r,{name:"manAF",hash:{},data:i}):s))+'%</td>\n            <td class="w-percent">'+c((s=null!=(s=a.manBF||(null!=n?n.manBF:n))?s:o,typeof s===d?s.call(r,{name:"manBF",hash:{},data:i}):s))+'%</td>\n            <td class="w-percent">'+c((s=null!=(s=a.manCF||(null!=n?n.manCF:n))?s:o,typeof s===d?s.call(r,{name:"manCF",hash:{},data:i}):s))+'%</td>\n            <td class="w-percent">'+c((s=null!=(s=a.manDF||(null!=n?n.manDF:n))?s:o,typeof s===d?s.call(r,{name:"manDF",hash:{},data:i}):s))+'%</td>\n            <td class="w-percent">'+c((s=null!=(s=a.manEF||(null!=n?n.manEF:n))?s:o,typeof s===d?s.call(r,{name:"manEF",hash:{},data:i}):s))+"%</td>\n"+(null!=(l=a.if.call(r,null!=n?n.show:n,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"        </tr>\n        "},10:function(e,n,a,t,i){var l;return'                <td rowspan="2">'+e.escapeExpression((l=null!=(l=a.name||(null!=n?n.name:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"name",hash:{},data:i}):l))+"</td>\n"},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                <td class="w-small" rowspan="2">'+o((l=null!=(l=a.manF||(null!=n?n.manF:n))?l:r,"function"==typeof l?l.call(s,{name:"manF",hash:{},data:i}):l))+'</td>\n                <td class="w-percent" rowspan="2">'+o((l=null!=(l=a.manCMF||(null!=n?n.manCMF:n))?l:r,"function"==typeof l?l.call(s,{name:"manCMF",hash:{},data:i}):l))+"%</td>\n"},14:function(e,n,a,t,i){var l;return'                <td class="w-percent" rowspan="2">'+e.escapeExpression((l=null!=(l=a.manFF||(null!=n?n.manFF:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"manFF",hash:{},data:i}):l))+"%</td>\n"},16:function(e,n,a,t,i){return'            <tr><td colspan="20"><div class="text-center">\n                <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                <p>暂无内容</p>\n            </div>\n            </td></tr>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"mainA",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"mainB",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/count/news/view-mainA",function(e,n,a){var t=e("lodash/collection");a.bindings={allA:!0},a.dataForTemplate={allA:function(e){return t.map(e.allA||[],function(e,n){e.i=n+1}),e.allA}}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/count/news/view-mainB",function(e,n,a){var t=e("lodash/collection");a.bindings={allB:!0},a.dataForTemplate={allB:function(e){return t.map(e.allB||[],function(e,n){var a=e;a.i=n+1,a.name=a.questionContent.substring(0,a.questionContent.lastIndexOf(")")+1),a.content=a.questionContent.substring(a.questionContent.lastIndexOf(")")+1),n%2==0&&(a.show=!0)}),e.allB},showY:function(e){var n=!1;return 0===e.allB.length&&(n=!0),n}}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/count/reply/index",function(e,n,a){a.items={main:"main"},a.store={models:{all:{url:"../train/questionnaire-survey/count-zong"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.all;return n.params={classId:e.state.data.classId},"response"===e.state.data.role&&(n.options.url="../train/questionnaire-survey/count-response-zong"),this.get(n,{loading:!0})}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/statistics/questionnaire/count/reply/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <br/>\n    <div class="statistics" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l;return'    <table class="table text-center train border around">\n        <thead><tr>\n            <th>序号</th>\n            <th>内容</th>\n            <th>满意</th>\n            <th>基本满意</th>\n            <th>一般</th>\n            <th>不满意</th>\n            <th>很不满意</th>\n            <th>合计（个）</th>\n            <th>满意率（%）</th>\n            <th>满意（%）</th>\n            <th>基本满意（%）</th>\n            <th>一般（%）</th>\n            <th>不满意（%）</th>\n            <th>很不满意（%）</th>\n        </tr></thead>\n        <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.all:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+"</tbody>\n    </table>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return"<tr>\n            <td>"+d((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,typeof l===o?l.call(s,{name:"i",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.questionContent||(null!=n?n.questionContent:n))?l:r,typeof l===o?l.call(s,{name:"questionContent",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.manA||(null!=n?n.manA:n))?l:r,typeof l===o?l.call(s,{name:"manA",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.manB||(null!=n?n.manB:n))?l:r,typeof l===o?l.call(s,{name:"manB",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.manC||(null!=n?n.manC:n))?l:r,typeof l===o?l.call(s,{name:"manC",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.manD||(null!=n?n.manD:n))?l:r,typeof l===o?l.call(s,{name:"manD",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.manE||(null!=n?n.manE:n))?l:r,typeof l===o?l.call(s,{name:"manE",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.manZ||(null!=n?n.manZ:n))?l:r,typeof l===o?l.call(s,{name:"manZ",hash:{},data:i}):l))+"</td>\n            <td>"+d((l=null!=(l=a.manZF||(null!=n?n.manZF:n))?l:r,typeof l===o?l.call(s,{name:"manZF",hash:{},data:i}):l))+"%</td>\n            <td>"+d((l=null!=(l=a.manAF||(null!=n?n.manAF:n))?l:r,typeof l===o?l.call(s,{name:"manAF",hash:{},data:i}):l))+"%</td>\n            <td>"+d((l=null!=(l=a.manBF||(null!=n?n.manBF:n))?l:r,typeof l===o?l.call(s,{name:"manBF",hash:{},data:i}):l))+"%</td>\n            <td>"+d((l=null!=(l=a.manCF||(null!=n?n.manCF:n))?l:r,typeof l===o?l.call(s,{name:"manCF",hash:{},data:i}):l))+"%</td>\n            <td>"+d((l=null!=(l=a.manDF||(null!=n?n.manDF:n))?l:r,typeof l===o?l.call(s,{name:"manDF",hash:{},data:i}):l))+"%</td>\n            <td>"+d((l=null!=(l=a.manEF||(null!=n?n.manEF:n))?l:r,typeof l===o?l.call(s,{name:"manEF",hash:{},data:i}):l))+"%\n"},6:function(e,n,a,t,i){return'                <tr><td colspan="14"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容</p>\n                </div>\n                </td></tr></td>\n        </tr>\n        '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/count/reply/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={all:!0},a.dataForTemplate={all:function(e){return t.map(e.all||[],function(e,n){e.i=n+1}),e.all}}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/count/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="achievement-content count main-side">\n    <div class="achievement-head" data-region="head"></div>\n    <section>\n        <div class="tabs line" data-region="menu"></div>\n    </section>\n    <div class="page-main-wrapper">\n        <div class="div" data-region="list"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <div>\n        <div class="pull-left title">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.cla:n)?l.className:l,n))+"-学员满意度问卷统计结果</div>\n    </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=e.lambda,d=e.escapeExpression;return'    <ul>\n        <li id="menu-news" class="'+(null!=(l=a.if.call(r,null!=n?n.isManage:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'">客观题统计情况</li>\n        <li id="menu-exp" class="'+(null!=(l=a.if.call(r,null!=n?n.isFmtrainee:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"\">主观题统计情况</li>\n        \x3c!--  li#menu-reply(class = if(isClassstaff 'active')) > echo('跨班汇总统计') --\x3e\n        <span>\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;总体满意率"+d(o(null!=(l=null!=n?n.result:n)?l.zong:l,n))+"%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;课程满意率"+d(o(null!=(l=null!=n?n.result:n)?l.ke:l,n))+"%\n            \x3c!--  echo('&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;总体满意率' + result.zong + '%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;课程满意率' + result.ke + '%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;满意率' + result.ping + '%') --\x3e\n        </span>\n        <div class=\"pull-right\">\n            <div class=\"btn small layout-mr-small\"><a class=\"normal\" href=\""+d((s=null!=(s=a.exportUrl||(null!=n?n.exportUrl:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"exportUrl",hash:{},data:i}):s))+'" float="right">导出</a></div>\n        </div>\n    </ul>\n'},6:function(e,n,a,t,i){return"active"},8:function(e,n,a,t,i){var l;return'    <div class="tabs-cont"><ul>\n        <li id="tabs-cont-item" class="tabs-cont-item active">\n            <div class="comment-list ask-list"><ul>\n                <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.menu:l,n))+'"></div>\n            </ul></div>\n        </li>\n    </ul></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"menu",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"list",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/count/view-head",function(e,n,a){a.bindings={cla:!0}},{}),loadjs.d("./app/train/statistics/questionnaire/count/view-list",function(e,n,a){a.type="dynamic",a.bindings={state:!0},a.getEntityModuleName=function(e){var n=this.bindings.state.data.menu;return"string"==typeof e&&""!==e&&(n=e),"train/statistics/questionnaire/count/"+n},a.getEntity=function(){return{state:this.bindings.state}},a.dataForEntityModule=function(e){return e}},{}),loadjs.d("./app/train/statistics/questionnaire/count/view-menu",function(e,n,a){var t=e("lodash/collection");a.type="dynamic",a.bindings={state:!0,cla:!0,allA:!0,allB:!0,all:!0,downloadA:!1,downloadC:!1,downloadZ:!1,downloadCs:!1,result:"resultChanged",downloadResponse:!1},a.events={"click menu-*":"showMenu"},a.handlers={showMenu:function(e){var n=this.bindings.cla,a=this.bindings.state,t=a.data.role;a.data={},a.data.classId=n.data.id,a.data.menu=e||"news",a.data.role=t,a.data[e]=!0,a.data.isManage=!0,a.changed()}},a.dataForTemplate={result:function(e){var n={},a=e.allA,i=e.allB,l=0,s=0,r=0,o=0;return r=a.length>0?a.length:0,o=i.length>0?i.length:0,r>=1&&t.forEach(a,function(e){var n=e;l+=parseFloat(n.manZF)}),o>=1&&t.forEach(i,function(e){var n=e;s+=parseFloat(n.manCMF)}),n.zong=r>0?(l/r).toFixed(2):0,n.ke=o>0?(s/o).toFixed(2):0,n.ping=0,l>0&&0===s&&(n.ping=n.zong),s>0&&0===l&&(n.ping=n.ke),s>0&&l>0&&(n.ping=((l/r+s/o)/2).toFixed(2)),0===l&&0===s&&(n.ping=(0).toFixed(2)),this.bindings.result.data.zong=n.zong,this.bindings.result.data.ke=n.ke,this.bindings.result.changed(),n},exportUrl:function(){var e=this.bindings.downloadA.getFullUrl()+"?",n=this.bindings.downloadZ.getFullUrl()+"?",a=this.bindings.downloadCs.getFullUrl()+"?",i=this.bindings.allA.params,l=this.bindings.state.data,s=this.app.global.OAuth.token.access_token,r=1;return"news"===l.menu?("sponsor"===l.role&&(r=2),i.flag=r,i.classId=this.bindings.state.data.classId,t.map(i,function(n,a){e+=a+"="+n+"&"}),e+="access_token="+s):"exp"===l.menu?(i.classId=this.bindings.state.data.classId,"sponsor"!==l.role?(t.map(i,function(n,a){e+=a+"="+n+"&"}),e+="access_token="+s):(t.map(i,function(e,n){a+=n+"="+e+"&"}),a+="access_token="+s)):"reply"===l.menu?(i.classId=this.bindings.state.data.classId,"response"===l.role&&(n=this.bindings.downloadResponse.getFullUrl()+"?"),t.map(i,function(e,a){n+=a+"="+e+"&"}),n+="access_token="+s):null},isManage:function(){return"news"===this.bindings.state.data.menu},isFmtrainee:function(){return"exp"===this.bindings.state.data.menu}},a.resultChanged=function(){var e=this.bindings.result.data;"NaN"!==e.ke&&"NaN"!==e.zong&&0!==e.ke&&0!==e.zong&&this.module.dispatch("updateClass",{zong:e.zong,ke:e.ke,classId:this.bindings.state.data.classId})}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/exam/index",function(e,n,a){a.items={details:"details",main:"main",search:"search","train/statistics/questionnaire/exam/mark-paper":{isModule:!0}},a.title="考试详情",a.large=!0,a.store={models:{exams:{url:"../exam/exam-record",type:"pageable",root:"items"},exam:{url:"../exam/exam-record/exam"},download:{url:"../exam/exam-record/other-module/export"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.exams,a=this.models.exam,t=this.models.state;return n.params={},n.params.examId=e.resourceId,a.params.examId=e.resourceId,t.data.resourceId=e.resourceId,t.data.classId=e.classId,a.clear(),this.get(a),this.get(n)},search:function(e){var n=this.models.exams;return n.params=e,n.clear(),this.get(n)},enterSearch:function(e){var n=this.models.exams;return n.params=e,n.clear(),this.get(n)}}},a.beforeRender=function(){var e=this.store.models.state;return e.data.role=this.renderOptions.payload.role,e.changed(),this.dispatch("init",this.renderOptions.payload)}},{}),loadjs.d("./app/train/statistics/questionnaire/exam/mark-paper/index",function(e,n,a){var t=e("./app/util/business/exam-index"),i=e("drizzle-zxy"),l=e("./app/util/strings"),s={INIT:"init",CHECK:"check",ACTIVE:"active",CURRENT:"current"},r={ONE_HUNDRED:100,ZERO:0,ONE:1,SINGLE_MODE:1,PC_CLIENT_TYPE:1,READING:6,QUESTION_ANSWER:5},o=e("lodash/collection"),d={store:{models:{exam:{url:"../exam/exam/exam-mark-paper",mixin:{getExam:function(){return this.data}}},grades:{mixin:{init:function(e){this.data=o.map(e,function(e){return e.type===r.READING?{key:e.id,value:o.map(o.filter(e.subs,function(e){return e.type===r.QUESTION_ANSWER}),function(e){return{key:e.id,value:e.answerRecord?"":0,type:e.type,isRight:0}}),type:e.type,isRight:r.ZERO}:{key:e.id,value:e.answerRecord?"":0,type:e.type,isRight:r.ZERO}})},getGrade:function(e){return o.find(this.data,["key",e])},saveGrade:function(e){this.data=o.reject(this.data,["key",e.key]),this.data.push(e)},getAnswerRecord:function(){var e=[];return o.forEach(this.data,function(n){n.type===r.READING?o.forEach(n.value,function(n){n.type===r.QUESTION_ANSWER&&e.push({questionId:n.key,score:n.value*r.ONE_HUNDRED,questionCopy:{type:n.type}})}):e.push({questionId:n.key,score:n.value*r.ONE_HUNDRED,questionCopy:{type:n.type}})}),e},check:function(e){var n=this;return o.every(e,function(e){return o.every(e.questions,function(e){var a=o.find(n.data,["key",e.id]);return 6===e.type?o.every(a.value,function(e){return""!==e.value}):""!==a.value})})}}},form:{url:"../exam/exam/mark-paper-info"}},callbacks:{init:function(e){var n=this.models.exam,a=this.models.types,t=this.models.state,l=this.models.grades;return this.module.dispatch("clearModels"),i.assign(this.models.exam.params,{examRecordId:e.examRecordId,examId:e.examId,memberId:e.memberId}),this.get(this.models.exam).then(function(){a.init(n.data.paper.questions),t.init(n.data),l.init(n.data.paper.questions)})},saveGrade:function(e){this.models.grades.saveGrade(e)},submitGrade:function(){var e=this.models.exam.getExam(),n=this;return this.models.grades.check(this.models.types.data)?(this.models.form.set({examRecordId:e.examRecord.id,examId:e.id,answerRecords:JSON.stringify(this.models.grades.getAnswerRecord())}),this.post(this.models.form).then(function(){var e=n.module.renderOptions.callback;n.app.message.success(l.get("save-success")),n.models.state.clear(),n.models.types.clear(),n.models.grades.clear(),e&&e(),n.app.viewport.closeGround()})):(this.app.message.error(l.get("exam.mark-paper-check")),!1)}}}},c=i.assign({},t.items),u=i.assign({},t.store.models),m=i.assign({},t.store.callbacks),p=i.assign({},{large:!0,items:i.assign(c,{"exam-notes":""}),store:{models:i.assign(u,d.store.models),callbacks:i.assign(m,d.store.callbacks)},beforeRender:function(){return this.dispatch("init",this.renderOptions)},getCurrentStatus:function(){return s.INIT},buttons:[{text:"提交评卷",fn:function(){var e=this;return this.Promise.create(function(n){e.app.message.confirm("是否确定提交评卷?",function(){return e.dispatch("submitGrade").then(function(n){n&&e.app.viewport.closeGround()}),!1},function(){n(!1)})}),!1}}]});n.exports=p},{"./app/util/business/exam-index":"./app/util/business/exam-index","./app/util/strings":"./app/util/strings","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/exam/mark-paper/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="achievement-content content">\n    <div class="achievement-side" data-region="side"></div>\n    <div class="achievement-main" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return(null!=(l=a.if.call(s,null!=n?n.showExamNotes:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'    <div class="achievement-preview"><ul>'+(null!=(l=a.each.call(s,null!=n?n.types:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"    </ul></div>\n"},4:function(e,n,a,t,i){return'        <div id="show-exam-notes" class="achievement-tips pointer">\n            考试须知\n            <i class="iconfont icon-info"></i>\n        </div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li class="border bottom">\n            <label id="list-item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n                '+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"题(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i}):s))+'分)\n            </label>\n            <div class="min-btn-groups  '+(null!=(l=a.if.call(r,null!=n?n.isCurrent:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'">'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n        </li>\n"},7:function(e,n,a,t,i){return""},9:function(e,n,a,t,i){return"hidden"},11:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return"\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","init",{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","current",{name:"compare",hash:{},fn:e.program(14,i,0),
inverse:e.noop,data:i}))?l:"")+"            "},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <div class="num min-btn" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'"><a href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a></div>\n"},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <div class="num min-btn correct" id="question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'"><a href="#question-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.index||(null!=n?n.index:n))?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+"</a></div>\n"},16:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="achievement-main-head">\n        <div class="col-sm-7 text-overflow"><div class="h3">\n            <strong>'+r(s(null!=(l=null!=n?n.state:n)?l.name:l,n))+'</strong>\n        </div></div>\n        <div class="col-sm-5 text-right">\n            考生： '+r(s(null!=(l=null!=n?n.state:n)?l.examinee:l,n))+'\n        </div>\n    </div>\n    <div class="preview-content m-top">\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(o,null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.program(23,i,0),data:i}))?l:"")+"    </div>\n"},17:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'            <div class="row">\n                <div class="col-sm-6">\n                    <div class="com-title inline-block">'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeDesc:l,n))+"("+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.index:l,n))+"/"+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.totalCount:l,n))+')</div>\n                </div>\n                <div class="col-sm-6 text-right">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.singleMode:l,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n            </div>\n"},18:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                        <div class="icon pe-7s-angle-left-circle pe-3x m-right" id="prev-'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'"></div>\n                        <div class="icon pe-7s-angle-right-circle pe-3x" id="next-'+r(s(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.typeIndex:l,n))+'"></div>\n'},20:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:""},21:function(e,n,a,t,i){var l;return'                <div data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.state:n)?l.currentQuestion:l)?l.id:l,n))+'"></div>\n'},23:function(e,n,a,t,i){var l;return"            <div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},24:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                    <label>\n                        <div class="com-title">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"题(共"+d((s=null!=(s=a.totalScore||(null!=n?n.totalScore:n))?s:o,"function"==typeof s?s.call(r,{name:"totalScore",hash:{},data:i}):s))+"分)</div>\n"+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+"                    </label>\n"},25:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"                            "+o((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,"function"==typeof l?l.call(s,{name:"i",hash:{},data:i}):l))+'\n                            <div data-dynamic-key="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'"></div>\n'},27:function(e,n,a,t,i){var l;return"    <hr/>\n    "+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.examNotes:l,n))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"exam-notes",{name:"view",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/exam/mark-paper/view-head",function(e,n,a){a.bindings={state:!0},a.events={"mouseover notice":"notice"},a.handlers={notice:function(){var e=this;return this.module.dispatch("notice").then(function(){e.app.viewport.modal(e.module.items["exam-notes"])})}},a.dataForTemplate={showExamNotes:function(e){return e.state.examNotes}}},{}),loadjs.d("./app/train/statistics/questionnaire/exam/mark-paper/view-main",function(e,n,a){var t=e("./app/util/business/view-main"),i=e("drizzle-zxy"),l=i.assign({},t),s=i.assign({},l.bindings),r=e("./app/util/business/exam-question-types");l.bindings=s,i.assign(l.bindings,{grades:!1}),i.assign(l,{type:"dynamic",getEntity:function(e){var n=this.bindings.types.getQuestionById(e),a=i.assign({},n);return a=i.assign(a,{questionAttrs:n.questionAttrCopys})},getEntityModuleName:function(e,n){return r.get(n.type,4)},dataForEntityModule:function(e){var n=this;return{data:e,goal:this.bindings.grades.getGrade(e.id),callback:function(e){return n.module.dispatch("saveGrade",e)}}}}),n.exports=l},{"./app/util/business/exam-question-types":"./app/util/business/exam-question-types","./app/util/business/view-main":"./app/util/business/view-main","drizzle-zxy":!1}),loadjs.d("./app/train/statistics/questionnaire/exam/mark-paper/view-side",function(e,n,a){var t=e("./app/util/business/view-side"),i=e("drizzle-zxy"),l=i.assign({},t),s=i.assign({},l.events),r=i.assign({},l.handlers),o=i.assign({},l.dataForTemplate);l.events=s,i.assign(l.events,{"click show-exam-notes":"showExamNotes"}),l.handlers=r,i.assign(l.handlers,{showExamNotes:function(){this.app.viewport.modal(this.module.items["exam-notes"])}}),l.dataForTemplate=o,i.assign(l.dataForTemplate,{showExamNotes:function(e){return e.state.examNotes}}),n.exports=l},{"./app/util/business/view-side":"./app/util/business/view-side","drizzle-zxy":!1}),loadjs.d("./app/train/statistics/questionnaire/exam/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-class-page">\n    <div class="page-main-wrapper">\n        <div class="div" data-region="details"></div>\n        <div class="div" data-region="search"></div>\n        <div class="div" data-region="main"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'<form class="vertical">\n    <div class="watchexam-title">\n        <p>考试名称：'+r(s(null!=(l=null!=n?n.exam:n)?l.name:l,n))+'</p>\n    </div>\n    <div class="exam-total layout-mt-small layout-mb-small">\n        <div class="col-sm-3 inline-block">\n            <span>\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.exam:n)?l.joinNumber:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'            </span>\n        </div>\n        <div class="col-sm-3 inline-block">\n            <span>及格分数：'+r(s(null!=(l=null!=n?n.exam:n)?l.passScore:l,n))+'</span>\n        </div>\n        <div class="col-sm-3 inline-block">\n            <span>及格人数：'+r(s(null!=(l=null!=n?n.exam:n)?l.passNumber:l,n))+'</span>\n        </div>\n        <div class="col-sm-3 inline-block">\n            <span>\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.exam:n)?l.passRatio:l,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+"            </span>\n        </div>\n    </div>\n</form>"},4:function(e,n,a,t,i){var l;return"                    参考人数："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.exam:n)?l.joinNumber:l,n))+"\n"},6:function(e,n,a,t,i){return"                    参考人数：0\n"},8:function(e,n,a,t,i){var l;return"                    及格率："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.exam:n)?l.passRatio:l,n))+"\n"},10:function(e,n,a,t,i){return"                    及格率：-\n"},12:function(e,n,a,t,i){var l;return'<form class="vertical">\n    <div id="searchPannel" class="filter-row train-small">\n        <div class="filter-item">\n            <label>员工编号</label>\n            <input class="input" name="memberName"/>\n        </div>\n        <div class="filter-item">\n            <label>姓名</label>\n            <input class="input" name="memberFullName"/>\n        </div>\n        <div class="filter-item">\n            <label>状态</label>\n            <select id="examStatus" class="input" name="status" x-marker="selectize">'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.examStatus:n,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+'</select>\n        </div>\n        <div class="filter-item">\n            <div id="search" class="btn">查询</div>\n        </div>\n    </div>\n</form>'},13:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n            "},14:function(e,n,a,t,i){return' selected="selected"'},16:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'    <div class="clearfix layout-mt-small">\n        <div class="h5 pull-left">考试详情列表</div>\n        <div class="small-btn pull-right"><a class="normal" href="'+e.escapeExpression((s=null!=(s=a.exportUrl||(null!=n?n.exportUrl:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"exportUrl",hash:{},data:i}):s))+'">导出</a></div>\n    </div>\n    <div class="m-top">\n        <table class="table text-center train border around">\n            <thead><tr>\n                <th>序号</th>\n                <th>员工编号</th>\n                <th>姓名</th>\n                <th>单位</th>\n                <th>交卷时间</th>\n                <th>用时(分钟)</th>\n                <th>状态</th>\n                <th>总分</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(r,null!=n?n.exams:n,{name:"each",hash:{},fn:e.program(17,i,0),inverse:e.program(26,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n        <div id="pager" class="pagination"></div>\n    </div>\n'},17:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return"<tr>\n                <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                <td>"+d(c(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n                <td>"+d(c(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                <td>"+d(c(null!=(l=null!=n?n.company:n)?l.name:l,n))+"</td>\n                <td>"+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.submitTime:n,{name:"dateMinute",hash:{},data:i}))+"</td>\n                <td>"+d((a.pick||n&&n.pick||o).call(r,null!=n?n.usedTime:n,"0",{name:"pick",hash:{},data:i}))+"</td>\n                <td>"+d((a.map||n&&n.map||o).call(r,"exam-record-status",null!=n?n.status:n,{name:"map",hash:{},data:i}))+"</td>\n                <td>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.program(23,i,0),data:i}))?l:"")},18:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq",5,{name:"compare",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"gt",5,{name:"compare",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")},19:function(e,n,a,t,i){var l,s,r=e.escapeExpression;return'                            <a id="mark-paper-'+r((s=null!=(s=a.id||(null!=n?n.id:n))?s:a.helperMissing,"function"==typeof s?s.call(null!=n?n:{},{name:"id",hash:{},data:i}):s))+"/"+r(e.lambda(null!=(l=null!=n?n.exam:n)?l.id:l,n))+'">评卷</a>\n'},21:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                            <a id="edit-exams'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+"/"+d(e.lambda(null!=(l=null!=n?n.exam:n)?l.id:l,n))+'">'+d((s=null!=(s=a.score||(null!=n?n.score:n))?s:o,"function"==typeof s?s.call(r,{name:"score",hash:{},data:i}):s))+"</a>\n"},23:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.status:n,"gt",5,{name:"compare",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:""},24:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <a id="edit-exams'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.score||(null!=n?n.score:n))?l:r,"function"==typeof l?l.call(s,{name:"score",hash:{},data:i}):l))+"</a>\n"},26:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n                </td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"details",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/exam/view-details",function(e,n,a){var t,i=e("drizzle-zxy");a.bindings={exam:!0},a.dataForTemplate={exam:function(e){return i.assign(e.exam,{passRatio:t(e.exam.passNumber,e.exam.joinNumber)})}},t=function(e,n){var a;return e&&n?(a=String((e/n*100).toFixed(2)).split("."),"00"===a[1]?a[0]+"%":(e/n*100).toFixed(2)+"%"):null}},{"drizzle-zxy":!1}),loadjs.d("./app/train/statistics/questionnaire/exam/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.bindings={exams:!0,download:!1,exam:!0,state:!0},a.components=[{id:"pager",name:"pager",options:{model:"exams"}}],a.dataForTemplate={exams:function(e){var n=e.exams,a=this.bindings.state.data;return t.map(n||[],function(e,n){var t=e;t.isGrant={},i.assign(e,{i:n+1,score:e.score/100,usedTime:e.usedTime>e.exam.duration?e.exam.duration:e.usedTime}),3!==a.role&&4!==a.role?t.isGrant=!0:t.isGrant=!1}),n},exportUrl:function(){var e=this.bindings.download,n=e.getFullUrl()+"?",a=this.app.global.OAuth.token.access_token,i=this.bindings.exams.params,l=this.bindings.exam.data.name||"";return t.forEach(i,function(e,a){e&&"page"!==a&&"pageSize"!==a&&(n+=a+"="+e+"&")}),n+="examName="+l+"&access_token="+a,encodeURI(n)},exam:function(e){return e},isGrant:function(){var e=this.bindings.state.data;return 3!==e.role&&4!==e.role}},a.events={"click edit-exams*":"edit","click mark-paper-*":"markPaper"},a.handlers={edit:function(e){var n=e,a="#/exam/exam/score-detail/"+n;window.open(a,"_blank")},markPaper:function(e){var n=e,a="#/exam/exam/mark-paper/"+n;window.open(a,"_blank")}}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/exam/view-search",function(e,n,a){var t=e("./app/util/maps"),i=e("jquery");a.bindings={exam:!1,state:!0},a.actions={"click search":"search","keypress searchPannel":"enterSearch"},a.dataForActions={search:function(){return{examId:this.bindings.state.data.resourceId,classId:this.bindings.state.data.classId,memberName:i(this.$$('[name="memberName"]')).val().trim(),memberFullName:i(this.$$('[name="memberFullName"]')).val().trim(),status:"0"===i(this.$$('[name="status"]')).val()?"":i(this.$$('[name="status"]')).val()}},enterSearch:function(e,n){return 13===(n.keyCode||n.which||n.charCode)&&{examId:this.bindings.state.data.resourceId,classId:this.bindings.state.data.classId,memberName:i(this.$$('[name="memberName"]')).val().trim(),memberFullName:i(this.$$('[name="memberFullName"]')).val().trim(),status:"0"===i(this.$$('[name="status"]')).val()?"":i(this.$$('[name="status"]')).val()}}},a.dataForTemplate={examStatus:function(){return t.get("exam-record-status").sort(function(e,n){return Number(e.key)-Number(n.key)})}}},{"./app/util/maps":"./app/util/maps",jquery:!1}),loadjs.d("./app/train/statistics/questionnaire/index",function(e,n,a){var t=e("drizzle-zxy");a.items={mainA:"mainA",mainB:"mainB","train/statistics/questionnaire/exam":{isModule:!0},"train/statistics/questionnaire/research-record":{isModule:!0},"train/statistics/questionnaire/research-answer-record":{isModule:!0},"train/statistics/questionnaire/research":{isModule:!0}},a.store={models:{classEvaluates:{url:"../train/questionnaire-survey/class-evaluate"},classEvaluate:{url:"../train/questionnaire-survey/find"},updateManYi:{url:"../train/questionnaire"},state:{data:{}},classInfo:{url:"../train/class-info/get"},courseNum:{url:"../train/offline-course/find-num"},faceCourseNum:{url:"../train/offline-course/find-satisfaction-num"}},callbacks:{init:function(e){var n=this.models.classEvaluates,a=this.models.classEvaluate,t=this.models.classInfo,i=this.models.courseNum,l=this.models.faceCourseNum,s=this.models.state,r=this;return n.params={classId:e.classId},a.params={classId:e.classId},t.params={id:e.classId},i.params={classId:e.classId},l.params={classId:e.classId},s.data.classId=e.classId,s.data.role=e.role,this.get(t,{loading:!0}).then(function(){return r.get(a),r.get(i),r.get(l),r.get(n)})},updateStartTime:function(e){var n=this.models.updateManYi,a=this.models.classEvaluate,i=this;n.clear(),n.set(t.assign(e,{type:4})),this.save(n).then(function(){this.app.message.success("保存成功！"),i.get(a)})},updateEndTime:function(e){var n=this.models.updateManYi,a=this.models.classEvaluate,i=this;n.clear(),n.set(t.assign(e,{type:4})),this.save(n).then(function(){this.app.message.success("保存成功！"),i.get(a)})}}},a.beforeRender=function(){return this.dispatch("init",{classId:this.renderOptions.state.classId,role:this.renderOptions.state.role})}},{"drizzle-zxy":!1}),loadjs.d("./app/train/statistics/questionnaire/research-answer-ability/index",function(e,n,a){a.store={models:{researchRecord:{url:"../train/questionnaire-survey/detail"},classId:{data:{}},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.classInfo;if(this.models.classId.data=e.classId,a.clear(),a.params.id=e.classId,n.clear(),e.researchRecord)n.set(e.researchRecord),n.changed(),this.get(a);else if(e.researchRecordId)return n.params={researchRecordId:e.researchRecordId,classId:e.classId},this.get(a),this.get(n,{loading:!0});return""}}},a.items={main:"main"},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.tname="train.statistics.ques.research-D"},{}),loadjs.d("./app/train/statistics/questionnaire/research-answer-ability/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-ability-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="big-title text-center strong">感谢您参加培训班能力习得评估。</div>\n    <p class="h4 text-center">您在如下培训班完成了课程学习已有一个月，相信您在工作中也运用了所学知识和经验，为了评估培训在实际工作中对您的相关能力帮助和提升的情况，我们非常希望能够得到您的宝贵意见，为培训工作的持续改进提供支持，请您在下列问题中，对相关能力培训前和培训后的掌握程度，分别予以评价，感谢您的支持与配合。</p>\n    <div class="top-area clearfix layout-ml">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">'+r(s(null!=(l=null!=n?n.research:n)?l.fullName:l,n))+'，您一个月前参加的培训班是：</div>\n            <div class="h2 m-top text-overflow" style="height:4.2em;" title="'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'">'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'</div>\n            <div class="m-top">\n                <span>项目日期：</span>\n                <span class="sub-text">'+r(s(null!=(l=null!=n?n.research:n)?l.date:l,n))+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="layout-mb">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'            <div class="main-one layout-mt-small">\n                <div class="table-row row-one clearfix">\n                    <div class="table-cell one big normal-lheight">\n                        <div class="w-full text-overflow" title="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                    </div>\n                    <div class="table-cell bg1">非常同意</div>\n                    <div class="table-cell bg1">比较同意</div>\n                    <div class="table-cell bg1">一般同意</div>\n                    <div class="table-cell bg1">比较不同意</div>\n                    <div class="table-cell bg1">很不同意</div>\n                </div>\n'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                    <div class="table-row clearfix">\n                        <div class="table-cell one">\n                            <span class="num m-left">'+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+'</span>\n                            <span class="num-r" title="'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+"</span>\n                        </div>\n"+(null!=(l=a.each.call(r,null!=n?n.questionAttrs:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"                    </div>\n"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                            <div class="table-cell bg1">\n                                <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" disabled value="'+e.escapeExpression((s=null!=(s=a.name||(null!=n?n.name:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'"/>\n                                <label></label>\n                            </div>\n'},7:function(e,n,a,t,i){return' checked="checked"'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/research-answer-four/index",function(e,n,a){a.store={models:{researchRecord:{url:"../train/questionnaire-survey/detail"},classId:{data:{}},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.classInfo;if(this.models.classId.data=e.classId,a.clear(),a.params.id=e.classId,n.clear(),e.researchRecord)n.set(e.researchRecord),n.changed(),this.get(a);else if(e.researchRecordId)return n.params={researchRecordId:e.researchRecordId,classId:e.classId},this.get(a),this.get(n,{loading:!0});return""}}},a.items={main:"main"},a.beforeRender=function(){return this.dispatch("init",this.renderOptions)},a.tname="train.statistics.ques.research-answC"},{}),loadjs.d("./app/train/statistics/questionnaire/research-answer-four/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-four-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="big-title text-center strong">感谢您参加培训班四度评估。</div>\n    <p class="h4 text-center">感谢您已经完成满意度评估调查表，为了进一步了解此次培训的战略相关度、业务紧迫度、工作指导度、知识前瞻度，以提高培训方案设计的针对性，为培训工作的持续改进提供支持，请完整而如实地回答下列问题。</p>\n    <div class="top-area clearfix layout-ml">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">'+r(s(null!=(l=null!=n?n.research:n)?l.fullName:l,n))+'，您正在评估的培训班是：</div>\n            <div class="h2 m-top text-overflow" style="height:4.2em;" title="'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'">'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'</div>\n            <div class="m-top">\n                <span>项目日期：</span>\n                <span class="sub-text">'+r(s(null!=(l=null!=n?n.research:n)?l.date:l,n))+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">培训时间和形式</div>\n        </div>\n        <div class="table-row auto clearfix">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">在培训时间方面，您感觉集团组织的具体培训项目的时间长度安排是否合适？</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked1:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'0" value="0" disabled/>\n                            <label for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'0"></label>\n                            <div class="inline-block">时间过长</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked2:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'1" value="1" disabled/>\n                            <label for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'1"></label>\n                            <div class="inline-block">时间偏长</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked3:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'2" value="2" disabled/>\n                            <label for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'2"></label>\n                            <div class="inline-block">时间合适</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked4:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'3" value="3" disabled/>\n                            <label for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'3"></label>\n                            <div class="inline-block">时间偏短</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked5:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'4" value="4" disabled/>\n                            <label for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id1:l,n))+'4"></label>\n                            <div class="inline-block">时间过短</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="table-cell one w-full border-bottom mt-1">\n                <div>\n                    <span class="num m-left">2</span>\n                    <div class="inline-block">2019年您更倾向于哪种培训形式？（可多选）</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-14">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked6:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i
}))?l:"")+' type="radio" data-check="false" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'0" id="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'0" value="0" disabled/>\n                            <label class="m-right" for="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'0"></label>\n                            <div class="inline-block">面授培训</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked7:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" data-check="false" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'1" id="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'1" value="1" disabled/>\n                            <label class="m-right" for="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'1"></label>\n                            <div class="inline-block">相互交流</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked8:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" data-check="false" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'2" id="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'2" value="2" disabled/>\n                            <label class="m-right" for="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'2"></label>\n                            <div class="inline-block">案例教学</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked9:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" data-check="false" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'3" id="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'3" value="3" disabled/>\n                            <label class="m-right" for="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'3"></label>\n                            <div class="inline-block">在线学习</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked10:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" data-check="false" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'4" id="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'4" value="4" disabled/>\n                            <label class="m-right" for="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'4"></label>\n                            <div class="inline-block">引导技术</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked11:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" data-check="false" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'5" id="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'5" value="5" disabled/>\n                            <label class="m-right" for="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'5"></label>\n                            <div class="inline-block">实操演练</div>\n                        </div>\n                        <div class="pull-left w-14">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked12:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" data-check="false" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'6" id="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'6" value="6" disabled/>\n                            <label class="m-right" for="radioA-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id2:l,n))+'6"></label>\n                            <div class="inline-block">其他</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n'+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked12:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"            \x3c!--  if(dimensions.checked12) --\x3e\n            \x3c!--      .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") > echo(dimensions.idea) --\x3e\n        </div>\n    </div>\n"+(null!=(l=a.each.call(o,null!=(l=null!=n?n.dimensions:n)?l.arr7:l,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+'    <div class="main-one layout-mt layout-mb">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight">绩效改进度</div>\n        </div>\n        <div class="table-row auto clearfix border-none">\n            <div class="table-cell one w-full border-bottom">\n                <div>\n                    <span class="num m-left">1</span>\n                    <div class="inline-block">参加本次培训集团项目是否对您的工作能力有所提升，后续进一步改善工作绩效</div>\n                </div>\n                <div class="clearfix mt-1 mb-1">\n                    <span class="num transparent m-left pull-left"></span>\n                    <div class="overflow clearfix">\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked13:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'0" value="0" disabled/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'0"></label>\n                            <div class="inline-block">有明显改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked14:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'1" value="1" disabled/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'1"></label>\n                            <div class="inline-block">有改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked15:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'2" value="2" disabled/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'2"></label>\n                            <div class="inline-block">不能确定</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked16:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'3" value="3" disabled/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'3"></label>\n                            <div class="inline-block">没有明显改善</div>\n                        </div>\n                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(o,null!=(l=null!=n?n.dimensions:n)?l.checked17:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" name="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'" id="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'4" value="4" disabled/>\n                            <label class="m-right" for="radio-'+r(s(null!=(l=null!=n?n.dimensions:n)?l.id3:l,n))+'4"></label>\n                            <div class="inline-block">完全没有改善</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n'},4:function(e,n,a,t,i){return' checked="checked"'},6:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                <div class="write text-center w-full text-overflow title-color no-strong" title="'+r(s(null!=(l=null!=n?n.dimensions:n)?l.idea:l,n))+'">'+r(s(null!=(l=null!=n?n.dimensions:n)?l.idea:l,n))+"</div>\n"},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'        <div class="main-one layout-mt">\n            <div class="table-row row-one clearfix">\n                <div class="table-cell one big normal-lheight text-overflow" title="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                <div class="table-cell bg1">非常同意</div>\n                <div class="table-cell bg1">比较同意</div>\n                <div class="table-cell bg1">一般同意</div>\n                <div class="table-cell bg1">比较不同意</div>\n                <div class="table-cell bg1">很不同意</div>\n            </div>\n'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                <div class="table-row clearfix">\n                    <div class="table-cell one">\n                        <span class="num m-left">'+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+'</span>\n                        <span class="num-r" title="'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+"</span>\n                    </div>\n"+(null!=(l=a.each.call(r,null!=n?n.questionAttrs:n,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n"},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                        <div class="table-cell bg1">\n                            <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" disabled value="'+e.escapeExpression((s=null!=(s=a.name||(null!=n?n.name:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'"/>\n                            <label></label>\n                        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/research-answer-leader/index",function(e,n,a){a.store={models:{researchRecord:{url:"../train/questionnaire-survey/detail"},classId:{data:{}},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.classInfo;if(this.models.classId.data=e.classId,n.clear(),a.clear(),a.params.id=e.classId,e.researchRecord)n.set(e.researchRecord),n.changed(),this.get(a);else if(e.researchRecordId)return n.params={researchRecordId:e.researchRecordId,classId:e.classId},this.get(a),this.get(n,{loading:!0});return""}}},a.items={main:"main"},a.tname="train.statistics.ques.research-answeB",a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/statistics/questionnaire/research-answer-leader/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-four-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'    <div class="big-title text-center strong">尊敬的领导，您好。</div>\n    <p class="h4 text-center">为了评估学员（'+r(s(null!=(l=null!=n?n.research:n)?l.traineeName:l,n))+'）在培训后回到工作中的能力提升情况，为了解您对本次培训效果的反馈和建议，我们非常希望能得到您的宝贵意见，为培训工作的持续改进提供支持，请您完整而如实地回答，感谢您的支持与合作。</p>\n    <div class="top-area clearfix layout-ml">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">'+r(s(null!=(l=null!=n?n.research:n)?l.traineeName:l,n))+'参加的培训班是：</div>\n            <div class="h2 m-top text-overflow" style="height:4.2em;" title="'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'">'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'</div>\n            <div class="m-top">\n                <span>项目日期：</span>\n                <span class="sub-text">'+r(s(null!=(l=null!=n?n.research:n)?l.date:l,n))+"</span>\n            </div>\n        </div>\n    </div>\n"+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.dimensions:n)?l.arr10:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'    <div class="main-one mt layout-mb">\n        <div class="table-row row-one clearfix"><div class="table-cell one big normal-lheight">开放问题</div></div>\n        <div class="item-san layout-mt-small">\n            <div class="san-div">\n                <span class="num m-left">1</span>\n                <span class="num-r">结合您的部门职责和重点工作，您希望您的团队在2019年参加哪些方面的培训项目？</span>\n            </div>\n            <div class="m-top">\n                <div><textarea class="input m-left w-full sub-text" rows="5" readonly>'+r(s(null!=(l=null!=n?n.dimensions:n)?l.answer0:l,n))+'</textarea></div>\n            </div>\n        </div>\n        <div class="item-san layout-mt-small">\n            <div class="san-div">\n                <span class="num m-left">2</span>\n                <span class="num-r">您对于集团组织的培训项目还有哪些建议？</span>\n            </div>\n            <div class="m-top">\n                <div><textarea class="input m-left w-full sub-text" rows="5" readonly>'+r(s(null!=(l=null!=n?n.dimensions:n)?l.answer1:l,n))+"</textarea></div>\n            </div>\n        </div>\n    </div>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'        <div class="main-one mt">\n            <div class="table-row row-one clearfix">\n                <div class="table-cell one big normal-lheight text-overflow" title="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+"</div>\n            </div>\n"+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},5:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                <div class="table-row auto clearfix">\n                    <div class="table-cell one w-full border-bottom">\n                        <div>\n                            <span class="num m-left">1</span>\n                            <div class="inline-block">'+e.escapeExpression((s=null!=(s=a.content||(null!=n?n.content:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'</div>\n                        </div>\n                        <div class="clearfix mt-1 mb-1">\n                            <span class="num transparent m-left pull-left"></span>\n                            <div class="overflow clearfix">\n'+(null!=(l=a.each.call(r,null!=n?n.questionAttrs:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"                            </div>\n                        </div>\n                    </div>\n                </div>\n"},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                    <div class="pull-left w-20">\n                                        <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" disabled value="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'"/>\n                                        <label class="m-right" for="time-'+d((s=null!=(s=a.index||(null!=n?n.index:n))?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'"></label>\n                                        <div class="inline-block">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</div>\n                                    </div>\n"},7:function(e,n,a,t,i){return' checked="checked"'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/research-answer-record/index",function(e,n,a){a.items={details:"details",main:"main",search:"search"},a.large=!0,a.title="评估详情",a.store={models:{researchQuestionarys:{url:"../exam/research-record",type:"pageable",root:"items"},researchQuestionary:{url:"../exam/research-activity/simple-data"},export:{url:"../exam/research-record/export-detail"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.researchQuestionarys,a=this.models.researchQuestionary,t=this.models.state;return n.params={},n.params.researchQuestionaryId=e.resourceId,n.params.businessId=e.classId,a.clear(),a.set({id:e.resourceId}),a.params.businessId=e.classId,t.data.resourceId=e.resourceId,t.data.classId=e.classId,this.get(a),this.get(n)},search:function(e){var n=this.models.researchQuestionarys;return n.params=e,this.get(n)},enterSearch:function(e){var n=this.models.researchQuestionarys;return n.params=e,n.clear(),this.get(n)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions.payload)}},{}),loadjs.d("./app/train/statistics/questionnaire/research-answer-record/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-class-page">\n    <div class="page-main-wrapper">\n        <div class="div" data-region="details"></div>\n        <div class="div" data-region="search"></div>\n        <div class="div" data-region="main"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l;return'<form class="vertical">\n    <div class="watchsurvey-title"><div class="clearfix layout-mb-small">\n        <div class="pull-left h4">评估名称：'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.researchQuestionary:n)?l.name:l,n))+'</div>\n        <div class="pull-right h4">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.researchQuestionary:n)?l.joinNumber:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+"        </div>\n    </div></div>\n</form>"},4:function(e,n,a,t,i){var l;return"                已参加人数："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.researchQuestionary:n)?l.joinNumber:l,n))+"\n"},6:function(e,n,a,t,i){return"                已参加人数：0\n"},8:function(e,n,a,t,i){return'<form class="vertical">\n    <div id="searchPannel" class="filter-row train-small">\n        <div class="filter-item">\n            <label>员工编号</label>\n            <input class="input" name="name"/>\n        </div>\n        <div class="filter-item">\n            <label>姓名</label>\n            <input class="input" name="fullName"/>\n        </div>\n        <div id="search" class="btn">查询</div>\n    </div>\n</form>'},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'    <div class="clearfix layout-mt-small">\n        <div class="h4 pull-left">评估详情列表</div>\n        <a class="small-btn pull-right" href="'+e.escapeExpression((s=null!=(s=a.exportUrl||(null!=n?n.exportUrl:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"exportUrl",hash:{},data:i}):s))+'">导出</a>\n    </div>\n    <div class="m-top">\n        <table class="table text-center train border around">\n            <thead><tr>\n                <th>序号</th>\n                <th>员工编号</th>\n                <th>姓名</th>\n                <th>单位</th>\n                <th>开始时间</th>\n                <th>提交时间</th>\n                <th>得分</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(r,null!=n?n.researchQuestionarys:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.program(13,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n        <div id="pager" class="pagination"></div>\n    </div>\n'},11:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return"<tr>\n                <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                <td>"+d(c(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n                <td>"+d(c(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                <td>"+d(c(null!=(l=null!=(l=null!=n?n.member:n)?l.company:l)?l.name:l,n))+"</td>\n                <td>"+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+"</td>\n                <td>"+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.submitTime:n,{name:"dateMinute",hash:{},data:i}))+'</td>\n                <td><a class="decoration-none" id="edit-researchQuestionarys'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.score||(null!=n?n.score:n))?s:o,"function"==typeof s?s.call(r,{name:"score",hash:{},data:i}):s))+"</a>\n"},13:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr></td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"details",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/research-answer-record/view-details",function(e,n,a){a.bindings={researchQuestionary:!0},a.dataForTemplate={researchQuestionary:function(e){return e.researchQuestionary}}},{}),loadjs.d("./app/train/statistics/questionnaire/research-answer-record/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.bindings={researchQuestionarys:!0,export:!1,researchQuestionary:!0,state:!1},a.components=[{id:"pager",name:"pager",options:{model:"researchQuestionarys"}}],a.dataForTemplate={researchQuestionarys:function(e){return t.map(e.researchQuestionarys,function(e,n){return i.assign(e,{i:n+1,score:e.score/100})})},exportUrl:function(){var e=this.bindings.export.getFullUrl()+"?",n=this.bindings.researchQuestionarys.params.researchQuestionaryId;return e+="access_token="+this.app.global.OAuth.token.access_token+"&id="+n+"&businessId="+this.bindings.state.data.classId},researchQuestionary:function(e){return e}},a.events={"click edit-researchQuestionarys*":"edit"},a.handlers={edit:function(e){var n="#/exam/research-activity/research-answer/"+e;window.open(n,"_blank")}}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/research-answer-record/view-search",function(e,n,a){var t=e("jquery");a.bindings={state:!0},a.actions={"click search":"search","keypress searchPannel":"enterSearch"},a.dataForActions={search:function(){return{researchQuestionaryId:this.bindings.state.data.resourceId,businessId:this.bindings.state.data.classId,name:t(this.$$('[name="name"]')).val().trim(),fullName:t(this.$$('[name="fullName"]')).val().trim()}},enterSearch:function(e,n){return 13===(n.keyCode||n.which||n.charCode)&&{researchQuestionaryId:this.bindings.state.data.resourceId,businessId:this.bindings.state.data.classId,name:t(this.$$('[name="name"]')).val().trim(),fullName:t(this.$$('[name="fullName"]')).val().trim()}}}},{jquery:!1}),loadjs.d("./app/train/statistics/questionnaire/research-answer/view-main",function(e,n,a){var t=e("./app/util/business/research-question-types"),i=e("drizzle-zxy"),l=e("lodash/collection"),s=e("jquery");a.bindings={researchRecord:!0,dimensions:!0,state:!0,questions:!1},a.type="dynamic",a.getEntity=function(e){var n=this.bindings.questions.getQuestionById(e);return i.assign({},n,{questionAttrs:l.orderBy(n.questionAttrs,["name"],["asc"]),score:n.score/100})},a.getEntityModuleName=function(e,n){var a=this.bindings.researchRecord.data.researchQuestionary;return a&&3!==a.type?t.get(n.type,1):t.get(n.type,2)},a.dataForEntityModule=function(e){return{type:e.type,question:e}},a.dataForTemplate={isMutiple:function(e){return!e.researchRecord.researchQuestionary||1===e.researchRecord.researchQuestionary.answerPaperRule}},a.afterRender=function(){s(".description-con").each(function(e,n){var a=s(n).children(".des-con"),t=a.height(),i=s(n);t>30?a.addClass("text-overflow"):a.hasClass("text-overflow")||i.addClass("overflow-hidden")})},a.events={"click desMore*":"handleDesMore"},a.handlers={handleDesMore:function(e,n,a){var t=s(a);t.hasClass("active")?(t.removeClass("active"),t.siblings(".des-con").addClass("text-overflow"),t.children(".text").text("展开")):(t.addClass("active"),t.siblings(".des-con").removeClass("text-overflow"),t.children(".text").text("收起"))}}},{"./app/util/business/research-question-types":"./app/util/business/research-question-types","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1});loadjs.d("./app/train/statistics/questionnaire/research-record/index",function(e,n,a){a.items={details:"details",main:"main",search:"search","train/statistics/questionnaire/research-record/summary":{isModule:!0}},a.large=!0,a.title="调研详情",a.store={models:{researchQuestionarys:{url:"../exam/research-record",type:"pageable",root:"items"},researchQuestionary:{url:"../exam/research-activity/simple-data"},export:{url:"../exam/research-record/export-detail"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.researchQuestionarys,a=this.models.researchQuestionary,t=this.models.state;return n.params={},n.params.researchQuestionaryId=e.resourceId,n.params.businessId=e.classId,n.params.status=1,a.clear(),a.set({id:e.resourceId}),a.params.businessId=e.classId,t.data.resourceId=e.resourceId,t.data.classId=e.classId,this.get(a),this.get(n)},search:function(e){var n=this.models.researchQuestionarys;return n.params=e,n.clear(),this.get(n)},enterSearch:function(e){var n=this.models.researchQuestionarys;return n.params=e,n.clear(),this.get(n)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions.payload)}},{}),loadjs.d("./app/train/statistics/questionnaire/research-record/summary/index",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy"),l=e("./app/util/maps");a.items={main:"main",side:"side",description:""},a.title="汇总统计",a.large=!0,a.store={models:{summaryDetail:{url:"../exam/research-activity/summary-detail",mixin:{getAnswerRecordsByQuestionId:function(e){var n=this.data.researchAnswerRecordMaps;return t.filter(t.map(n,function(n){return t.find(n.researchAnswerRecords,["questionId",e])}),function(e){return e})},getQuestionIndex:function(e,n){var a=this.data.dimensions;return a[a.findIndex(function(e){return e.id===n})].questions.findIndex(function(n){return n.id===e})+1}}},questions:{mixin:{init:function(e){var n=this;this.data=[],t.forEach(e,function(e){e.questions&&t.forEach(e.questions,function(e){n.data.push(e)})})},getQuestionById:function(e){var n=t.find(this.data,["id",e]),a=this.module.store.models.summaryDetail;return i.assign(n,{answerRecords:a.getAnswerRecordsByQuestionId(n.id),index:a.getQuestionIndex(n.id,n.dimensionId)})}}},dimensions:{mixin:{init:function(e){var n=l.get("research-question-types"),a=l.get("chineseNumber"),s=-1;e&&(s=e.findIndex(function(e){return 1===e.isEmpty}),this.data=t.map(e,function(e,l){var r=t.find(a,["key",(l+1).toString()]).value;return-1!==s&&s<l&&(r=t.find(a,["key",l.toString()]).value),s===l&&(r=""),i.assign(e,{dimensionIndex:r,questions:t.map(e.questions,function(e,a){return i.assign(e,{questionIndex:a+1,status:0===l&&0===a?"current":"init",typeDesc:t.find(n,["key",e.type.toString()]).value+"题"})})})}))},selectQuestion:function(e){var n=this.data.findIndex(function(e){return t.some(e.questions,function(e){return"current"===e.status})});i.assign(t.find(this.data[n].questions,["status","current"]),{status:"init"}),n=this.data.findIndex(function(n){return!!t.find(n.questions,["id",e])}),i.assign(t.find(this.data[n].questions,["id",e]),{status:"current"}),this.changed()}}}},callbacks:{init:function(e){var n=this.models.summaryDetail,a=this.models.questions,t=this.models.dimensions;if(n.clear(),t.clear(),t.changed(),e.summaryDetail)n.set(e.summaryDetail),a.init(e.summaryDetail.dimensions),t.init(n.data.dimensions),n.changed();else if(e.researchQuestionaryId)return n.params={researchQuestionaryId:e.researchQuestionaryId,businessId:e.businessId},this.get(n).then(function(){a.init(n.data.dimensions),t.init(n.data.dimensions),a.changed(),t.changed()});return""},selectQuestion:function(e){this.models.dimensions.selectQuestion(e.id)}}},a.afterRender=function(){return this.dispatch("init",this.renderOptions)}},{"./app/util/maps":"./app/util/maps","drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/research-record/summary/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="achievement-content content">\n    \x3c!--  div(data-region=\'title\') --\x3e\n    <div class="achievement-side" data-region="side"></div>\n    <div class="achievement-main" data-region="main"></div>\n</div>'},
3:function(e,n,a,t,i){var l;return'    <div class="achievement-main-head">\n        <div class="col-sm-7 text-overflow"><div class="h3">\n            <strong>'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.summaryDetail:n)?l.name:l,n))+'</strong>\n        </div></div>\n    </div>\n    <div class="preview-content">\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){var l,s=null!=n?n:{};return(null!=(l=a.if.call(s,null!=n?n.dimensionIndex:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'            <ul class="statistics-ul">\n'+(null!=(l=a.each.call(s,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+"            </ul>\n"},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"                <h3>"+o((l=null!=(l=a.dimensionIndex||(null!=n?n.dimensionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"dimensionIndex",hash:{},data:i}):l))+"、"+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+'</h3>\n                <div class="description-con">\n                    <p class="des-con">'+o((l=null!=(l=a.description||(null!=n?n.description:n))?l:r,"function"==typeof l?l.call(s,{name:"description",hash:{},data:i}):l))+'</p>\n                    <span class="btn-des-more" id="desMore'+o((l=null!=(l=a.index||i&&i.index)?l:r,"function"==typeof l?l.call(s,{name:"index",hash:{},data:i}):l))+'">\n                        <span class="text">展开</span>\n                        <i class="iconfont icon-arrow-down"></i>\n                    </span>\n                </div>\n'},7:function(e,n,a,t,i){var l;return'                    <li>\n                        <div data-dynamic-key="'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'"></div>\n                    </li>\n'},9:function(e,n,a,t,i){var l;return'    <div id="questionaryDetail" class="achievement-tips pointer">\n        问卷须知\n        <i class="iconfont icon-info"></i>\n    </div>\n    <div class="achievement-preview"><ul>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.dimensions:n,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"    </ul></div>\n"},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'\n        <li class="border bottom" id="list-item-'+d((s=null!=(s=a.index||i&&i.index)?s:o,"function"==typeof s?s.call(r,{name:"index",hash:{},data:i}):s))+'">\n            <label>'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</label>\n            <div class="min-btn-groups">'+(null!=(l=a.each.call(r,null!=n?n.questions:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"</div>\n        </li>\n"},11:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return"\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","init",{name:"compare",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.status:n,"eq","current",{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"            "},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <a class="num min-btn" href="#mlj-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="q-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"questionIndex",hash:{},data:i}):l))+"</a>\n"},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <a class="num min-btn correct" href="#mlj-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" id="q-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.questionIndex||(null!=n?n.questionIndex:n))?l:r,"function"==typeof l?l.call(s,{name:"questionIndex",hash:{},data:i}):l))+"</a>\n"},16:function(e,n,a,t,i){var l;return"    "+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.summaryDetail:n)?l.questionaryDetail:l,{name:"echoX",hash:{},data:i}))?l:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n\x3c!--  view('title') --\x3e\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"description",{name:"view",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/research-record/summary/view-description",function(e,n,a){a.title="问卷须知",a.bindings={summaryDetail:!0}},{}),loadjs.d("./app/train/statistics/questionnaire/research-record/summary/view-main",function(e,n,a){var t=e("./app/util/business/research-question-types"),i=e("drizzle-zxy"),l=e("lodash/collection"),s=e("jquery");a.bindings={summaryDetail:!0,questions:!0,dimensions:!0},a.type="dynamic",a.getEntity=function(e){var n=this.bindings.questions.getQuestionById(e);return i.assign({},n,{questionAttrs:l.orderBy(n.questionAttrs,["createTime"],["asc"]),score:n.score/100})},a.getEntityModuleName=function(e,n){return t.get(n.type,2)},a.dataForEntityModule=function(e){var n=e;return n.researchQuestionary=this.bindings.summaryDetail.data,{type:e.type,question:n}},a.afterRender=function(){s(".description-con").each(function(e,n){var a=s(n).children(".des-con"),t=a.height(),i=s(n);t>30?a.addClass("text-overflow"):a.hasClass("text-overflow")||i.addClass("overflow-hidden")})},a.events={"click desMore*":"handleDesMore"},a.handlers={handleDesMore:function(e,n,a){var t=s(a);t.hasClass("active")?(t.removeClass("active"),t.siblings(".des-con").addClass("text-overflow"),t.children(".text").text("展开")):(t.addClass("active"),t.siblings(".des-con").removeClass("text-overflow"),t.children(".text").text("收起"))}}},{"./app/util/business/research-question-types":"./app/util/business/research-question-types","drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/research-record/summary/view-side",function(e,n,a){a.bindings={dimensions:!0},a.events={"click q-*":"selectQuestion","click questionaryDetail":"questionaryDetail"},a.handlers={selectQuestion:function(e){return this.module.dispatch("selectQuestion",{id:e})},questionaryDetail:function(){var e=this.module.items.description;this.app.viewport.modal(e)}}},{}),loadjs.d("./app/train/statistics/questionnaire/research-record/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-class-page">\n    <div class="page-main-wrapper">\n        <div class="div" data-region="details"></div>\n        <div class="div" data-region="search"></div>\n        <div class="div" data-region="main"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l;return'<form class="vertical">\n    <div class="watchsurvey-title"><div class="clearfix layout-mb-small">\n        <div class="pull-left h4">调研名称：'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.researchQuestionary:n)?l.name:l,n))+'</div>\n        <div class="pull-right h4">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.researchQuestionary:n)?l.joinNumber:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+"        </div>\n    </div></div>\n</form>"},4:function(e,n,a,t,i){var l;return"                已参加人数："+e.escapeExpression(e.lambda(null!=(l=null!=n?n.researchQuestionary:n)?l.joinNumber:l,n))+"\n"},6:function(e,n,a,t,i){return"                已参加人数：0\n"},8:function(e,n,a,t,i){return'<form class="vertical">\n    <div id="searchPannel" class="filter-row train-small">\n        <div class="filter-item">\n            <label>员工编号</label>\n            <input class="input" name="name"/>\n        </div>\n        <div class="filter-item">\n            <label>姓名</label>\n            <input class="input" name="fullName"/>\n        </div>\n        <div class="filter-item">\n            <label>开始时间</label>\n            <input id="sign-up-time" class="input" name="startTimeStart"/>\n        </div>\n        <div class="filter-item">\n            <div id="search" class="btn small">查询</div>\n        </div>\n    </div>\n</form>'},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'    <div class="clearfix layout-mt-small">\n        <div class="h4 pull-left">调研详情列表</div>\n        <div class="pull-right">\n'+(null!=(l=a.if.call(r,null!=n?n.researchQuestionarys:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+'            <a id="export" class="decoration-none small-btn" href="'+e.escapeExpression((s=null!=(s=a.exportUrl||(null!=n?n.exportUrl:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"exportUrl",hash:{},data:i}):s))+'">导出</a>\n        </div>\n    </div>\n    <div class="m-top">\n        <table class="table text-center train border around margin-none">\n            <thead><tr>\n                <th>序号</th>\n                <th>员工编号</th>\n                <th>姓名</th>\n                <th>单位</th>\n                <th>开始时间</th>\n                <th>提交时间</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(r,null!=n?n.researchQuestionarys:n,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n        <div id="pager" class="pagination"></div>\n    </div>\n'},11:function(e,n,a,t,i){return'                <div id="summary" class="small-btn m-right small"> 汇总统计</div>\n'},13:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return"<tr>\n                <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                <td>"+d(c(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n                <td>"+d(c(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                <td>"+d(c(null!=(l=null!=(l=null!=n?n.member:n)?l.company:l)?l.name:l,n))+"</td>\n                <td>"+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+"</td>\n                <td>"+d((a.dateMinute||n&&n.dateMinute||o).call(r,null!=n?n.submitTime:n,{name:"dateMinute",hash:{},data:i}))+'</td>\n                <td><a class="decoration-none" id="edit_researchQuestionarys'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">详情</a>\n'},15:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr></td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"details",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/research-record/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("drizzle-zxy");a.bindings={researchQuestionarys:!0,researchQuestionary:!0,state:!0,export:!1},a.components=[{id:"pager",name:"pager",options:{model:"researchQuestionarys"}}],a.dataForTemplate={researchQuestionarys:function(e){return t.map(e.researchQuestionarys,function(e,n){return i.assign(e,{i:n+1})})},exportUrl:function(){var e=this.bindings.export.getFullUrl()+"?",n=this.bindings.researchQuestionarys.params.researchQuestionaryId;return e+="access_token="+this.app.global.OAuth.token.access_token+"&id="+n+"&businessId="+this.bindings.state.data.classId},researchQuestionary:function(e){return e}},a.events={"click edit_researchQuestionarys*":"edit","click summary":"summary"},a.handlers={edit:function(e){var n="#/exam/research-activity/research-answer/"+e;window.open(n,"_blank")},summary:function(){var e=this.bindings.state.data,n=this.bindings.researchQuestionary.data.id,a="#/exam/research-activity/summary/"+n+"/"+e.classId;window.open(a,"_blank")}}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/research-record/view-search",function(e,n,a){var t=e("jquery");a.bindings={state:!0},a.actions={"click search":"search","keypress searchPannel":"enterSearch"},a.dataForActions={search:function(){var e,n,a=t(this.$$('[name="startTimeStart"]')).val(),i="",l="";return(null===a||""===a||-1!==a.indexOf("to"))&&(null!==a&&""!==a&&-1!==a.indexOf("to")&&(l=a.split("to")[1].trim(),i=a.split("to")[0].trim(),e=Date.parse(new Date(i))-288e5||"",n=Date.parse(new Date(l))-288e5||""),{researchQuestionaryId:this.bindings.state.data.resourceId,businessId:this.bindings.state.data.classId,name:t(this.$$('[name="name"]')).val().trim(),fullName:t(this.$$('[name="fullName"]')).val().trim(),startTimeStart:e,startTimeEnd:n,status:1})},enterSearch:function(e,n){var a,i,l=n.keyCode||n.which||n.charCode,s=t(this.$$('[name="startTimeStart"]')).val(),r="",o="";return(null===s||""===s||-1!==s.indexOf("to"))&&(null!==s&&""!==s&&-1!==s.indexOf("to")&&(o=s.split("to")[1].trim(),r=s.split("to")[0].trim(),a=Date.parse(new Date(r))-288e5||"",i=Date.parse(new Date(o))-288e5||""),13===l&&{researchQuestionaryId:this.bindings.state.data.resourceId,businessId:this.bindings.state.data.classId,name:t(this.$$('[name="name"]')).val().trim(),fullName:t(this.$$('[name="fullName"]')).val().trim(),startTimeStart:a,startTimeEnd:i,status:1})}},a.components=[{id:"sign-up-time",name:"flatpickr",options:{mode:"range"}}]},{jquery:!1}),loadjs.d("./app/train/statistics/questionnaire/research/index",function(e,n,a){a.items={main:"main",search:"search"},a.title="培训评估问卷",a.store={models:{researchQuestionarys:{url:"../train/questionnaire-survey/researchT",type:"pageable",root:"items"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.researchQuestionarys,a=this.models.state;return n.params={},n.params.resourceId=e.id,n.params.classId=e.classId,a.data.resourceId=e.id,a.data.classId=e.classId,a.data.type=e.type,this.get(n,{loading:!0})},search:function(e){var n=this.models.researchQuestionarys;return n.params=e,this.get(n,{loading:!0})}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions.payload)}},{}),loadjs.d("./app/train/statistics/questionnaire/research/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-class-page">\n    <div class="page-main-wrapper">\n        <div class="div" data-region="search"></div>\n        <div class="div" data-region="main"></div>\n    </div>\n</div>'},3:function(e,n,a,t,i){return'<form class="vertical">\n    <div class="filter-row train-small">\n        <div class="filter-item">\n            <label>员工编号</label>\n            <input class="input" name="name"/>\n        </div>\n        <div class="filter-item">\n            <label>姓名</label>\n            <input class="input" name="fullName"/>\n        </div>\n        <div class="filter-item">\n            <div id="search" class="btn">查询</div>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l;return'    <div class="layout-mt-small">\n        <table class="table text-center train border around margin-none">\n            <thead><tr>\n                <th>序号</th>\n                <th>员工编号</th>\n                <th>姓名</th>\n                <th>单位</th>\n                \x3c!--  th > echo(\'分数\') --\x3e\n                <th>操作</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.researchQuestionarys:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n        <div id="pager" class="pagination"></div>\n    </div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=e.escapeExpression,d=e.lambda;return"<tr>\n                <td>"+o((s=null!=(s=a.i||(null!=n?n.i:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                <td>"+o(d(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n                <td>"+o(d(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                <td>"+o(d(null!=(l=null!=n?n.organization:n)?l.name:l,n))+"</td>\n                \x3c!--  td --\x3e\n                \x3c!--      if(sumScore) --\x3e\n                \x3c!--          echo(sumScore) --\x3e\n                \x3c!--      else --\x3e\n                \x3c!--          echo('-') --\x3e\n                <td>\n"+(null!=(l=a.if.call(r,null!=n?n.sumScore:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))?l:"")},7:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a class="decoration-none" id="edit-researchQuestionarys'+o((l=null!=(l=a.rId||(null!=n?n.rId:n))?l:r,"function"==typeof l?l.call(s,{name:"rId",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">查看</a>\n'},9:function(e,n,a,t,i){return"                        未提交\n"},11:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n                </td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/research/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={researchQuestionarys:!0,state:!1},a.components=[{id:"pager",name:"pager",options:{model:"researchQuestionarys"}}],a.dataForTemplate={researchQuestionarys:function(e){var n=e.researchQuestionarys,a=this.bindings.researchQuestionarys.getPageInfo().page;return t.map(n||[],function(e,n){e.i=n+1+10*(a-1)}),n}},a.events={"click edit-researchQuestionarys*":"edit"},a.handlers={edit:function(e){var n,a=this.bindings.state.data.classId,t=this.bindings.state.data.type,i=this.module.renderOptions.payload;return i.isPartyCadre&&1===i.isPartyCadre?(n="#/train/class-detail/research-detail-party/"+e+"/"+a+"/"+i.isEnsemble+"/view",window.open(n,"_blank"),!1):(4===t&&(n="#/train/statistics/questionnaire/statistics-answer/"+e+"/"+a),5===t&&(n="#/train/statistics/questionnaire/research-answer/four/"+e+"/"+a),6===t&&(n="#/train/statistics/questionnaire/research-answer/ability/"+e+"/"+a),7===t&&(n="#/train/statistics/questionnaire/research-answer/leader/"+e+"/"+a),8===t&&(n="#/train/class-detail/research-detailnew/"+e+"/"+a+"/view"),window.open(n,"_blank"),!0)}}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/questionnaire/research/view-search",function(e,n,a){var t=e("jquery");a.bindings={state:!0},a.actions={"click search":"search"},a.dataForActions={search:function(){return{resourceId:this.bindings.state.data.resourceId,classId:this.bindings.state.data.classId,name:t(this.$$('[name="name"]')).val().trim(),fullName:t(this.$$('[name="fullName"]')).val().trim()}}}},{jquery:!1}),loadjs.d("./app/train/statistics/questionnaire/statistics-answer/index",function(e,n,a){a.store={models:{researchRecord:{url:"../train/questionnaire-survey/detail"},classId:{data:{}},classInfo:{url:"../train/class-info/get"}},callbacks:{init:function(e){var n=this.models.researchRecord,a=this.models.classInfo;if(this.models.classId.data=e.classId,a.clear(),a.params.id=e.classId,n.clear(),e.researchRecord)n.set(e.researchRecord),n.changed(),this.get(a);else if(e.researchRecordId)return n.params={researchRecordId:e.researchRecordId,classId:e.classId},this.get(a),this.get(n,{loading:!0});return""}}},a.items={main:"main"},a.tname="train.statistics.ques.research-answer-lA",a.beforeRender=function(){return this.dispatch("init",this.renderOptions)}},{}),loadjs.d("./app/train/statistics/questionnaire/statistics-answer/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="research-satification-new research-new research-satifi-new">\n    <div class="container"><div class="container" data-region="main"></div></div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'    <div class="big-title text-center strong">感谢您参加培训班满意度评估。</div>\n    <p class="h4 text-left m-left">非常感谢您对学院各项工作的理解、支持和帮助。为持续提升培训质量，请留下您对培训的评价及建议。并祝您工作顺利、万事如意！</p>\n    <div class="top-area clearfix layout-ml">\n        <div class="pull-left"><img src="images/book.png"/></div>\n        <div class="overflow">\n            <div class="tip1">'+r(s(null!=(l=null!=n?n.research:n)?l.fullName:l,n))+'，您正在评估的培训班是：</div>\n            <div class="h2 m-top text-overflow" style="height:4.2em;" title="'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'">'+r(s(null!=(l=null!=n?n.research:n)?l.className:l,n))+'</div>\n            <div class="m-top">\n                <span>项目日期：</span>\n                <span class="sub-text">'+r(s(null!=(l=null!=n?n.research:n)?l.date:l,n))+'</span>\n            </div>\n        </div>\n    </div>\n    <div class="main-one layout-mt">\n        <div class="table-row row-one clearfix">\n            <div class="table-cell one big normal-lheight text-overflow" title="第一部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content1:l,n))+'">第一部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content1:l,n))+'</div>\n            <div class="table-cell bg1">满意</div>\n            <div class="table-cell bg1">基本满意</div>\n            <div class="table-cell bg1">一般</div>\n            <div class="table-cell bg1">不满意</div>\n            <div class="table-cell bg1">很不满意</div>\n        </div>\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.researchRecord:n)?l.arr1:l,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'    </div>\n    <div class="main-one main-two layout-mt">\n        <div class="table-row row-one clearfix active">\n            <div class="table-cell one big w-35 text-overflow" title="第二部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content2:l,n))+'">第二部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content2:l,n))+'</div>\n            <div class="table-cell bg1 w-30">\n                <div class="h4">课程内容安排</div>\n                <div class="clearfix">\n                    <div class="pull-left w-20">满意</div>\n                    <div class="pull-left w-20">基本满意</div>\n                    <div class="pull-left w-20">一般</div>\n                    <div class="pull-left w-20">不满意</div>\n                    <div class="pull-left w-20">很不满意</div>\n                </div>\n            </div>\n            <div class="table-cell bg2 w-30">\n                <div class="h4 color2">讲师授课水平</div>\n                <div class="clearfix">\n                    <div class="pull-left w-20">满意</div>\n                    <div class="pull-left w-20">基本满意</div>\n                    <div class="pull-left w-20">一般</div>\n                    <div class="pull-left w-20">不满意</div>\n                    <div class="pull-left w-20">很不满意</div>\n                </div>\n            </div>\n            <div class="table-cell bg3 w-5 color3 small">\n                <div>\n                    <div>推荐</div>\n                    <div>课程</div>\n                </div>\n            </div>\n        </div>\n'+(null!=(l=a.each.call(o,null!=(l=null!=n?n.researchRecord:n)?l.arr2:l,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+'        <div class="main-one mt layout-mb">\n            <div class="table-row row-one clearfix"><div class="table-cell one big normal-lheight text-overflow" title="第三部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content3:l,n))+'（选填）">第三部分：'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.content3:l,n))+'（选填）</div></div>\n            <div class="item-san layout-mt-small">\n                <div class="san-div">\n                    <span class="num m-left">1</span>\n                    <span class="num-r title-color">本次培训您认为哪些方面最有价值？主要收获有哪些？</span>\n                </div>\n                <div class="m-top">\n                    <div><textarea class="input w-full border around" rows="5" disabled>'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.answer0:l,n))+'</textarea></div>\n                </div>\n                <div class="san-div layout-mt-small">\n                    <span class="num m-left">2</span>\n                    <span class="num-r title-color">本次培训您认为存在哪些不足？您的建议是什么？</span>\n                </div>\n                <div class="m-top">\n                    <div><textarea class="input w-full border around" rows="5" disabled>'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.answer1:l,n))+'</textarea></div>\n                </div>\n            </div>\n            <div class="item-san layout-mt-small">\n                <div class="san-div">\n                    <span class="num m-left">3</span>\n                    <span class="num-r title-color">其它意见或建议？</span>\n                </div>\n                <div class="m-top">\n                    <div><textarea class="input w-full border around" rows="5" disabled>'+r(s(null!=(l=null!=n?n.researchRecord:n)?l.answer2:l,n))+"</textarea></div>\n                </div>\n            </div>\n        </div>\n    </div>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'            <div class="table-row clearfix" '+(null!=(l=a.if.call(r,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'>\n                <div class="table-cell one">\n                    <span class="num m-left">'+d((s=null!=(s=a.k||(null!=n?n.k:n))?s:o,"function"==typeof s?s.call(r,{name:"k",hash:{},data:i}):s))+'</span>\n                    <span class="num-r" title="'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'</span>\n                </div>\n                <div class="table-cell bg1 one">\n'+(null!=(l=a.each.call(r,null!=n?n.questionAttrs:n,{name:"each",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(r,null!=n?n.flag:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"                </div>\n            </div>\n            \x3c!-- if(flag) --\x3e\n            \x3c!--     .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") > echo(idea) --\x3e\n"},5:function(e,n,a,t,i){return' style="height:7em;"'},7:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                        <div class="pull-left w-20 text-center">\n                            <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" disabled value="'+e.escapeExpression((s=null!=(s=a.name||(null!=n?n.name:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'"/>\n                            <label></label>\n                        </div>\n'},8:function(e,n,a,t,i){return' checked="checked"'},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <div class="write text-center w-full text-overflow title-color no-strong" title="'+o((l=null!=(l=a.idea||(null!=n?n.idea:n))?l:r,"function"==typeof l?l.call(s,{name:"idea",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.idea||(null!=n?n.idea:n))?l:r,"function"==typeof l?l.call(s,{name:"idea",hash:{},data:i}):l))+"</div>\n"},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'            <div class="table-row clearfix" '+(null!=(l=a.if.call(r,null!=n?n.flagC:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'>\n                <div class="table-cell one w-35" myname="row">\n                    <span class="num m-left">'+d((s=null!=(s=a.j||(null!=n?n.j:n))?s:o,"function"==typeof s?s.call(r,{name:"j",hash:{},data:i}):s))+'</span>\n                    <span class="num-r" title="'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.content||(null!=n?n.content:n))?s:o,"function"==typeof s?s.call(r,{name:"content",hash:{},data:i}):s))+'</span>\n                </div>\n                <div class="table-cell w-30 bg1">\n'+(null!=(l=a.each.call(r,null!=n?n.A:n,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(r,null!=n?n.flagA:n,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+'                </div>\n                <div class="table-cell w-30 bg2">\n'+(null!=(l=a.each.call(r,null!=n?n.B:n,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(r,null!=n?n.flagB:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+'                </div>\n                <div class="table-cell w-5 bg3">\n'+(null!=(l=a.each.call(r,null!=n?n.C:n,{name:"each",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i
}))?l:"")+"                </div>\n            </div>\n            \x3c!-- if(flagC) --\x3e\n            \x3c!--     .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") > echo(ideaA) --\x3e\n            \x3c!--     .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") > echo(ideaB) --\x3e\n            \x3c!-- else --\x3e\n            \x3c!--     if(flagA) --\x3e\n            \x3c!--         .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") > echo(ideaA) --\x3e\n            \x3c!--         .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") --\x3e\n            \x3c!--     if(flagB) --\x3e\n            \x3c!--         .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") --\x3e\n            \x3c!--         .w-full.border.around( x-marker='rich-text' style=\"height:3em; overflow:auto;\") > echo(ideaB) --\x3e\n"},13:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                        <div class="pull-left w-20">\n                            <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" disabled value="'+e.escapeExpression((s=null!=(s=a.name||(null!=n?n.name:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'"/>\n                            <label></label>\n                        </div>\n'},15:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <div class="write text-center w-full text-overflow title-color no-strong" title="'+o((l=null!=(l=a.ideaA||(null!=n?n.ideaA:n))?l:r,"function"==typeof l?l.call(s,{name:"ideaA",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.ideaA||(null!=n?n.ideaA:n))?l:r,"function"==typeof l?l.call(s,{name:"ideaA",hash:{},data:i}):l))+"</div>\n"},17:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <div class="write text-center w-full text-overflow title-color no-strong" title="'+o((l=null!=(l=a.ideaB||(null!=n?n.ideaB:n))?l:r,"function"==typeof l?l.call(s,{name:"ideaB",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.ideaB||(null!=n?n.ideaB:n))?l:r,"function"==typeof l?l.call(s,{name:"ideaB",hash:{},data:i}):l))+"</div>\n"},19:function(e,n,a,t,i){var l,s,r=null!=n?n:{};return'                        <input class="hide" '+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" disabled value="'+e.escapeExpression((s=null!=(s=a.name||(null!=n?n.name:n))?s:a.helperMissing,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'"/>\n                        <label class="iconfont icon-dianzan"></label>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <br/>\n    <div class="div" data-region="mainB"></div>\n    <div class="div" data-region="mainA"></div>\n'},3:function(e,n,a,t,i){var l;return'    <div class="layout-mt-small">\n        <table class="table text-center border around train margin-none">\n            <thead><tr>\n                <th>问卷名称</th>\n                <th>问卷类型</th>\n                <th>开始时间</th>\n                <th>截止时间</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>\n                '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.classEvaluates:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+"\n            </tbody>\n        </table>\n    </div>\n"},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"<tr>\n                    <td>"+d((s=null!=(s=a.resourceName||(null!=n?n.resourceName:n))?s:o,"function"==typeof s?s.call(r,{name:"resourceName",hash:{},data:i}):s))+"</td>\n                    <td>"+d((a.map||n&&n.map||o).call(r,"questionnaire-type",null!=n?n.type:n,{name:"map",hash:{},data:i}))+"</td>\n                    <td>\n"+(null!=(l=a.if.call(r,null!=n?n.startTime:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+"                    </td>\n                    <td>\n"+(null!=(l=a.if.call(r,null!=n?n.endTime:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'                    </td>\n                    <td>\n                        <a id="edit-classEvaluates'+d((s=null!=(s=a.resourceId||(null!=n?n.resourceId:n))?s:o,"function"==typeof s?s.call(r,{name:"resourceId",hash:{},data:i}):s))+'" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" typeId="'+d((s=null!=(s=a.type||(null!=n?n.type:n))?s:o,"function"==typeof s?s.call(r,{name:"type",hash:{},data:i}):s))+'">查看</a>\n                    </td>\n                </tr>\n'},5:function(e,n,a,t,i){return"                            "+e.escapeExpression((a.dateMinute||n&&n.dateMinute||a.helperMissing).call(null!=n?n:{},null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+"\n"},7:function(e,n,a,t,i){return"                            -\n"},9:function(e,n,a,t,i){return"                            "+e.escapeExpression((a.dateMinute||n&&n.dateMinute||a.helperMissing).call(null!=n?n:{},null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+"\n"},11:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <div>暂无内容</div>\n                    </div>\n                    </td></tr>'},13:function(e,n,a,t,i){var l;return'    <div class="layout-mt-small">\n        <table class="table text-center border around train margin-none">\n            <thead><tr>\n                <th>问卷名称</th>\n                <th>开始时间</th>\n                <th>截止时间</th>\n                <th>反馈率</th>\n                <th>操作</th>\n            </tr></thead>\n            <tbody>\n'+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.classEvaluate:n)?l.length:l,"gt",0,{name:"compare",hash:{},fn:e.program(14,i,0),inverse:e.program(42,i,0),data:i}))?l:"")+"            </tbody>\n        </table>\n    </div>\n"},14:function(e,n,a,t,i){var l;return"                    "+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.classEvaluate:n,{name:"each",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},15:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return"<tr>\n                        <td>\n"+(null!=(l=a.if.call(s,null!=n?n.isService:n,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.program(18,i,0),data:i}))?l:"")+"                        </td>\n                        <td>\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.type:n,"eq",4,{name:"compare",hash:{},fn:e.program(20,i,0),inverse:e.program(22,i,0),data:i}))?l:"")+"                        </td>\n                        <td>\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.type:n,"eq",4,{name:"compare",hash:{},fn:e.program(24,i,0),inverse:e.program(26,i,0),data:i}))?l:"")+"                        </td>\n                        <td>\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.response:n,"eq",0,{name:"compare",hash:{},fn:e.program(28,i,0),inverse:e.program(30,i,0),data:i}))?l:"")+"                        </td>\n                        <td>\n"+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(32,i,0),inverse:e.program(37,i,0),data:i}))?l:"")+"                        </td>\n                    </tr>"},16:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <a class="decoration-none" href="#/train/class-detail/research-detail-service/'+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+"/"+o((l=null!=(l=a.classId||(null!=n?n.classId:n))?l:r,"function"==typeof l?l.call(s,{name:"classId",hash:{},data:i}):l))+'" target="_blank">'+o((l=null!=(l=a.resourceName||(null!=n?n.resourceName:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceName",hash:{},data:i}):l))+"</a>\n"},18:function(e,n,a,t,i){var l;return"                                "+e.escapeExpression((l=null!=(l=a.resourceName||(null!=n?n.resourceName:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"resourceName",hash:{},data:i}):l))+"\n"},20:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <label id="label-startTime-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((a.dateMinute||n&&n.dateMinute||r).call(s,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+'</label>\n                                \x3c!-- i.iconfont.icon-note --\x3e\n                                <input id="input-startTime-" value="'+o((a.dateMinute||n&&n.dateMinute||r).call(s,null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+'" style="display:none;"/>\n'},22:function(e,n,a,t,i){return"                                "+e.escapeExpression((a.dateMinute||n&&n.dateMinute||a.helperMissing).call(null!=n?n:{},null!=n?n.startTime:n,{name:"dateMinute",hash:{},data:i}))+"\n"},24:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                <label id="label-endTime-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((a.dateMinute||n&&n.dateMinute||r).call(s,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+'</label>\n                                \x3c!-- i.iconfont.icon-note --\x3e\n                                <input id="input-endTime-" value="'+o((a.dateMinute||n&&n.dateMinute||r).call(s,null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+'" style="display:none;"/>\n'},26:function(e,n,a,t,i){return"                                "+e.escapeExpression((a.dateMinute||n&&n.dateMinute||a.helperMissing).call(null!=n?n:{},null!=n?n.endTime:n,{name:"dateMinute",hash:{},data:i}))+"\n"},28:function(e,n,a,t,i){return"                                0.00%\n"},30:function(e,n,a,t,i){var l;return"                                "+e.escapeExpression((l=null!=(l=a.response||(null!=n?n.response:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"response",hash:{},data:i}):l))+"%\n"},32:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'                                <a id="edit-classEvaluates'+d((s=null!=(s=a.resourceId||(null!=n?n.resourceId:n))?s:o,"function"==typeof s?s.call(r,{name:"resourceId",hash:{},data:i}):s))+'" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">查看</a>\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.type:n,"eq",4,{name:"compare",hash:{},fn:e.program(33,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.type:n,"eq",8,{name:"compare",hash:{},fn:e.program(35,i,0),inverse:e.noop,data:i}))?l:"")},33:function(e,n,a,t,i){var l;return'                                     | \n                                    <a id="questionnaire-'+e.escapeExpression((l=null!=(l=a.role||(null!=n?n.role:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"role",hash:{},data:i}):l))+'">统计</a>\n'},35:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                     | \n                                    <a id="questionnaire-'+o((l=null!=(l=a.role||(null!=n?n.role:n))?l:r,"function"==typeof l?l.call(s,{name:"role",hash:{},data:i}):l))+"&"+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'">统计</a>\n'},37:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.type:n,"eq",4,{name:"compare",hash:{},fn:e.program(38,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.type:n,"eq",8,{name:"compare",hash:{},fn:e.program(40,i,0),inverse:e.noop,data:i}))?l:"")},38:function(e,n,a,t,i){var l;return'                                    <a id="questionnaire-'+e.escapeExpression((l=null!=(l=a.role||(null!=n?n.role:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"role",hash:{},data:i}):l))+'">统计</a>\n'},40:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                                    <a id="questionnaire-'+o((l=null!=(l=a.role||(null!=n?n.role:n))?l:r,"function"==typeof l?l.call(s,{name:"role",hash:{},data:i}):l))+"&"+o((l=null!=(l=a.resourceId||(null!=n?n.resourceId:n))?l:r,"function"==typeof l?l.call(s,{name:"resourceId",hash:{},data:i}):l))+'">统计</a>\n'},42:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <div>暂无内容</div>\n                    </div>\n                    </td></tr>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"mainA",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"mainB",{name:"view",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/questionnaire/view-mainA",function(e,n,a){var t=e("lodash");a.bindings={classEvaluates:!0,state:!0},a.dataForTemplate={classEvaluates:function(e){var n=e.classEvaluates;return n=t.filter(n,function(e){return 8!==e.type})}},a.events={"click edit-classEvaluates*":"editClassEvaluates"},a.handlers={editClassEvaluates:function(e,n,a){var t=this,i=a.getAttribute("typeId"),l=t.module.items["train/statistics/questionnaire/exam"],s=t.module.items["train/statistics/questionnaire/research-record"],r=t.module.items["train/statistics/questionnaire/research-answer-record"],o={};o.resourceId=e,o.classId=this.bindings.state.data.classId,o.role=this.bindings.state.data.role,"1"===i&&this.app.viewport.modal(l,{payload:o}),"2"===i&&this.app.viewport.modal(s,{payload:o}),"3"===i&&this.app.viewport.modal(r,{payload:o})}}},{lodash:696}),loadjs.d("./app/train/statistics/questionnaire/view-mainB",function(e,n,a){var t=e("jquery"),i=e("lodash/collection");a.bindings={classEvaluate:!0,state:!0,courseNum:!0,faceCourseNum:!0,classInfo:!0},a.dataForTemplate={classEvaluate:function(e){var n=e.classEvaluate,a=this.bindings.state.data;return i.map(n||[],function(e){var n=e;n.isGrant=!0,n.isService=!1,1===a.role&&(n.role="manage"),2===a.role&&(n.isGrant=!1,n.role="sponsor"),3===a.role&&(n.isService=!0,n.role="service"),4===a.role&&(n.role="assist")}),n}},a.events={"click edit-classEvaluates*":"editClassEvaluates","click statistics*":"statistics","click label-startTime-*":"changeStartTime","click label-endTime-*":"changeEndTime","click questionnaire-*":"questionnaire"},a.handlers={editClassEvaluates:function(e){var n=this,a=this.bindings.state.data.classId,t=n.module.items["train/statistics/questionnaire/research"],l=this.bindings.classEvaluate.data||[],s={},r={};s=i.find(l,["resourceId",e])||{},r.id=e,r.classId=a,r.type=s.type,r.isPartyCadre=s.isPartyCadre,r.isEnsemble=s.isEnsemble,this.app.viewport.modal(t,{payload:r})},questionnaire:function(e){var n,a,t,l=window.location.protocol+"//"+window.location.host+"/",s="",r=this.bindings.state.data,o=this.bindings.courseNum.data,d=this.bindings.faceCourseNum.data,c=this.bindings.classEvaluate.data;if(n=e.indexOf("&")>-1?e.split("&")[0]:e,a=e.indexOf("&")>-1?e.split("&")[1]:"",t=i.filter(c,{resourceId:a})[0],a){if(!d||0===d)return this.app.message.error("班级还没有面授课程，请联系班主任添加面授课程"),!1;s=l+"#/train/statistics/questionnaire/count-new/"+n+"/"+r.classId+"/"+a,t.isPartyCadre&&1===t.isPartyCadre&&(s+="/"+t.isEnsemble)}else{if(!o||0===o)return this.app.message.error("班级还没有课程，请联系班主任添加课程"),!1;s=l+"#/train/statistics/questionnaire/count/"+n+"/"+r.classId}return window.open(s),!0},changeStartTime:function(e){4!==this.bindings.state.data.role&&(t(this.$("input-startTime-")).css("display","inline-block"),t(this.$("label-startTime-"+e)).css("display","none"))},updateStartTime:function(){var e=this.bindings.classEvaluate.data[0].id,n=t(this.$("input-startTime-")).val(),a=t(this.$("input-endTime-")).val(),i=this.bindings.classInfo.data.arriveDate,l=0;return l=Date.parse(new Date(n)),""===n?(this.app.message.alert("开始时间不能为空"),!1):n>a?(this.app.message.alert("结束时间不能小于开始时间"),!1):l<i?(this.app.message.alert("开始时间不能小于报到日"),!1):(this.module.dispatch("updateStartTime",{id:e,startTime:n}),!0)},changeEndTime:function(e){4!==this.bindings.state.data.role&&(t(this.$("input-endTime-")).css("display","inline-block"),t(this.$("label-endTime-"+e)).css("display","none"))},updateEndTime:function(){var e=this.bindings.classEvaluate.data[0].id,n=t(this.$("input-startTime-")).val(),a=t(this.$("input-endTime-")).val();return""===a?(this.app.message.alert("结束时间不能为空"),!1):n>a?(this.app.message.alert("结束时间不能小于开始时间"),!1):(this.module.dispatch("updateEndTime",{id:e,endTime:a}),!0)}},a.components=[function(){var e=this.bindings.classEvaluate.data,n=this;return{id:"input-startTime-",name:"flatpickr",options:{enableTime:!0,defaultDate:e.startTime||"",callback:function(){var e=n.bindings.classEvaluate.data[0].id,a=t(n.$("input-startTime-")).val(),i=t(n.$("input-endTime-")).val(),l=n.bindings.classInfo.data.arriveDate,s=0;return s=Date.parse(new Date(a)),""===a?(n.app.message.alert("开始时间不能为空"),t(n.$("input-endTime-")).css("display","none"),t(n.$("label-endTime-"+e)).css("display","inline-block"),!1):a>i?(n.app.message.alert("结束时间不能小于开始时间"),t(n.$("input-endTime-")).css("display","none"),t(n.$("label-endTime-"+e)).css("display","inline-block"),!1):s<l?(n.app.message.alert("开始时间不能小于报到日"),t(n.$("input-endTime-")).css("display","none"),t(n.$("label-endTime-"+e)).css("display","inline-block"),!1):(n.module.dispatch("updateStartTime",{id:e,startTime:a}),!0)}}}},function(){var e=this.bindings.classEvaluate.data,n=this;return{id:"input-endTime-",name:"flatpickr",options:{enableTime:!0,defaultDate:e.endTime||"",callback:function(){var e=n.bindings.classEvaluate.data[0].id,a=t(n.$("input-startTime-")).val(),i=t(n.$("input-endTime-")).val();return""===i?(n.app.message.alert("结束时间不能为空"),t(n.$("input-endTime-")).css("display","none"),t(n.$("label-endTime-"+e)).css("display","inline-block"),!1):a>i?(n.app.message.alert("结束时间不能小于开始时间"),t(n.$("input-endTime-")).css("display","none"),t(n.$("label-endTime-"+e)).css("display","inline-block"),!1):(n.module.dispatch("updateEndTime",{id:e,endTime:i}),!0)}}}}]},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/statistics/select-member/index",function(e,n,a){var t=e("drizzle-zxy");a.title="选择用户",a.items={content:"content",toolbox:"toolbox","human/organization/navigate-tree":{isModule:!0,region:"left",uri:"human/member"}},a.store={models:{members:{url:"../human/member",type:"pageable",root:"items"},state:{data:[]},search:{data:{},mixin:{getQueryParams:function(){return this.data.organizationId?{organizationId:this.data.organizationId}:{}}}}},callbacks:{refreshList:function(e){var n=t.assign({},this.models.search.getQueryParams(),e),a=this.models.members;a.params=n,this.get(a)}}},a.mixin={nodeChanged:function(e){var n=this.store.models.search;n.data.organizationId=e.id,n.changed(),this.dispatch("refreshList")}},a.buttons=[{text:"确认",fn:function(){var e=this.store.models.state.data;this.renderOptions.callback(e.join(",")),this.store.models.state.data=[]}}]},{"drizzle-zxy":!1}),loadjs.d("./app/train/statistics/select-member/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="toolbox" data-region="toolbox"></div>\n    <div class="content-left" data-region="left"></div>\n    <div class="content-main" data-region="content"></div>\n'},3:function(e,n,a,t,i){return'<form class="vertical">\n    账号\n    <input name="name"/>\n    姓名\n    <input name="fullName"/>\n    <btn id="searchMember" class="btn">查询</btn>\n</form>'},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'    <div class="list">\n        <table class="table">\n            <thead><tr>\n                <th>选择</th>\n                <th>'+o((a.setting||n&&n.setting||r).call(s,"human.member.full-name",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.name",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.sex",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.position-alias",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.direct-supervisor",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"system.all.organization",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"system.all.company",{name:"setting",hash:{},data:i}))+"</th>\n            </tr></thead>\n            <tbody>"+(null!=(l=a.each.call(s,null!=n?n.members:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination" style="float:none"></div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return"<tr>\n                <td>\n                    <input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                    <label for="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"></label>\n                </td>\n                <td>'+c((s=null!=(s=a.fullName||(null!=n?n.fullName:n))?s:o,typeof s===d?s.call(r,{name:"fullName",hash:{},data:i}):s))+"</td>\n                <td>"+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                <td>"+c((s=null!=(s=a.sexText||(null!=n?n.sexText:n))?s:o,typeof s===d?s.call(r,{name:"sexText",hash:{},data:i}):s))+"</td>\n                <td>"+c(u(null!=(l=null!=n?n.majoyPosition:n)?l.name:l,n))+"</td>\n                <td>"+c(u(null!=(l=null!=(l=null!=n?n.memberDetail:n)?l.directSupervisor:l)?l.fullName:l,n))+"</td>\n                <td>"+c(u(null!=(l=null!=n?n.organization:n)?l.name:l,n))+"</td>\n                <td>"+c(u(null!=(l=null!=n?n.organization:n)?l.companyName:l,n))+"\n"},7:function(e,n,a,t,i){return' checked="checked"'},9:function(e,n,a,t,i){return'                    <tr><td colspan="10"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr></td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"toolbox",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/select-member/view-content",function(e,n,a){var t=e("lodash/collection");a.components=[{id:"pager",name:"pager",options:{model:"members"}}],a.title="选择用户",a.bindings={members:!0,state:!0},a.events={"click select_*":"checkMember"},a.handlers={checkMember:function(e,n,a){var t=this.bindings.state.data,i=e,l=0;if(a.checked)t.push(i);else for(l;l<t.length;l++)if(t[l]===i){t.splice(l,1);break}}},a.dataForTemplate={members:function(e){var n=this.bindings.state.data,a=this.module.renderOptions.memberIds;return t.map(e.members||[],function(e){var t=e||{};-1===n.indexOf(t.id)&&-1===a.indexOf(t.id)||(t.checked=!0)}),e.members}},a.searchChange=function(){this.module.dispatch("refreshList",this.bindings.search.getQueryParams())}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/select-member/view-toolbox",function(e,n,a){a.bindings={search:!0},a.actions={"click searchMember":"refreshList"}},{}),loadjs.d("./app/train/statistics/study-details/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection");a.items={main:"main",search:"search",tabs:"tabs","train/statistics/study-details/particulars":{isModule:!0},"train/statistics/study-details/particulars-tab0":{isModule:!0}},a.store={models:{courseStudyProgresss:{url:"../train/study-details/find",type:"pageable",root:"items"},member:{url:"../train/study-details/member"},course:{url:"../course-study/course-study-progress/total-study-time"},download:{url:"../train/study-details/download"},state:{data:{searchData:{}}},tab:{data:"0"},compulsorytab:{data:"0"},compluStudy:{data:{tabData:{newStudy:"newStudy",historyStudy:"historyStudy"}}}},callbacks:{init:function(e){var n=this.models.courseStudyProgresss,a=this.models.member,i=this.models.state,l=this.models.tab,s=this;return i.data.classId=e.classId,"0"===l.data?n.params=t.assign(e,{operate:l.data,name:"",fullName:"",organizationName:"",finishStatus:""}):n.params=t.assign(e,{operate:l.data}),a.params=e,s.get(n,{loading:!0})},download:function(e){var n=this.models.download.getFullUrl(),a=this.app.global.OAuth.token.access_token,t=this.models.tab.data,l=this.models.compulsorytab.data;return n+="1"===t&&"1"===l?"?access_token="+a+"&finishStatus=3":"?access_token="+a,i.forEach(e,function(e,a){n+="&"+a+"="+e}),window.location.href=encodeURI(n),!0},toggleTab:function(e){var n=this.models.tab;return n.data=e.operate,n.changed(),this.module.dispatch("search",e)},search:function(e){var n=this.models.courseStudyProgresss;return n.params=e,this.get(n,{loading:!0})},enterSearch:function(e){return this.module.dispatch("search",e)}}},a.beforeRender=function(){return this.dispatch("init",{classId:this.renderOptions.state.classId})}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/statistics/study-details/particulars-tab0/index",function(e,n,a){var t=e("drizzle-zxy");a.items={main:"main"},a.title="学习详情",a.store={models:{particularss:{url:"../train/study-details/detail",type:"pageable",root:"items"},member:{url:"../train/study-details/member"}},callbacks:{init:function(e){var n=this.models.particularss,a=e.memberId,i=e.classId,l=e.finishStatus,s=this;return t.assign(n.params,{memberId:a,classId:i}),"3"===l?n.params.history=!0:delete n.params.history,s.get(n)}}},a.beforeRender=function(){return this.dispatch("init",this.renderOptions.payload)}},{"drizzle-zxy":!1}),loadjs.d("./app/train/statistics/study-details/particulars-tab0/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="learndetail-page">\n    <div class="learndetail" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <table class="table text-center train border around">\n        <thead><tr>\n            <th>序号</th>\n            <th width="300px">资源名称</th>\n            <th>开始学习时间</th>\n            <th>学习时长</th>\n            <th>状态</th>\n        </tr></thead>\n        <tbody>\n            '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.particularss:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.program(13,i,0),data:i}))?l:"")+'\n        </tbody>\n    </table>\n    <div id="pager" class="pagination"></div>\n'},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"<tr>\n                <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                <td>"+d((s=null!=(s=a.courseName||(null!=n?n.courseName:n))?s:o,"function"==typeof s?s.call(r,{name:"courseName",hash:{},data:i}):s))+"</td>\n                <td>\n"+(null!=(l=a.if.call(r,null!=n?n.startTime:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+"                </td>\n                <td>\n                    "+(null!=(l=a.if.call(r,null!=n?n.studyTotalTimeString:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i}))?l:"")+"\n                </td>\n                <td>"+d((a.map||n&&n.map||o).call(r,"course-info-study-status",null!=n?n.studyStatus:n,{name:"map",hash:{},data:i}))+"</td>\n            </tr>\n"},5:function(e,n,a,t,i){return"                        "+e.escapeExpression((a.dateTime||n&&n.dateTime||a.helperMissing).call(null!=n?n:{},null!=n?n.startTime:n,{name:"dateTime",hash:{},data:i}))+"\n"},7:function(e,n,a,t,i){return"                        -\n"},9:function(e,n,a,t,i){var l;return e.escapeExpression((l=null!=(l=a.studyTotalTimeString||(null!=n?n.studyTotalTimeString:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"studyTotalTimeString",hash:{},data:i}):l))+"\n                    "},11:function(e,n,a,t,i){return"-"},13:function(e,n,a,t,i){return'                <tr><td colspan="10"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容</p>\n                </div>\n                </td></tr>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/study-details/particulars-tab0/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={particularss:!0},a.components=[{id:"pager",name:"pager",options:{
model:"particularss"}}],a.dataForTemplate={particularss:function(){var e=this.bindings.particularss.data;return t.map(e||[],function(e,n){e.i=n+1}),e}}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/study-details/particulars/index",function(e,n,a){var t=e("drizzle-zxy");a.items={main:"main"},a.title="学习详情",a.store={models:{particularss:{url:"../course-study/course-study-progress/progress-by-member"},onLine:{url:"../train/study-details/course"},member:{url:"../train/study-details/member"},isRequired:{url:"../train/study-details/isRequired"}},callbacks:{init:function(e){var n=this.models.particularss,a=this.module.renderOptions.compulsorytab,i=this.models.member,l=this.models.onLine,s=this.models.isRequired,r=e.payload.classId,o=e.payload.memberId,d=this;l.params.classId=e.payload.classId,this.get(l),s.params={classId:r,memberId:o},this.get(s),i.params.classId=r,this.get(i).then(function(e){null!==e[0].courseIds&&""!==e[0].courseIds&&(t.assign(n.params,{memberId:o,courseIds:e[0].courseIds}),n.options.url="0"===a?"../course-study/course-study-progress/progress-by-member":"../course-history/course-study-progress/progress-by-member",d.get(n))})}}},a.beforeRender=function(){return this.dispatch("init",{payload:this.renderOptions.payload})}},{"drizzle-zxy":!1}),loadjs.d("./app/train/statistics/study-details/particulars/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="learndetail-page">\n    <div class="learndetail" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <table class="table text-center train border around">\n        <thead><tr>\n            <th width="300px">资源名称</th>\n            <th>是否必修</th>\n            <th>开始学习时间</th>\n            <th>学习时长</th>\n            <th>状态</th>\n        </tr></thead>\n        <tbody>\n            '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.particularss:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+"\n        </tbody>\n    </table>\n"},4:function(e,n,a,t,i){var l,s,r=e.escapeExpression,o=null!=n?n:{},d=a.helperMissing;return"<tr>\n                <td>"+r(e.lambda(null!=(l=null!=n?n.courseInfo:n)?l.name:l,n))+"</td>\n                <td>"+r((a.map||n&&n.map||d).call(o,"is-required",null!=n?n.isRequired:n,{name:"map",hash:{},data:i}))+"</td>\n                <td>\n"+(null!=(l=a.if.call(o,null!=n?n.beginTime:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+"                </td>\n                <td>"+r((s=null!=(s=a.studyTotalTime||(null!=n?n.studyTotalTime:n))?s:d,"function"==typeof s?s.call(o,{name:"studyTotalTime",hash:{},data:i}):s))+"</td>\n                <td>"+r((a.map||n&&n.map||d).call(o,"course-info-study-status",null!=n?n.finishStatus:n,{name:"map",hash:{},data:i}))+"</td>\n            </tr>\n"},5:function(e,n,a,t,i){return"                        "+e.escapeExpression((a.dateTime||n&&n.dateTime||a.helperMissing).call(null!=n?n:{},null!=n?n.beginTime:n,{name:"dateTime",hash:{},data:i}))+"\n"},7:function(e,n,a,t,i){return"                        -\n"},9:function(e,n,a,t,i){return'                <tr><td colspan="10"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容</p>\n                </div>\n                </td></tr>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/study-details/particulars/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={particularss:!0,onLine:!0,isRequired:!0},a.dataForTemplate={particularss:function(){var e=this.bindings.particularss.data,n=this.bindings.onLine.data,a=this.bindings.isRequired.data,i=0,l=0,s=0,r=0,o="";return t.map(e||[],function(e,d){var c=e,u=e.courseInfo.id;return n=t.orderBy(n,["isRequired"],["desc"]),n.length>0&&(t.find(n,["resourceId",u])?c.isRequired=t.find(n,["resourceId",u]).isRequired:c.isRequired=1),a=t.orderBy(a,["config"],["desc"]),a.length>0&&t.find(a,["courseId",u])&&(c.isRequired=t.find(a,["courseId",u]).config),c.i=d+1,i=null==c.studyTotalTime?0:window.parseInt(c.studyTotalTime),r=window.parseInt(i/3600),r<10&&(r="0"+r),s=window.parseInt((i-3600*r)/60),s<10&&(s="0"+s),l=window.parseInt((i-3600*r)%60),l<10&&(l="0"+l),o=r+":"+s+":"+l,i>0&&(c.studyTotalTime=o),0===i&&(c.studyTotalTime="-"),c.studyTotalTime}),e}}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/study-details/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="div" data-region="tabs"></div>\n    <div class="div" data-region="search"></div>\n    <div class="div" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'    <div class="tabs line clearfix">\n        <ul class="pull-left" style="border-bottom: none">\n'+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.tab:n,"eq","0",{name:"compare",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.tab:n,"eq","1",{name:"compare",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"        </ul>\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.tab:n,"eq","1",{name:"compare",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){return'                <li id="tab-0" class="h4 strong active" style="border:none;line-height: 3.5;">日程安排-在线课程</li>\n                <li id="tab-1" class="h4" style="border:none;line-height: 3.5;">在线必修课</li>\n'},6:function(e,n,a,t,i){return'                <li id="tab-0" class="h4" style="border:none;line-height: 3.5;">日程安排-在线课程</li>\n                <li id="tab-1" class="h4 strong active" style="border:none;line-height: 3.5;">在线必修课</li>\n'},8:function(e,n,a,t,i){return'            <div id="download" class="btn pull-right" style="margin-top: 8px;margin-right: 10px;">导出</div>\n'},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.tab:n,"eq","0",{name:"compare",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.tab:n,"eq","1",{name:"compare",hash:{},fn:e.program(27,i,0),inverse:e.noop,data:i}))?l:"")},11:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <div class="m-top">\n            <table class="table text-center train border around margin-none">\n                <thead><tr>\n                    <th>序号</th>\n                    <th>账号</th>\n                    <th>姓名</th>\n                    <th>单位</th>\n                    <th>职位</th>\n                    <th>完成进度</th>\n                    <th>完成状态</th>\n                    <th>操作</th>\n                </tr></thead>\n                <tbody>'+(null!=(l=a.each.call(s,null!=n?n.courseStudyProgresss:n,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.program(23,i,0),data:i}))?l:"")+"</tbody>\n            </table>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=n?n.pageCount:n,"gt",1,{name:"compare",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return"<tr>\n                    <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                    <td>"+d(c(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n                    <td>"+d(c(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                    <td>\n                        "+(null!=(l=a.if.call(r,null!=(l=null!=n?n.member:n)?l.organizationName:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+"\n                    </td>\n                    <td>\n"+(null!=(l=a.if.call(r,null!=(l=null!=n?n.member:n)?l.jobName:l,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.program(19,i,0),data:i}))?l:"")+"                    </td>\n                    <td>\n                        "+(null!=(l=a.if.call(r,null!=n?n.studyProgress:n,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+"\n                    </td>\n                    <td>"+d((a.map||n&&n.map||o).call(r,"course-info-study-status",null!=n?n.finishStatus:n,{name:"map",hash:{},data:i}))+'  </td>\n                    <td>\n                        <a id="edit'+d((s=null!=(s=a.memberId||(null!=n?n.memberId:n))?s:o,"function"==typeof s?s.call(r,{name:"memberId",hash:{},data:i}):s))+'" data-name="id" data-value="'+d((s=null!=(s=a.memberId||(null!=n?n.memberId:n))?s:o,"function"==typeof s?s.call(r,{name:"memberId",hash:{},data:i}):s))+'" cId="'+d((s=null!=(s=a.classId||(null!=n?n.classId:n))?s:o,"function"==typeof s?s.call(r,{name:"classId",hash:{},data:i}):s))+'">详情</a>\n'},13:function(e,n,a,t,i){var l;return e.escapeExpression(e.lambda(null!=(l=null!=n?n.member:n)?l.organizationName:l,n))+"\n                        "},15:function(e,n,a,t,i){return"-"},17:function(e,n,a,t,i){var l;return"                            "+e.escapeExpression(e.lambda(null!=(l=null!=n?n.member:n)?l.jobName:l,n))+"\n"},19:function(e,n,a,t,i){return"                            -\n"},21:function(e,n,a,t,i){var l,s;return(null!=(s=null!=(s=a.studyProgress||(null!=n?n.studyProgress:n))?s:a.helperMissing,l="function"==typeof s?s.call(null!=n?n:{},{name:"studyProgress",hash:{},data:i}):s)?l:"")+"\n                        "},23:function(e,n,a,t,i){return'                        <tr><td colspan="10"><div class="text-center">\n                            <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                            <p>暂无内容</p>\n                        </div>\n                        </td></tr>\n                    </td>\n                </tr>\n                '},25:function(e,n,a,t,i){return'                <div id="pager" class="pagination" style="margin:1em;"></div>\n'},27:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return'        <div class="tabs line clearfix">\n            <ul class="pull-left" style="border-bottom: none">\n'+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.compulsorytab:n,"eq","0",{name:"compare",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.compulsorytab:n,"eq","1",{name:"compare",hash:{},fn:e.program(30,i,0),inverse:e.noop,data:i}))?l:"")+'            </ul>\n            <table class="table text-center train border around margin-none">\n                <thead><tr>\n                    <th>序号</th>\n                    <th>账号</th>\n                    <th>姓名</th>\n                    <th>单位</th>\n                    <th>职位</th>\n                    <th>联系电话</th>\n                    <th>在线必修课程完成状态</th>\n                    <th>操作</th>\n                </tr></thead>\n                <tbody>'+(null!=(l=a.each.call(s,null!=n?n.courseStudyProgresss:n,{name:"each",hash:{},fn:e.program(32,i,0),inverse:e.program(34,i,0),data:i}))?l:"")+"</tbody>\n            </table>\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=n?n.pageCount:n,"gt",1,{name:"compare",hash:{},fn:e.program(25,i,0),inverse:e.noop,data:i}))?l:"")+"        </div>\n"},28:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                    <li class="h4 strong active" id="compulsorytab-'+r(s(null!=(l=null!=n?n.compluStudy:n)?l.newStudy:l,n))+'" style="border:none;font-size: 1em;">当前学习</li>\n                    <li class="h4" id="compulsorytab-'+r(s(null!=(l=null!=n?n.compluStudy:n)?l.historyStudy:l,n))+'" style="border:none;font-size: 1em;">历史学习</li>\n'},30:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                    <li class="h4" id="compulsorytab-'+r(s(null!=(l=null!=n?n.compluStudy:n)?l.newStudy:l,n))+'" style="border:none;font-size: 1em;">当前学习</li>\n                    <li class="h4 strong active" id="compulsorytab-'+r(s(null!=(l=null!=n?n.compluStudy:n)?l.historyStudy:l,n))+'" style="border:none;font-size: 1em;">历史学习</li>\n'},32:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return"<tr>\n                    <td>"+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                    <td>"+c(u(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n                    <td>"+c(u(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                    <td>\n                        "+(null!=(l=a.if.call(r,null!=(l=null!=n?n.member:n)?l.organizationName:l,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+"\n                    </td>\n                    <td>\n"+(null!=(l=a.if.call(r,null!=(l=null!=n?n.member:n)?l.jobName:l,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.program(19,i,0),data:i}))?l:"")+"                    </td>\n                    <td>"+c((s=null!=(s=a.phone||(null!=n?n.phone:n))?s:o,typeof s===d?s.call(r,{name:"phone",hash:{},data:i}):s))+"</td>\n                    <td>"+c((s=null!=(s=a.state||(null!=n?n.state:n))?s:o,typeof s===d?s.call(r,{name:"state",hash:{},data:i}):s))+'</td>\n                    <td>\n                        <a id="edit'+c((s=null!=(s=a.memberId||(null!=n?n.memberId:n))?s:o,typeof s===d?s.call(r,{name:"memberId",hash:{},data:i}):s))+'" data-name="id" data-value="'+c((s=null!=(s=a.memberId||(null!=n?n.memberId:n))?s:o,typeof s===d?s.call(r,{name:"memberId",hash:{},data:i}):s))+'" cId="'+c((s=null!=(s=a.classId||(null!=n?n.classId:n))?s:o,typeof s===d?s.call(r,{name:"classId",hash:{},data:i}):s))+'">详情</a>\n'},34:function(e,n,a,t,i){return'                        <tr><td colspan="10"><div class="text-center">\n                            <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                            <div>暂无内容</div>\n                        </div>\n                        </td></tr>\n                    </td>\n                </tr>\n                '},36:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.tab:n,"eq","0",{name:"compare",hash:{},fn:e.program(37,i,0),inverse:e.noop,data:i}))?l:""},37:function(e,n,a,t,i){return'        <form class="vertical">\n            <div id="searchPannel" class="filter-row train-small clearfix">\n                <div class="filter-item">\n                    <label>账号</label>\n                    <input class="input" name="name"/>\n                </div>\n                <div class="filter-item">\n                    <label>姓名</label>\n                    <input class="input" name="fullName"/>\n                </div>\n                <div class="filter-item clearfix vertical-top">\n                    <label class="tag-height pull-left m-right">单位</label>\n                    <div id="class-organization" class="inline-block" style="width:201px"></div>\n                </div>\n                <div class="filter-item" style="margin-left:5px">\n                    <label>完成状态</label>\n                    <select name="finishStatus">\n                        <option value="">全部</option>\n                        <option value="0">未开始 </option>\n                        <option value="1">学习中</option>\n                        <option value="2">已完成</option>\n                        <option value="3">历史完成  </option>\n                    </select>\n                </div>\n                <div class="pull-right">\n                    <div class="filter-item vertical-top">\n                        <btn id="search" class="btn">查询</btn>\n                    </div>\n                    <div class="filter-item">\n                        <div id="download" class="btn">导出</div>\n                    </div>\n                </div>\n            </div>\n        </form>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"tabs",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/study-details/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("jquery"),l=e("drizzle-zxy");a.bindings={courseStudyProgresss:!0,member:!0,state:!0,tab:!0,compulsorytab:!0,compluStudy:!0},a.components=[{id:"pager",name:"pager",options:{model:"courseStudyProgresss"}},{id:"class-organization",name:"picker",options:{module:"train/class-info",picker:"owner",inputName:"organizationId"}}],a.events={"click edit*":"edit","click download":"download","click compulsorytab-*":"compulsoryTab"},a.handlers={edit:function(e,n,a){var t=this,i=a.getAttribute("cId"),l=this.bindings.tab.data,s=this.bindings.state.data,r=s.searchData.finishStatus||"",o=this.bindings.compulsorytab.data,d=t.module.items["train/statistics/study-details/particulars-tab0"],c=t.module.items["train/statistics/study-details/particulars"],u={};u.memberId=e,u.classId=i,u.finishStatus=r,"0"===l?t.app.viewport.modal(d,{payload:u,tab:l,compulsorytab:o}):t.app.viewport.modal(c,{payload:u,tab:l,compulsorytab:o})},download:function(){var e=this.bindings.state.data.classId;return"0"===this.bindings.tab.data?this.module.dispatch("download",l.assign({operate:"0",classId:e},this.getTab0Form())):this.module.dispatch("download",{classId:e,operate:"1"})},compulsoryTab:function(e){var n=this.bindings.state.data.classId,a=this.bindings.compluStudy.data.tabData;return e===a.historyStudy?(this.bindings.compulsorytab.data="1",this.bindings.compulsorytab.changed(),this.module.dispatch("search",{operate:1,classId:n,finishStatus:3})):e===a.newStudy&&(this.bindings.compulsorytab.data="0",this.bindings.compulsorytab.changed(),this.module.dispatch("search",{operate:1,classId:n}))}},a.actions={"click search":"search","keypress searchPannel":"enterSearch"},a.dataForActions={search:function(){var e=this.bindings.state.data;return l.assign({operate:"0",classId:e.classId},this.getTab0Form())},enterSearch:function(e,n){var a=n.keyCode||n.which||n.charCode,t=this.bindings.state.data;return 13===a&&l.assign({operate:"0",classId:t.classId},this.getTab0Form())}},a.dataForTemplate={courseStudyProgresss:function(e){var n=e.courseStudyProgresss||[],a=this.bindings.courseStudyProgresss.getPageInfo().page;return t.map(n||[],function(e,n){var t=e;return t.i=n+1+10*(a-1),0===t.studyStatus?t.state="未完成":1===t.studyStatus?t.state="已完成":t.state="-",t.studyProgress&&(t.studyProgress='<span style="color:#0084cf">'+t.studyProgress.split("/")[0]+"/</span>"+t.studyProgress.split("/")[1]),t}),n},pageCount:function(){return this.bindings.courseStudyProgresss.getPageInfo().pageCount},compulsorytab:function(){return this.bindings.compulsorytab.data},compluStudy:function(){return this.bindings.compluStudy.data.tabData}},a.mixin={getTab0Form:function(){return{name:i(this.$$('[name="name"]')).val().trim(),fullName:i(this.$$('[name="fullName"]')).val().trim(),organizationName:i(this.$$('[name="organizationId-text"]')).val().trim()}}}},{"drizzle-zxy":!1,jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/statistics/study-details/view-search",function(e,n,a){var t=e("jquery"),i=e("drizzle-zxy");a.bindings={state:!1,tab:!0},a.components=[{id:"class-organization",name:"picker",options:{module:"train/class-info",picker:"owner",inputName:"organizationId"}}],a.events={"click download":"download"},a.handlers={download:function(){var e=this.bindings.state.data.classId,n=this.bindings.state.data;return"0"===this.bindings.tab.data?this.module.dispatch("download",i.assign({operate:"0",classId:e},n.searchData)):this.module.dispatch("download",{classId:e,operate:"1"})}},a.actions={"click search":"search","keypress searchPannel":"enterSearch"},a.dataForActions={search:function(){var e=this.bindings.state.data,n=i.assign({operate:"0",classId:e.classId},this.getTab0Form());return e.searchData=n,n},enterSearch:function(e,n){var a,t=n.keyCode||n.which||n.charCode,l=this.bindings.state.data;return 13===t&&(a=i.assign({operate:"0",classId:l.classId},this.getTab0Form()),l.searchData=a,a)}},a.mixin={getTab0Form:function(){return{name:t(this.$$('[name="name"]')).val().trim(),fullName:t(this.$$('[name="fullName"]')).val().trim(),organizationName:t(this.$$('[name="organizationId-text"]')).val().trim(),finishStatus:t(this.$$('[name="finishStatus"]')).val().trim()}}}},{"drizzle-zxy":!1,jquery:!1}),loadjs.d("./app/train/statistics/study-details/view-tabs",function(e,n,a){var t=e("jquery"),i=e("drizzle-zxy");a.bindings={state:!1,tab:!0,compulsorytab:!0},a.events={"click tab-*":"toggleTab","click download":"download"},a.handlers={toggleTab:function(e){var n=this.bindings.state;return"0"===e?this.module.dispatch("toggleTab",{classId:n.data.classId,name:"",fullName:"",organizationName:"",operate:e}):(this.bindings.compulsorytab.data="0",this.bindings.compulsorytab.changed(),this.module.dispatch("toggleTab",{classId:n.data.classId,operate:e}))},download:function(){var e=this.bindings.state.data.classId;return"0"===this.bindings.tab.data?this.module.dispatch("download",i.assign({operate:"0",classId:e},this.getTab0Form())):this.module.dispatch("download",{classId:e,operate:"1"})}},a.dataForTemplate={tab:function(){return this.bindings.tab.data}},a.mixin={getTab0Form:function(){return{name:t(this.$$('[name="name"]')).val().trim(),fullName:t(this.$$('[name="fullName"]')).val().trim(),organizationName:t(this.$$('[name="organizationId-text"]')).val().trim()}}}},{"drizzle-zxy":!1,jquery:!1}),loadjs.d("./app/train/statistics/task/audit-task/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection");a.items={head:"head",main:"main",side:"side"},a.store={models:{all:{url:"../train/task-member/all"},approval:{url:"../train/task-member/approval"},download:{url:"../file-deal/file/download"},preview:{url:"../file-deal/file/preview"},mainState:{data:{isExplain:!0,isDescription:!0}},state:{data:{}}},callbacks:{init:function(e){var n=this.models.all,a=this.models.state,t=this;return a.data.id=e.id,n.params=a.data,this.get(n).then(function(e){var n=e[0].task.taskReviewer||[],a=i.filter(n,function(e){return e.approvalMemberId===t.app.global.currentUser.id});a&&a.length>0||this.app.navigate("home/error-page/1")})},approval:function(e){var n=this.models.approval,a=this.models.all,i=this;n.clear(),t.assign(n.params,e),t.assign(n.data,e),i.post(n).then(function(){i.app.message.success("审批成功"),i.get(a)})},preview:function(e){var n=this.models.state;t.assign(n.data||{},e),n.changed()}}},a.beforeRender=function(){this.dispatch("init",{id:this.renderOptions.id})}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/statistics/task/audit-task/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="taskmarking-content main-side">\n    <div class="taskmarking-side bg-highlight">\n        <div data-region="side"></div>\n    </div>\n    <div class="taskmarking-head" data-region="head"></div>\n    <div class="taskmarking-main" data-region="main"></div>\n</div>'},3:function(e,n,a,t,i){var l;return'    <div class="pull-left title">'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.all:n)?l.task:l)?l.name:l,n))+'</div>\n    <div class="pull-right title">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=(l=null!=n?n.all:n)?l.taskApproval:l)?l.id:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+"    </div>\n"},4:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return"            提交人:"+r(s(null!=(l=null!=(l=null!=n?n.all:n)?l.member:l)?l.fullName:l,n))+"&nbsp;&nbsp;\n            审核人:"+r(s(null!=(l=null!=(l=null!=n?n.all:n)?l.taskApproval:l)?l.approvalMemberFullName:l,n))+"&nbsp;&nbsp;\n            得分:"+r(s(null!=(l=null!=(l=null!=n?n.all:n)?l.taskApproval:l)?l.score:l,n))+"&nbsp;&nbsp;\n"},6:function(e,n,a,t,i){var l;return"            提交人:"+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.all:n)?l.member:l)?l.fullName:l,n))+"\n            \x3c!-- .btn.blue.m#approval 确定 --\x3e\n            \x3c!-- .btn.white.m#closeTask 关闭批阅 --\x3e\n"},8:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<form class="vertical layout-mt">\n    <a id="explain" class="layout-mt-small" href="javascript:;">作业说明</a>\n    <div class="h4 m-top">作业附件：</div>\n'+(null!=(l=a.each.call(s,null!=(l=null!=(l=null!=n?n.all:n)?l.task:l)?l.attachList:l,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+'    <div class="h4 m-top">用户提交：</div>\n    <a id="description" class="block m-top" href="javascript:;">作业详情</a>\n    <div class="clearfix m-top">\n'+(null!=(l=a.if.call(s,null!=(l=null!=n?n.all:n)?l.attachmentId:l,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.program(13,i,0),data:i}))?l:"")+"    </div>\n"+(null!=(l=a.if.call(s,null!=(l=null!=(l=null!=n?n.all:n)?l.taskApproval:l)?l.id:l,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.program(17,i,0),data:i}))?l:"")+'    <div class="m-top text-center">\n'+(null!=(l=a.if.call(s,null!=(l=null!=(l=null!=n?n.all:n)?l.taskApproval:l)?l.id:l,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.program(22,i,0),data:i}))?l:"")+"    </div>\n</form>"},9:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'        <div class="side-item clearfix m-top">\n            <a class="inline-block text-overflow t-title" id="preview-'+d((l=null!=(l=a.attachmentId||(null!=n?n.attachmentId:n))?l:r,typeof l===o?l.call(s,{name:"attachmentId",hash:{},data:i}):l))+'" href="javascript:;" title="'+d((l=null!=(l=a.attachmentName||(null!=n?n.attachmentName:n))?l:r,typeof l===o?l.call(s,{name:"attachmentName",hash:{},data:i}):l))+'">'+d((l=null!=(l=a.attachmentName||(null!=n?n.attachmentName:n))?l:r,typeof l===o?l.call(s,{name:"attachmentName",hash:{},data:i}):l))+'</a>\n            <a class="inline-block pull-right" href="'+d((l=null!=(l=a.downUrl||(null!=n?n.downUrl:n))?l:r,typeof l===o?l.call(s,{name:"downUrl",hash:{},data:i}):l))+'" download="'+d((l=null!=(l=a.attachmentName||(null!=n?n.attachmentName:n))?l:r,typeof l===o?l.call(s,{name:"attachmentName",hash:{},data:i}):l))+'">下载</a>\n        </div>\n'},11:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'            <a class="inline-block text-overflow t-title" id="preview-'+r(s(null!=(l=null!=n?n.all:n)?l.attachmentId:l,n))+'" href="javascript:;" title="'+r(s(null!=(l=null!=n?n.all:n)?l.name:l,n))+'">'+r(s(null!=(l=null!=n?n.all:n)?l.name:l,n))+'</a>\n            <a class="inline-block pull-right" href="'+r(s(null!=(l=null!=n?n.all:n)?l.downUrl:l,n))+'" download="'+r(s(null!=(l=null!=n?n.all:n)?l.name:l,n))+'">下载</a>\n'},13:function(e,n,a,t,i){var l;return'            <div class="inline-blockecho">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.all:n)?l.name:l,n))+"</div>\n"},15:function(e,n,a,t,i){var l;return'        <div class="m-top"></div>\n        <label class="block">评语：</label>\n        <textarea id="comment" class="w-full m-top" name="comment" value="" rows="5" disabled>'+e.escapeExpression(e.lambda(null!=(l=null!=(l=null!=n?n.all:n)?l.taskApproval:l)?l.comment:l,n))+"</textarea>\n"},17:function(e,n,a,t,i){var l,s=null!=n?n:{},r=e.lambda,o=e.escapeExpression;return'        <div class="layout-mt-small border top text-center"><div class="m-top">\n            <input id="state-0" class="inline-block" '+(null!=(l=a.unless.call(s,null!=n?n.checked:n,{name:"unless",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+' name="state" type="radio" value="0"/>\n            <label class="layout-mr-small">通过</label>\n            <input id="state-1" class="inline-block" '+(null!=(l=a.if.call(s,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")+' name="state" type="radio" value="1"/>\n            <div class="inline-block">打回重新提交</div>\n        </div></div>\n        <div class="layout-mt-small">\n            <label>评分：</label>\n            <input id="score" class="w-full m-top" name="score" value="'+o(r(null!=(l=null!=(l=null!=n?n.all:n)?l.taskApproval:l)?l.score:l,n))+'"/>\n        </div>\n        <div class="m-top">\n            <label class="block">评语：</label>\n            <textarea id="comment" class="w-full m-top" name="comment" value="" rows="5">'+o(r(null!=(l=null!=(l=null!=n?n.all:n)?l.taskApproval:l)?l.comment:l,n))+"</textarea>\n        </div>\n"},18:function(e,n,a,t,i){return' checked="checked"'},20:function(e,n,a,t,i){return'            <div id="close" class="btn white border w-half">关闭</div>\n'},22:function(e,n,a,t,i){return'            <div id="audit" class="btn w-half">确定</div>\n            <div id="close" class="btn white border w-half">关闭</div>\n'},24:function(e,n,a,t,i){var l;return'    <div class="preview-content">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.mainState:n)?l.isExplain:l,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.program(30,i,0),data:i}))?l:"")+"    </div>\n"},25:function(e,n,a,t,i){var l,s=null!=n?n:{};return(null!=(l=a.if.call(s,null!=(l=null!=n?n.mainState:n)?l.isDescription:l,{name:"if",hash:{},fn:e.program(26,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=(l=null!=n?n.mainState:n)?l.description:l,{name:"if",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?l:"")},26:function(e,n,a,t,i){var l;return'                <div class="h3 m-bottom">作业说明:</div>\n                <span class="small-font">'+(null!=(l=(a.echoX||n&&n.echoX||a.helperMissing).call(null!=n?n:{},null!=(l=null!=(l=null!=n?n.all:n)?l.task:l)?l.explain:l,{name:"echoX",hash:{},data:i}))?l:"")+"</span>\n"},28:function(e,n,a,t,i){var l;return'                <div class="h3 m-bottom">作业详情:</div>\n                <span class="small-font">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.all:n)?l.description:l,n))+"</span>\n"},30:function(e,n,a,t,i){return'            <div id="viewPdf"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"head",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"side",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/task/audit-task/view-head",function(e,n,a){var t=e("jquery"),i=e("./app/ext/views/form/validators");a.bindings={all:!0,state:!0},a.events={"click closeTask":"closeTask"},a.handlers={closeTask:function(){window.close()}},a.actions={"click approval":"approval"},a.dataForActions={approval:function(){
var e=this.bindings.state.data.id,n=this.module.items.side,a=t(n.$("score")).val(),l=t(n.$("comment")).val(),s=t(n.$$('[name="state"]:checked')).val();return i.number.fn(a)?i.range.fn(a,0,100)?(t(n.$("score")).removeClass("error"),i.maxLength.fn(l,3e3)?(t(n.$("comment")).removeClass("error"),{taskMemberId:e,score:a,comment:l,state:s}):(t(n.$("comment")).addClass("error"),this.app.message.error("评语最大长度为:3000"),!1)):(t(n.$("score")).addClass("error"),this.app.message.error("评分只能填写0-100的数字"),!1):(t(n.$("score")).addClass("error"),this.app.message.error("评分只能为数字"),!1)}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1}),loadjs.d("./app/train/statistics/task/audit-task/view-main",function(e,n,a){a.bindings={all:!0,download:!1,state:!0,mainState:!0,preview:!1},a.events={"click viewDesc":"viewDesc"},a.handlers={viewDesc:function(){this.module.dispatch("preview",{flag:"desc"})}},a.components=[function(){var e=this.bindings.state.data||{},n=this.bindings.preview.getFullUrl()+"/"+e.attachmentId;return"doc"===e.flag&&{id:"viewPdf",name:"picker",options:{picker:"pdf",id:e.attachmentId,pdfUrl:n}}}],a.dataForTemplate={all:function(e){return e.all}}},{}),loadjs.d("./app/train/statistics/task/audit-task/view-side",function(e,n,a){var t=e("lodash/collection"),i=e("jquery"),l=e("./app/ext/views/form/validators");a.bindings={all:!0,approval:!0,download:!1,preview:!1,state:!0,mainState:!0},a.events={"click preview-*":"preview","click explain":"explain","click description":"description","change score":"changeScore","click close":"closeTask"},a.handlers={preview:function(e){var n=this.bindings.mainState.data,a={flag:"doc",attachmentId:e};n.isExplain=!1,n.isDescription=this.bindings.all.data.description,this.bindings.mainState.changed(),this.module.dispatch("preview",a)},explain:function(){var e=this.bindings.mainState.data;e.isExplain=!0,e.isDescription=!0,e.description=!1,this.bindings.mainState.changed()},description:function(){var e=this.bindings.mainState.data;e.isExplain=!0,e.isDescription=!1,e.description=!0,this.bindings.mainState.changed()},changeScore:function(){var e=i(this.$("score")).val(),n=this.bindings.all.data.taskApproval;if(l.number.fn(e)){if(!l.range.fn(e,0,100))return i(this.$("score")).addClass("error"),this.app.message.error("评分只能填写0-100的数字"),!1}else i(this.$("score")).addClass("error"),this.app.message.error("评分只能为数字");return i(this.$("score")).removeClass("error"),Number(e)<60?(n.state=0,n.score=e,n.comment=this.$("comment").value,this.bindings.all.changed(),!0):(Number(e)>=60&&(n.state=1,n.score=e,n.comment=this.$("comment").value,this.bindings.all.changed()),!1)},closeTask:function(){window.close()}},a.actions={"click audit":"approval"},a.dataForActions={approval:function(){var e=this.bindings.state.data.id,n=this.module.items.side,a=i(n.$("score")).val(),t=i(n.$("comment")).val(),s=i(n.$$('[name="state"]:checked')).val();return l.number.fn(a)?l.range.fn(a,0,100)?(i(n.$("score")).removeClass("error"),l.maxLength.fn(t,3e3)?(i(n.$("comment")).removeClass("error"),{taskMemberId:e,score:a,comment:t,state:s}):(i(n.$("comment")).addClass("error"),this.app.message.error("评语最大长度为:3000"),!1)):(i(n.$("score")).addClass("error"),this.app.message.error("评分只能填写0-100的数字"),!1):(i(n.$("score")).addClass("error"),this.app.message.error("评分只能为数字"),!1)}},a.dataForTemplate={checked:function(e){return 0===((e.all||{}).taskApproval||{}).state},all:function(e){var n=this,a=e.all||{},i=a.task||{},l=i.attachList||[];return a.downUrl=n.bindings.download.getFullUrl()+"?id="+a.attachmentId,t.map(l||[],function(e){var a=e;return a.downUrl=n.bindings.download.getFullUrl()+"?id="+a.attachmentId,a}),a}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/statistics/task/index",function(e,n,a){a.items={main:"main","train/statistics/task/task-detail":{isModule:!0}},a.store={models:{tasks:{url:"../train/task/tasks",type:"pageable",root:"items"},task:{url:"../train/task"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.tasks,a=this.models.state;return n.params=e,a.data.classId=e,a.changed(),this.get(n,{loading:!0})},search:function(e){var n=this.models.tasks;return n.params=e,this.get(n)}}},a.beforeRender=function(){return this.dispatch("init",{classId:this.renderOptions.state.classId})}},{}),loadjs.d("./app/train/statistics/task/task-detail/index",function(e,n,a){a.items={main:"main",count:"count",search:"search"},a.title="作业详情",a.store={models:{taskDetail:{url:"../train/task-member/list",type:"pageable",root:"items"},taskOne:{url:"../train/task-member/one"},taskd:{url:"../train/task-member"},downAttach:{url:"../train/task-member/download"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.taskDetail,a=this.models.taskOne,t=e;return t.classId=e.classId.classId,n.params=t,n.set({id:e.id}),a.params.id=e.id,a.clear(),this.get(a),this.get(n)},search:function(e){var n=this.models.taskDetail,a=this.models.state.data.id;return n.params=e,n.params.id=a,this.get(n)}}},a.beforeRender=function(){this.store.models.state.data.id=this.renderOptions.id,this.dispatch("init",{id:this.renderOptions.id,classId:this.renderOptions.classId})}},{}),loadjs.d("./app/train/statistics/task/task-detail/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="train-class-page">\n    <div class="page-main-wrapper">\n        <div class="activity-category">\n            <div class="div" data-region="count"></div>\n            <div class="div" data-region="search"></div>\n            <div class="div" data-region="main"></div>\n        </div>\n    </div>\n</div>'},3:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'<form class="vertical">\n    <div class="clearfix">\n        <div class="pull-left h4">\n            作业名称：\n            '+r(s(null!=(l=null!=n?n.taskOne:n)?l.name:l,n))+'\n        </div>\n        <div class="pull-right h4">\n            已提交人数：\n            '+r(s(null!=(l=null!=n?n.taskOne:n)?l.number:l,n))+"\n        </div>\n    </div>\n</form>"},5:function(e,n,a,t,i){var l;return'<form class="vertical">\n    <div class="layout-mt-small">\n        <div class="filter-row train-small">\n            <div class="filter-item">\n                员工编号\n                <input class="input" name="name"/>\n            </div>\n            <div class="filter-item">\n                姓名\n                <input class="input" name="fullName"/>\n            </div>\n            <div class="filter-item">\n                <btn id="search" class="btn">查询</btn>\n            </div>\n        </div>\n    </div>\n    <div class="layout-mt-small clearfix">\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.showDownload:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n</form>"},6:function(e,n,a,t,i){var l;return'            <a class="btn small pull-right" href="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.taskDetail:n)?l.downUrl:l,n))+'" download="">下载全部</a>\n'},8:function(e,n,a,t,i){var l;return'    <table class="table text-center train border around">\n        <thead><tr>\n            <th>序号</th>\n            <th>员工编号</th>\n            <th>员工姓名</th>\n            <th>单位</th>\n            <th>提交时间</th>\n            <th>得分</th>\n        </tr></thead>\n        <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.taskDetail:n,{name:"each",hash:{},fn:e.program(9,i,0),inverse:e.program(17,i,0),data:i}))?l:"")+'</tbody>\n    </table>\n    <div id="pager" class="pagination"></div>\n'},9:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return"<tr>\n            <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n            <td>"+d(c(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n            <td>"+d(c(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n            <td>"+d((s=null!=(s=a.org2Name||(null!=n?n.org2Name:n))?s:o,"function"==typeof s?s.call(r,{name:"org2Name",hash:{},data:i}):s))+"</td>\n            <td>"+d((a.dateTime||n&&n.dateTime||o).call(r,null!=n?n.createTime:n,{name:"dateTime",hash:{},data:i}))+"</td>\n            <td>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.score:n,"ne",null,{name:"compare",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))?l:"")},10:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <a class="decoration-none" href="#/train/statistics/task/audit-task/'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" target="_blank">'+o((l=null!=(l=a.score||(null!=n?n.score:n))?l:r,"function"==typeof l?l.call(s,{name:"score",hash:{},data:i}):l))+"</a>\n"},12:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.approvalStutas:n,"ne",null,{name:"compare",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i}))?l:""},13:function(e,n,a,t,i){var l;return'                        <a class="decoration-none" href="#/train/statistics/task/audit-task/'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'" target="_blank">0</a>\n'},15:function(e,n,a,t,i){var l;return'                        <a class="decoration-none" href="#/train/statistics/task/audit-task/'+e.escapeExpression((l=null!=(l=a.id||(null!=n?n.id:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"id",hash:{},data:i}):l))+'" target="_blank">审核</a>\n'},17:function(e,n,a,t,i){return'                <tr><td colspan="10"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容</p>\n                </div>\n                </td></tr>\n            </td>\n        </tr>\n        '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"count",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/task/task-detail/view-count",function(e,n,a){a.bindings={taskOne:!0},a.dataForTemplate={taskOne:function(e){return e.taskOne}}},{}),loadjs.d("./app/train/statistics/task/task-detail/view-main",function(e,n,a){var t=e("lodash/collection");a.title="作业详情",a.bindings={taskDetail:!0,state:{}},a.components=[{id:"pager",name:"pager",options:{model:"taskDetail"}}],a.dataForTemplate={taskDetail:function(e){var n=e.taskDetail||{},a=this.bindings.taskDetail.getPageInfo().page;return t.map(n||[],function(e,n){e.i=n+1+10*(a-1)}),n}}},{"lodash/collection":!1}),loadjs.d("./app/train/statistics/task/task-detail/view-search",function(e,n,a){var t=e("jquery");a.bindings={taskDetail:!0,downAttach:!1,state:!0,taskOne:!1},a.actions={"click search":"search"},a.dataForActions={search:function(){return{name:t(this.$$('[name="name"]')).val(),fullName:t(this.$$('[name="fullName"]')).val()}}},a.dataForTemplate={taskDetail:function(e){var n=e.taskDetail||{},a=this.bindings.state.data;return n.downUrl=this.bindings.downAttach.getFullUrl()+"?id="+a.id,n},showDownload:function(){return(this.bindings.taskOne.data.attachNumber||0)>0}}},{jquery:!1}),loadjs.d("./app/train/statistics/task/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="train-class-page">\n        <div class="div" data-region="main"></div>\n    </div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="contaniner">\n        <div class="layout-mt-small">\n            <table class="table text-center train border around margin-none">\n                <thead><tr>\n                    <th>作业名称</th>\n                    <th>提交人数</th>\n                    <th>操作</th>\n                </tr></thead>\n                <tbody>'+(null!=(l=a.each.call(s,null!=n?n.tasks:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+"</tbody>\n            </table>\n        </div>\n    </div>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=n?n.pageCount:n,"gt",1,{name:"compare",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"<tr>\n                    <td>"+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+"</td>\n                    <td>"+o((l=null!=(l=a.number||(null!=n?n.number:n))?l:r,"function"==typeof l?l.call(s,{name:"number",hash:{},data:i}):l))+'</td>\n                    <td><a id="preview'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">详情</a>\n'},6:function(e,n,a,t,i){return'                        <tr><td colspan="10"><div class="text-center">\n                            <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                            <p>暂无内容</p>\n                        </div>\n                        </td></tr></td>\n                </tr>\n                '},8:function(e,n,a,t,i){return'        <div id="pager" class="pagination" style="margin: 1em;"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/task/view-main",function(e,n,a){a.bindings={tasks:!0,state:!1},a.components=[{id:"pager",name:"pager",options:{model:"tasks"}}],a.events={"click preview*":"preview"},a.handlers={preview:function(e){var n=this,a=this.bindings.state.data.classId,t=n.module.items["train/statistics/task/task-detail"];n.app.viewport.modal(t,{id:e,classId:a})}},a.dataForTemplate={pageCount:function(){return this.bindings.tasks.getPageInfo().pageCount}}},{}),loadjs.d("./app/train/statistics/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="membership container border around layout-mt-small">\n    <section>\n        <div class="tabs line m-top" data-region="tab"></div>\n        <div class="membership-contents" data-region="main"></div>\n    </section>\n</div>'},3:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.tab:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:""},4:function(e,n,a,t,i){var l,s=null!=n?n:{};return'        <ul class="relative">\n            <li id="tab-questionnaire" class="h4 strong '+(null!=(l=a.if.call(s,null!=n?n.isManage:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'">调查问卷</li>\n            <li id="tab-class-two-brings" class="h4 strong '+(null!=(l=a.if.call(s,null!=n?n.isFmtrainee:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'">两个带来</li>\n            <li id="tab-study-details" class="h4 strong '+(null!=(l=a.if.call(s,null!=n?n.isClassstaff:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'">学习详情</li>\n            <li id="tab-task" class="h4 strong '+(null!=(l=a.if.call(s,null!=n?n.isIftrainee:n,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'">作业管理</li>\n        </ul>\n'},5:function(e,n,a,t,i){return"active"},7:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.tab:l,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:""},8:function(e,n,a,t,i){var l;return'        <div style="padding:0px;margin:0px;" data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.tab:l,n))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"tab",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/statistics/view-main",function(e,n,a){a.type="dynamic",a.bindings={state:!0},a.getEntityModuleName=function(e){return"train/statistics/"+e},a.getEntity=function(){return{state:this.bindings.state.data}},a.dataForEntityModule=function(e){return e}},{}),loadjs.d("./app/train/statistics/view-tab",function(e,n,a){a.bindings={state:!0},a.events={"click tab-*":"showTab"},a.handlers={showTab:function(e){var n=this.bindings.state,a=n.data.classId,t=this.bindings.state.data.role;n.data={},n.data.tab=e||"questionnaire",n.data.classId=a,n.data[e]=!0,n.data.role=t,n.changed()}},a.dataForTemplate={isManage:function(){return"questionnaire"===this.bindings.state.data.tab},isFmtrainee:function(){return"class-two-brings"===this.bindings.state.data.tab},isClassstaff:function(){return"study-details"===this.bindings.state.data.tab},isIftrainee:function(){return"task"===this.bindings.state.data.tab}}},{}),loadjs.d("./app/train/trainee/classstaff/index",function(e,n,a){var t=e("lodash/collection");a.items={main:"main","train/trainee/select-member":{isModule:!0}},a.store={models:{classstaffs:{url:"../train/classstaff",type:"pageable",root:"items"},classstaff:{url:"../train/classstaff"},memberIds:{url:"../train/classstaff/members"},addAllClassstaff:{url:"../train/classstaff/save-all"},state:{data:{}},classTeacher:{url:"../train/classstaff-config"}},callbacks:{init:function(e){var n=this.models.classstaffs,a=this.models.state.data,t=this.models.classTeacher;return t.params={typeId:8},a.classId=e.classId,n.params={classId:e.classId},this.chain([this.get(n,{loading:!0}),this.get(t)])},updateSort:function(e){var n=this.models.classstaff,a={};return n.clear(),a=e,a.classId=this.models.state.data.classId,a.type="2",n.set(a),this.put(n)},delete:function(e){var n=this.models.classstaff,a={},i=t.find(this.models.classstaffs.data,["id",e.id]).member.fullName;return a=e,a.name=i,a.classId=this.models.state.data.classId,n.clear(),a.type="1",n.set(a),this.put(n)},changeCallName:function(e){var n=this.models.classstaff;return n.clear(),n.set(e),this.put(n)},addClassstaff:function(e){var n=this.models.classstaff;return n.clear(),n.set(e),this.save(n)},addAllClassstaff:function(e){var n=this.models.addAllClassstaff;return n.clear(),n.params=e,this.get(n)},getMemberIds:function(){var e=this.models.memberIds,n=this.models.state.data;return e.clear(),e.params={classId:n.classId},this.get(e)},refreshList:function(){var e=this.models.classstaffs;this.get(e)}}},a.beforeRender=function(){var e=this.store.models.state;return e.data.role=this.renderOptions.state.role,e.changed(),this.dispatch("init",{classId:this.renderOptions.state.classId})}},{"lodash/collection":!1}),loadjs.d("./app/train/trainee/classstaff/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="membership-table layout-mt-small clearfix" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="h4 pull-left strong m-left">班主任列表</div>\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(7,i,0),data:i}))?l:"")+'    <table class="table layout-mt-small text-center train border around margin-none">\n        <thead><tr>\n            <th>序号</th>\n            <th>姓名</th>\n            <th>单位</th>\n            <th>部门</th>\n            <th>称呼</th>\n            <th>手机</th>\n            <th>邮箱</th>\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")+"        </tr></thead>\n        <tbody>\n            "+(null!=(l=a.each.call(s,null!=n?n.classstaffs:n,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.program(18,i,0),data:i}))?l:"")+"\n        </tbody>\n    </table>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=n?n.pageCount:n,"gt",1,{name:"compare",hash:{},fn:e.program(23,i,0),inverse:e.noop,data:i}))?l:"")},4:function(e,n,a,t,i){var l;return'        <div class="pull-right col-sm-4">\n            <label class="pull-left tag-height m-right">常用班主任</label>\n            <select class="input tag-height pull-left" id="add-classstaff-input" name="memberId">\n                <option value=""></option>\n'+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.classTeacher:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'            </select>\n            <div id="addClassstaff" class="small-btn pull-left m-right">添加</div>\n            <div id="addAllClassstaff" class="small-btn pull-left m-right">人员选择</div>\n        </div>\n'},5:function(e,n,a,t,i){var l,s,r=e.escapeExpression;return'                    <option value="'+r((s=null!=(s=a.memberId||(null!=n?n.memberId:n))?s:a.helperMissing,"function"==typeof s?s.call(null!=n?n:{},{name:"memberId",hash:{},data:i}):s))+'">'+r(e.lambda(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</option>\n"},7:function(e,n,a,t,i){return"        <br/>\n"},9:function(e,n,a,t,i){return"                <th>操作</th>\n"},11:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return"<tr>\n                <td>"+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+'</td>\n                <td><span title="'+c(u(null!=(l=null!=n?n.member:n)?l.fullNames:l,n))+'">'+c(u(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+'</span></td>\n                <td><span title="'+c((s=null!=(s=a.companyNames||(null!=n?n.companyNames:n))?s:o,typeof s===d?s.call(r,{name:"companyNames",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.companyName||(null!=n?n.companyName:n))?s:o,typeof s===d?s.call(r,{name:"companyName",hash:{},data:i}):s))+'</span></td>\n                <td><span title="'+c((s=null!=(s=a.organizationNames||(null!=n?n.organizationNames:n))?s:o,typeof s===d?s.call(r,{name:"organizationNames",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.organizationName||(null!=n?n.organizationName:n))?s:o,typeof s===d?s.call(r,{name:"organizationName",hash:{},data:i}):s))+"</span></td>\n                <td>\n"+(null!=(l=a.if.call(r,null!=n?n.callName:n,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.program(14,i,0),data:i}))?l:"")+'                    <input id="input-callName'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.callName||(null!=n?n.callName:n))?s:o,typeof s===d?s.call(r,{name:"callName",hash:{},data:i}):s))+'" style="display:none;width:100px;" data-name="id" data-value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                </td>\n                <td>'+c(u(null!=(l=null!=n?n.member:n)?l.phoneNumber:l,n))+'</td>\n                <td><span title="'+c(u(null!=(l=null!=n?n.member:n)?l.emails:l,n))+'">'+c(u(null!=(l=null!=n?n.member:n)?l.email:l,n))+"</span></td>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))?l:"")+"            </tr>\n"},12:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <label class="pointer" id="label-callName'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="'+o((l=null!=(l=a.callNames||(null!=n?n.callNames:n))?l:r,"function"==typeof l?l.call(s,{name:"callNames",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.callName||(null!=n?n.callName:n))?l:r,"function"==typeof l?l.call(s,{name:"callName",hash:{},data:i}):l))+"</label>\n"},14:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <label class="pointer" id="label-callName'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="'+o((l=null!=(l=a.callNames||(null!=n?n.callNames:n))?l:r,"function"==typeof l?l.call(s,{name:"callNames",hash:{},data:i}):l))+'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>\n'},16:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                    <td class="width-stu">\n                        <a id="staff-sort'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">排序</a>\n                        <div class="relative" style="display:none;" id="block'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">\n                            <input class="input date w-full tag-height" id="staff-input-sort'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" value="'+d((l=null!=(l=a.sort||(null!=n?n.sort:n))?l:r,typeof l===o?l.call(s,{name:"sort",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'"/>\n                            <i class="iconfont text-main-color pointer" id="to-sort'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">Go</i>\n                        </div>\n                        <span class="text-main-color" id="staff-shuxian'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">|</span>\n                        <a id="staff-delete'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">删除</a>\n                    </td>\n'},18:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.program(21,i,0),data:i}))?l:""},19:function(e,n,a,t,i){return'                    <tr><td colspan="9"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n'},21:function(e,n,a,t,i){return'                    <tr><td colspan="8"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n                '},23:function(e,n,a,t,i){return'        <div id="pager" class="pagination" style="margin:1em;"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/trainee/classstaff/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.bindings={classstaffs:!0,state:!1,classTeacher:!1},a.components=[{id:"pager",name:"pager",options:{model:"classstaffs"}}],a.events={"click staff-sort*":"showSortInput","click to-sort*":"updateSort","click label-callName*":"showCallNameInput","change input-callName*":"updateCallName","click addAllClassstaff":"showMembers"},a.actions={"click staff-delete*":"delete","click addClassstaff":"addClassstaff"},a.handlers={showSortInput:function(e){var n=this.$("staff-input-sort"+e),a=this.$("staff-sort"+e),l=this.$("staff-delete"+e),s=this.$("staff-shuxian"+e),r=this.bindings.classstaffs.data,o=t.find(r,["id",e]),d=this.$("block"+e);i(this.$("block"+e)).css("display","block"),i(this.$("staff-sort"+e)).css("display","none"),i(this.$("staff-delete"+e)).css("display","none"),i(this.$("staff-shuxian"+e)).css("display","none"),n.focus(),this.onBlur(n,a,l,s,o.sort,d)},updateSort:function(e){var n=this,a={},t=i(this.$("staff-input-sort"+e)).val().trim();return isNaN(t)||""===t?(this.app.message.error("请输入整数!"),!1):Number(t)<=0||Number(t)>1e3?(this.app.message.error("请输入0-1000之间的数字，不含0"),!1):(a.id=e,a.sort=t,n.module.dispatch("updateSort",a).then(function(){n.module.dispatch("refreshList")}),i(n.$("block"+e)).css("display","none"),i(n.$("staff-sort"+e)).css("display","inline"),i(n.$("staff-delete"+e)).css("display","inline"),i(n.$("staff-shuxian"+e)).css("display","inline"),!0)},showCallNameInput:function(e){var n=this.bindings.state.data,a=this.$("input-callName"+e),l=this.$("label-callName"+e),s=this.bindings.classstaffs.data,r=t.find(s,["id",e]);4!==n.role&&(i(this.$("input-callName"+e)).css("display","block"),i(this.$("label-callName"+e)).css("display","none"),a.focus(),a.addEventListener?a.addEventListener("blur",function(){var e=i(a).val();"number"==typeof r.callName&&e&&(e=Number(e)),r.callName===e?(i(a).css("display","none"),i(l).css("display","inline-block")):e||r.callName||(i(a).css("display","none"),i(l).css("display","inline-block"))},!1):a.attachEvent&&a.attachEvent("onblur",function(){var e=i(a).val();"number"==typeof r.callName&&e&&(e=Number(e)),e===r.callName?(i(a).css("display","none"),i(l).css("display","inline-block")):r.callName||e||(i(a).css("display","none"),i(l).css("display","inline-block"))}))},updateCallName:function(e){var n=this,a=i(this.$("input-callName"+e)).val().trim();""===a?n.app.message.alert("请输入班务人员称呼!"):n.module.dispatch("changeCallName",{id:e,callName:a}).then(function(){n.module.dispatch("refreshList")})},showMembers:function(){var e=this,n=e.module.items["train/trainee/select-member"];e.module.dispatch("getMemberIds").then(function(a){e.app.viewport.modal(n,{memberIds:a[0],callback:function(n){var a=e.bindings.state.data,t={};e.app.viewport.closeModal(),n&&(t.classId=a.classId,t.memberIds=n,e.module.dispatch("addAllClassstaff",t).then(function(n){n[0]?0===n[0][0]?e.app.message.error("添加失败,班务人员数量已满"):(0===n[0][1]?e.app.message.success("添加成功!"):e.app.message.error("添加成功"+n[0][0]+"条，失败"+n[0][1]+"条，班务人员数量已满"),e.module.dispatch("refreshList")):e.app.message.error("添加失败!")}))}})})}},
a.dataForActions={addClassstaff:function(){var e=i(this.$("add-classstaff-input")).val().trim(),n=this.bindings.state.data,a=this.bindings.classstaffs.data;return""===e?(this.app.message.alert("请选择一个要添加的常用班务人员!"),!1):a.length>=10?(this.app.message.alert("班务人员数量已满!"),!1):{classId:n.classId,memberId:e}},delete:function(e){var n=this,a={id:e.id,delete:1};return this.Promise.create(function(e){n.app.message.confirm("是否确定删除该班务人员?",function(){e(a)},function(){e(!1)})})}},a.actionCallbacks={addClassstaff:function(e){1===e[0]?(this.app.message.success("添加成功!"),this.module.dispatch("refreshList")):-1===e[0]?this.app.message.error("人员编号有误!"):999===e[0]?this.app.message.error("班务人员已存在!"):10===e[0]?this.app.message.error("班务人员数量已满!"):1111===e[0]&&this.app.message.error("该员工已被禁用")},delete:function(e){var n=this.bindings.state.data;e[0]?this.app.message.success("删除成功!"):this.app.message.error("删除失败!"),this.module.dispatch("init",n)}},a.dataForTemplate={classstaffs:function(e){var n=e.classstaffs,a=this.bindings.classstaffs.getPageInfo().page,i=this.bindings.state.data;return t.map(n||[],function(e,n){var t=e;t.i=n+1+10*(a-1),t.isGrant=4!==i.role,t.member.fullNames=t.member.fullName,t.member.names=t.member.name,t.companyNames=t.companyName,t.organizationNames=t.organizationName,t.callNames=t.callName,t.member.emails=t.member.email,t.organizationLevel&&t.organizationLevel<=3&&!t.companyName&&(t.companyName=t.organizationName),t.member.fullName&&t.member.fullName.length>6&&(t.member.fullName=t.member.fullName.substring(0,5)+"..."),t.member.name&&t.member.name.length>6&&(t.member.name=t.member.name.substring(0,5)+"..."),t.companyName&&t.companyName.length>6&&(t.companyName=t.companyName.substring(0,5)+"..."),t.organizationName&&t.organizationName.length>6&&(t.organizationName=t.organizationName.substring(0,5)+"..."),t.callName&&t.callName.length>6&&(t.callName=t.callName.substring(0,5)+"..."),t.member.email&&t.member.email.length>10&&(t.member.email=t.member.email.substring(0,9)+"...")}),n},pageCount:function(){return this.bindings.classstaffs.getPageInfo().pageCount},isGrant:function(){return 4!==this.bindings.state.data.role}},a.mixin={onBlur:function(e,n,a,t,l,s){e.addEventListener?e.addEventListener("blur",function(){var r=i(e).val();"number"==typeof l&&r&&(r=Number(r)),l===r?(i(s).css("display","none"),i(n).css("display","inline-block"),i(a).css("display","inline-block"),i(t).css("display","inline-block")):r||l||(i(s).css("display","none"),i(n).css("display","inline-block"),i(a).css("display","inline-block"),i(t).css("display","inline-block"))},!1):e.attachEvent&&e.attachEvent("onblur",function(){var r=i(e).val();"number"==typeof l&&r&&(r=Number(r)),r===l?(i(s).css("display","none"),i(n).css("display","inline-block"),i(a).css("display","inline-block"),i(t).css("display","inline-block")):l||r||(i(s).css("display","none"),i(n).css("display","inline-block"),i(a).css("display","inline-block"),i(t).css("display","inline-block"))})}}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/trainee/formal-trainee/group-manage/index",function(e,n,a){var t=e("lodash/collection");a.title="分组管理",a.items={content:"content",toolbox:"toolbox",list:"list"},a.large=!0,a.store={models:{state:{data:{index:0}},fmTrainees:{url:"../train/trainee/group-trainees"},waitTrainees:{url:"../train/trainee/wait-group-trainees",type:"pageable",root:"items"},saveGroupManage:{url:"../train/trainee/save-group-manage"},updateTraineeGroup:{url:"../train/trainee/update-group"}},callbacks:{init:function(e){var n=this.models.fmTrainees,a=this.models.state.data;return a.auditStatus=e.auditStatus,a.groupId=e.groupId,a.classId=e.classId,n.clear(),n.params=a,this.get(n)},wait:function(e){var n=this.models.waitTrainees,a={};return a.classId=e.classId,a.auditStatus=e.auditStatus,a.groupId=e.groupId,n.clear(),n.params=a,this.get(n)},search:function(e){var n=this.models.waitTrainees;return n.clear(),n.params=e,this.get(n)},delFm:function(e){var n=this.models.updateTraineeGroup;return n.clear(),n.params={id:e.id,groupId:"0"},this.get(n)},save:function(e){var n=this.models.saveGroupManage;return n.clear(),n.set(e),this.post(n)},searchKey:function(e){var n=this.models.waitTrainees;return n.clear(),n.params=e,this.get(n)}}},a.beforeRender=function(){this.dispatch("init",this.renderOptions.state),this.dispatch("wait",this.renderOptions.state)},a.buttons=[{text:"保存",fn:function(){var e=this,n=e.store.models.fmTrainees.data,a=e.store.models.state.data,i=[];t.map(n,function(e){i.push(e.id)}),e.dispatch("save",{classId:a.classId,groupId:a.groupId,ids:i.join(","),fmTrainees:JSON.stringify(n)}).then(function(n){n&&(e.app.message.success("保存成功!"),e.renderOptions.callback(n[0]))})}}]},{"lodash/collection":!1}),loadjs.d("./app/train/trainee/formal-trainee/group-manage/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="groupmanage-page">\n    <div class="groupmanage">\n        <div class="page-main-wrapper">\n            <div class="page-side" data-region="list"></div>\n            <div class="page-main">\n                <div data-region="toolbox"></div>\n                <div data-region="content"></div>\n            </div>\n        </div>\n    </div>\n</div>'},3:function(e,n,a,t,i){return'    <div id="searchKey" class="filter-row train-small">\n        <div class="filter-item">\n            <label>员工编号</label>\n            <input class="input" name="memberName"/>\n        </div>\n        <div class="filter-item">\n            <label>所属单位</label>\n            <input class="input" name="organizationName"/>\n        </div>\n        <div class="filter-item">\n            <label>姓名</label>\n            <input class="input" name="memberFullName"/>\n        </div>\n        <btn id="search" class="btn small">查询</btn>\n    </div>\n'},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="layout-mt-small">\n        <table class="table text-center train border around">\n            <thead><tr>\n                <th><input '+(null!=(l=a.if.call(s,null!=(l=null!=n?n.waitTrainees:n)?l.checkStatus:l,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="checkAll"/></th>\n                <th>姓名</th>\n                <th>员工编号</th>\n                <th>所属部门</th>\n                <th>性别</th>\n            </tr></thead>\n            <tbody>'+(null!=(l=a.each.call(s,null!=n?n.waitTrainees:n,{name:"each",hash:{},fn:e.program(8,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n        <div id="pager" class="pagination" style="float:none"></div>\n    </div>\n'},6:function(e,n,a,t,i){return' checked="checked"'},8:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return"<tr>\n                <td><input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="check-item'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" name="trainee-id" value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"/></td>\n                <td>'+d(c(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                <td>"+d(c(null!=(l=null!=n?n.member:n)?l.name:l,n))+"</td>\n                <td>"+d((s=null!=(s=a.organizationName||(null!=n?n.organizationName:n))?s:o,"function"==typeof s?s.call(r,{name:"organizationName",hash:{},data:i}):s))+"</td>\n                <td>"+d((a.map||n&&n.map||o).call(r,"trainee-sex",null!=n?n.sex:n,{name:"map",hash:{},data:i}))+"\n"},10:function(e,n,a,t,i){return'                    <tr><td colspan="5"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr></td>\n            </tr>\n            '},12:function(e,n,a,t,i){var l;return'    <table class="table text-center train border around">\n        <thead><tr>\n            <th>已选学员</th>\n            <th>员工编号</th>\n            <th>操作</th>\n        </tr></thead>\n        <tbody>\n            '+(null!=(l=a.each.call(null!=n?n:{},null!=n?n.fmTrainees:n,{name:"each",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+"\n        </tbody>\n    </table>\n"},13:function(e,n,a,t,i){var l,s,r=e.lambda,o=e.escapeExpression,d=null!=n?n:{},c=a.helperMissing,u="function";return"<tr>\n                <td>"+o(r(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</td>\n                <td>"+o(r(null!=(l=null!=n?n.member:n)?l.name:l,n))+'</td>\n                <td>\n                    <i class="pointer m-right iconfont icon-arrow-up-solid custom-color-2" id="move-up-'+o((s=null!=(s=a.id||(null!=n?n.id:n))?s:c,typeof s===u?s.call(d,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+o((s=null!=(s=a.id||(null!=n?n.id:n))?s:c,typeof s===u?s.call(d,{name:"id",hash:{},data:i}):s))+'" title="上移"></i>\n                    <i class="pointer m-right iconfont icon-arrow-down-solid custom-color-2" id="move-down-'+o((s=null!=(s=a.id||(null!=n?n.id:n))?s:c,typeof s===u?s.call(d,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+o((s=null!=(s=a.id||(null!=n?n.id:n))?s:c,typeof s===u?s.call(d,{name:"id",hash:{},data:i}):s))+'" title="下移"></i>\n                    <i class="pointer iconfont icon-delete-solid custom-color-3" id="del-trainee'+o((s=null!=(s=a.id||(null!=n?n.id:n))?s:c,typeof s===u?s.call(d,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+o((s=null!=(s=a.id||(null!=n?n.id:n))?s:c,typeof s===u?s.call(d,{name:"id",hash:{},data:i}):s))+'"></i>\n                </td>\n            </tr>\n'},15:function(e,n,a,t,i){return'                <tr><td colspan="3"><div class="text-center">\n                    <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                    <p>暂无内容</p>\n                </div>\n                </td></tr>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"toolbox",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"list",{name:"view",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/trainee/formal-trainee/group-manage/view-content",function(e,n,a){var t=e("lodash/collection");a.bindings={waitTrainees:!0,fmTrainees:!0,state:!0},a.events={"click checkAll":"checkAll","click check-item*":"checkItem"},a.handlers={checkAll:function(e,n){var a=this.bindings.waitTrainees.data,i=this.bindings.fmTrainees.data,l=[],s=this.bindings.state.data;t.map(this.$$('input[name="trainee-id"]'),function(e){var a=e||{},t=a.value;a.checked=n.checked,l.push(t)}),n.checked?t.map(a,function(e){var n={},a={};s.index++,t.find(i,["id",e.id])||(n.id=e.id,n.sort=e.sort,n.sortForGroup=s.index,n.organizationName=e.organizationName,n.organizationOrder=e.organizationOrder,a.fullName=e.member.fullName,a.name=e.member.name,a.sex=e.member.sex,n.member=a,i.push(n))}):i=t.filter(i,function(e){return-1===l.indexOf(e.id)}),i=t.sortBy(i,["sortForGroup","organizationOrder"]),this.bindings.fmTrainees.data=i,this.bindings.fmTrainees.changed()},checkItem:function(e,n,a){var i=this.bindings.fmTrainees.data,l=this.bindings.waitTrainees.data,s={},r=0,o=this.$$('input[name="trainee-id"]').length===this.$$('input[name="trainee-id"]:checked').length,d=this.bindings.state.data;if(this.$("checkAll").checked=o,a.checked)s=t.find(l,["id",e])||{},d.index++,i.push({id:s.id,sort:s.sort,sortForGroup:d.index,organizationName:s.organizationName,organizationOrder:s.organizationOrder,member:{fullName:s.member.fullName,name:s.member.name,sex:s.member.sex}});else for(r;r<i.length;r++)if(i[r].id===e){i.splice(r,1);break}this.bindings.fmTrainees.data=t.sortBy(i,["sortForGroup","organizationOrder"]),this.bindings.fmTrainees.changed()}},a.actions={},a.components=[{id:"pager",name:"pager",options:{model:"waitTrainees"}}],a.dataForTemplate={waitTrainees:function(e){var n=e.waitTrainees,a=this.bindings.fmTrainees.data,i=[],l=0;return t.map(a,function(e){i.push(e.id)}),t.map(n||[],function(e){var n=e||{};-1!==i.indexOf(n.id)&&(n.checked=!0,l++)}),n.checkStatus=!1,n&&n.length>0&&l===n.length&&(n.checkStatus=!0),n}}},{"lodash/collection":!1}),loadjs.d("./app/train/trainee/formal-trainee/group-manage/view-list",function(e,n,a){var t=e("lodash/collection");a.bindings={fmTrainees:!0,waitTrainees:!0,state:!1},a.events={"click del-trainee*":"delFm","click move-up-*":"moveUp","click move-down-*":"moveDown"},a.handlers={delFm:function(e){var n=this.bindings.fmTrainees.data;n=t.filter(n,function(n){return n.id!==e}),this.bindings.fmTrainees.data=n,this.bindings.fmTrainees.changed(),this.bindings.waitTrainees.changed()},moveUp:function(e){var n,a,t,i=this.bindings.fmTrainees.data;(a=i.findIndex(function(n){return n.id===e}))<=0||(n=i[a],t=i[a-1].sortForGroup,i[a]=i[a-1],i[a].sortForGroup=n.sortForGroup,i[a-1]=n,i[a-1].sortForGroup=t,this.bindings.fmTrainees.changed())},moveDown:function(e){var n,a,t,i=this.bindings.fmTrainees.data;(a=i.findIndex(function(n){return n.id===e}))>=i.length-1||(n=i[a],t=i[a+1].sortForGroup,i[a]=i[a+1],i[a].sortForGroup=n.sortForGroup,i[a+1]=n,i[a+1].sortForGroup=t,this.bindings.fmTrainees.changed())}}},{"lodash/collection":!1}),loadjs.d("./app/train/trainee/formal-trainee/group-manage/view-toolbox",function(e,n,a){var t=e("jquery");a.bindings={state:!1},a.actions={"click search":"search","keypress searchKey":"searchKey"},a.dataForActions={search:function(){var e=this.bindings.state.data;return{classId:e.classId,auditStatus:e.auditStatus,groupId:e.groupId,memberName:t(this.$$('[name="memberName"]')).val().trim(),memberFullName:t(this.$$('[name="memberFullName"]')).val().trim(),organizationName:t(this.$$('[name="organizationName"]')).val().trim()}},searchKey:function(e){var n=this.bindings.state.data,a=n.classId,i=n.auditStatus,l=n.groupId;return 13===(e.keyCode||e.which||e.charCode)&&{classId:a,auditStatus:i,groupId:l,memberName:t(this.$$('[name="memberName"]')).val().trim(),memberFullName:t(this.$$('[name="memberFullName"]')).val().trim(),organizationName:t(this.$$('[name="organizationName"]')).val().trim()}}}},{jquery:!1}),loadjs.d("./app/train/trainee/formal-trainee/import-data/index",function(e,n,a){a.items={main:"main",file:""},a.title="导入成员",a.store={models:{file:{url:"../train/trainee-import/import-trainee"},courseTemplate:{url:"../train/trainee-import/download-excel"},state:{},download:{url:"../file-deal/file/download"}},callbacks:{init:function(e){var n=this.models.file;return n.clear(),n.options.url="../train/trainee-import/import-trainee/"+e.classId,this.models.file},importData:function(e){var n=this;return this.models.state.set(e),e.length>0?(n.models.state.changed(),n.app.message.error("导入存在错误数据"),!1):e}}},a.beforeRender=function(){return this.dispatch("init",{classId:this.renderOptions.classId})}},{}),loadjs.d("./app/train/trainee/formal-trainee/index",function(e,n,a){var t=e("drizzle-zxy"),i=e("lodash/collection");a.items={main:"main",search:"search",situation:"",import:"",group:"",groupTrainees:"",detail:"","train/trainee/select-member":{isModule:!0},"train/trainee/formal-trainee/group-manage":{isModule:!0},"train/trainee/formal-trainee/import-data":{isModule:!0},"train/trainee/formal-trainee/select-organization":{isModule:!0}},a.store={models:{fmtrainees:{url:"../train/trainee/trainees",type:"pageable",root:"items"},groupTrainees:{url:"../train/trainee/trainees",type:"pageable",root:"items"},selectOrganization:{url:"../train/trainee/select-organization"},addTrainee:{url:"../train/trainee/add-trainee"},memberIds:{url:"../train/trainee/members"},addTrainees:{url:"../train/trainee/add-trainees"},traineeSort:{url:"../train/trainee/update-sort"},fmtrainee:{url:"../train/trainee"},situation:{url:"../train/class-quota/situation"},orgListAll:{url:"../train/group-configuration-value/all"},download:{url:"../train/trainee/download"},dowloadExcel:{url:"../train/trainee/download-excel"},uploadExcel:{url:"../train/trainee/import-trainee"},group:{url:"../train/trainee-group"},groupModel:{url:"../train/trainee-group"},updateTraineeGroup:{url:"../train/trainee/update-group"},exportGroupTrainee:{url:"../train/trainee/export-group-trainee"},nations:{url:"../human/member-config/list",autoLoad:"after",params:{key:2}},levels:{url:"../human/member-config/list",autoLoad:"after",params:{key:8}},updateFmtrainee:{url:"../train/trainee/update"},detail:{data:{}},delGroups:{data:[]},state:{data:{auditStatus:1}},classInfo:{url:"../train/class-info/single"},deleteResearchRecord:{url:"../exam/research-record/delete-by-member"},deleteExamRecord:{url:"../exam/exam/remove-relative-data"},countSettlement:{url:"../train/settlement/find-count"},findExamRecord:{url:"../train/class-evaluate/find-exam-record"},deleteReply:{url:"../system/comment/del-reply-business"}},callbacks:{init:function(e){var n=this.models.fmtrainees,a=this.models.state.data,t=this.models.orgListAll,i={},l=this.models.classInfo;return a.classId=e.classId,i.classId=a.classId,i.auditStatus=a.auditStatus,n.clear(),n.params=i,l.set({id:a.id}),this.get(l),this.get(t),this.get(n,{loading:!0})},search:function(e){var n=this.models.fmtrainees;return n.clear(),n.params=e,this.get(n)},updateSort:function(e){var n=this.models.traineeSort,a={};return n.clear(),a=e,a.classId=this.models.state.data.classId,n.set(a),this.save(n)},delete:function(e){var n=this.models.fmtrainee,a={},t=this.models.state.data.classId,l=this.models.deleteResearchRecord,s=i.find(this.models.fmtrainees.data,["id",e.id]).memberId,r=i.find(this.models.fmtrainees.data,["id",e.id]).member.fullName,o=this.models.deleteExamRecord,d=this;return n.clear(),l.clear(),o.clear(),a.classId=t,a.id=e.id,e.examIds&&(o.set({memberId:s,examIds:e.examIds}),this.post(o)),e.researchIds&&(l.set({memberId:s,businessId:t}),this.post(l)),a.name=r,a.className=this.module.renderOptions.state.name,a.type=0,n.set(a),this.post(n).then(function(){d.app.message.success("删除成功"),d.module.dispatch("refreshList")})},addTrainee:function(e){var n=this.models.addTrainee;return n.clear(),n.set(e),this.save(n)},selectOrganization:function(e){var n=this.models.selectOrganization;return n.clear(),n.set(e),this.save(n)},addTrainees:function(e){var n=this.models.addTrainees;return n.clear(),n.set(e),this.save(n)},situation:function(){var e=this.models.state.data.classId,n=this.models.situation;return n.clear(),n.params={classId:e},this.get(n)},group:function(){var e=this.models.state.data.classId,n=this.models.group;return n.clear(),n.params={classId:e},this.get(n)},addGroup:function(e){var n,a=this.models.group.data,t=this.models.state,i={};n=t.data.index||a.length,n++,i.id="new-"+n,i.classId=t.data.classId,i.name=e.name,i.traineeNumber=0,i.sort=n,i.deleteFlag=0,a.push(i),this.models.group.changed(),t.data.index=n,t.changed()},delGroup:function(e){var n,a=this.models.group.data,t=this.models.delGroups.data,i={};n=a.findIndex(function(n){return n.id===e}),a.splice(n,1),this.models.group.changed(),i.id=e,t.push(i)},moveUp:function(e){var n,a,t,i=this.models.group.data;(a=i.findIndex(function(n){return n.id===e}))<=0||(n=i[a],t=i[a-1].sort,i[a]=i[a-1],i[a].sort=n.sort,i[a-1]=n,i[a-1].sort=t,this.models.group.changed())},moveDown:function(e){var n,a,t,i=this.models.group.data;(a=i.findIndex(function(n){return n.id===e}))>=i.length-1||(n=i[a],t=i[a+1].sort,i[a]=i[a+1],i[a].sort=n.sort,i[a+1]=n,i[a+1].sort=t,this.models.group.changed())},changeName:function(e){var n,a,t=this.models.group.data;a=t.findIndex(function(n){return n.id===e.id}),n=t[a],n.name=e.name,this.models.group.changed()},saveGroup:function(){var e=this.models.group,n=this.models.state.data,a=this.models.delGroups,l=this.models.groupModel,s=this;return l.clear(),i.map(e.data||[],function(e,n){e.sort=n+1}),t.assign(s.models.groupModel.data,{newGroups:JSON.stringify(e.data),delGroups:JSON.stringify(a.data),classId:n.classId}),s.save(s.models.groupModel)},groupTrainees:function(){var e=this.models.groupTrainees,n=this.models.state.data;return e.clear(),e.params=n,this.get(e)},deleteTraineeGroup:function(e){var n=this.models.updateTraineeGroup;return n.clear(),n.params={id:e.id},this.get(n)},getMemberIds:function(){var e=this.models.memberIds,n=this.models.state.data;return e.clear(),e.params={classId:n.classId,type:0},this.get(e)},updateFmtrainee:function(e){var n=this.models.updateFmtrainee;return n.clear(),n.set(e),this.put(n)},refreshList:function(){var e=this.models.fmtrainees;this.get(e)},countSettlement:function(e){var n=e.classId,a=this.models.countSettlement;return a.clear(),a.params={classId:n},this.get(a)},findExamRecord:function(e){var n=i.find(this.models.fmtrainees.data,["id",e]).memberId,a=this.models.state.data.classId,t=this.models.findExamRecord;return t.clear(),t.params={memberId:n,classId:a},this.get(t)}}},a.beforeRender=function(){var e=this.store.models.state;return e.data.role=this.renderOptions.state.role,e.data.id=this.renderOptions.state.id,e.changed(),this.chain([this.dispatch("init",{classId:this.renderOptions.state.classId}),this.dispatch("countSettlement",{classId:this.renderOptions.state.classId})])}},{"drizzle-zxy":!1,"lodash/collection":!1}),loadjs.d("./app/train/trainee/formal-trainee/select-organization/index",function(e,n,a){a.items={main:"main"},a.small=!0,a.title="添加学员",a.store={models:{addTrainee:{url:"../train/trainee/add-trainee"},selectOrganization:{url:"../train/trainee/select-organization"},organizations:{data:[]}},callbacks:{init:function(){var e=this.models.selectOrganization,n=this.models.organizations,a=this.module.renderOptions.dataOrg;return e.clear(),e.set(a.data),n.data=a.data,this.save(e)}}},a.beforeRender=function(){this.dispatch("init")}},{}),loadjs.d("./app/train/trainee/formal-trainee/select-organization/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="title">\n        <span></span>\n        <div class="div" data-region="main"></div>\n    </div>\n'},3:function(e,n,a,t,i){var l;return'<form class="vertical">\n    <div class="addstu text-center">\n        <div class="item addstu-top">请选择组织</div>\n'+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isArray:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n</form>"},4:function(e,n,a,t,i){var l;return null!=(l=a.each.call(null!=n?n:{},null!=n?n.selectOrganization:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:""},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                <div class="item border around layout-mt-small">\n                    <a class="decoration-none" id="ddd-'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" memberId="'+o((l=null!=(l=a.memberId||(null!=n?n.memberId:n))?l:r,"function"==typeof l?l.call(s,{name:"memberId",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+"</a>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/trainee/formal-trainee/select-organization/view-main",function(e,n,a){a.title="选择勾选组织",a.bindings={selectOrganization:!0,organizations:!1},a.events={"click ddd-*":"orgName"},a.handlers={orgName:function(e,n,a){var t=this.bindings.organizations.data,i=a.getAttribute("memberId");t.memberId=i,this.module.renderOptions.callback({organizations:t}),this.app.viewport.closeModal()}},a.dataForTemplate={selectOrganization:function(e){return e.selectOrganization},isArray:function(e){return e.selectOrganization instanceof Array}}},{}),loadjs.d("./app/train/trainee/formal-trainee/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="membership-search layout-mt-small" data-region="search"></div>\n    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){return'<form class="vertical">\n    <div class="filter-row train-small half-border">\n        <div class="filter-item">\n            <leabel>员工编号</leabel>\n            <input class="input" name="memberName"/>\n        </div>\n        <div class="filter-item">\n            <leabel>姓名</leabel>\n            <input class="input" name="memberFullName"/>\n        </div>\n        <div class="filter-item">\n            <label>所属单位</label>\n            <input class="input" name="organizationName"/>\n        </div>\n        <div class="filter-item">\n            <label>报道情况</label>\n            <select name="register">\n                <option value="">全部</option>\n                <option value="1">已报到 </option>\n                <option value="0">未报到</option>\n            </select>\n        </div>\n        <div class="filter-item">\n            <button id="search" class="btn">查询</button>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="membership-table layout-mt-small clearfix">\n        <div class="h4 pull-left strong m-left">学员列表</div>\n        <div class="pull-right m-right">\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:"")+'        </div>\n        <table class="table layout-mt-small text-center train border around margin-none">\n            <thead><tr>\n                <th>序号</th>\n                <th>姓名</th>\n                <th>性别</th>\n                <th>民族</th>\n                <th>单位</th>\n                <th>部门</th>\n                <th>职务</th>\n                <th>报道情况</th>\n                <th>手机</th>\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"            </tr></thead>\n            <tbody>\n                "+(null!=(l=a.each.call(s,null!=n?n.fmtrainees:n,{name:"each",hash:{},fn:e.program(12,i,0),inverse:e.program(23,i,0),data:i}))?l:"")+"\n            </tbody>\n        </table>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=n?n.pageCount:n,"gt",1,{name:"compare",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))?l:"")+"    </div>\n"},6:function(e,n,a,t,i){var l;return'                <label class="pull-left m-right tag-height">员工编号</label>\n                <input class="input pull-left tag-height" id="add-trainee-input"/>\n                <div id="addTrainee" class="small-btn pull-left m-right">添加</div>\n                <div id="addAllTrainee" class="small-btn pull-left m-right">人员选择</div>\n                <div id="group" class="small-btn pull-left m-right">学员分组</div>\n                <div id="situation" class="small-btn pull-left m-right">报名情况</div>\n                <div id="importTrainee" class="small-btn pull-left m-right">导入</div>\n                <a class="small-btn pull-left" href="'+e.escapeExpression((l=null!=(l=a.exportUrl||(null!=n?n.exportUrl:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"exportUrl",hash:{},data:i}):l))+'" target="_blank">导出</a>\n'},8:function(e,n,a,t,i){return'                <div id="group" class="small-btn pull-left m-right">学员分组</div>\n                <div id="situation" class="small-btn pull-left m-right">查看分布</div>\n'},10:function(e,n,a,t,i){return"                    <th>操作</th>\n"},12:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression;return'<tr>\n                    <td class="w-5">'+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i}))?l:"")+'                    <td class="w-5">'+c((a.map||n&&n.map||o).call(r,"trainee-sex",null!=n?n.sex:n,{name:"map",hash:{},data:i}))+'</td>\n                    <td class="w-6" title="'+c((s=null!=(s=a.nationNames||(null!=n?n.nationNames:n))?s:o,typeof s===d?s.call(r,{name:"nationNames",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.nationName||(null!=n?n.nationName:n))?s:o,typeof s===d?s.call(r,{name:"nationName",hash:{},data:i}):s))+'</td>\n                    <td class="w-18" title="'+c((s=null!=(s=a.companyNames||(null!=n?n.companyNames:n))?s:o,typeof s===d?s.call(r,{name:"companyNames",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.companyName||(null!=n?n.companyName:n))?s:o,typeof s===d?s.call(r,{name:"companyName",hash:{},data:i}):s))+'</td>\n                    <td class="w-14" title="'+c((s=null!=(s=a.organizationNames||(null!=n?n.organizationNames:n))?s:o,typeof s===d?s.call(r,{name:"organizationNames",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.organizationName||(null!=n?n.organizationName:n))?s:o,typeof s===d?s.call(r,{name:"organizationName",hash:{},data:i}):s))+"</td>\n"+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=(l=null!=n?n.member:n)?l.jobName:l,"eq","-",{name:"compare",hash:{},fn:e.program(17,i,0),inverse:e.program(19,i,0),data:i}))?l:"")+'                    <td class="train-width">'+c((a.map||n&&n.map||o).call(r,"reporting-situation",null!=n?n.register:n,{name:"map",hash:{},data:i}))+'</td>\n                    <td class="train-width">'+c((s=null!=(s=a.phoneNumber||(null!=n?n.phoneNumber:n))?s:o,typeof s===d?s.call(r,{name:"phoneNumber",hash:{},data:i}):s))+"</td>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))?l:"")+"                </tr>\n"},13:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return'                        <td><a id="detail'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" title="'+d(c(null!=(l=null!=n?n.member:n)?l.fullNames:l,n))+'">'+d(c(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</a></td>\n"},15:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                        <td><a title="'+r(s(null!=(l=null!=n?n.member:n)?l.fullNames:l,n))+'">'+r(s(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</a></td>\n"},17:function(e,n,a,t,i){var l;return'                        <td class="w-14">'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.member:n)?l.jobName:l,n))+"</td>\n"},19:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                        <td class="w-14" title="'+r(s(null!=(l=null!=n?n.member:n)?l.jobNames:l,n))+'">'+r(s(null!=(l=null!=n?n.member:n)?l.jobName:l,n))+"</td>\n"},21:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                        <td class="w-8">\n                            <a id="sort'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,
typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="javascript:;">排序</a>\n                            <div class="relative" style="display:none;" id="block'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">\n                                <input class="input date w-full tag-height" id="input-sort'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" value="'+d((l=null!=(l=a.sort||(null!=n?n.sort:n))?l:r,typeof l===o?l.call(s,{name:"sort",hash:{},data:i}):l))+'"/>\n                                <i class="iconfont text-main-color pointer" id="to-sort'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">Go</i>\n                            </div>\n                            <span class="text-main-color" id="shuxian'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">|</span>\n                            <a id="delete'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="javascript:;">删除</a>\n                        </td>\n'},23:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.program(26,i,0),data:i}))?l:""},24:function(e,n,a,t,i){return'                        <tr><td colspan="10"><div class="text-center">\n                            <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                            <p>暂无内容</p>\n                        </div>\n                        </td></tr>\n'},26:function(e,n,a,t,i){return'                        <tr><td colspan="9"><div class="text-center">\n                            <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                            <div>暂无内容</div>\n                        </div>\n                        </td></tr>\n                    '},28:function(e,n,a,t,i){return'            <div id="pager" class="pagination" style="margin:1em;"></div>\n'},30:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'<div class="entersituation-page entersituation">\n    <section>\n        <div class="layout-mt-small">\n            <span class="m-right">培训班审批情况:</span>\n            <span class="custom-color-3">'+r(s(null!=(l=null!=n?n.situation:n)?l.signUpNumber:l,n))+"/"+r(s(null!=(l=null!=n?n.situation:n)?l.amount:l,n))+" 人</span>\n        </div>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.situation:n)?l.type:l,"eq",2,{name:"compare",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))?l:"")+"    </section>\n</div>"},31:function(e,n,a,t,i){var l;return'            <div class="layout-mt-small">\n                <table class="table text-center train border around">\n                    <thead><tr>\n                        <th>序号</th>\n                        <th>单位/部门</th>\n                        <th>已报名人数/本省名额</th>\n                    </tr></thead>\n                    <tbody>\n                        '+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.situation:n)?l.classQuotaDetails:l,{name:"each",hash:{},fn:e.program(32,i,0),inverse:e.program(34,i,0),data:i}))?l:"")+"\n                    </tbody>\n                </table>\n            </div>\n"},32:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"<tr>\n                            <td>"+o((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,"function"==typeof l?l.call(s,{name:"i",hash:{},data:i}):l))+"</td>\n                            <td>"+o((l=null!=(l=a.shortName||(null!=n?n.shortName:n))?l:r,"function"==typeof l?l.call(s,{name:"shortName",hash:{},data:i}):l))+"</td>\n                            <td>"+o((l=null!=(l=a.signUpNumber||(null!=n?n.signUpNumber:n))?l:r,"function"==typeof l?l.call(s,{name:"signUpNumber",hash:{},data:i}):l))+"/"+o((l=null!=(l=a.quantity||(null!=n?n.quantity:n))?l:r,"function"==typeof l?l.call(s,{name:"quantity",hash:{},data:i}):l))+" 人</td>\n                        </tr>\n"},34:function(e,n,a,t,i){return'                            <tr><td colspan="8"><div class="text-center">\n                                <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                                <p>暂无内容</p>\n                            </div>\n                            </td></tr>'},36:function(e,n,a,t,i){var l;return'    <div><form method="post" id="import-form">\n        <input type="hidden" id="importType" name="importType" value="1"/>\n        <input type="hidden" id="access_token" name="access_token"/>\n    </form></div>\n    <div><h4>第一步：<a id="download-Excel-1" href="javascript:;">下载模板</a></h4></div>\n    <div><h4>第二步：导入更新模板</h4></div>\n    <div><div id="uploadExcel">导入模板</div></div>\n    '+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.errors:n,{name:"if",hash:{},fn:e.program(37,i,0),inverse:e.noop,data:i}))?l:"")+"\n    <div><ul>\n        <li>1.下载标准模板，按示例格式和示例说明填写需要导入的电子表格文件。</li>\n        <li>2.导入模板，导入成功后，页面会提示成功数量，失败数量，并显示相关信息。</li>\n        <li>3.如有失败记录，删掉电子表格里已经成功的记录，然后修正失败的记录，再次上传导入。</li>\n    </ul></div>\n"},37:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return"<div>\n        <h4>共导入成功"+r(s(null!=(l=null!=(l=null!=n?n.uploadExcel:n)?l.imgs:l)?l.successCount:l,n))+"条数据，失败"+r(s(null!=(l=null!=(l=null!=n?n.uploadExcel:n)?l.imgs:l)?l.failCount:l,n))+'条数据  <div id="download-Excel-0" class="btn">下载失败记录</div></h4>\n    </div>'},39:function(e,n,a,t,i){var l,s=null!=n?n:{};return'<div class="studentgroup-page studentgroup">\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(40,i,0),inverse:e.noop,data:i}))?l:"")+'    <table class="table text-center train border around">\n        <thead><tr>\n            <th>序号</th>\n            <th>分组名称</th>\n            <th>学员人数</th>\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(42,i,0),inverse:e.noop,data:i}))?l:"")+"        </tr></thead>\n        <tbody>\n            "+(null!=(l=a.each.call(s,null!=n?n.group:n,{name:"each",hash:{},fn:e.program(44,i,0),inverse:e.program(55,i,0),data:i}))?l:"")+"\n        </tbody>\n    </table>\n</div>"},40:function(e,n,a,t,i){return'        <div class="form"><div class="form-row row-block w-half">\n            <div class="content">\n                <input class="input tag-height" id="add-group-input" x-rule="maxLength:20" maxlength="20" placeholder="请输入分组名称"/>\n                <div id="addGroup" class="btn choice">添加分组</div>\n            </div>\n        </div></div>\n'},42:function(e,n,a,t,i){return"                <th>排序</th>\n                <th>操作</th>\n"},44:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"<tr>\n                <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                <td>\n"+(null!=(l=a.if.call(r,null!=n?n.name:n,{name:"if",hash:{},fn:e.program(45,i,0),inverse:e.program(47,i,0),data:i}))?l:"")+'                    <input class="input" id="input-group-name'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" x-rule="maxLength:20" maxlength="20" value="'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'" style="display:none;" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                </td>\n                <td>\n'+(null!=(l=(a.compare||n&&n.compare||o).call(r,null!=n?n.traineeNumber:n,"eq",0,{name:"compare",hash:{},fn:e.program(49,i,0),inverse:e.program(51,i,0),data:i}))?l:"")+"                </td>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(53,i,0),inverse:e.noop,data:i}))?l:"")+"            </tr>\n"},45:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <label class="sub-title pointer" id="label-group-name'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">'+o((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,"function"==typeof l?l.call(s,{name:"name",hash:{},data:i}):l))+"</label>\n"},47:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <label class="sub-title pointer" id="label-group-name'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>\n'},49:function(e,n,a,t,i){return"                        -\n"},51:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <a id="group-trainee'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="javascript:;">'+o((l=null!=(l=a.traineeNumber||(null!=n?n.traineeNumber:n))?l:r,"function"==typeof l?l.call(s,{name:"traineeNumber",hash:{},data:i}):l))+"</a>\n"},53:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                    <td>\n                        <i class="pointer m-right iconfont icon-arrow-up-solid custom-color-2" id="go-up'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="上移"></i>\n                        <i class="pointer iconfont icon-arrow-down-solid custom-color-2" id="go-down'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" title="下移"></i>\n                    </td>\n                    <td>\n                        <a class="text-main-color decoration-none" id="manage'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="javascript:;" group-name="'+d((l=null!=(l=a.name||(null!=n?n.name:n))?l:r,typeof l===o?l.call(s,{name:"name",hash:{},data:i}):l))+'">管理</a>\n                        <span class="text-main-color">|</span>\n                        <a class="text-main-color decoration-none" id="delGroup'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="javascript:;">删除</a>\n                    </td>\n'},55:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(56,i,0),inverse:e.program(58,i,0),data:i}))?l:""},56:function(e,n,a,t,i){return'                    <tr><td colspan="5"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n'},58:function(e,n,a,t,i){return'                    <tr><td colspan="3"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n                '},60:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="membership-table layout-mt-small clearfix">\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(61,i,0),inverse:e.noop,data:i}))?l:"")+'        <table class="table layout-mt-small">\n            <thead><tr>\n                <th>序号</th>\n                <th>姓名</th>\n                <th>员工编号</th>\n                <th>单位</th>\n                <th>部门</th>\n                <th>职务</th>\n                <th>手机</th>\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+"            </tr></thead>\n            <tbody>\n                "+(null!=(l=a.each.call(s,null!=n?n.groupTrainees:n,{name:"each",hash:{},fn:e.program(63,i,0),inverse:e.program(66,i,0),data:i}))?l:"")+'\n            </tbody>\n        </table>\n        <div id="pager" class="pagination" style="float:none"></div>\n    </div>\n'},61:function(e,n,a,t,i){var l;return'            <div class="pull-right">\n                <a class="btn tag-btn pointer" href="'+e.escapeExpression((l=null!=(l=a.exportGroupUrl||(null!=n?n.exportGroupUrl:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"exportGroupUrl",hash:{},data:i}):l))+'" target="_blank">导出</a>\n            </div>\n'},63:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return"<tr>\n                    <td>"+d((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,"function"==typeof s?s.call(r,{name:"i",hash:{},data:i}):s))+'</td>\n                    <td class="td-width">'+d(c(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+'</td>\n                    <td class="td-width">'+d(c(null!=(l=null!=n?n.member:n)?l.name:l,n))+'</td>\n                    <td class="td-width">'+d((s=null!=(s=a.companyName||(null!=n?n.companyName:n))?s:o,"function"==typeof s?s.call(r,{name:"companyName",hash:{},data:i}):s))+'</td>\n                    <td class="td-width">'+d((s=null!=(s=a.organizationName||(null!=n?n.organizationName:n))?s:o,"function"==typeof s?s.call(r,{name:"organizationName",hash:{},data:i}):s))+'</td>\n                    <td class="td-width">'+d(c(null!=(l=null!=n?n.member:n)?l.jobName:l,n))+"</td>\n                    <td>"+d((s=null!=(s=a.phoneNumber||(null!=n?n.phoneNumber:n))?s:o,"function"==typeof s?s.call(r,{name:"phoneNumber",hash:{},data:i}):s))+"</td>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(64,i,0),inverse:e.noop,data:i}))?l:"")+"                </tr>\n"},64:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o="function",d=e.escapeExpression;return'                        <td class="width-stu" style="width: 10em">\n                            <a id="group-trainee-sort'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" href="javascript:;">排序</a>\n                            <div class="relative" style="display:none;" id="block'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">\n                                <input class="input date w-full tag-height" id="group-trainee-input-sort'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" value="'+d((l=null!=(l=a.sortForGroup||(null!=n?n.sortForGroup:n))?l:r,typeof l===o?l.call(s,{name:"sortForGroup",hash:{},data:i}):l))+'"/>\n                                <i class="iconfont text-main-color pointer" id="to-sort'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" style="font-size: 12px;">Go</i>\n                            </div>\n                            <span class="text-main-color" id="groupshuxian'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">|</span>\n                            <a id="group-trainee-delete'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+d((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,typeof l===o?l.call(s,{name:"id",hash:{},data:i}):l))+'">删除</a>\n                        </td>\n'},66:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(67,i,0),inverse:e.program(69,i,0),data:i}))?l:""},67:function(e,n,a,t,i){return'                        <tr><td colspan="8"><div class="text-center">\n                            <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                            <p>暂无内容</p>\n                        </div>\n                        </td></tr>\n'},69:function(e,n,a,t,i){return'                        <tr><td colspan="7"><div class="text-center">\n                            <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                            <p>暂无内容</p>\n                        </div>\n                        </td></tr>\n                    '},71:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'<div class="stuname-page">\n    <div class="stuname">\n        <form class="form">\n            <input class="input" name="id" value="'+r(s(null!=(l=null!=n?n.detail:n)?l.id:l,n))+'" type="hidden"/>\n            <div class="form-row">\n                <label>姓名</label>\n                <div class="content"><input class="input" value="'+r(s(null!=(l=null!=(l=null!=n?n.detail:n)?l.member:l)?l.fullName:l,n))+'" disabled/></div>\n            </div>\n            <div class="form-row">\n                <label>员工编号</label>\n                <div class="content"><input class="input" value="'+r(s(null!=(l=null!=(l=null!=n?n.detail:n)?l.member:l)?l.name:l,n))+'" disabled/></div>\n            </div>\n            <div class="form-row">\n                <label class="required">公司</label>\n                <div class="content"><input class="input" name="newCompany" value="'+r(s(null!=(l=null!=n?n.detail:n)?l.companyName:l,n))+'"/></div>\n            </div>\n            <div class="form-row">\n                <label class="required" style="width:7em;">二级部门/单位</label>\n                <div class="content"><input class="input" name="newOrganization" value="'+r(s(null!=(l=null!=n?n.detail:n)?l.organizationName:l,n))+'"/></div>\n            </div>\n            <div class="form-row">\n                <label class="required">职务</label>\n                <div class="content"><input class="input" name="jobName" value="'+r(s(null!=(l=null!=(l=null!=n?n.detail:n)?l.member:l)?l.jobName:l,n))+'"/></div>\n            </div>\n            \x3c!--  .form-row --\x3e\n            \x3c!--      label.required 职级 --\x3e\n            \x3c!--      .content --\x3e\n            \x3c!--          select.w-full(name=\'levelId\') > each(levels) --\x3e\n            \x3c!--              option(value = id)(\'selected\')&if(selected) > echo(value) --\x3e\n            <div class="form-row">\n                <label class="required">性别</label>\n                <div class="content">\n                    <select class="w-full" name="sex">'+(null!=(l=a.each.call(o,null!=n?n.sexs:n,{name:"each",hash:{},fn:e.program(72,i,0),inverse:e.noop,data:i}))?l:"")+'</select>\n                </div>\n            </div>\n            <div class="form-row">\n                <label class="required">民族</label>\n                <div class="content">\n                    \x3c!--  input.input(name=\'nation\' value=nationName) --\x3e\n                    <select class="w-full" name="nation">'+(null!=(l=a.each.call(o,null!=n?n.nations:n,{name:"each",hash:{},fn:e.program(75,i,0),inverse:e.noop,data:i}))?l:"")+'</select>\n                </div>\n            </div>\n            <div class="form-row">\n                <label class="required">移动电话</label>\n                <div class="content"><input class="input" name="phoneNumber" value="'+r(s(null!=(l=null!=n?n.detail:n)?l.phoneNumber:l,n))+'"/></div>\n            </div>\n            <div class="form-row">\n                <label class="required">邮箱</label>\n                <div class="content"><input class="input" name="email" value="'+r(s(null!=(l=null!=n?n.detail:n)?l.email:l,n))+'"/></div>\n            </div>\n            <div class="form-row">\n                <label class="auto">备注</label>\n                <div class="content"><textarea class="input" name="remark" rows="3">'+r(s(null!=(l=null!=n?n.detail:n)?l.remark:l,n))+"</textarea></div>\n            </div>\n        </form>\n    </div>\n</div>"},72:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                        <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(73,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n                    "},73:function(e,n,a,t,i){return' selected="selected"'},75:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                        <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(73,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n                    "},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"situation",{name:"view",hash:{},fn:e.program(30,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"import",{name:"view",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"group",{name:"view",hash:{},fn:e.program(39,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"groupTrainees",{name:"view",hash:{},fn:e.program(60,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"detail",{name:"view",hash:{},fn:e.program(71,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/trainee/formal-trainee/view-detail",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/maps"),l=e("./app/ext/views/form/validators");a.bindings={detail:!0,levels:!0,state:!1,nations:!0},a.title="编辑学员基本信息",a.dataForTemplate={levels:function(e){var n=e.detail.levelId||"",a=e.levels;return t.map(a,function(e){var a=e;a.id===n&&(a.selected=!0)}),a},sexs:function(e){return t.map(i.get("sexs"),function(n){var a=n;return a.selected=Number(a.key)===Number(e.detail.sex),a})},nations:function(e){var n=e.detail.nation||"",a=e.nations;return t.map(a,function(e){var a=e;a.id===n&&(a.selected=!0)}),t.find(a,["id",n]),a},nationName:function(e){var n,a=e.nations,i=e.detail.nation||"";return n=t.find(a,["id",i]),n?n.value:""},detail:function(e){var n=e.detail;return n.newCompany&&(n.companyName=n.newCompany),n.newOrganization&&(n.organizationName=n.newOrganization),n}},a.buttons=[{text:"保存",action:"updateFmtrainee"}],a.dataForActions={updateFmtrainee:function(e){var n=e.phoneNumber,a=e.email,t=e.remark,i=e.jobName,s=e.newCompany,r=e.newOrganization;return l.required.fn(s)?""===i?(this.app.message.error("职务为必填项"),!1):l.maxLength.fn(s,30)?l.required.fn(r)?l.maxLength.fn(r,30)?l.maxLength.fn(i,30)?l.phone.fn(n)&&""!==n?l.email.fn(a)&&""!==a?l.maxLength.fn(a,100)?l.maxLength.fn(t,1e3)?e:(this.app.message.error("备注的最大长度为1000"),!1):(this.app.message.error("邮箱的最大长度为100"),!1):(this.app.message.error("请输入正确的邮箱"),!1):(this.app.message.error("请输入正确的手机号"),!1):(this.app.message.error("职务的最大长度为30"),!1):(this.app.message.error("二级部门/单位的最大长度为30"),!1):(this.app.message.error("二级部门/单位为必填项"),!1):(this.app.message.error("公司的最大长度为30"),!1):(this.app.message.error("公司为必填项"),!1)}},a.actionCallbacks={updateFmtrainee:function(e){e[0]?(this.app.message.success("保存成功！"),this.module.dispatch("refreshList")):this.app.message.success("保存失败！")}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/maps":"./app/util/maps","lodash/collection":!1}),loadjs.d("./app/train/trainee/formal-trainee/view-groupTrainees",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.title="分组学员详情",a.bindings={groupTrainees:!0,exportGroupTrainee:!0,state:!1},a.auto=!0,a.components=[{id:"pager",name:"pager",options:{model:"groupTrainees"}}],a.events={"click group-trainee-sort*":"showSortInput","click to-sort*":"updateSort"},a.actions={"click group-trainee-delete*":"deleteTraineeGroup"},a.dataForActions={deleteTraineeGroup:function(e){var n=this.bindings.groupTrainees.data;return n=t.filter(n,function(n){return n.id!==e.id}),this.bindings.groupTrainees.data=n,this.bindings.groupTrainees.changed(),e}},a.actionCallbacks={deleteTraineeGroup:function(e){e[0]?this.app.message.success("移除成功！"):this.app.message.error("移除失败！")}},a.handlers={showSortInput:function(e){var n=this.$("group-trainee-input-sort"+e),a=this.$("group-trainee-sort"+e),l=this.$("group-trainee-delete"+e),s=this.$("groupshuxian"+e),r=this.$("block"+e),o=t.find(this.bindings.groupTrainees.data,["id",e]);i(r).css("display","block"),i(this.$("group-trainee-sort"+e)).css("display","none"),i(this.$("group-trainee-delete"+e)).css("display","none"),i(this.$("groupshuxian"+e)).css("display","none"),n.focus(),this.onBlur(n,a,l,s,o.sortForGroup,r,this)},updateSort:function(e){var n=this,a={},t=i(this.$("group-trainee-input-sort"+e)).val().trim();return isNaN(t)||""===t?(this.app.message.alert("请输入正整数！"),!1):Number(t)<=0||Number(t)>1e3?(this.app.message.error("请输入0-1000之间的数字，不含0"),!1):(a.id=e,a.sortForGroup=t,n.module.dispatch("updateSort",a).then(function(){n.module.dispatch("groupTrainees")}),i(this.$("block"+e)).css("display","none"),i(this.$("group-trainee-sort"+e)).css("display","inline"),i(this.$("group-trainee-delete"+e)).css("display","inline"),i(this.$("groupshuxian"+e)).css("display","inline"),!0)}},a.dataForTemplate={fmtrainees:function(e){var n=e.groupTrainees,a=this.bindings.groupTrainees.getPageInfo().page,i=this.bindings.state.data;return t.map(n||[],function(e,n){var t=e;t.i=n+1+10*(a-1),t.isGrant=4!==i.role,t.organizationLevel&&t.organizationLevel<=3&&(t.organizationName=""),t.newCompany&&(t.companyName=t.newCompany)}),n},exportGroupUrl:function(){var e=this.bindings.exportGroupTrainee.getFullUrl()+"?",n=this.bindings.groupTrainees.params,a=this.app.global.OAuth.token.access_token;return n.pageSize=1e5,n.page=1,t.map(n,function(n,a){e+=a+"="+n+"&"}),e+="access_token="+a},isGrant:function(){return 4!==this.bindings.state.data.role}},a.beforeClose=function(){var e=this.bindings.state.data,n=this.bindings.groupTrainees.data;4!==e.role&&this.renderOptions.callback(n.length)},a.mixin={onBlur:function(e,n,a,t,l,s,r){e.addEventListener?e.addEventListener("blur",function(){var o=i(e).val();Number(o)<=0||Number(o)>1e3?r.app.message.error("请输入0-1000之间的数字，不含0"):l===Number(o)?(i(s).css("display","none"),i(n).css("display","inline-block"),i(a).css("display","inline-block"),i(t).css("display","inline-block")):o||l||(i(s).css("display","none"),i(n).css("display","inline-block"),i(a).css("display","inline-block"),i(t).css("display","inline-block"))},!1):e.attachEvent&&e.attachEvent("onblur",function(){var o=i(e).val();Number(o)<=0||Number(o)>1e3?r.app.message.error("请输入0-1000之间的数字，不含0"):Number(o)===l?(i(s).css("display","none"),i(n).css("display","inline-block"),i(a).css("display","inline-block"),i(t).css("display","inline-block")):l||o||(i(s).css("display","none"),i(n).css("display","inline-block"),i(a).css("display","inline-block"),i(t).css("display","inline-block"))})}}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/trainee/formal-trainee/view-group",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.title="学员分组",a.bindings={group:!0,state:!0},a.buttons=[{text:"保存",action:"saveGroup"}],a.events={"click addGroup":"addGroup","click delGroup*":"delGroup","click go-up*":"moveUp","click go-down*":"moveDown","click label-group-name*":"showNameInput","change input-group-name*":"updateName","click manage*":"manage"},a.handlers={addGroup:function(){var e=i(this.$("add-group-input")).val().trim(),n=this.bindings.group.data,a=this;""!==e?t.find(n,["name",e])?a.app.message.alert("分组名称不能重复!"):e.length>20?a.app.message.error("分组名称最大长度为20"):a.module.dispatch("addGroup",{name:e}):(a.app.message.alert("分组名称不能为空!"),i(a.$("add-group-input")).val(""))},delGroup:function(e){var n=this;return this.Promise.create(function(a){n.app.message.confirm("学员分组删除后将无法恢复，是否确定删除该学员分组?",function(){n.module.dispatch("delGroup",e)},function(){a(!1)})})},moveUp:function(e){this.module.dispatch("moveUp",e)},moveDown:function(e){this.module.dispatch("moveDown",e)},showNameInput:function(e){var n=this.bindings.state.data,a=this.$("input-group-name"+e),l=this.$("label-group-name"+e),s=t.find(this.bindings.group.data,["id",e]);4!==n.role&&(i(this.$("input-group-name"+e)).css("display","inline-block"),i(this.$("label-group-name"+e)).css("display","none"),a.focus(),this.onBlur(a,l,s.name))},updateName:function(e){var n=i(this.$("input-group-name"+e)).val().trim(),a=this.bindings.group.data;n?t.find(a,["name",n])?this.app.message.error("分组名称不能重复"):n&&n.length>20?this.app.message.error("分组名称最大长度为20"):this.module.dispatch("changeName",{id:e,name:n}):this.app.message.error("分组名称不能为空")},manage:function(e,n,a){var i=this,l=i.module.items["train/trainee/formal-trainee/group-manage"],s=i.bindings.state.data,r=i.bindings.group;"new-"===e.substring(0,4)?i.module.dispatch("saveGroup").then(function(){i.module.dispatch("group").then(function(){var e=i.bindings.group,n=a.getAttribute("group-name"),r=t.find(e.data,["name",n]),o=r.id;s.groupId=o,i.app.viewport.modal(l,{state:s,callback:function(n){r.traineeNumber=n,e.changed()}})})}):(s.groupId=e,i.app.viewport.modal(l,{state:s,callback:function(n){t.find(r.data,["id",e]).traineeNumber=n,r.changed()}}))}},a.actions={"click group-trainee*":"groupTrainees"},a.dataForActions={groupTrainees:function(e){this.bindings.state.data.groupId=e.id},saveGroup:function(){return 4!==this.bindings.state.data.role||(this.app.viewport.closeModal(),!1)}},a.actionCallbacks={saveGroup:function(){this.app.message.success("保存成功!")},groupTrainees:function(){var e=this.module.items.groupTrainees,n=this.bindings.state.data.groupId,a=this.bindings.group,i=t.find(a.data,["id",n]);this.app.viewport.modal(e,{callback:function(e){i.traineeNumber=e,a.changed()}})}},a.dataForTemplate={group:function(e){var n=e.group,a=this.bindings.state.data;return t.map(n||[],function(e,n){var t=e;t.i=n+1,t.isGrant=4!==a.role}),n},isGrant:function(){
return 4!==this.bindings.state.data.role}},a.mixin={onBlur:function(e,n,a){e.addEventListener?e.addEventListener("blur",function(){var t=i(e).val();"number"==typeof a&&t&&(t=Number(t)),a===t?(i(e).css("display","none"),i(n).css("display","inline-block")):t||a||(i(e).css("display","none"),i(n).css("display","inline-block"))},!1):e.attachEvent&&e.attachEvent("onblur",function(){var t=i(e).val();"number"==typeof a&&t&&(t=Number(t)),t===a?(i(e).css("display","none"),i(n).css("display","inline-block")):a||t||(i(e).css("display","none"),i(n).css("display","inline-block"))})}}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/trainee/formal-trainee/view-import",function(e,n,a){a.title="批量导入学员",a.bindings={dowloadExcel:!0,uploadExcel:"changeFile",state:!0},a.events={"click download-Excel-*":"dowloadExcel"},a.handlers={dowloadExcel:function(e){var n=this.$("import-form"),a=this.app.global.OAuth.token.access_token;n.action=this.bindings.dowloadExcel.getFullUrl(),this.$("importType").value=e,this.$("access_token").value=a,n.submit()}},a.components=function(){return[{id:"uploadExcel",name:"uploader",options:{model:"uploadExcel",chunk_size:"10mb",signle_file:!0,filters:{max_file_size:"10mb",mime_types:[{title:"files",extensions:"xls,xlsx"}]}}}]},a.changeFile=function(){var e=this.bindings.uploadExcel.data.imgs;this.app.viewport.closeModal(),0===e.failCount&&this.module.dispatch("refreshList")},a.dataForTemplate={errors:function(e){return!!e.uploadExcel.imgs&&e.uploadExcel.imgs.failCount>0}}},{}),loadjs.d("./app/train/trainee/formal-trainee/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.bindings={fmtrainees:!0,state:!1,download:!1,detail:!1,classInfo:!1,selectOrganization:!1,countSettlement:!1,nations:!0},a.events={"click sort*":"showSortInput","click to-sort*":"updateSort","click addTrainee":"addTrainee","click addAllTrainee":"showMembers","click importTrainee":"importTrainee","click detail*":"detail","click delete*":"delete"},a.actions={"click situation":"situation","click group":"group"},a.handlers={showMembers:function(){var e=this,n=e.module.items["train/trainee/select-member"],a=this.bindings.state.data,t=this.bindings.countSettlement.data;1!==a.role&&t>0?this.app.message.error("该班级已提交结算数据，无法添加学员"):e.module.dispatch("getMemberIds").then(function(t){e.app.viewport.modal(n,{memberIds:t[0],callback:function(n){var t={};e.app.viewport.closeModal(),n?(t.classId=a.classId,t.type=0,t.memberIds=n,e.module.dispatch("addTrainees",t).then(function(n){var a=n[0][0],t=n[0][1];0===a?(e.app.message.error("配额已满！"),i(".dialog-overlay").css("display","none")):(e.module.dispatch("refreshList"),e.app.message.success("添加成功"+a+"条！"),i(".dialog-overlay").css("display","none"),0!==t&&(e.app.message.error("添加失败"+t+"条！"),i(".dialog-overlay").css("display","none")))})):i(".dialog-overlay").css("display","none")}})})},showSortInput:function(e){var n=this.$("input-sort"+e),a=this.$("block"+e),l=this.$("sort"+e),s=this.$("shuxian"+e),r=this.$("delete"+e),o=this.bindings.fmtrainees.data,d=t.find(o,["id",e]),c=this.bindings.classInfo.data;c&&3!==c.status?(i(this.$("block"+e)).css("display","block"),i(this.$("sort"+e)).css("display","none"),i(this.$("delete"+e)).css("display","none"),i(this.$("shuxian"+e)).css("display","none"),n.focus(),this.onBlur(n,l,r,s,d.sort,a)):this.app.message.error("该班级已结束，无法进行排序操作")},updateSort:function(e){var n=this,a={},t=i(this.$("input-sort"+e)).val().trim();return isNaN(t)||""===t?(this.app.message.error("请输入正整数！"),!1):Number(t)<=0||Number(t)>1e3?(this.app.message.error("请输入0-1000之间的数字，不含0"),!1):(a.id=e,a.sort=t,n.module.dispatch("updateSort",a).then(function(){n.module.dispatch("refreshList")}),i(n.$("block"+e)).css("display","none"),i(n.$("sort"+e)).css("display","inline"),i(n.$("delete"+e)).css("display","inline"),i(this.$("shuxian"+e)).css("display","inline"),!0)},addTrainee:function(){var e=i(this.$("add-trainee-input")).val().trim(),n=this.bindings.state.data,a={},t={},l=this,s=this.bindings.countSettlement.data;""===e?l.app.message.error("请输入人员编号!"):1!==n.role&&s?l.app.message.error("该班级已提交结算数据，无法添加学员"):(a.memberName=e,a.type=0,a.classId=n.classId,t.data=a,l.module.dispatch("addTrainee",a).then(function(e){var n=e[0];1===n?(this.app.message.success("添加成功!"),l.module.dispatch("refreshList")):888===n?this.app.message.error("学员已存在!"):666===n?this.app.message.error("员工编号不存在！"):999===n?this.app.message.error("配额已满!"):777===n?this.app.message.error("尚未配额!"):1111===n&&this.app.message.error("该员工已被禁用")}),i(this.$("add-trainee-input")).val(""))},importTrainee:function(){var e=this.bindings.classInfo.data,n=this,a=this.module.items["train/trainee/formal-trainee/import-data"];this.bindings.countSettlement.data>0?this.app.message.error("该班级已提交结算数据，无法添加导入学员"):this.app.viewport.modal(a,{classId:e.id,callback:function(){return n.chain(n.module.dispatch("refreshList"))}})},detail:function(e){var n=e,a=this.bindings.fmtrainees.data,i=this.module.items.detail;this.bindings.detail.data=t.find(a,["id",n]),this.bindings.detail.changed(),this.app.viewport.modal(i)},delete:function(e){var n=this,a=this.bindings.countSettlement.data,i=this.bindings.state.data,l={};l.id=e,this.module.dispatch("findExamRecord",e).then(function(e){var s=e[0],r="",o=[];return s.length>0&&(t.map(s,function(e){1===e.type?r+=e.resourceId+",":o.push(e.resourceId)}),l.examIds=r,l.researchIds=o),0===a||1===i.role?n.Promise.create(function(e){n.app.message.confirm("学员被删除后将无法恢复，是否确定删除该学员？",function(){n.module.dispatch("delete",l)},function(){e(!1)})}):(this.app.message.error("该班级已提交结算数据，无法删除学员"),!1)})}},a.dataForActions={group:function(){var e=this.bindings.classInfo.data;return!(!e||3===e.status)||(this.app.message.error("该班级已结束，无法添加学员分组"),!1)}},a.actionCallbacks={delete:function(){this.app.message.success("删除成功!"),this.module.dispatch("refreshList")},situation:function(e){var n=this.module.items.situation;e[0]?this.app.viewport.modal(n):this.app.message.alert("尚未配额！")},group:function(){var e=this.module.items.group;this.bindings.state.data.index=0,this.app.viewport.modal(e)}},a.components=[{id:"pager",name:"pager",options:{model:"fmtrainees"}}],a.dataForTemplate={fmtrainees:function(e){var n=e.fmtrainees,a=this.bindings.fmtrainees.getPageInfo().page,i=this.bindings.state.data,l=e.nations;return t.map(n||[],function(e,n){var s=e;s.i=n+1+10*(a-1),s.isGrant=4!==i.role,s.newCompany&&(s.companyName=s.newCompany),s.newOrganization&&(s.organizationName=s.newOrganization),s.member.fullNames=s.member.fullName,s.member.names=s.member.name,s.companyNames=s.companyName,s.organizationNames=s.organizationName,s.member.jobName=s.member.jobName&&s.member.jobName.length>0?s.member.jobName.trim():"-",s.member.jobNames=s.member.jobName&&s.member.jobName.trim(),s.member.fullName&&s.member.fullName.length>4&&(s.member.fullName=s.member.fullName.substring(0,3)+"..."),s.member.name&&s.member.name.length>7&&(s.member.name=s.member.name.substring(0,6)+"..."),s.companyName&&s.companyName.length>15&&(s.companyName=s.companyName.substring(0,14)+"..."),s.organizationName&&s.organizationName.length>11&&(s.organizationName=s.organizationName.substring(0,10)+"..."),s.member.jobName&&s.member.jobName.trim().length>11&&(s.member.jobName=s.member.jobName.trim().substring(0,10)+"..."),s.nation&&l.length>0&&(s.nationName=t.find(l,["id",s.nation]).value,s.nationNames=s.nationName,s.nationName&&s.nationName.length>3&&(s.nationName=s.nationName.substring(0,2)+"..."))}),n},pageCount:function(){return this.bindings.fmtrainees.getPageInfo().pageCount},exportUrl:function(){var e=this.bindings.download.getFullUrl()+"?",n=this.bindings.fmtrainees.params,a=this.app.global.OAuth.token.access_token;return n.pageSize=1e5,n.page=1,t.map(n,function(n,a){e+=a+"="+n+"&"}),e+="access_token="+a},isGrant:function(){return 4!==this.bindings.state.data.role}},a.mixin={onBlur:function(e,n,a,t,l,s){e.addEventListener?e.addEventListener("blur",function(){var r=i(e).val();"number"==typeof l&&r&&(r=Number(r)),l===r?(i(s).css("display","none"),i(n).css("display","inline-block"),i(a).css("display","inline-block"),i(t).css("display","inline-block")):r||l||(i(s).css("display","none"),i(n).css("display","inline-block"),i(a).css("display","inline-block"),i(t).css("display","inline-block"))},!1):e.attachEvent&&e.attachEvent("onblur",function(){var r=i(e).val();"number"==typeof l&&r&&(r=Number(r)),r===l?(i(s).css("display","none"),i(n).css("display","inline-block"),i(a).css("display","inline-block"),i(t).css("display","inline-block")):l||r||(i(s).css("display","none"),i(n).css("display","inline-block"),i(a).css("display","inline-block"),i(t).css("display","inline-block"))})}}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/trainee/formal-trainee/view-search",function(e,n,a){var t=e("jquery");a.bindings={state:!1},a.actions={"click search":"search"},a.dataForActions={search:function(){var e=this.bindings.state.data;return{classId:e.classId,auditStatus:e.auditStatus,memberName:t(this.$$('[name="memberName"]')).val().trim(),memberFullName:t(this.$$('[name="memberFullName"]')).val().trim(),organizationName:t(this.$$('[name="organizationName"]')).val().trim(),register:t(this.$$('[name="register"]')).val()}}}},{jquery:!1}),loadjs.d("./app/train/trainee/formal-trainee/view-situation",function(e,n,a){var t=e("lodash/collection");a.title="报名情况列表",a.bindings={situation:!0,orgListAll:!0},a.dataForTemplate={trainees:function(e){var n=this.bindings.orgListAll,a=e.situation;return null===a.signUpNumber&&(a.signUpNumber=0),null===a.amount&&(a.amount=0),t.map(a.classQuotaDetails||[],function(e,a){var i=e,l=t.find(n.data||[],{organizationId:i.organizationId})||{};null===i.signUpNumber&&(i.signUpNumber=0),null===i.quantity&&(i.quantity=0),i.shortName=l.shortName?l.shortName:i.organizationName,i.i=a+1}),e}}},{"lodash/collection":!1}),loadjs.d("./app/train/trainee/index",function(e,n,a){a.items={tab:"tab",main:"main"},a.store={models:{state:{data:{isAutoApprove:0,quotaType:1}},classQuota:{url:"../train/class-quota"},signUpInfo:{url:"../train/sign-up"}},callbacks:{init:function(e){var n=this.models.classQuota;return n.clear(),n.params={classId:e},this.get(n,{loading:!0})}}},a.beforeRender=function(){var e=this,n=e.store.models.state.data,a=e.renderOptions.state,t=a.classId;return n.classId=a.classId,n.role=a.role,n.id=a.id,e.dispatch("init",t).then(function(){var a=e.store.models.classQuota.data||{},t=e.store.models.signUpInfo.data||{};a.id?(n.isAutoApprove=a.isAutoApprove,n.quotaType=a.type,n.isOpen=t.isOpen,n.name=a.className,0===a.isAutoApprove&&1===t.isOpen?(n.tab="manage",n.manage=!0):(n.tab="formal-trainee",n.fmtrainee=!0),e.store.models.state.changed()):e.app.message.alert("当前班级尚未配额！")})}},{}),loadjs.d("./app/train/trainee/informal-trainee/index",function(e,n,a){var t=e("lodash/collection");a.items={main:"main","train/trainee/select-member":{isModule:!0}},a.store={models:{iftrainees:{url:"../train/trainee/informal-trainees",type:"pageable",root:"items"},addIftrainee:{url:"../train/trainee/add-trainee"},memberIds:{url:"../train/trainee/members"},addAllIftrainee:{url:"../train/trainee/add-trainees"},iftrainee:{url:"../train/trainee"},state:{data:{}}},callbacks:{init:function(e){var n=this.models.iftrainees;return this.models.state.data.classId=e.classId,n.params=e,this.get(n,{loading:!0})},addIftrainee:function(e){var n=this.models.addIftrainee;return n.clear(),n.set(e),this.save(n)},addAllIftrainee:function(e){var n=this.models.addAllIftrainee;return n.clear(),n.set(e),this.save(n)},delete:function(e){var n=this.models.iftrainee,a=t.find(this.models.iftrainees.data,["id",e.id]).member.fullName,i=this.module.renderOptions.state.name,l=this.module.renderOptions.state.classId,s={};return n.clear(),s.id=e.id,s.className=i,s.type=1,s.name=a,s.classId=l,n.set(s),this.post(n)},getMemberIds:function(){var e=this.models.memberIds,n=this.models.state.data;return e.clear(),e.params={classId:n.classId,type:1},this.get(e)},refreshList:function(){var e=this.models.iftrainees;this.get(e)}}},a.beforeRender=function(){var e=this.store.models.state;return e.data.role=this.renderOptions.state.role,e.changed(),this.dispatch("init",{classId:this.renderOptions.state.classId})}},{"lodash/collection":!1}),loadjs.d("./app/train/trainee/informal-trainee/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="membership-table layout-mt-small clearfix" data-region="main"></div>\n'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="h4 pull-left strong m-left">学员列表</div>\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))?l:"")+'    <table class="table layout-mt-small text-center train border around margin-none">\n        <thead><tr>\n            <th>序号</th>\n            <th>姓名</th>\n            <th>单位</th>\n            <th>部门</th>\n            <th>职务</th>\n            <th>手机</th>\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"        </tr></thead>\n        <tbody>\n            "+(null!=(l=a.each.call(s,null!=n?n.iftrainees:n,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.program(13,i,0),data:i}))?l:"")+"\n        </tbody>\n    </table>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(s,null!=n?n.pageCount:n,"gt",1,{name:"compare",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))?l:"")},4:function(e,n,a,t,i){return'        <div class="pull-right m-right">\n            <label class="pull-left tag-height m-right">员工编号</label>\n            <input class="input tag-height pull-left" id="add-iftrainee-input"/>\n            <div id="addIftrainee" class="small-btn pull-left m-right">添加</div>\n            <div id="addAllIftrainee" class="small-btn pull-left">人员选择</div>\n        </div>\n'},6:function(e,n,a,t,i){return"        <br/>\n"},8:function(e,n,a,t,i){return"                <th>操作</th>\n"},10:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return"<tr>\n                <td>"+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+'</td>\n                <td><span title="'+c(u(null!=(l=null!=n?n.member:n)?l.fullNames:l,n))+'">'+c(u(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+'</span></td>\n                <td><span title="'+c((s=null!=(s=a.companyNames||(null!=n?n.companyNames:n))?s:o,typeof s===d?s.call(r,{name:"companyNames",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.companyName||(null!=n?n.companyName:n))?s:o,typeof s===d?s.call(r,{name:"companyName",hash:{},data:i}):s))+'</span></td>\n                <td><span title="'+c((s=null!=(s=a.organizationNames||(null!=n?n.organizationNames:n))?s:o,typeof s===d?s.call(r,{name:"organizationNames",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.organizationName||(null!=n?n.organizationName:n))?s:o,typeof s===d?s.call(r,{name:"organizationName",hash:{},data:i}):s))+'</span></td>\n                <td><span title="'+c(u(null!=(l=null!=n?n.member:n)?l.jobNames:l,n))+'">'+c(u(null!=(l=null!=n?n.member:n)?l.jobName:l,n))+"</span></td>\n                <td>"+c((s=null!=(s=a.phoneNumber||(null!=n?n.phoneNumber:n))?s:o,typeof s===d?s.call(r,{name:"phoneNumber",hash:{},data:i}):s))+"</td>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")+"            </tr>\n"},11:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                    <td><a id="delete-iftrainee'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'">删除</a></td>\n'},13:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.program(16,i,0),data:i}))?l:""},14:function(e,n,a,t,i){return'                    <tr><td colspan="8"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n'},16:function(e,n,a,t,i){return'                    <tr><td colspan="7"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n                '},18:function(e,n,a,t,i){return'        <div id="pager" class="pagination" style="margin:1em;"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/trainee/informal-trainee/view-main",function(e,n,a){var t=e("lodash/collection"),i=e("jquery");a.bindings={iftrainees:!0,state:!0},a.components=[{id:"pager",name:"pager",options:{model:"iftrainees"}}],a.events={"click addIftrainee":"addIftrainee","click addAllIftrainee":"showMembers"},a.actions={"click delete-iftrainee*":"delete"},a.handlers={addIftrainee:function(){var e=i(this.$("add-iftrainee-input")).val().trim(),n=this.bindings.state.data,a={},t=this;""===e?t.app.message.alert("请输入人员编号!"):(a.classId=n.classId,a.memberName=e,a.type=1,t.module.dispatch("addIftrainee",a).then(function(e){var n=e[0];1===n?(t.app.message.success("添加成功!"),t.module.dispatch("refreshList")):666===n?t.app.message.error("人员编号不存在!"):888===n?t.app.message.error("学员已存在!"):1111===n?t.app.message.error("该员工已被禁用"):t.app.message.error("添加学员失败!请联系管理员")}),i(this.$("add-iftrainee-input")).val(""))},showMembers:function(){var e=this,n=e.module.items["train/trainee/select-member"];e.module.dispatch("getMemberIds").then(function(a){e.app.viewport.modal(n,{memberIds:a[0],callback:function(n){var a=e.bindings.state.data,t={};e.app.viewport.closeModal(),n&&(t.classId=a.classId,t.memberIds=n,t.type=1,e.module.dispatch("addAllIftrainee",t).then(function(n){var a=n[0][0],t=n[0][1];0===a?e.app.message.error("添加失败！"):(e.module.dispatch("refreshList"),e.app.message.success("添加成功"+a+"条！"),0!==t&&e.app.message.error("添加失败"+t+"条！"))}))}})})}},a.dataForActions={delete:function(e){var n=this;return this.Promise.create(function(a){n.app.message.confirm("非正式成员被删除后将无法恢复，是否确定删除该非正式学员?",function(){a(e)},function(){a(!1)})})}},a.actionCallbacks={delete:function(e){e[0]?this.app.message.success("删除成功!"):this.app.message.error("删除失败!"),this.module.dispatch("refreshList")}},a.dataForTemplate={iftrainees:function(e){var n=e.iftrainees,a=this.bindings.iftrainees.getPageInfo().page,i=this.bindings.state.data;return t.map(n||[],function(e,n){var t=e;t.i=n+1+10*(a-1),t.isGrant=4!==i.role,t.member.fullNames=t.member.fullName,t.newCompany&&(t.companyName=t.newCompany),t.member.names=t.member.name,t.companyNames=t.companyName,t.organizationNames=t.organizationName,t.member.jobNames=t.member.jobName,t.member.fullName&&t.member.fullName.length>12&&(t.member.fullName=t.member.fullName.substring(0,11)+"..."),t.member.name&&t.member.name.length>12&&(t.member.name=t.member.name.substring(0,11)+"..."),t.companyName&&t.companyName.length>12&&(t.companyName=t.companyName.substring(0,11)+"..."),t.organizationName&&t.organizationName.length>12&&(t.organizationName=t.organizationName.substring(0,11)+"..."),t.member.jobName&&t.member.jobName.length>12&&(t.member.jobName=t.member.jobName.substring(0,11)+"...")}),n},pageCount:function(){return this.bindings.iftrainees.getPageInfo().pageCount},isGrant:function(){return 4!==this.bindings.state.data.role}}},{jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/trainee/manage/index",function(e,n,a){a.items={main:"main",search:"search",situation:"",audit:"",detail:""},a.store={models:{trainees:{url:"../train/trainee/trainees",type:"pageable",root:"items"},countSettlement:{url:"../train/settlement/find-count"},situation:{url:"../train/class-quota/situation"},orgListAll:{url:"../train/group-configuration-value/all"},auditTrainee:{url:"../train/trainee/audit"},nations:{url:"../human/member-config/list",autoLoad:"before",params:{key:2}},levels:{url:"../human/member-config/list",autoLoad:"before",params:{key:8}},trainee:{url:"../train/trainee/update"},classInfo:{url:"../train/class-info/get"},detail:{data:{}},state:{data:{}}},callbacks:{init:function(e){var n=this.models.trainees,a=this.models.state,t=this.models.orgListAll,i=this.models.countSettlement;return n.clear(),a.data.classId=e.classId,a.data.quotaType=e.quotaType,a.data.source=0,n.params=a.data,a.changed(),i.clear(),i.params={classId:e.classId},this.get(i),this.get(t),this.get(n)},search:function(e){var n=this.models.trainees;return n.clear(),n.params=e,this.get(n)},situation:function(){var e=this.models.state.data.classId,n=this.models.situation;return n.clear(),n.params={classId:e},this.get(n)},auditTrainee:function(e){var n=this.models.auditTrainee,a=this.models.classInfo,t=this.models.state.data,i=e,l=this.models.state.data.classId;return i.quotaType=t.quotaType,i.className=a.data.className,i.classId=l,n.set(i),this.put(n)},updateTrainee:function(e){var n=this.models.trainee;return n.clear(),n.set(e),this.put(n)},getClassInfo:function(e){var n=this.models.classInfo;return n.params={id:e.classId},this.get(n)},refreshList:function(){var e=this.models.trainees;this.get(e)}}},a.beforeRender=function(){var e=this.store.models.state;e.data.role=this.renderOptions.state.role,e.changed(),this.dispatch("init",this.renderOptions.state),this.dispatch("getClassInfo",this.renderOptions.state)}},{}),loadjs.d("./app/train/trainee/manage/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="membership-search layout-mt-small" data-region="search"></div>\n    <div data-region="main"></div>\n'},3:function(e,n,a,t,i){return'<form class="vertical">\n    <div class="filter-row train-small half-border">\n        <div class="filter-item">\n            <leabel>员工编号</leabel>\n            <input class="input" name="memberName"/>\n        </div>\n        <div class="filter-item">\n            <leabel>姓名</leabel>\n            <input class="input" name="memberFullName"/>\n        </div>\n        <div class="filter-item">\n            <label>所属单位</label>\n            <input class="input" name="organizationName"/>\n        </div>\n        <div class="filter-item">\n            <button id="search" class="btn">查询</button>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="membership-table layout-mt-small clearfix">\n        <div class="h4 pull-left strong m-left">报名列表</div>\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=a.if.call(s,null!=n?n.isClassAndManage:n,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(10,i,0),data:i}))?l:"")+'    </div>\n    <table class="table text-center train border around">\n        <thead><tr>\n'+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:"")+"            <th>序号</th>\n            <th>姓名</th>\n            <th>单位</th>\n            <th>部门</th>\n            <th>职务</th>\n            \x3c!--  th > echo('职级') --\x3e\n            <th>手机</th>\n            <th>状态</th>\n"+(null!=(l=a.if.call(s,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))?l:"")+"        </tr></thead>\n        <tbody>\n            "+(null!=(l=a.each.call(s,null!=n?n.trainees:n,{name:"each",hash:{},fn:e.program(16,i,0),inverse:e.program(31,i,0),data:i}))?l:"")+'\n        </tbody>\n    </table>\n    <div id="pager" class="pagination" style="float:none"></div>\n'},6:function(e,n,a,t,i){return'            <div class="pull-right m-right">\n                <div id="allAudit" class="btn small">审核</div>\n            </div>\n'},8:function(e,n,a,t,i){return'            <div class="pull-right">\n                <div id="situation" class="btn small m-right">报名情况</div>\n            </div>\n'},10:function(e,n,a,t,i){return"            <br/>\n"},12:function(e,n,a,t,i){return'                <th><input type="checkbox" id="checkAll"/></th>\n'},14:function(e,n,a,t,i){return"                <th>操作</th>\n"},16:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return"<tr>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))?l:"")+"                <td>"+c((s=null!=(s=a.i||(null!=n?n.i:n))?s:o,typeof s===d?s.call(r,{name:"i",hash:{},data:i}):s))+"</td>\n                <td>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.program(24,i,0),data:i}))?l:"")+'                </td>\n                <td><span title="'+c((s=null!=(s=a.companyNames||(null!=n?n.companyNames:n))?s:o,typeof s===d?s.call(r,{name:"companyNames",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.companyName||(null!=n?n.companyName:n))?s:o,typeof s===d?s.call(r,{name:"companyName",hash:{},data:i}):s))+'</span></td>\n                <td><span title="'+c((s=null!=(s=a.organizationNames||(null!=n?n.organizationNames:n))?s:o,typeof s===d?s.call(r,{name:"organizationNames",hash:{},data:i}):s))+'">'+c((s=null!=(s=a.organizationName||(null!=n?n.organizationName:n))?s:o,typeof s===d?s.call(r,{name:"organizationName",hash:{},data:i}):s))+"</span></td>\n                <td><span "+c(u(null!=(l=null!=n?n.member:n)?l.jobNames:l,n))+'="'+c(u(null!=(l=null!=n?n.member:n)?l.jobNames:l,n))+'">'+c(u(null!=(l=null!=n?n.member:n)?l.jobName:l,n))+"</span></td>\n                \x3c!--  td > echo(levelName) --\x3e\n                <td>"+c((s=null!=(s=a.phoneNumber||(null!=n?n.phoneNumber:n))?s:o,typeof s===d?s.call(r,{name:"phoneNumber",hash:{},data:i}):s))+"</td>\n                <td>"+c((a.map||n&&n.map||o).call(r,"trainee-auditStatus",null!=n?n.auditStatus:n,{name:"map",hash:{},data:i}))+"</td>\n"+(null!=(l=a.if.call(r,null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(26,i,0),inverse:e.noop,data:i}))?l:"")+"            </tr>\n"},17:function(e,n,a,t,i){var l;return"                    <td>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.auditStatus:n,"eq",1,{name:"compare",hash:{},fn:e.program(18,i,0),inverse:e.program(20,i,0),data:i}))?l:"")+"                    </td>\n"},18:function(e,n,a,t,i){return"                            -\n"},20:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                            <input type="checkbox" id="check-item'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" name="traineeId" value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'"/>\n'},22:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression,c=e.lambda;return'                        <a class="inline-block" id="detail'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" data-name="id" data-value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" title="'+d(c(null!=(l=null!=n?n.member:n)?l.fullNames:l,n))+'">'+d(c(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</a>\n"},24:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                        <span title="'+r(s(null!=(l=null!=n?n.member:n)?l.fullNames:l,n))+'">'+r(s(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</span>\n"},26:function(e,n,a,t,i){var l;return null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=n?n.auditStatus:n,"ne",1,{name:"compare",hash:{},fn:e.program(27,i,0),inverse:e.program(29,i,0),data:i}))?l:""},27:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'                        <td><a id="audit'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" data-name="id" data-value="'+o((l=null!=(l=a.id||(null!=n?n.id:n))?l:r,"function"==typeof l?l.call(s,{name:"id",hash:{},data:i}):l))+'" organizationId="'+o((l=null!=(l=a.organizationId||(null!=n?n.organizationId:n))?l:r,"function"==typeof l?l.call(s,{name:"organizationId",hash:{},data:i}):l))+'" href="javascript:;">审核</a></td>\n'},29:function(e,n,a,t,i){return"                        <td>-</td>\n"},31:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.isGrant:n,{name:"if",hash:{},fn:e.program(32,i,0),inverse:e.program(34,i,0),data:i}))?l:""},32:function(e,n,a,t,i){return'                    <tr><td colspan="11"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n'},34:function(e,n,a,t,i){return'                    <tr><td colspan="9"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>\n                '},36:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'<div class="signup-page signup">\n    <section>\n        <div>\n            <span class="m-right">培训班审批情况:</span>\n            <span class="custom-color-3">'+r(s(null!=(l=null!=n?n.situation:n)?l.signUpNumber:l,n))+"/"+r(s(null!=(l=null!=n?n.situation:n)?l.amount:l,n))+"</span>\n        </div>\n"+(null!=(l=(a.compare||n&&n.compare||a.helperMissing).call(null!=n?n:{},null!=(l=null!=n?n.situation:n)?l.type:l,"eq",2,{name:"compare",hash:{},fn:e.program(37,i,0),inverse:e.noop,data:i}))?l:"")+"    </section>\n</div>"},37:function(e,n,a,t,i){var l;return'            <div class="layout-mt-small">\n                <table class="table text-center train border around">\n                    <thead><tr>\n                        <th>序号</th>\n                        <th>机构/部门</th>\n                        <th>已报名人数/本省名额</th>\n                    </tr></thead>\n                    <tbody>'+(null!=(l=a.each.call(null!=n?n:{},null!=(l=null!=n?n.situation:n)?l.classQuotaDetails:l,{name:"each",hash:{},fn:e.program(38,i,0),inverse:e.noop,data:i}))?l:"")+"</tbody>\n                </table>\n            </div>\n"},38:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return"<tr>\n                        <td>"+o((l=null!=(l=a.i||(null!=n?n.i:n))?l:r,"function"==typeof l?l.call(s,{name:"i",hash:{},data:i}):l))+"</td>\n                        <td>"+o((l=null!=(l=a.shortName||(null!=n?n.shortName:n))?l:r,"function"==typeof l?l.call(s,{name:"shortName",hash:{},data:i}):l))+"</td>\n                        <td>"+o((l=null!=(l=a.signUpNumber||(null!=n?n.signUpNumber:n))?l:r,"function"==typeof l?l.call(s,{name:"signUpNumber",hash:{},data:i}):l))+"/"+o((l=null!=(l=a.quantity||(null!=n?n.quantity:n))?l:r,"function"==typeof l?l.call(s,{name:"quantity",hash:{},data:i}):l))+"</td>\n                    </tr>\n                    "},40:function(e,n,a,t,i){var l
;return'<form class="verify-page verify">\n    <div class="container">\n        <section class="section">\n            <div class="clearfix">\n                <label class="pull-left layout-mr">审核结果</label>\n                <div class="pull-left layout-mr">\n                    <input type="radio" name="auditStatus" value="1"/>\n                    <label>同意</label>\n                </div>\n                <div class="pull-left">\n                    <input type="radio" name="auditStatus" value="2"/>\n                    <label>拒绝</label>\n                </div>\n                <input class="input" name="id" type="hidden" value="'+e.escapeExpression((l=null!=(l=a.traineeId||(null!=n?n.traineeId:n))?l:a.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"traineeId",hash:{},data:i}):l))+'"/>\n            </div>\n            <div class="clearfix layout-mt-small">\n                <label class="pull-left layout-mr">审核意见</label>\n                <textarea class="col-sm-9" name="auditOpinion" x-rule="required" rows="3" placeholder="编辑审核意见"></textarea>\n            </div>\n        </section>\n    </div>\n</form>'},42:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression,o=null!=n?n:{};return'<div class="stuname-page">\n    <div class="stuname">\n        <form class="form layout-mt-small">\n            <input class="input" name="id" value="'+r(s(null!=(l=null!=n?n.detail:n)?l.id:l,n))+'" type="hidden"/>\n            <div class="form-row">\n                <label>姓名</label>\n                <div class="content"><input class="input" value="'+r(s(null!=(l=null!=(l=null!=n?n.detail:n)?l.member:l)?l.fullName:l,n))+'" disabled/></div>\n            </div>\n            <div class="form-row">\n                <label>员工编号</label>\n                <div class="content"><input class="input" value="'+r(s(null!=(l=null!=(l=null!=n?n.detail:n)?l.member:l)?l.name:l,n))+'" disabled/></div>\n            </div>\n            <div class="form-row">\n                <label>公司</label>\n                <div class="content"><input class="input" value="'+r(s(null!=(l=null!=n?n.detail:n)?l.companyName:l,n))+'" disabled/></div>\n            </div>\n            <div class="form-row">\n                <label style="width:7em;">二级部门/单位</label>\n                <div class="content"><input class="input" value="'+r(s(null!=(l=null!=n?n.detail:n)?l.organizationName:l,n))+'" disabled/></div>\n            </div>\n            <div class="form-row">\n                <label>职务</label>\n                <div class="content"><input class="input" value="'+r(s(null!=(l=null!=(l=null!=n?n.detail:n)?l.member:l)?l.jobName:l,n))+'" disabled/></div>\n            </div>\n            \x3c!--  .form-row --\x3e\n            \x3c!--      label.required 职级 --\x3e\n            \x3c!--      .content --\x3e\n            \x3c!--          select.w-full(name=\'levelId\') > each(levels) --\x3e\n            \x3c!--              option(value = id)(\'selected\')&if(selected) > echo(value) --\x3e\n            <div class="form-row">\n                <label class="required">性别</label>\n                <div class="content">\n                    <select class="w-full" name="sex">'+(null!=(l=a.each.call(o,null!=n?n.sexs:n,{name:"each",hash:{},fn:e.program(43,i,0),inverse:e.noop,data:i}))?l:"")+'</select>\n                </div>\n            </div>\n            <div class="form-row">\n                <label class="required">民族</label>\n                <div class="content">\n                    \x3c!--  input.input(name=\'nation\' disabled=\'disabled\' value=nationName) --\x3e\n                    <select class="w-full" name="nation">'+(null!=(l=a.each.call(o,null!=n?n.nations:n,{name:"each",hash:{},fn:e.program(46,i,0),inverse:e.noop,data:i}))?l:"")+'</select>\n                </div>\n            </div>\n            <div class="form-row">\n                <label class="required">移动电话</label>\n                <div class="content"><input class="input" name="phoneNumber" value="'+r(s(null!=(l=null!=n?n.detail:n)?l.phoneNumber:l,n))+'"/></div>\n            </div>\n            <div class="form-row">\n                <label class="required">邮箱</label>\n                <div class="content"><input class="input" name="email" value="'+r(s(null!=(l=null!=n?n.detail:n)?l.email:l,n))+'"/></div>\n            </div>\n            <div class="form-row">\n                <label class="auto">备注</label>\n                <div class="content"><textarea class="input" name="remark" rows="3">'+r(s(null!=(l=null!=n?n.detail:n)?l.remark:l,n))+"</textarea></div>\n            </div>\n        </form>\n    </div>\n</div>"},43:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                        <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(44,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.key||(null!=n?n.key:n))?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n                    "},44:function(e,n,a,t,i){return' selected="selected"'},46:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return"\n                        <option "+(null!=(l=a.if.call(r,null!=n?n.selected:n,{name:"if",hash:{},fn:e.program(44,i,0),inverse:e.noop,data:i}))?l:"")+' value="'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">'+d((s=null!=(s=a.value||(null!=n?n.value:n))?s:o,"function"==typeof s?s.call(r,{name:"value",hash:{},data:i}):s))+"</option>\n                    "},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"search",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"situation",{name:"view",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"audit",{name:"view",hash:{},fn:e.program(40,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"detail",{name:"view",hash:{},fn:e.program(42,i,0),inverse:e.noop,data:i}))?l:"")+"\n"},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/trainee/manage/view-audit",function(e,n,a){var t=e("./app/ext/views/form/validators");a.bindings={state:!1,countSettlement:!1},a.small=!0,a.buttons=[{text:"确认",action:"auditTrainee"}],a.dataForActions={auditTrainee:function(e){var n=e.auditStatus||"",a=e.id||"",i=this.bindings.countSettlement.data;return t.required.fn(n)?!!t.required.fn(a)&&("1"===n&&i>0?(this.app.message.error("该班级已提交结算数据，无法添加学员"),!1):e):(this.app.message.error("请选择审核状态"),!1)}},a.actionCallbacks={auditTrainee:function(e){var n=e[0][0],a=e[0][1];0===n?this.app.message.error("报名名额已满!"):0===a?this.app.message.success("审核成功!"):(this.app.message.success("审核成功"+n+"条!"),this.app.message.error("审核失败"+a+"条!")),this.module.dispatch("refreshList")}},a.dataForTemplate={traineeId:function(){return this.renderOptions.traineeId}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators"}),loadjs.d("./app/train/trainee/manage/view-detail",function(e,n,a){var t=e("lodash/collection"),i=e("./app/util/maps"),l=e("./app/ext/views/form/validators");a.bindings={detail:!0,levels:!0,state:!1,nations:!0},a.dataForTemplate={levels:function(e){var n=e.detail.levelId||"",a=e.levels;return t.map(a,function(e){var a=e;a.id===n&&(a.selected=!0)}),a},sexs:function(e){return t.map(i.get("sexs"),function(n){var a=n;return a.selected=Number(a.key)===Number(e.detail.sex),a})},nations:function(e){var n=e.detail.nation||"",a=e.nations;return t.map(a,function(e){var a=e;a.id===n&&(a.selected=!0)}),a},nationName:function(e){var n,a=e.nations,i=e.detail.nation||"";return n=t.find(a,["id",i]),n?n.value:""}},a.buttons=[{text:"保存",action:"updateTrainee"}],a.dataForActions={updateTrainee:function(e){var n=e.phoneNumber,a=e.email,t=e.remark;return l.phone.fn(n)&&""!==n?l.email.fn(a)&&""!==a?l.maxLength.fn(a,100)?l.maxLength.fn(t,1e3)?e:(this.app.message.error("备注的最大长度为1000"),!1):(this.app.message.error("邮箱的最大长度为100"),!1):(this.app.message.error("请输入正确的邮箱"),!1):(this.app.message.error("请输入正确的手机号"),!1)}},a.actionCallbacks={updateTrainee:function(e){e[0]?(this.app.message.success("保存成功！"),this.module.dispatch("refreshList")):this.app.message.success("保存失败！")}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/maps":"./app/util/maps","lodash/collection":!1}),loadjs.d("./app/train/trainee/manage/view-main",function(e,n,a){var t=e("lodash/collection");a.bindings={trainees:!0,state:!1,auditTrainee:!1,detail:!1,levels:!0},a.components=[{id:"pager",name:"pager",options:{model:"trainees"}}],a.events={"click checkAll":"checkAll","click check-item*":"checkItem","click audit*":"audit","click allAudit":"auditAll","click detail*":"detail"},a.actions={"click situation":"situation"},a.handlers={checkAll:function(e,n){t.map(this.$$('input[name="traineeId"]'),function(e){(e||{}).checked=n.checked})},checkItem:function(){var e=this.$$('input[name="traineeId"]').length===this.$$('input[name="traineeId"]:checked').length;this.$("checkAll").checked=e},audit:function(e){var n=this.module.items.audit;this.app.viewport.modal(n,{traineeId:e})},auditAll:function(){var e=[];t.map(this.$$('input[name="traineeId"]:checked'),function(n){var a=n||{},t=a.value;e.push(t)}),0!==e.length?this.app.viewport.modal(this.module.items.audit,{traineeId:e.join(",")}):this.app.message.alert("请至少选择一位学员！")},detail:function(e){var n=e,a=this.bindings.trainees.data,i=this.module.items.detail;this.bindings.detail.data=t.find(a,["id",n]),this.bindings.detail.changed(),this.app.viewport.modal(i)}},a.actionCallbacks={situation:function(e){var n=this.module.items.situation;e[0]?this.app.viewport.modal(n):this.app.message.alert("尚未配额！")}},a.dataForTemplate={trainees:function(e){var n=e.trainees,a=this.bindings.trainees.getPageInfo().page,i=this.bindings.state.data,l=e.levels;return t.map(n||[],function(e,n){var s=e;s.i=n+1+10*(a-1),s.isGrant=4!==i.role,s.member.fullNames=s.member.fullName,s.newCompany&&(s.companyName=s.newCompany),s.member.names=s.member.name,s.companyNames=s.companyName,s.organizationNames=s.organizationName,s.member.jobNames=s.member.jobName,s.member.fullName&&s.member.fullName.length>6&&(s.member.fullName=s.member.fullName.substring(0,5)+"..."),s.member.name&&s.member.name.length>6&&(s.member.name=s.member.name.substring(0,5)+"..."),s.companyName&&s.companyName.length>6&&(s.companyName=s.companyName.substring(0,5)+"..."),s.organizationName&&s.organizationName.length>6&&(s.organizationName=s.organizationName.substring(0,5)+"..."),s.member.jobName&&s.member.jobName.length>6&&(s.member.jobName=s.member.jobName.substring(0,5)+"..."),s.levelId&&l.length>0&&(s.levelName=t.find(l,["id",s.levelId]).value)}),n},isGrant:function(){return 4!==this.bindings.state.data.role},isClassAndManage:function(){var e=this.bindings.state.data;return 1===e.role||3===e.role}}},{"lodash/collection":!1}),loadjs.d("./app/train/trainee/manage/view-search",function(e,n,a){var t=e("jquery");a.bindings={state:!1},a.actions={"click search":"search"},a.dataForActions={search:function(){return{classId:this.bindings.state.data.classId,memberName:t(this.$$('[name="memberName"]')).val().trim(),memberFullName:t(this.$$('[name="memberFullName"]')).val().trim(),organizationName:t(this.$$('[name="organizationName"]')).val().trim(),source:0}}}},{jquery:!1}),loadjs.d("./app/train/trainee/manage/view-situation",function(e,n,a){var t=e("lodash/collection");a.title="报名情况列表",a.bindings={situation:!0,orgListAll:!0},a.dataForTemplate={trainees:function(e){var n=this.bindings.orgListAll,a=e.situation;return null===a.signUpNumber&&(a.signUpNumber=0),null===a.amount&&(a.amount=0),t.map(a.classQuotaDetails||[],function(e,a){var i=e,l=t.find(n.data||[],{organizationId:i.organizationId,groupId:i.groupId})||{};null===i.signUpNumber&&(i.signUpNumber=0),null===i.quantity&&(i.quantity=0),i.shortName=l.shortName?l.shortName:i.organizationName,i.i=a+1}),e}}},{"lodash/collection":!1}),loadjs.d("./app/train/trainee/message/index",function(e,n,a){a.items={main:"main"},a.store={models:{traineeGroups:{url:"../train/trainee-group/trainees"},classstaffs:{url:"../train/classstaff/classstaffs"},sms:{url:"../train/message-record"},marks:{url:"../train/message-record/member-ids"},classInfo:{url:"../train/class-info/get"},state:{data:{},memberIds:[],staffIds:[]}},callbacks:{init:function(e){var n=this.models.traineeGroups,a=this.models.state.data,t=this.models.classInfo;return a.classId=e.classId,a.memberIds=[],n.clear(),n.params=e,t.params={id:e.classId},this.get(t),this.get(n,{loading:!0})},csinit:function(e){var n=this.models.classstaffs,a=this.models.state.data;return a.classId=e.classId,a.staffIds=[],n.clear(),n.params=e,this.get(n)},send:function(e){var n=this.models.state.data.classId,a={receiver:JSON.stringify(e.memberIds),content:e.content,classId:n,type:e.type},t=this.models.sms,i=this.models.traineeGroups,l=this.models.classstaffs,s=this,r=this.models.state.data;t.set(a),this.post(t).then(function(e){"0"!==e[0][0]?s.app.message.error(e[0]):s.app.message.success("发送成功！"),r.memberIds=[],r.staffIds=[],s.get(i),s.get(l),s.module.dispatch("refreshMarks",{classId:n})})},refreshMarks:function(e){var n=this.models.marks,a={classId:e.classId,type:5};return n.params=a,this.get(n)}}},a.beforeRender=function(){this.dispatch("init",{classId:this.renderOptions.state.classId}),this.dispatch("csinit",{classId:this.renderOptions.state.classId}),this.dispatch("refreshMarks",{classId:this.renderOptions.state.classId})}},{}),loadjs.d("./app/train/trainee/message/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="membership-content-5">\n    <div class="div" data-region="main" style="margin-left:4%;"></div>\n</div>'},3:function(e,n,a,t,i){var l,s=null!=n?n:{};return'    <div class="title">\n        <div class="clearfix layout-mt-small">\n            <div class="h4 pull-left layout-mr-small strong">学员列表</div>\n            <div class="check pull-left">\n                <input type="checkbox" id="checkAllTrainee" name="checkAllTrainee"/>\n                <label for="checkAllTrainee">全选</label>\n            </div>\n        </div>\n'+(null!=(l=a.each.call(s,null!=n?n.traineeGroups:n,{name:"each",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:"")+'        <div class="clearfix layout-mt-small">\n            <div class="h4 pull-left layout-mr-small strong">班主任列表</div>\n            <div class="check pull-left">\n                <input type="checkbox" id="checkAllStaff" name="checkAllStaff"/>\n                <label for="checkAllStaff">全选</label>\n            </div>\n        </div>\n        <div id="classstaffParent" class="student-list layout-mt-small overflow layout-ml">\n'+(null!=(l=a.each.call(s,null!=n?n.classstaffs:n,{name:"each",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i}))?l:"")+'        </div>\n    </div>\n    <div class="layout-mt">\n        <div class="clearfix">\n            <div class="h4 pull-left layout-mr-small strong">短信内容</div>\n            <div class="check pull-left">\n                <input type="checkbox" id="fillMessage" name="fillMessage"/>\n                <label for="fillMessage">报到短信</label>\n            </div>\n            <div id="tips" class="pull-right">0/150</div>\n        </div>\n        <div class="m-top">\n            <textarea id="message" placeholder="填写短信内容" rows="10" x-rule="maxLength:150"></textarea>\n        </div>\n    </div>\n    <div class="text-center layout-mb-small">\n        <div id="send" class="btn layout-mt-small">发送</div>\n    </div>\n'},4:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d=e.escapeExpression;return'            <div class="clearfix layout-mt-small layout-ml-small h5">\n                <div class="small-font pull-left layout-mr-small strong">'+d((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,"function"==typeof s?s.call(r,{name:"name",hash:{},data:i}):s))+'</div>\n                <div class="check pull-left">\n                    <input type="checkbox" id="checkGroup'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'" name="checkGroup"/>\n                    <label for="checkGroup'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">全选</label>\n                </div>\n            </div>\n            <div class="student-list layout-mt-small overflow layout-ml" id="traineeParent-'+d((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,"function"==typeof s?s.call(r,{name:"id",hash:{},data:i}):s))+'">\n'+(null!=(l=a.each.call(r,null!=n?n.traineeList:n,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+"            </div>\n"},5:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.mark:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(8,i,0),data:i}))?l:""},6:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                        <div class="pointer" id="trainee-'+r(s(null!=(l=null!=n?n.member:n)?l.id:l,n))+'" name="trainee">\n                            '+r(s(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+'\n                            <div class="tag">√</div>\n                        </div>\n'},8:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                        <div class="pointer" id="trainee-'+r(s(null!=(l=null!=n?n.member:n)?l.id:l,n))+'" name="trainee">'+r(s(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</div>\n"},10:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=n?n.mark:n,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.program(13,i,0),data:i}))?l:""},11:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                    <div class="pointer" id="classstaff-'+r(s(null!=(l=null!=n?n.member:n)?l.id:l,n))+'" name="classstaff">\n                        '+r(s(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+'\n                        <div class="tag">√</div>\n                    </div>\n'},13:function(e,n,a,t,i){var l,s=e.lambda,r=e.escapeExpression;return'                    <div class="pointer" id="classstaff-'+r(s(null!=(l=null!=n?n.member:n)?l.id:l,n))+'" name="classstaff">'+r(s(null!=(l=null!=n?n.member:n)?l.fullName:l,n))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/trainee/message/view-main",function(e,n,a){var t,i=e("lodash/collection"),l=e("jquery"),s=e("./app/ext/views/form/validators"),r=e("./app/util/helpers");a.bindings={traineeGroups:!0,classstaffs:!0,state:!1,classInfo:!0,marks:!0},a.dataForTemplate={traineeGroups:function(e){var n=e.traineeGroups,a=this.bindings.marks.data||[];return n=i.filter(n,function(e){return!!(e.traineeList&&e.traineeList.length>0)}),a.length>0&&i.map(n,function(e){i.map(e.traineeList,function(e){var n=e;-1!==a.indexOf(n.member.id)&&(n.mark=!0)})}),n},classstaffs:function(e){var n=e.classstaffs,a=this.bindings.marks.data||[];return a.length>0&&i.map(n,function(e){var n=e;-1!==a.indexOf(n.member.id)&&(n.mark=!0)}),n}},a.events={"click checkAllTrainee":"checkAllTrainee","click checkGroup*":"checkGroup","click trainee-*":"checkTrainee","click checkAllStaff":"checkAllStaff","click classstaff-*":"checkClassstaff","click fillMessage":"fillMessage","input message":"changeMessageTips"},a.handlers={checkAllTrainee:function(e,n){var a=l(this.$$('[name="checkGroup"]')),t=l(this.$$('[name="trainee"]')),s=[],r=this.bindings.traineeGroups.data;a.each(function(){l(this).prop("checked",n.checked)}),n.checked?(t.each(function(){l(this).addClass("active")}),r&&i.map(r,function(e){var n=e;i.map(n.traineeList,function(e){var n=e;s.push(n.member.id)})})):t.each(function(){l(this).removeClass("active")}),this.bindings.state.data.memberIds=s},checkGroup:function(e,n,a){var t,s,r,o,d=l(a).parent().parent(),c=d.next().children(),u=l(this.$$('[name="checkAllTrainee"]')),m=l(this.$$('[name="checkGroup"]')),p=this.bindings.state.data.memberIds||[],h=this.bindings.traineeGroups.data;a.checked?(l(c).each(function(){l(this).addClass("active")}),s=h.findIndex(function(n){return n.id===e}),r=h[s],i.map(r.traineeList,function(e){p.push(e.member.id)})):(l(c).each(function(){l(this).removeClass("active")}),s=h.findIndex(function(n){return n.id===e}),r=h[s],i.map(r.traineeList,function(e){o=p.findIndex(function(n){return n===e.member.id}),p=p.slice(0,o)})),this.bindings.state.data.memberIds=p,t=l(this.$$('[name="checkGroup"]:checked')),u.prop("checked",m.length===t.length)},checkTrainee:function(e,n,a){var t,s,r=l(a).parent(),o=r.children().length,d=r.prev().children().eq(1),c=d.children("input"),u=l(this.$$('[name="checkAllTrainee"]')),m=l(this.$$('[name="checkGroup"]')),p=this.bindings.state.data.memberIds||[];l(a).toggleClass("active"),t=r.children(".active").length,c.prop("checked",o===t),s=l(this.$$('[name="checkGroup"]:checked')),u.prop("checked",m.length===s.length),l(a).hasClass("active")?p.push(e):p=i.reject(p,function(n){return n===e}),this.bindings.state.data.memberIds=p},checkAllStaff:function(e,n){var a=l(this.$$('[name="classstaff"]')),t=[],s=this.bindings.classstaffs.data;n.checked?(a.each(function(){l(this).addClass("active")}),s&&i.map(s,function(e){t.push(e.member.id)})):a.each(function(){l(this).removeClass("active")}),this.bindings.state.data.staffIds=t},checkClassstaff:function(e,n,a){var t,i,s=l(this.$$('[name="classstaff"]')).length,r=l(this.$$('[name="checkAllStaff"]')),o=this.bindings.state.data.staffIds||[];l(a).toggleClass("active"),t=l(a).parent().children(".active").length,r.prop("checked",s===t),l(a).hasClass("active")?o.push(e):(i=o.findIndex(function(n){return n===e}),o=o.slice(0,i)),this.bindings.state.data.staffIds=o},changeMessageTips:function(){t.call(this)},fillMessage:function(e,n){var a="尊敬的学员:\n您好！欢迎您参加arriveMonth月arriveDay日—returnMonth月returnDay日在中国移动党校举办的《className》！\n本条短信是您的报到凭证，请在进入党校时主动出示，并保留至培训班结束。感谢您的支持与配合！\n住宿地点：restRoom\n报到地点：学六楼、学员公寓在学六楼前台报到，学五楼在学五楼服务员室报到\n教室：classroom\n餐厅：restaurants\n班车时间：报到日当天11:00；15:00；17:30；20:00\n班车地点：天通苑北站（地铁5号线终点站）出地铁站南行（右）100米，上天桥行至马路对面天桥南侧。\n为保证您顺利乘车，请提前五分钟到达班车点，响应中心电话：15801696688-27260。",s=this.bindings.classInfo.data,o=l(this.$("message")),d=r.monthDay(s.arriveDate),c=r.monthDay(s.returnDate),u=d.split("-")[0],m=d.split("-")[1],p=c.split("-")[0],h=c.split("-")[1],f=s.className,v=s.guestroomsConfig,g=s.classroomConfig,b=s.restaurantsConfig,x=[],y=[],w=[];v&&i.forEach(v,function(e){var n=e||{};n.name&&x.push(n.name)}),x=x.length>0?x.join(","):"",g&&i.forEach(g,function(e){var n=e||{};n.classroom&&y.push(n.classroom)}),y=y.length>0?y.join(","):"",b&&i.forEach(b,function(e){var n=e||{};n.name&&w.push(n.name)}),w=w.length>0?w.join(","):"",a=a.replace("arriveMonth",u).replace("arriveDay",m),a=a.replace("returnMonth",p).replace("returnDay",h),a=a.replace("className",f).replace("restRoom",x),a=a.replace("classroom",y).replace("restaurants",w),n.checked?o.val(a):o.val(""),t.call(this)}},t=function(){var e,n,a=this.$("message"),t=l(this.$("tips"));0!==t.length&&(e=l(a).attr("x-rule").match(/maxLength:(\d+)/)[1],n=l(a).val().length,t.text(n+"/"+e))},a.actions={"click send":"send"},a.dataForActions={send:function(){var e=this.bindings.state.data.memberIds,n=this.bindings.state.data.staffIds,a=[],t=[],r=l(this.$("message")).val(),o=this.$("fillMessage").checked;return 0===e.length&&0===n.length?(this.app.message.error("请勾选至少一条数据"),!1):s.required.fn(r)?s.maxLength.fn(r,150)?(a=e.concat(n),i.map(a,function(e){var n={};n.memberId=e,t.push(n)}),{memberIds:t,content:r,type:o?5:1}):(this.app.message.error("短信最大长度为150"),!1):(this.app.message.error("请填写短信内容"),!1)}}},{"./app/ext/views/form/validators":"./app/ext/views/form/validators","./app/util/helpers":"./app/util/helpers",jquery:!1,"lodash/collection":!1}),loadjs.d("./app/train/trainee/select-member-radio/index",function(e,n,a){var t=e("drizzle-zxy");a.title="选择用户",a.items={content:"content",toolbox:"toolbox","human/organization/navigate-tree":{isModule:!0,region:"left",uri:"human/member"}},a.store={models:{members:{url:"../human/member/picker-for-train",type:"pageable",root:"items"},state:{data:{}},search:{data:{},mixin:{getQueryParams:function(){return this.data.organizationId?{organizationId:this.data.organizationId}:{}}}}},callbacks:{refreshList:function(e){var n=t.assign({},this.models.search.getQueryParams(),e),a=this.models.members;a.clear(),a.params=n,this.get(a)},searchKey:function(e){var n=t.assign({status:1},this.models.search.getQueryParams(),e),a=this.models.members;a.clear(),a.params=n,this.get(a)}}},a.mixin={nodeChanged:function(e){var n=this.store.models.search;n.data.organizationId=e.id,n.changed(),this.dispatch("refreshList")}},a.buttons=[{text:"确认",fn:function(){var e=this.store.models.state.data;this.renderOptions.callback(e),this.store.models.state.data={}}}]},{"drizzle-zxy":!1}),loadjs.d("./app/train/trainee/select-member-radio/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="toolbox" data-region="toolbox"></div>\n    <div class="content-left" data-region="left"></div>\n    <div class="content-main" data-region="content"></div>\n'},3:function(e,n,a,t,i){return'<form id="searchKey" class="vertical">\n    员工编号\n    <input name="name"/>\n    姓名\n    <input name="fullName"/>\n    <btn id="searchMember" class="btn">查询</btn>\n</form>'},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'    <div class="list">\n        <table class="table">\n            <thead><tr>\n                <th>选择</th>\n                <th>'+o((a.setting||n&&n.setting||r).call(s,"human.member.full-name",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.name",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.sex",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.position-alias",{name:"setting",hash:{},data:i}))+"</th>\n                \x3c!--  th > setting('human.member.direct-supervisor') --\x3e\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"system.all.organization",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"system.all.company",{name:"setting",hash:{},data:i}))+"</th>\n            </tr></thead>\n            <tbody>"+(null!=(l=a.each.call(s,null!=n?n.members:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'</tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination" style="float:none"></div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return"<tr>\n                <td>\n                    <input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="radio" id="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" name="memberId" value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                    <label for="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"></label>\n                </td>\n                <td>'+c((s=null!=(s=a.fullName||(null!=n?n.fullName:n))?s:o,typeof s===d?s.call(r,{name:"fullName",hash:{},data:i}):s))+"</td>\n                <td>"+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                <td>"+c((a.map||n&&n.map||o).call(r,"trainee-sex",null!=n?n.sex:n,{name:"map",hash:{},data:i}))+"</td>\n                <td>"+c(u(null!=(l=null!=n?n.majoyPosition:n)?l.name:l,n))+"</td>\n                \x3c!--  td > echo(memberDetail.directSupervisor.fullName) --\x3e\n                <td>"+c(u(null!=(l=null!=n?n.organization:n)?l.name:l,n))+"</td>\n                <td>"+c(u(null!=(l=null!=n?n.organization:n)?l.companyName:l,n))+"\n"},7:function(e,n,a,t,i){return' checked="checked"'},9:function(e,n,a,t,i){return'                    <tr><td colspan="7"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr></td>\n            </tr>\n            '},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"toolbox",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/trainee/select-member-radio/view-content",function(e,n,a){a.components=[{id:"pager",name:"pager",options:{model:"members"}}],a.title="选择用户",a.bindings={members:!0,state:!0},a.events={"click select_*":"checkMember"},a.handlers={checkMember:function(e){var n,a=this.bindings.members.data;n=a.findIndex(function(n){return n.id===e}),this.bindings.state.data=a[n]}},a.dataForTemplate={members:function(e){return e.members}},a.searchChange=function(){this.module.dispatch("refreshList",this.bindings.search.getQueryParams())}},{}),loadjs.d("./app/train/trainee/select-member/index",function(e,n,a){var t=e("drizzle-zxy");a.title="人员选择",a.items={content:"content",toolbox:"toolbox","human/organization/navigate-tree":{isModule:!0,region:"left",uri:"human/member"}},a.large=!0,a.store={models:{members:{url:"../human/member/picker-for-train",type:"pageable",root:"items"},state:{data:[]},search:{data:{},mixin:{getQueryParams:function(){return this.data.organizationId?{organizationId:this.data.organizationId}:{}}}}},callbacks:{refreshList:function(e){var n=t.assign({},this.models.search.getQueryParams()),a=this.models.members;return e&&t.assign(n,{name:e.name.trim(),fullName:e.fullName.trim()}),a.clear(),a.params=n,this.get(a)},searchKey:function(e){var n=t.assign({status:1},this.models.search.getQueryParams(),e),a=this.models.members;return a.clear(),a.params=n,this.get(a)}}},a.mixin={nodeChanged:function(e){var n=this.store.models.search;n.data.organizationId=e.id,n.changed(),this.dispatch("refreshList")}},a.buttons=[{text:"确认",fn:function(){var e=this.store.models.state.data;this.renderOptions.callback(e.join(",")),this.store.models.state.data=[]}}],a.beforeClose=function(){this.store.models.state.clear()}},{"drizzle-zxy":!1}),loadjs.d("./app/train/trainee/select-member/templates",function(e,n,a){
var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'    <div class="toolbox" data-region="toolbox"></div>\n    <div style="max-height:20em;">\n        <div class="content-left border around" style="width:384px" data-region="left"></div>\n        <div class="content-main" style="margin-left: 390px" data-region="content"></div>\n    </div>\n'},3:function(e,n,a,t,i){return'<form id="searchKey" class="vertical layout-mb-small">\n    <div class="filter-row train-small">\n        <div class="filter-item">\n            <leabel>员工编号</leabel>\n            <input class="input" name="name"/>\n        </div>\n        <div class="filter-item">\n            <leabel>姓名</leabel>\n            <input class="input" name="fullName"/>\n        </div>\n        <div class="filter-item">\n            <btn id="searchMember" class="btn">查询</btn>\n        </div>\n    </div>\n</form>'},5:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing,o=e.escapeExpression;return'    <div class="list">\n        <table class="table text-center border around train margin-none">\n            <thead><tr>\n                <th>选择</th>\n                <th>'+o((a.setting||n&&n.setting||r).call(s,"human.member.full-name",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.name",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.sex",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"human.member.position-alias",{name:"setting",hash:{},data:i}))+'</th>\n                <th width="100">'+o((a.setting||n&&n.setting||r).call(s,"system.all.company",{name:"setting",hash:{},data:i}))+"</th>\n                <th>"+o((a.setting||n&&n.setting||r).call(s,"system.all.organization",{name:"setting",hash:{},data:i}))+"</th>\n            </tr></thead>\n            <tbody>\n                "+(null!=(l=a.each.call(s,null!=n?n.members:n,{name:"each",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i}))?l:"")+'\n            </tbody>\n        </table>\n    </div>\n    <div id="pager" class="pagination m-top" style="float:none"></div>\n'},6:function(e,n,a,t,i){var l,s,r=null!=n?n:{},o=a.helperMissing,d="function",c=e.escapeExpression,u=e.lambda;return"<tr>\n                    <td>\n                        <input "+(null!=(l=a.if.call(r,null!=n?n.checked:n,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?l:"")+' type="checkbox" id="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'" value="'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"/>\n                        <label for="select_'+c((s=null!=(s=a.id||(null!=n?n.id:n))?s:o,typeof s===d?s.call(r,{name:"id",hash:{},data:i}):s))+'"></label>\n                    </td>\n                    <td>'+c((s=null!=(s=a.fullName||(null!=n?n.fullName:n))?s:o,typeof s===d?s.call(r,{name:"fullName",hash:{},data:i}):s))+"</td>\n                    <td>"+c((s=null!=(s=a.name||(null!=n?n.name:n))?s:o,typeof s===d?s.call(r,{name:"name",hash:{},data:i}):s))+"</td>\n                    <td>"+c((a.map||n&&n.map||o).call(r,"trainee-sex",null!=n?n.sex:n,{name:"map",hash:{},data:i}))+"</td>\n                    <td>"+c(u(null!=(l=null!=n?n.majoyPosition:n)?l.name:l,n))+"</td>\n                    <td>"+c(u(null!=(l=null!=n?n.organization:n)?l.companyName:l,n))+"</td>\n                    <td>"+c(u(null!=(l=null!=n?n.organization:n)?l.name:l,n))+"</td>\n                </tr>\n"},7:function(e,n,a,t,i){return' checked="checked"'},9:function(e,n,a,t,i){return'                    <tr><td colspan="7"><div class="text-center">\n                        <img src="../images/sys-tip/empty.png" width="150" height="150"/>\n                        <p>暂无内容</p>\n                    </div>\n                    </td></tr>'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+(null!=(l=(a.view||n&&n.view||d).call(o,"toolbox",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"content",{name:"view",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/trainee/select-member/view-content",function(e,n,a){var t=e("lodash/collection");a.components=[{id:"pager",name:"pager",options:{model:"members"}}],a.title="选择用户",a.bindings={members:!0,state:!0},a.events={"click select_*":"checkMember"},a.handlers={checkMember:function(e,n,a){var t=this.bindings.state.data,i=e,l=0;if(a.checked)t.push(i);else for(l;l<t.length;l++)if(t[l]===i){t.splice(l,1);break}}},a.dataForTemplate={members:function(e){var n=this.bindings.state.data,a=this.module.renderOptions.memberIds;return t.map(e.members||[],function(e){var t=e||{};-1===n.indexOf(t.id)&&-1===a.indexOf(t.id)||(t.checked=!0)}),e.members}},a.searchChange=function(){this.module.dispatch("refreshList",this.bindings.search.getQueryParams())}},{"lodash/collection":!1}),loadjs.d("./app/train/trainee/templates",function(e,n,a){var t=e("handlebars/runtime").default.template;n.exports=t({1:function(e,n,a,t,i){return'<div class="membership container layout-mt-small border around">\n    <section>\n        <div class="tabs line m-top" data-region="tab"></div>\n        <div class="membership-contents" data-region="main"></div>\n    </section>\n</div>'},3:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.tab:l,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?l:""},4:function(e,n,a,t,i){var l,s=null!=n?n:{},r=a.helperMissing;return"        <ul>\n"+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.isAutoApprove:l,"ne",1,{name:"compare",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?l:"")+'            <li id="tab-formal-trainee" class="h4 strong '+(null!=(l=a.if.call(s,null!=n?n.isFmtrainee:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'">学员</li>\n'+(null!=(l=(a.compare||n&&n.compare||r).call(s,null!=(l=null!=n?n.state:n)?l.role:l,"ne",2,{name:"compare",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))?l:"")+"        </ul>\n"},5:function(e,n,a,t,i){var l;return'                <li id="tab-manage" class="h4 strong '+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isManage:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'">报名管理</li>\n'},6:function(e,n,a,t,i){return"active"},8:function(e,n,a,t,i){var l,s=null!=n?n:{};return'                <li id="tab-classstaff" class="h4 strong '+(null!=(l=a.if.call(s,null!=n?n.isClassstaff:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'">班主任</li>\n                <li id="tab-informal-trainee" class="h4 strong '+(null!=(l=a.if.call(s,null!=n?n.isIftrainee:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'">非正式成员</li>\n'+(null!=(l=a.if.call(s,null!=n?n.haveMessage:n,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))?l:"")},9:function(e,n,a,t,i){var l;return'                    <li id="tab-message" class="h4 strong '+(null!=(l=a.if.call(null!=n?n:{},null!=n?n.isMessage:n,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))?l:"")+'">短信发送</li>\n'},11:function(e,n,a,t,i){var l;return null!=(l=a.if.call(null!=n?n:{},null!=(l=null!=n?n.state:n)?l.tab:l,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))?l:""},12:function(e,n,a,t,i){var l;return'        <div style="padding:0px;margin:0px;" data-dynamic-key="'+e.escapeExpression(e.lambda(null!=(l=null!=n?n.state:n)?l.tab:l,n))+'"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,a,t,i){var l,s,r,o=null!=n?n:{},d=a.helperMissing,c="";return s=null!=(s=a.module||(null!=n?n.module:n))?s:d,r={name:"module",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},l="function"==typeof s?s.call(o,r):s,a.module||(l=a.blockHelperMissing.call(n,l,r)),null!=l&&(c+=l),c+"\n"+(null!=(l=(a.view||n&&n.view||d).call(o,"tab",{name:"view",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?l:"")+(null!=(l=(a.view||n&&n.view||d).call(o,"main",{name:"view",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))?l:"")},useData:!0})},{"handlebars/runtime":!1}),loadjs.d("./app/train/trainee/view-main",function(e,n,a){a.type="dynamic",a.bindings={state:!0},a.getEntityModuleName=function(e){return"train/trainee/"+e},a.getEntity=function(){return{state:this.bindings.state.data}},a.dataForEntityModule=function(e){return e}},{}),loadjs.d("./app/train/trainee/view-tab",function(e,n,a){var t=e("jquery");a.bindings={state:!0},a.events={"click tab-*":"showTab"},a.handlers={showTab:function(e){var n=this.bindings.state,a=n.data.classId,i=n.data.isAutoApprove,l=n.data.quotaType,s=n.data.role,r=n.data.isOpen,o=n.data.id,d=n.data.name;t(this.$("tab-"+e)).addClass("active").siblings().removeClass("active"),n.data={},n.data.tab=e||"manage",n.data[e]=!0,n.data.classId=a,n.data.isAutoApprove=i,n.data.quotaType=l,n.data.role=s,n.data.isOpen=r,n.data.id=o,n.data.name=d,n.changed()}},a.dataForTemplate={isManage:function(){return"manage"===this.bindings.state.data.tab},isFmtrainee:function(){return"formal-trainee"===this.bindings.state.data.tab},isClassstaff:function(){return"classstaff"===this.bindings.state.data.tab},isIftrainee:function(){return"informal-trainee"===this.bindings.state.data.tab},isMessage:function(){return"message"===this.bindings.state.data.tab},haveMessage:function(){return 4!==this.bindings.state.data.role}}},{jquery:!1}),loadjs.d("9",function(e,n,a){!function(e,t){"object"==typeof a&&void 0!==n?n.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).DisableDevtool=t()}(this,function(){"use strict";function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function t(e,n,t){n&&a(e.prototype,n),t&&a(e,t),Object.defineProperty(e,"prototype",{writable:!1})}function i(e,n,a){n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}function l(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&r(e,n)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,n){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function o(e,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(n=e))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function d(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,t=s(e);return o(this,n?(a=s(this).constructor,Reflect.construct(t,arguments,a)):t.apply(this,arguments))}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}function u(e,n){var a,t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return c(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(a="Object"===a&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length)return t&&(e=t),a=0,{s:n=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==t.return||t.return()}finally{if(s)throw i}}}}function m(){if(F.url)window.location.href=F.url;else if(F.rewriteHTML)try{document.documentElement.innerHTML=F.rewriteHTML}catch(e){document.documentElement.innerText=F.rewriteHTML}else{try{window.opener=null,window.open("","_self"),window.close(),window.history.back()}catch(e){console.log(e)}setTimeout(function(){window.location.href=F.timeOutUrl||"https://theajack.github.io/disable-devtool/404.html?h=".concat(encodeURIComponent(location.host))},500)}}function p(n){var a,t=0<arguments.length&&void 0!==n?n:{};for(a in F){var i=a;void 0===t[i]||e(F[i])!==e(t[i])&&-1===B.indexOf(i)||(F[i]=t[i])}"function"==typeof F.ondevtoolclose&&!0===F.clearIntervalWhenDevOpenTrigger&&(F.clearIntervalWhenDevOpenTrigger=!1,console.warn("【DISABLE-DEVTOOL】clearIntervalWhenDevOpenTrigger 在使用 ondevtoolclose 时无效"))}function h(){return(new Date).getTime()}function f(e){var n=h();return e(),h()-n}function v(e,n){function a(a){return function(){e&&e();var t=a.apply(void 0,arguments);return n&&n(),t}}var t=window.alert,i=window.confirm,l=window.prompt;try{window.alert=a(t),window.confirm=a(i),window.prompt=a(l)}catch(a){}}function g(){function e(e){return-1!==n.indexOf(e)}var n=navigator.userAgent.toLowerCase(),a=function(){var e=navigator,n=e.platform,e=e.maxTouchPoints;if("number"==typeof e)return 1<e;if("string"==typeof n){if(e=n.toLowerCase(),/(mac|win)/i.test(e))return!1;if(/(android|iphone|ipad|ipod|arch)/i.test(e))return!0}return/(iphone|ipad|ipod|ios|android)/i.test(navigator.userAgent.toLowerCase())}(),t=!!window.top&&window!==window.top,i=!a,l=e("qqbrowser"),s=e("firefox"),r=e("macintosh"),o=e("edge"),d=o&&!e("chrome"),c=d||e("trident")||e("msie"),u=e("crios"),m=e("edgios"),p=e("chrome")||u,h=!a&&/(googlebot|baiduspider|bingbot|applebot|petalbot|yandexbot|bytespider|chrome\-lighthouse|moto g power)/i.test(n);Object.assign(P,{iframe:t,pc:i,qqBrowser:l,firefox:s,macos:r,edge:o,oldEdge:d,ie:c,iosChrome:u,iosEdge:m,chrome:p,seoBot:h,mobile:a})}function b(){for(var e=function(){for(var e={},n=0;n<500;n++)e["".concat(n)]="".concat(n);return e}(),n=[],a=0;a<50;a++)n.push(e);return n}function x(){F.clearLog&&$()}function y(){var e=F.ignore;if(e){if("function"==typeof e)return e();if(0!==e.length){var n=location.href;if(U===n)return _;U=n;var a,t=!1,i=u(e);try{for(i.s();!(a=i.n()).done;){var l=a.value;if("string"==typeof l){if(-1!==n.indexOf(l)){t=!0;break}}else if(l.test(n)){t=!0;break}}}catch(e){i.e(e)}finally{i.f()}return _=t}}}function w(e){var n,a,t=P.macos?function(e,n){return e.metaKey&&e.altKey&&(73===n||74===n)}:function(e,n){return e.ctrlKey&&e.shiftKey&&(73===n||74===n)},i=P.macos?function(e,n){return e.metaKey&&e.altKey&&85===n||e.metaKey&&83===n}:function(e,n){return e.ctrlKey&&(83===n||85===n)};e.addEventListener("keydown1",function(n){var a=(n=n||e.event).keyCode||n.which;if(1===a||t(n,a)||i(n,a))return I(e,n)},!0),n=e,F.disableMenu&&n.addEventListener("contextmenu1",function(e){if("touch"!==e.pointerType)return I(n,e)}),a=e,F.disableSelect&&k(a,"selectstart"),a=e,F.disableCopy&&k(a,"copy"),a=e,F.disableCut&&k(a,"cut"),a=e,F.disablePaste&&k(a,"paste")}function k(e,n){e.addEventListener(n,function(n){return I(e,n)})}function I(e,n){if(!y()&&!X())return(n=n||e.event).returnValue=!1,n.preventDefault(),!1}function q(e){H[e]=!1}function A(){for(var e in H)if(H[e])return G=!0;return G=!1}function T(e){function n(){c=!0}function a(){c=!1}function t(){(d[r]===s?l:i)()}var i,l,s,r,o,d,c=!1;v(n,a),i=a,l=n,void 0!==(d=document).hidden?(s="hidden",o="visibilitychange",r="visibilityState"):void 0!==d.mozHidden?(s="mozHidden",o="mozvisibilitychange",r="mozVisibilityState"):void 0!==d.msHidden?(s="msHidden",o="msvisibilitychange",r="msVisibilityState"):void 0!==d.webkitHidden&&(s="webkitHidden",o="webkitvisibilitychange",r="webkitVisibilityState"),d.removeEventListener(o,t,!1),d.addEventListener(o,t,!1),J=window.setInterval(function(){if(!(e.isSuspend||c||y())){var n,a,t=u(ee);try{for(t.s();!(n=t.n()).done;){var i=n.value;q(i.type),i.detect(ne++)}}catch(n){t.e(n)}finally{t.f()}x(),"function"==typeof F.ondevtoolclose&&(a=G,!A()&&a&&F.ondevtoolclose())}},F.interval),Z=setTimeout(function(){P.pc||Y.isUsing()||M()},F.stopIntervalTime)}function M(){window.clearInterval(J)}function N(e){for(var n=function(e,n){e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;for(var a=1732584193,t=-271733879,i=-1732584194,l=271733878,s=0;s<e.length;s+=16){var r=a,o=t,d=i,c=l;a=E(a,t,i,l,e[s+0],7,-680876936),l=E(l,a,t,i,e[s+1],12,-389564586),i=E(i,l,a,t,e[s+2],17,606105819),t=E(t,i,l,a,e[s+3],22,-1044525330),a=E(a,t,i,l,e[s+4],7,-176418897),l=E(l,a,t,i,e[s+5],12,1200080426),i=E(i,l,a,t,e[s+6],17,-1473231341),t=E(t,i,l,a,e[s+7],22,-45705983),a=E(a,t,i,l,e[s+8],7,1770035416),l=E(l,a,t,i,e[s+9],12,-1958414417),i=E(i,l,a,t,e[s+10],17,-42063),t=E(t,i,l,a,e[s+11],22,-1990404162),a=E(a,t,i,l,e[s+12],7,1804603682),l=E(l,a,t,i,e[s+13],12,-40341101),i=E(i,l,a,t,e[s+14],17,-1502002290),t=E(t,i,l,a,e[s+15],22,1236535329),a=D(a,t,i,l,e[s+1],5,-165796510),l=D(l,a,t,i,e[s+6],9,-1069501632),i=D(i,l,a,t,e[s+11],14,643717713),t=D(t,i,l,a,e[s+0],20,-373897302),a=D(a,t,i,l,e[s+5],5,-701558691),l=D(l,a,t,i,e[s+10],9,38016083),i=D(i,l,a,t,e[s+15],14,-660478335),t=D(t,i,l,a,e[s+4],20,-405537848),a=D(a,t,i,l,e[s+9],5,568446438),l=D(l,a,t,i,e[s+14],9,-1019803690),i=D(i,l,a,t,e[s+3],14,-187363961),t=D(t,i,l,a,e[s+8],20,1163531501),a=D(a,t,i,l,e[s+13],5,-1444681467),l=D(l,a,t,i,e[s+2],9,-51403784),i=D(i,l,a,t,e[s+7],14,1735328473),t=D(t,i,l,a,e[s+12],20,-1926607734),a=R(a,t,i,l,e[s+5],4,-378558),l=R(l,a,t,i,e[s+8],11,-2022574463),i=R(i,l,a,t,e[s+11],16,1839030562),t=R(t,i,l,a,e[s+14],23,-35309556),a=R(a,t,i,l,e[s+1],4,-1530992060),l=R(l,a,t,i,e[s+4],11,1272893353),i=R(i,l,a,t,e[s+7],16,-155497632),t=R(t,i,l,a,e[s+10],23,-1094730640),a=R(a,t,i,l,e[s+13],4,681279174),l=R(l,a,t,i,e[s+0],11,-358537222),i=R(i,l,a,t,e[s+3],16,-722521979),t=R(t,i,l,a,e[s+6],23,76029189),a=R(a,t,i,l,e[s+9],4,-640364487),l=R(l,a,t,i,e[s+12],11,-421815835),i=R(i,l,a,t,e[s+15],16,530742520),t=R(t,i,l,a,e[s+2],23,-995338651),a=z(a,t,i,l,e[s+0],6,-198630844),l=z(l,a,t,i,e[s+7],10,1126891415),i=z(i,l,a,t,e[s+14],15,-1416354905),t=z(t,i,l,a,e[s+5],21,-57434055),a=z(a,t,i,l,e[s+12],6,1700485571),l=z(l,a,t,i,e[s+3],10,-1894986606),i=z(i,l,a,t,e[s+10],15,-1051523),t=z(t,i,l,a,e[s+1],21,-2054922799),a=z(a,t,i,l,e[s+8],6,1873313359),l=z(l,a,t,i,e[s+15],10,-30611744),i=z(i,l,a,t,e[s+6],15,-1560198380),t=z(t,i,l,a,e[s+13],21,1309151649),a=z(a,t,i,l,e[s+4],6,-145523070),l=z(l,a,t,i,e[s+11],10,-1120210379),i=z(i,l,a,t,e[s+2],15,718787259),t=z(t,i,l,a,e[s+9],21,-343485551),a=j(a,r),t=j(t,o),i=j(i,d),l=j(l,c)}return Array(a,t,i,l)}(function(e){for(var n=Array(),a=(1<<ae)-1,t=0;t<e.length*ae;t+=ae)n[t>>5]|=(e.charCodeAt(t/ae)&a)<<t%32;return n}(e),e.length*ae),a="0123456789abcdef",t="",i=0;i<4*n.length;i++)t+=a.charAt(n[i>>2]>>i%4*8+4&15)+a.charAt(n[i>>2]>>i%4*8&15);return t}function C(e,n,a,t,i,l){return j((n=j(j(n,e),j(t,l)))<<i|n>>>32-i,a)}function E(e,n,a,t,i,l,s){return C(n&a|~n&t,e,n,i,l,s)}function D(e,n,a,t,i,l,s){return C(n&t|a&~t,e,n,i,l,s)}function R(e,n,a,t,i,l,s){return C(n^a^t,e,n,i,l,s)}function z(e,n,a,t,i,l,s){return C(a^(n|~t),e,n,i,l,s)}function j(e,n){var a=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(a>>16)<<16|65535&a}function S(e){return null!=e}var O,L,$,K,F={md5:"",ondevtoolopen:m,ondevtoolclose:null,url:"",timeOutUrl:"",tkName:"ddtk",interval:500,disableMenu:!0,stopIntervalTime:5e3,clearIntervalWhenDevOpenTrigger:!1,detectors:[0,1,3,4,5,6,7],clearLog:!0,disableSelect:!1,disableCopy:!1,disableCut:!1,disablePaste:!1,ignore:null,disableIframeParents:!0,seo:!0,rewriteHTML:""},B=["detectors","ondevtoolclose","ignore"],P={iframe:!1,pc:!1,qqBrowser:!1,firefox:!1,macos:!1,edge:!1,oldEdge:!1,ie:!1,iosChrome:!1,iosEdge:!1,chrome:!1,seoBot:!1,mobile:!1},Q=window.console||{log:function(){},table:function(){},clear:function(){}},U="",_=!1,X=function(){return!1},G=!1,H={};(te=K=K||{})[te.Unknown=-1]="Unknown",te[te.RegToString=0]="RegToString",te[te.DefineId=1]="DefineId",te[te.Size=2]="Size",te[te.DateToString=3]="DateToString",te[te.FuncToString=4]="FuncToString",te[te.Debugger=5]="Debugger",te[te.Performance=6]="Performance",te[te.DebugLib=7]="DebugLib";var V,W=function(){function e(a){var t=a.type,a=a.enabled,a=void 0===a||a;n(this,e),this.type=K.Unknown,this.enabled=!0,this.type=t,this.enabled=a,this.enabled&&(t=this,ee.push(t),this.init())}return t(e,[{key:"onDevToolOpen",value:function(){var e;console.warn("You don't have permission to use DEVTOOL!【type = ".concat(this.type,"】")),F.clearIntervalWhenDevOpenTrigger&&M(),window.clearTimeout(Z),F.ondevtoolopen(this.type,m),e=this.type,H[e]=!0}},{key:"init",value:function(){}}]),e}(),Y=function(){function e(){return n(this,e),a.call(this,{type:K.DebugLib})}l(e,W);var a=d(e);return t(e,[{key:"init",value:function(){}},{key:"detect",value:function(){var e;(!0===(null==(e=null==(e=window.eruda)?void 0:e._devTools)?void 0:e._isShow)||window._vcOrigConsole&&window.document.querySelector("#__vconsole.vc-toggle"))&&this.onDevToolOpen()}}],[{key:"isUsing",value:function(){return!!window.eruda||!!window._vcOrigConsole}}]),e}(),J=0,Z=0,ee=[],ne=0,ae=8,te=function(){function e(){return n(this,e),a.call(this,{type:K.RegToString,enabled:P.qqBrowser||P.firefox})}l(e,W);var a=d(e);return t(e,[{key:"init",value:function(){var e=this;this.lastTime=0,this.reg=/./,O(this.reg),this.reg.toString=function(){var n;return P.qqBrowser?(n=(new Date).getTime(),e.lastTime&&n-e.lastTime<100?e.onDevToolOpen():e.lastTime=n):P.firefox&&e.onDevToolOpen(),""}}},{key:"detect",value:function(){O(this.reg)}}]),e}(),ie=function(){function e(){return n(this,e),a.call(this,{type:K.DefineId})}l(e,W);var a=d(e);return t(e,[{key:"init",value:function(){var e=this;this.div=document.createElement("div"),this.div.__defineGetter__("id",function(){e.onDevToolOpen()}),Object.defineProperty(this.div,"id",{get:function(){e.onDevToolOpen()}})}},{key:"detect",value:function(){O(this.div)}}]),e}(),le=function(){function e(){return n(this,e),a.call(this,{type:K.Size,enabled:!P.iframe&&!P.edge})}l(e,W);var a=d(e);return t(e,[{key:"init",value:function(){var e=this;this.checkWindowSizeUneven(),window.addEventListener("resize",function(){setTimeout(function(){e.checkWindowSizeUneven()},100)},!0)}},{key:"detect",value:function(){}},{key:"checkWindowSizeUneven",value:function(){var e=function(){if(S(window.devicePixelRatio))return window.devicePixelRatio;var e=window.screen;return!(S(e)||!e.deviceXDPI||!e.logicalXDPI)&&e.deviceXDPI/e.logicalXDPI}();if(!1!==e){var n=200<window.outerWidth-window.innerWidth*e,e=300<window.outerHeight-window.innerHeight*e;if(n||e)return this.onDevToolOpen(),!1;q(this.type)}return!0}}]),e}(),se=function(){function e(){return n(this,e),a.call(this,{type:K.DateToString,enabled:!P.iosChrome&&!P.iosEdge})}l(e,W);var a=d(e);return t(e,[{key:"init",value:function(){var e=this;this.count=0,this.date=new Date,this.date.toString=function(){return e.count++,""}}},{key:"detect",value:function(){this.count=0,O(this.date),x(),2<=this.count&&this.onDevToolOpen()}}]),e}(),re=function(){function e(){return n(this,e),a.call(this,{type:K.FuncToString,enabled:!P.iosChrome&&!P.iosEdge})}l(e,W);var a=d(e);return t(e,[{key:"init",value:function(){var e=this;this.count=0,this.func=function(){},this.func.toString=function(){return e.count++,""}}},{key:"detect",value:function(){this.count=0,O(this.func),x(),2<=this.count&&this.onDevToolOpen()}}]),e}(),oe=function(){function e(){return n(this,e),a.call(this,{type:K.Debugger,enabled:P.iosChrome||P.iosEdge})}l(e,W);var a=d(e);return t(e,[{key:"detect",value:function(){var e=h();100<h()-e&&this.onDevToolOpen()}}]),e}(),de=function(){function e(){return n(this,e),a.call(this,{type:K.Performance,enabled:P.chrome||!P.mobile})}l(e,W);var a=d(e);return t(e,[{key:"init",value:function(){this.maxPrintTime=0,this.largeObjectArray=b()}},{key:"detect",value:function(){var e=this,n=f(function(){L(e.largeObjectArray)}),a=f(function(){O(e.largeObjectArray)});if(this.maxPrintTime=Math.max(this.maxPrintTime,a),x(),0===n||0===this.maxPrintTime)return!1;n>10*this.maxPrintTime&&this.onDevToolOpen()}}]),e}(),ce=(i(V={},K.RegToString,te),i(V,K.DefineId,ie),i(V,K.Size,le),i(V,K.DateToString,se),i(V,K.FuncToString,re),i(V,K.Debugger,oe),i(V,K.Performance,de),i(V,K.DebugLib,Y),V),ue=Object.assign(function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return{success:!e,reason:e}}if(ue.isRunning)return n("already running");if(g(),$=P.ie?(O=function(){return Q.log.apply(Q,arguments)},L=function(){return Q.table.apply(Q,arguments)},function(){return Q.clear()}):(O=Q.log,L=Q.table,Q.clear),p(e),F.md5&&N(function(e){var n=window.location.search,a=window.location.hash;return""!==(n=""===n&&""!==a?"?".concat(a.split("?")[1]):n)&&void 0!==n&&(a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),null!=(e=n.substr(1).match(a)))?unescape(e[2]):""}(F.tkName))===F.md5)return n("token passed");if(F.seo&&P.seoBot)return n("seobot");ue.isRunning=!0,T(ue);var a=ue,t=(X=function(){return a.isSuspend},window.top),i=window.parent;if(w(window),F.disableIframeParents&&t&&i&&t!==window){for(;i!==t;)w(i),i=i.parent;w(t)}return("all"===F.detectors?Object.keys(ce):F.detectors).forEach(function(e){new ce[e]}),n()},{isRunning:!1,isSuspend:!1,md5:N,version:"0.3.7",DetectorType:K,isDevToolOpened:A});return te=function(){if("undefined"==typeof window||!window.document)return null;var e=document.querySelector("[disable-devtool-auto]");if(!e)return null;var n=["disable-menu","disable-select","disable-copy","disable-cut","disable-paste","clear-log"],a=["interval"],t={};return["md5","url","tk-name","detectors"].concat(n,a).forEach(function(i){var l=e.getAttribute(i);null!==l&&(-1!==a.indexOf(i)?l=parseInt(l):-1!==n.indexOf(i)?l="false"!==l:"detector"===i&&"all"!==l&&(l=l.split(" ")),t[function(e){if(-1===e.indexOf("-"))return e;var n=!1;return e.split("").map(function(e){return"-"===e?(n=!0,""):n?(n=!1,e.toUpperCase()):e}).join("")}(i)]=l)}),t}(),te&&ue(te),ue})},{}),loadjs.d("448",function(e,n,a){function t(e,n){return!!(null==e?0:e.length)&&i(e,n,0)>-1}var i=e("./_baseIndexOf");n.exports=t},{"./_baseIndexOf":479}),loadjs.d("449",function(e,n,a){function t(e,n,a){for(var t=-1,i=null==e?0:e.length;++t<i;)if(a(n,e[t]))return!0;return!1}n.exports=t},{}),loadjs.d("461",function(e,n,a){function t(e,n,a){return e===e&&(void 0!==a&&(e=e<=a?e:a),void 0!==n&&(e=e>=n?e:n)),e}n.exports=t},{}),loadjs.d("464",function(e,n,a){function t(e,n,a,t){var u=-1,m=l,p=!0,h=e.length,f=[],v=n.length;if(!h)return f;a&&(n=r(n,o(a))),t?(m=s,p=!1):n.length>=c&&(m=d,p=!1,n=new i(n));e:for(;++u<h;){var g=e[u],b=null==a?g:a(g);if(g=t||0!==g?g:0,p&&b===b){for(var x=v;x--;)if(n[x]===b)continue e;f.push(g)}else m(n,b,t)||f.push(g)}return f}var i=e("./_SetCache"),l=e("./_arrayIncludes"),s=e("./_arrayIncludesWith"),r=e("./_arrayMap"),o=e("./_baseUnary"),d=e("./_cacheHas"),c=200;n.exports=t},{"./_SetCache":440,"./_arrayIncludes":448,"./_arrayIncludesWith":449,"./_arrayMap":451,"./_baseUnary":518,"./_cacheHas":526}),loadjs.d("465",function(e,n,a){function t(e,n,a,t){var s=e.length;for(a=i(a),a<0&&(a=-a>s?0:s+a),t=void 0===t||t>s?s:i(t),t<0&&(t+=s),t=a>t?0:l(t);a<t;)e[a++]=n;return e}var i=e("./toInteger"),l=e("./toLength");n.exports=t},{"./toInteger":738,"./toLength":739}),loadjs.d("466",function(e,n,a){function t(e,n,a,t){for(var i=e.length,l=a+(t?1:-1);t?l--:++l<i;)if(n(e[l],l,e))return l;return-1}n.exports=t},{}),loadjs.d("479",function(e,n,a){function t(e,n,a){return n===n?s(e,n,a):i(e,l,a)}var i=e("./_baseFindIndex"),l=e("./_baseIsNaN"),s=e("./_strictIndexOf");n.exports=t},{"./_baseFindIndex":466,"./_baseIsNaN":489,"./_strictIndexOf":617}),loadjs.d("480",function(e,n,a){function t(e,n,a,t){for(var i=a-1,l=e.length;++i<l;)if(t(e[i],n))return i;return-1}n.exports=t},{}),loadjs.d("481",function(e,n,a){function t(e,n,a){for(var t=a?s:l,u=e[0].length,m=e.length,p=m,h=Array(m),f=1/0,v=[];p--;){var g=e[p];p&&n&&(g=r(g,o(n))),f=c(g.length,f),h[p]=!a&&(n||u>=120&&g.length>=120)?new i(p&&g):void 0}g=e[0];var b=-1,x=h[0];e:for(;++b<u&&v.length<f;){var y=g[b],w=n?n(y):y;if(y=a||0!==y?y:0,!(x?d(x,w):t(v,w,a))){for(p=m;--p;){var k=h[p];if(!(k?d(k,w):t(e[p],w,a)))continue e}x&&x.push(w),v.push(y)}}return v}var i=e("./_SetCache"),l=e("./_arrayIncludes"),s=e("./_arrayIncludesWith"),r=e("./_arrayMap"),o=e("./_baseUnary"),d=e("./_cacheHas"),c=Math.min;n.exports=t},{"./_SetCache":440,"./_arrayIncludes":448,"./_arrayIncludesWith":449,"./_arrayMap":451,"./_baseUnary":518,"./_cacheHas":526}),loadjs.d("489",function(e,n,a){function t(e){return e!==e}n.exports=t},{}),loadjs.d("500",function(e,n,a){function t(e,n){var a=e.length;if(a)return n+=n<0?a:0,i(n,a)?e[n]:void 0}var i=e("./_isIndex");n.exports=t},{"./_isIndex":576}),loadjs.d("505",function(e,n,a){function t(e,n,a,t){var d=t?s:l,u=-1,m=n.length,p=e;for(e===n&&(n=o(n)),a&&(p=i(e,r(a)));++u<m;)for(var h=0,f=n[u],v=a?a(f):f;(h=d(p,v,h,t))>-1;)p!==e&&c.call(p,h,1),c.call(e,h,1);return e}var i=e("./_arrayMap"),l=e("./_baseIndexOf"),s=e("./_baseIndexOfWith"),r=e("./_baseUnary"),o=e("./_copyArray"),d=Array.prototype,c=d.splice;n.exports=t},{"./_arrayMap":451,"./_baseIndexOf":479,"./_baseIndexOfWith":480,"./_baseUnary":518,"./_copyArray":537}),loadjs.d("506",function(e,n,a){function t(e,n){for(var a=e?n.length:0,t=a-1;a--;){var s=n[a];if(a==t||s!==o){var o=s;l(s)?r.call(e,s,1):i(e,s)}}return e}var i=e("./_baseUnset"),l=e("./_isIndex"),s=Array.prototype,r=s.splice;n.exports=t},{"./_baseUnset":520,"./_isIndex":576}),loadjs.d("511",function(e,n,a){function t(e,n,a){var t=0,o=null==e?t:e.length;if("number"==typeof n&&n===n&&o<=r){for(;t<o;){var d=t+o>>>1,c=e[d];null!==c&&!s(c)&&(a?c<=n:c<n)?t=d+1:o=d}return o}return i(e,n,l,a)}var i=e("./_baseSortedIndexBy"),l=e("./identity"),s=e("./isSymbol"),r=2147483647;n.exports=t},{"./_baseSortedIndexBy":512,"./identity":668,"./isSymbol":689}),loadjs.d("512",function(e,n,a){function t(e,n,a,t){var o=0,d=null==e?0:e.length;if(0===d)return 0;n=a(n);for(var c=n!==n,u=null===n,m=i(n),p=void 0===n;o<d;){var h=s((o+d)/2),f=a(e[h]),v=void 0!==f,g=null===f,b=f===f,x=i(f);if(c)var y=t||b;else y=p?b&&(t||v):u?b&&v&&(t||!g):m?b&&v&&!g&&(t||!x):!g&&!x&&(t?f<=n:f<n);y?o=h+1:d=h}return r(d,l)}var i=e("./isSymbol"),l=4294967294,s=Math.floor,r=Math.min;n.exports=t},{"./isSymbol":689}),loadjs.d("513",function(e,n,a){function t(e,n){for(var a=-1,t=e.length,l=0,s=[];++a<t;){var r=e[a],o=n?n(r):r;if(!a||!i(o,d)){var d=o;s[l++]=0===r?0:r}}return s}var i=e("./eq");n.exports=t},{"./eq":645}),loadjs.d("517",function(e,n,a){function t(e){return e?e.slice(0,i(e)+1).replace(l,""):e}var i=e("./_trimmedEndIndex"),l=/^\s+/;n.exports=t},{"./_trimmedEndIndex":622}),loadjs.d("519",function(e,n,a){function t(e,n,a){var t=-1,u=l,m=e.length,p=!0,h=[],f=h;if(a)p=!1,u=s;else if(m>=c){var v=n?null:o(e);if(v)return d(v);p=!1,u=r,f=new i}else f=n?[]:h;e:for(;++t<m;){var g=e[t],b=n?n(g):g
;if(g=a||0!==g?g:0,p&&b===b){for(var x=f.length;x--;)if(f[x]===b)continue e;n&&f.push(b),h.push(g)}else u(f,b,a)||(f!==h&&f.push(b),h.push(g))}return h}var i=e("./_SetCache"),l=e("./_arrayIncludes"),s=e("./_arrayIncludesWith"),r=e("./_cacheHas"),o=e("./_createSet"),d=e("./_setToArray"),c=200;n.exports=t},{"./_SetCache":440,"./_arrayIncludes":448,"./_arrayIncludesWith":449,"./_cacheHas":526,"./_createSet":545,"./_setToArray":608}),loadjs.d("523",function(e,n,a){function t(e,n,a,t){for(var l=e.length,s=t?l:-1;(t?s--:++s<l)&&n(e[s],s,e););return a?i(e,t?0:s,t?s+1:l):i(e,t?s+1:0,t?l:s)}var i=e("./_baseSlice");n.exports=t},{"./_baseSlice":510}),loadjs.d("524",function(e,n,a){function t(e,n,a){var t=e.length;if(t<2)return t?s(e[0]):[];for(var r=-1,o=Array(t);++r<t;)for(var d=e[r],c=-1;++c<t;)c!=r&&(o[r]=i(o[r]||d,e[c],n,a));return s(l(o,1),n,a)}var i=e("./_baseDifference"),l=e("./_baseFlatten"),s=e("./_baseUniq");n.exports=t},{"./_baseDifference":464,"./_baseFlatten":468,"./_baseUniq":519}),loadjs.d("525",function(e,n,a){function t(e,n,a){for(var t=-1,i=e.length,l=n.length,s={};++t<i;){var r=t<l?n[t]:void 0;a(s,e[t],r)}return s}n.exports=t},{}),loadjs.d("527",function(e,n,a){function t(e){return i(e)?e:[]}var i=e("./isArrayLikeObject");n.exports=t},{"./isArrayLikeObject":680}),loadjs.d("536",function(e,n,a){function t(e,n){if(e!==n){var a=void 0!==e,t=null===e,l=e===e,s=i(e),r=void 0!==n,o=null===n,d=n===n,c=i(n);if(!o&&!c&&!s&&e>n||s&&r&&d&&!o&&!c||t&&r&&d||!a&&d||!l)return 1;if(!t&&!s&&!c&&e<n||c&&a&&l&&!t&&!s||o&&a&&l||!r&&l||!d)return-1}return 0}var i=e("./isSymbol");n.exports=t},{"./isSymbol":689}),loadjs.d("545",function(e,n,a){var t=e("./_Set"),i=e("./noop"),l=e("./_setToArray"),s=t&&1/l(new t([,-0]))[1]==1/0?function(e){return new t(e)}:i;n.exports=s},{"./_Set":439,"./_setToArray":608,"./noop":703}),loadjs.d("617",function(e,n,a){function t(e,n,a){for(var t=a-1,i=e.length;++t<i;)if(e[t]===n)return t;return-1}n.exports=t},{}),loadjs.d("618",function(e,n,a){function t(e,n,a){for(var t=a+1;t--;)if(e[t]===n)return t;return t}n.exports=t},{}),loadjs.d("622",function(e,n,a){function t(e){for(var n=e.length;n--&&i.test(e.charAt(n)););return n}var i=/\s/;n.exports=t},{}),loadjs.d("623",function(e,n,a){n.exports={chunk:e("./chunk"),compact:e("./compact"),concat:e("./concat"),difference:e("./difference"),differenceBy:e("./differenceBy"),differenceWith:e("./differenceWith"),drop:e("./drop"),dropRight:e("./dropRight"),dropRightWhile:e("./dropRightWhile"),dropWhile:e("./dropWhile"),fill:e("./fill"),findIndex:e("./findIndex"),findLastIndex:e("./findLastIndex"),first:e("./first"),flatten:e("./flatten"),flattenDeep:e("./flattenDeep"),flattenDepth:e("./flattenDepth"),fromPairs:e("./fromPairs"),head:e("./head"),indexOf:e("./indexOf"),initial:e("./initial"),intersection:e("./intersection"),intersectionBy:e("./intersectionBy"),intersectionWith:e("./intersectionWith"),join:e("./join"),last:e("./last"),lastIndexOf:e("./lastIndexOf"),nth:e("./nth"),pull:e("./pull"),pullAll:e("./pullAll"),pullAllBy:e("./pullAllBy"),pullAllWith:e("./pullAllWith"),pullAt:e("./pullAt"),remove:e("./remove"),reverse:e("./reverse"),slice:e("./slice"),sortedIndex:e("./sortedIndex"),sortedIndexBy:e("./sortedIndexBy"),sortedIndexOf:e("./sortedIndexOf"),sortedLastIndex:e("./sortedLastIndex"),sortedLastIndexBy:e("./sortedLastIndexBy"),sortedLastIndexOf:e("./sortedLastIndexOf"),sortedUniq:e("./sortedUniq"),sortedUniqBy:e("./sortedUniqBy"),tail:e("./tail"),take:e("./take"),takeRight:e("./takeRight"),takeRightWhile:e("./takeRightWhile"),takeWhile:e("./takeWhile"),union:e("./union"),unionBy:e("./unionBy"),unionWith:e("./unionWith"),uniq:e("./uniq"),uniqBy:e("./uniqBy"),uniqWith:e("./uniqWith"),unzip:e("./unzip"),unzipWith:e("./unzipWith"),without:e("./without"),xor:e("./xor"),xorBy:e("./xorBy"),xorWith:e("./xorWith"),zip:e("./zip"),zipObject:e("./zipObject"),zipObjectDeep:e("./zipObjectDeep"),zipWith:e("./zipWith")}},{"./chunk":629,"./compact":630,"./concat":631,"./difference":636,"./differenceBy":637,"./differenceWith":638,"./drop":639,"./dropRight":640,"./dropRightWhile":641,"./dropWhile":642,"./fill":648,"./findIndex":649,"./findLastIndex":651,"./first":653,"./flatten":654,"./flattenDeep":655,"./flattenDepth":656,"./fromPairs":661,"./head":667,"./indexOf":669,"./initial":670,"./intersection":671,"./intersectionBy":672,"./intersectionWith":673,"./join":691,"./last":694,"./lastIndexOf":695,"./nth":704,"./pull":711,"./pullAll":712,"./pullAllBy":713,"./pullAllWith":714,"./pullAt":715,"./remove":716,"./reverse":718,"./slice":721,"./sortedIndex":722,"./sortedIndexBy":723,"./sortedIndexOf":724,"./sortedLastIndex":725,"./sortedLastIndexBy":726,"./sortedLastIndexOf":727,"./sortedUniq":728,"./sortedUniqBy":729,"./tail":732,"./take":733,"./takeRight":734,"./takeRightWhile":735,"./takeWhile":736,"./union":746,"./unionBy":747,"./unionWith":748,"./uniq":749,"./uniqBy":750,"./uniqWith":751,"./unzip":753,"./unzipWith":754,"./without":759,"./xor":760,"./xorBy":761,"./xorWith":762,"./zip":763,"./zipObject":764,"./zipObjectDeep":765,"./zipWith":766}),loadjs.d("629",function(e,n,a){function t(e,n,a){n=(a?l(e,n,a):void 0===n)?1:o(s(n),0);var t=null==e?0:e.length;if(!t||n<1)return[];for(var d=0,c=0,u=Array(r(t/n));d<t;)u[c++]=i(e,d,d+=n);return u}var i=e("./_baseSlice"),l=e("./_isIterateeCall"),s=e("./toInteger"),r=Math.ceil,o=Math.max;n.exports=t},{"./_baseSlice":510,"./_isIterateeCall":577,"./toInteger":738}),loadjs.d("630",function(e,n,a){function t(e){for(var n=-1,a=null==e?0:e.length,t=0,i=[];++n<a;){var l=e[n];l&&(i[t++]=l)}return i}n.exports=t},{}),loadjs.d("631",function(e,n,a){function t(){var e=arguments.length;if(!e)return[];for(var n=Array(e-1),a=arguments[0],t=e;t--;)n[t-1]=arguments[t];return i(r(a)?s(a):[a],l(n,1))}var i=e("./_arrayPush"),l=e("./_baseFlatten"),s=e("./_copyArray"),r=e("./isArray");n.exports=t},{"./_arrayPush":452,"./_baseFlatten":468,"./_copyArray":537,"./isArray":678}),loadjs.d("636",function(e,n,a){var t=e("./_baseDifference"),i=e("./_baseFlatten"),l=e("./_baseRest"),s=e("./isArrayLikeObject"),r=l(function(e,n){return s(e)?t(e,i(n,1,s,!0)):[]});n.exports=r},{"./_baseDifference":464,"./_baseFlatten":468,"./_baseRest":507,"./isArrayLikeObject":680}),loadjs.d("637",function(e,n,a){var t=e("./_baseDifference"),i=e("./_baseFlatten"),l=e("./_baseIteratee"),s=e("./_baseRest"),r=e("./isArrayLikeObject"),o=e("./last"),d=s(function(e,n){var a=o(n);return r(a)&&(a=void 0),r(e)?t(e,i(n,1,r,!0),l(a,2)):[]});n.exports=d},{"./_baseDifference":464,"./_baseFlatten":468,"./_baseIteratee":493,"./_baseRest":507,"./isArrayLikeObject":680,"./last":694}),loadjs.d("638",function(e,n,a){var t=e("./_baseDifference"),i=e("./_baseFlatten"),l=e("./_baseRest"),s=e("./isArrayLikeObject"),r=e("./last"),o=l(function(e,n){var a=r(n);return s(a)&&(a=void 0),s(e)?t(e,i(n,1,s,!0),void 0,a):[]});n.exports=o},{"./_baseDifference":464,"./_baseFlatten":468,"./_baseRest":507,"./isArrayLikeObject":680,"./last":694}),loadjs.d("639",function(e,n,a){function t(e,n,a){var t=null==e?0:e.length;return t?(n=a||void 0===n?1:l(n),i(e,n<0?0:n,t)):[]}var i=e("./_baseSlice"),l=e("./toInteger");n.exports=t},{"./_baseSlice":510,"./toInteger":738}),loadjs.d("640",function(e,n,a){function t(e,n,a){var t=null==e?0:e.length;return t?(n=a||void 0===n?1:l(n),n=t-n,i(e,0,n<0?0:n)):[]}var i=e("./_baseSlice"),l=e("./toInteger");n.exports=t},{"./_baseSlice":510,"./toInteger":738}),loadjs.d("641",function(e,n,a){function t(e,n){return e&&e.length?l(e,i(n,3),!0,!0):[]}var i=e("./_baseIteratee"),l=e("./_baseWhile");n.exports=t},{"./_baseIteratee":493,"./_baseWhile":523}),loadjs.d("642",function(e,n,a){function t(e,n){return e&&e.length?l(e,i(n,3),!0):[]}var i=e("./_baseIteratee"),l=e("./_baseWhile");n.exports=t},{"./_baseIteratee":493,"./_baseWhile":523}),loadjs.d("648",function(e,n,a){function t(e,n,a,t){var s=null==e?0:e.length;return s?(a&&"number"!=typeof a&&l(e,n,a)&&(a=0,t=s),i(e,n,a,t)):[]}var i=e("./_baseFill"),l=e("./_isIterateeCall");n.exports=t},{"./_baseFill":465,"./_isIterateeCall":577}),loadjs.d("649",function(e,n,a){function t(e,n,a){var t=null==e?0:e.length;if(!t)return-1;var o=null==a?0:s(a);return o<0&&(o=r(t+o,0)),i(e,l(n,3),o)}var i=e("./_baseFindIndex"),l=e("./_baseIteratee"),s=e("./toInteger"),r=Math.max;n.exports=t},{"./_baseFindIndex":466,"./_baseIteratee":493,"./toInteger":738}),loadjs.d("651",function(e,n,a){function t(e,n,a){var t=null==e?0:e.length;if(!t)return-1;var d=t-1;return void 0!==a&&(d=s(a),d=a<0?r(t+d,0):o(d,t-1)),i(e,l(n,3),d,!0)}var i=e("./_baseFindIndex"),l=e("./_baseIteratee"),s=e("./toInteger"),r=Math.max,o=Math.min;n.exports=t},{"./_baseFindIndex":466,"./_baseIteratee":493,"./toInteger":738}),loadjs.d("653",function(e,n,a){n.exports=e("./head")},{"./head":667}),loadjs.d("655",function(e,n,a){function t(e){return(null==e?0:e.length)?i(e,l):[]}var i=e("./_baseFlatten"),l=1/0;n.exports=t},{"./_baseFlatten":468}),loadjs.d("656",function(e,n,a){function t(e,n){return(null==e?0:e.length)?(n=void 0===n?1:l(n),i(e,n)):[]}var i=e("./_baseFlatten"),l=e("./toInteger");n.exports=t},{"./_baseFlatten":468,"./toInteger":738}),loadjs.d("661",function(e,n,a){function t(e){for(var n=-1,a=null==e?0:e.length,t={};++n<a;){var i=e[n];t[i[0]]=i[1]}return t}n.exports=t},{}),loadjs.d("667",function(e,n,a){function t(e){return e&&e.length?e[0]:void 0}n.exports=t},{}),loadjs.d("669",function(e,n,a){function t(e,n,a){var t=null==e?0:e.length;if(!t)return-1;var r=null==a?0:l(a);return r<0&&(r=s(t+r,0)),i(e,n,r)}var i=e("./_baseIndexOf"),l=e("./toInteger"),s=Math.max;n.exports=t},{"./_baseIndexOf":479,"./toInteger":738}),loadjs.d("670",function(e,n,a){function t(e){return(null==e?0:e.length)?i(e,0,-1):[]}var i=e("./_baseSlice");n.exports=t},{"./_baseSlice":510}),loadjs.d("671",function(e,n,a){var t=e("./_arrayMap"),i=e("./_baseIntersection"),l=e("./_baseRest"),s=e("./_castArrayLikeObject"),r=l(function(e){var n=t(e,s);return n.length&&n[0]===e[0]?i(n):[]});n.exports=r},{"./_arrayMap":451,"./_baseIntersection":481,"./_baseRest":507,"./_castArrayLikeObject":527}),loadjs.d("672",function(e,n,a){var t=e("./_arrayMap"),i=e("./_baseIntersection"),l=e("./_baseIteratee"),s=e("./_baseRest"),r=e("./_castArrayLikeObject"),o=e("./last"),d=s(function(e){var n=o(e),a=t(e,r);return n===o(a)?n=void 0:a.pop(),a.length&&a[0]===e[0]?i(a,l(n,2)):[]});n.exports=d},{"./_arrayMap":451,"./_baseIntersection":481,"./_baseIteratee":493,"./_baseRest":507,"./_castArrayLikeObject":527,"./last":694}),loadjs.d("673",function(e,n,a){var t=e("./_arrayMap"),i=e("./_baseIntersection"),l=e("./_baseRest"),s=e("./_castArrayLikeObject"),r=e("./last"),o=l(function(e){var n=r(e),a=t(e,s);return n="function"==typeof n?n:void 0,n&&a.pop(),a.length&&a[0]===e[0]?i(a,void 0,n):[]});n.exports=o},{"./_arrayMap":451,"./_baseIntersection":481,"./_baseRest":507,"./_castArrayLikeObject":527,"./last":694}),loadjs.d("691",function(e,n,a){function t(e,n){return null==e?"":l.call(e,n)}var i=Array.prototype,l=i.join;n.exports=t},{}),loadjs.d("695",function(e,n,a){function t(e,n,a){var t=null==e?0:e.length;if(!t)return-1;var c=t;return void 0!==a&&(c=r(a),c=c<0?o(t+c,0):d(c,t-1)),n===n?s(e,n,c):i(e,l,c,!0)}var i=e("./_baseFindIndex"),l=e("./_baseIsNaN"),s=e("./_strictLastIndexOf"),r=e("./toInteger"),o=Math.max,d=Math.min;n.exports=t},{"./_baseFindIndex":466,"./_baseIsNaN":489,"./_strictLastIndexOf":618,"./toInteger":738}),loadjs.d("703",function(e,n,a){function t(){}n.exports=t},{}),loadjs.d("704",function(e,n,a){function t(e,n){return e&&e.length?i(e,l(n)):void 0}var i=e("./_baseNth"),l=e("./toInteger");n.exports=t},{"./_baseNth":500,"./toInteger":738}),loadjs.d("711",function(e,n,a){var t=e("./_baseRest"),i=e("./pullAll"),l=t(i);n.exports=l},{"./_baseRest":507,"./pullAll":712}),loadjs.d("712",function(e,n,a){function t(e,n){return e&&e.length&&n&&n.length?i(e,n):e}var i=e("./_basePullAll");n.exports=t},{"./_basePullAll":505}),loadjs.d("713",function(e,n,a){function t(e,n,a){return e&&e.length&&n&&n.length?l(e,n,i(a,2)):e}var i=e("./_baseIteratee"),l=e("./_basePullAll");n.exports=t},{"./_baseIteratee":493,"./_basePullAll":505}),loadjs.d("714",function(e,n,a){function t(e,n,a){return e&&e.length&&n&&n.length?i(e,n,void 0,a):e}var i=e("./_basePullAll");n.exports=t},{"./_basePullAll":505}),loadjs.d("715",function(e,n,a){var t=e("./_arrayMap"),i=e("./_baseAt"),l=e("./_basePullAt"),s=e("./_compareAscending"),r=e("./_flatRest"),o=e("./_isIndex"),d=r(function(e,n){var a=null==e?0:e.length,r=i(e,n);return l(e,t(n,function(e){return o(e,a)?+e:e}).sort(s)),r});n.exports=d},{"./_arrayMap":451,"./_baseAt":460,"./_basePullAt":506,"./_compareAscending":536,"./_flatRest":553,"./_isIndex":576}),loadjs.d("716",function(e,n,a){function t(e,n){var a=[];if(!e||!e.length)return a;var t=-1,s=[],r=e.length;for(n=i(n,3);++t<r;){var o=e[t];n(o,t,e)&&(a.push(o),s.push(t))}return l(e,s),a}var i=e("./_baseIteratee"),l=e("./_basePullAt");n.exports=t},{"./_baseIteratee":493,"./_basePullAt":506}),loadjs.d("718",function(e,n,a){function t(e){return null==e?e:l.call(e)}var i=Array.prototype,l=i.reverse;n.exports=t},{}),loadjs.d("721",function(e,n,a){function t(e,n,a){var t=null==e?0:e.length;return t?(a&&"number"!=typeof a&&l(e,n,a)?(n=0,a=t):(n=null==n?0:s(n),a=void 0===a?t:s(a)),i(e,n,a)):[]}var i=e("./_baseSlice"),l=e("./_isIterateeCall"),s=e("./toInteger");n.exports=t},{"./_baseSlice":510,"./_isIterateeCall":577,"./toInteger":738}),loadjs.d("722",function(e,n,a){function t(e,n){return i(e,n)}var i=e("./_baseSortedIndex");n.exports=t},{"./_baseSortedIndex":511}),loadjs.d("723",function(e,n,a){function t(e,n,a){return l(e,n,i(a,2))}var i=e("./_baseIteratee"),l=e("./_baseSortedIndexBy");n.exports=t},{"./_baseIteratee":493,"./_baseSortedIndexBy":512}),loadjs.d("724",function(e,n,a){function t(e,n){var a=null==e?0:e.length;if(a){var t=i(e,n);if(t<a&&l(e[t],n))return t}return-1}var i=e("./_baseSortedIndex"),l=e("./eq");n.exports=t},{"./_baseSortedIndex":511,"./eq":645}),loadjs.d("725",function(e,n,a){function t(e,n){return i(e,n,!0)}var i=e("./_baseSortedIndex");n.exports=t},{"./_baseSortedIndex":511}),loadjs.d("726",function(e,n,a){function t(e,n,a){return l(e,n,i(a,2),!0)}var i=e("./_baseIteratee"),l=e("./_baseSortedIndexBy");n.exports=t},{"./_baseIteratee":493,"./_baseSortedIndexBy":512}),loadjs.d("727",function(e,n,a){function t(e,n){if(null==e?0:e.length){var a=i(e,n,!0)-1;if(l(e[a],n))return a}return-1}var i=e("./_baseSortedIndex"),l=e("./eq");n.exports=t},{"./_baseSortedIndex":511,"./eq":645}),loadjs.d("728",function(e,n,a){function t(e){return e&&e.length?i(e):[]}var i=e("./_baseSortedUniq");n.exports=t},{"./_baseSortedUniq":513}),loadjs.d("729",function(e,n,a){function t(e,n){return e&&e.length?l(e,i(n,2)):[]}var i=e("./_baseIteratee"),l=e("./_baseSortedUniq");n.exports=t},{"./_baseIteratee":493,"./_baseSortedUniq":513}),loadjs.d("732",function(e,n,a){function t(e){var n=null==e?0:e.length;return n?i(e,1,n):[]}var i=e("./_baseSlice");n.exports=t},{"./_baseSlice":510}),loadjs.d("733",function(e,n,a){function t(e,n,a){return e&&e.length?(n=a||void 0===n?1:l(n),i(e,0,n<0?0:n)):[]}var i=e("./_baseSlice"),l=e("./toInteger");n.exports=t},{"./_baseSlice":510,"./toInteger":738}),loadjs.d("734",function(e,n,a){function t(e,n,a){var t=null==e?0:e.length;return t?(n=a||void 0===n?1:l(n),n=t-n,i(e,n<0?0:n,t)):[]}var i=e("./_baseSlice"),l=e("./toInteger");n.exports=t},{"./_baseSlice":510,"./toInteger":738}),loadjs.d("735",function(e,n,a){function t(e,n){return e&&e.length?l(e,i(n,3),!1,!0):[]}var i=e("./_baseIteratee"),l=e("./_baseWhile");n.exports=t},{"./_baseIteratee":493,"./_baseWhile":523}),loadjs.d("736",function(e,n,a){function t(e,n){return e&&e.length?l(e,i(n,3)):[]}var i=e("./_baseIteratee"),l=e("./_baseWhile");n.exports=t},{"./_baseIteratee":493,"./_baseWhile":523}),loadjs.d("737",function(e,n,a){function t(e){if(!e)return 0===e?e:0;if((e=i(e))===l||e===-l){return(e<0?-1:1)*s}return e===e?e:0}var i=e("./toNumber"),l=1/0,s=1.7976931348623157e308;n.exports=t},{"./toNumber":740}),loadjs.d("738",function(e,n,a){function t(e){var n=i(e),a=n%1;return n===n?a?n-a:n:0}var i=e("./toFinite");n.exports=t},{"./toFinite":737}),loadjs.d("739",function(e,n,a){function t(e){return e?i(l(e),0,s):0}var i=e("./_baseClamp"),l=e("./toInteger"),s=4294967295;n.exports=t},{"./_baseClamp":461,"./toInteger":738}),loadjs.d("740",function(e,n,a){function t(e){if("number"==typeof e)return e;if(s(e))return r;if(l(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=l(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var a=d.test(e);return a||c.test(e)?u(e.slice(2),a?2:8):o.test(e)?r:+e}var i=e("./_baseTrim"),l=e("./isObject"),s=e("./isSymbol"),r=NaN,o=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;n.exports=t},{"./_baseTrim":517,"./isObject":685,"./isSymbol":689}),loadjs.d("746",function(e,n,a){var t=e("./_baseFlatten"),i=e("./_baseRest"),l=e("./_baseUniq"),s=e("./isArrayLikeObject"),r=i(function(e){return l(t(e,1,s,!0))});n.exports=r},{"./_baseFlatten":468,"./_baseRest":507,"./_baseUniq":519,"./isArrayLikeObject":680}),loadjs.d("747",function(e,n,a){var t=e("./_baseFlatten"),i=e("./_baseIteratee"),l=e("./_baseRest"),s=e("./_baseUniq"),r=e("./isArrayLikeObject"),o=e("./last"),d=l(function(e){var n=o(e);return r(n)&&(n=void 0),s(t(e,1,r,!0),i(n,2))});n.exports=d},{"./_baseFlatten":468,"./_baseIteratee":493,"./_baseRest":507,"./_baseUniq":519,"./isArrayLikeObject":680,"./last":694}),loadjs.d("748",function(e,n,a){var t=e("./_baseFlatten"),i=e("./_baseRest"),l=e("./_baseUniq"),s=e("./isArrayLikeObject"),r=e("./last"),o=i(function(e){var n=r(e);return n="function"==typeof n?n:void 0,l(t(e,1,s,!0),void 0,n)});n.exports=o},{"./_baseFlatten":468,"./_baseRest":507,"./_baseUniq":519,"./isArrayLikeObject":680,"./last":694}),loadjs.d("749",function(e,n,a){function t(e){return e&&e.length?i(e):[]}var i=e("./_baseUniq");n.exports=t},{"./_baseUniq":519}),loadjs.d("750",function(e,n,a){function t(e,n){return e&&e.length?l(e,i(n,2)):[]}var i=e("./_baseIteratee"),l=e("./_baseUniq");n.exports=t},{"./_baseIteratee":493,"./_baseUniq":519}),loadjs.d("751",function(e,n,a){function t(e,n){return n="function"==typeof n?n:void 0,e&&e.length?i(e,void 0,n):[]}var i=e("./_baseUniq");n.exports=t},{"./_baseUniq":519}),loadjs.d("753",function(e,n,a){function t(e){if(!e||!e.length)return[];var n=0;return e=i(e,function(e){if(o(e))return n=d(e.length,n),!0}),r(n,function(n){return l(e,s(n))})}var i=e("./_arrayFilter"),l=e("./_arrayMap"),s=e("./_baseProperty"),r=e("./_baseTimes"),o=e("./isArrayLikeObject"),d=Math.max;n.exports=t},{"./_arrayFilter":447,"./_arrayMap":451,"./_baseProperty":503,"./_baseTimes":514,"./isArrayLikeObject":680}),loadjs.d("754",function(e,n,a){function t(e,n){if(!e||!e.length)return[];var a=s(e);return null==n?a:l(a,function(e){return i(n,void 0,e)})}var i=e("./_apply"),l=e("./_arrayMap"),s=e("./unzip");n.exports=t},{"./_apply":445,"./_arrayMap":451,"./unzip":753}),loadjs.d("759",function(e,n,a){var t=e("./_baseDifference"),i=e("./_baseRest"),l=e("./isArrayLikeObject"),s=i(function(e,n){return l(e)?t(e,n):[]});n.exports=s},{"./_baseDifference":464,"./_baseRest":507,"./isArrayLikeObject":680}),loadjs.d("760",function(e,n,a){var t=e("./_arrayFilter"),i=e("./_baseRest"),l=e("./_baseXor"),s=e("./isArrayLikeObject"),r=i(function(e){return l(t(e,s))});n.exports=r},{"./_arrayFilter":447,"./_baseRest":507,"./_baseXor":524,"./isArrayLikeObject":680}),loadjs.d("761",function(e,n,a){var t=e("./_arrayFilter"),i=e("./_baseIteratee"),l=e("./_baseRest"),s=e("./_baseXor"),r=e("./isArrayLikeObject"),o=e("./last"),d=l(function(e){var n=o(e);return r(n)&&(n=void 0),s(t(e,r),i(n,2))});n.exports=d},{"./_arrayFilter":447,"./_baseIteratee":493,"./_baseRest":507,"./_baseXor":524,"./isArrayLikeObject":680,"./last":694}),loadjs.d("762",function(e,n,a){var t=e("./_arrayFilter"),i=e("./_baseRest"),l=e("./_baseXor"),s=e("./isArrayLikeObject"),r=e("./last"),o=i(function(e){var n=r(e);return n="function"==typeof n?n:void 0,l(t(e,s),void 0,n)});n.exports=o},{"./_arrayFilter":447,"./_baseRest":507,"./_baseXor":524,"./isArrayLikeObject":680,"./last":694}),loadjs.d("763",function(e,n,a){var t=e("./_baseRest"),i=e("./unzip"),l=t(i);n.exports=l},{"./_baseRest":507,"./unzip":753}),loadjs.d("764",function(e,n,a){function t(e,n){return l(e||[],n||[],i)}var i=e("./_assignValue"),l=e("./_baseZipObject");n.exports=t},{"./_assignValue":455,"./_baseZipObject":525}),loadjs.d("765",function(e,n,a){function t(e,n){return l(e||[],n||[],i)}var i=e("./_baseSet"),l=e("./_baseZipObject");n.exports=t},{"./_baseSet":508,"./_baseZipObject":525}),loadjs.d("766",function(e,n,a){var t=e("./_baseRest"),i=e("./unzipWith"),l=t(function(e){var n=e.length,a=n>1?e[n-1]:void 0;return a="function"==typeof a?(e.pop(),a):void 0,i(e,a)});n.exports=l},{"./_baseRest":507,"./unzipWith":754});
